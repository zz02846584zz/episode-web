function Ug(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Vt={},Eo=[],rr=()=>{},_C=()=>!1,vC=/^on[^a-z]/,Fl=t=>vC.test(t),jg=t=>t.startsWith("onUpdate:"),dn=Object.assign,$g=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bC=Object.prototype.hasOwnProperty,gt=(t,e)=>bC.call(t,e),Ke=Array.isArray,xo=t=>Ul(t)==="[object Map]",$b=t=>Ul(t)==="[object Set]",TC=t=>Ul(t)==="[object RegExp]",Je=t=>typeof t=="function",Zt=t=>typeof t=="string",Hg=t=>typeof t=="symbol",jt=t=>t!==null&&typeof t=="object",qg=t=>jt(t)&&Je(t.then)&&Je(t.catch),Hb=Object.prototype.toString,Ul=t=>Hb.call(t),EC=t=>Ul(t).slice(8,-1),qb=t=>Ul(t)==="[object Object]",Vg=t=>Zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,tl=Ug(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},xC=/-(\w)/g,kr=Xd(t=>t.replace(xC,(e,n)=>n?n.toUpperCase():"")),SC=/\B([A-Z])/g,tu=Xd(t=>t.replace(SC,"-$1").toLowerCase()),Yd=Xd(t=>t.charAt(0).toUpperCase()+t.slice(1)),Eh=Xd(t=>t?`on${Yd(t)}`:""),ml=(t,e)=>!Object.is(t,e),So=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ad=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},lp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vb=t=>{const e=Zt(t)?Number(t):NaN;return isNaN(e)?t:e};let X0;const cp=()=>X0||(X0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qd(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Zt(i)?DC(i):Qd(i);if(r)for(const s in r)e[s]=r[s]}return e}else{if(Zt(t))return t;if(jt(t))return t}}const CC=/;(?![^(]*\))/g,wC=/:([^]+)/,AC=/\/\*[^]*?\*\//g;function DC(t){const e={};return t.replace(AC,"").split(CC).forEach(n=>{if(n){const i=n.split(wC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ca(t){let e="";if(Zt(t))e=t;else if(Ke(t))for(let n=0;n<t.length;n++){const i=Ca(t[n]);i&&(e+=i+" ")}else if(jt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function kC(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Zt(e)&&(t.class=Ca(e)),n&&(t.style=Qd(n)),t}const LC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",IC=Ug(LC);function Wb(t){return!!t||t===""}const nU=t=>Zt(t)?t:t==null?"":Ke(t)||jt(t)&&(t.toString===Hb||!Je(t.toString))?JSON.stringify(t,zb,2):String(t),zb=(t,e)=>e&&e.__v_isRef?zb(t,e.value):xo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:$b(e)?{[`Set(${e.size})`]:[...e.values()]}:jt(e)&&!Ke(e)&&!qb(e)?String(e):e;let Ci;class Gb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ci,!e&&Ci&&(this.index=(Ci.scopes||(Ci.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ci;try{return Ci=this,e()}finally{Ci=n}}}on(){Ci=this}off(){Ci=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Wg(t){return new Gb(t)}function PC(t,e=Ci){e&&e.active&&e.effects.push(t)}function Kb(){return Ci}function OC(t){Ci&&Ci.cleanups.push(t)}const zg=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Xb=t=>(t.w&ks)>0,Yb=t=>(t.n&ks)>0,RC=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ks},NC=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];Xb(r)&&!Yb(r)?r.delete(t):e[n++]=r,r.w&=~ks,r.n&=~ks}e.length=n}},od=new WeakMap;let zu=0,ks=1;const dp=30;let er;const wa=Symbol(""),fp=Symbol("");class Gg{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,PC(this,i)}run(){if(!this.active)return this.fn();let e=er,n=Cs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=er,er=this,Cs=!0,ks=1<<++zu,zu<=dp?RC(this):Y0(this),this.fn()}finally{zu<=dp&&NC(this),ks=1<<--zu,er=this.parent,Cs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){er===this?this.deferStop=!0:this.active&&(Y0(this),this.onStop&&this.onStop(),this.active=!1)}}function Y0(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Cs=!0;const Qb=[];function nu(){Qb.push(Cs),Cs=!1}function iu(){const t=Qb.pop();Cs=t===void 0?!0:t}function pi(t,e,n){if(Cs&&er){let i=od.get(t);i||od.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=zg()),Jb(r)}}function Jb(t,e){let n=!1;zu<=dp?Yb(t)||(t.n|=ks,n=!Xb(t)):n=!t.has(er),n&&(t.add(er),er.deps.push(t))}function Qr(t,e,n,i,r,s){const a=od.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&Ke(t)){const u=Number(i);a.forEach((c,d)=>{(d==="length"||d>=u)&&o.push(c)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":Ke(t)?Vg(n)&&o.push(a.get("length")):(o.push(a.get(wa)),xo(t)&&o.push(a.get(fp)));break;case"delete":Ke(t)||(o.push(a.get(wa)),xo(t)&&o.push(a.get(fp)));break;case"set":xo(t)&&o.push(a.get(wa));break}if(o.length===1)o[0]&&hp(o[0]);else{const u=[];for(const c of o)c&&u.push(...c);hp(zg(u))}}function hp(t,e){const n=Ke(t)?t:[...t];for(const i of n)i.computed&&Q0(i);for(const i of n)i.computed||Q0(i)}function Q0(t,e){(t!==er||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function MC(t,e){var n;return(n=od.get(t))==null?void 0:n.get(e)}const BC=Ug("__proto__,__v_isRef,__isVue"),Zb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hg)),FC=Kg(),UC=Kg(!1,!0),jC=Kg(!0),J0=$C();function $C(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=pt(this);for(let s=0,a=this.length;s<a;s++)pi(i,"get",s+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(pt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){nu();const i=pt(this)[e].apply(this,n);return iu(),i}}),t}function HC(t){const e=pt(this);return pi(e,"has",t),e.hasOwnProperty(t)}function Kg(t=!1,e=!1){return function(i,r,s){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&s===(t?e?rw:rT:e?iT:nT).get(i))return i;const a=Ke(i);if(!t){if(a&&gt(J0,r))return Reflect.get(J0,r,s);if(r==="hasOwnProperty")return HC}const o=Reflect.get(i,r,s);return(Hg(r)?Zb.has(r):BC(r))||(t||pi(i,"get",r),e)?o:Yt(o)?a&&Vg(r)?o:o.value:jt(o)?t?Qg(o):Li(o):o}}const qC=eT(),VC=eT(!0);function eT(t=!1){return function(n,i,r,s){let a=n[i];if(Oa(a)&&Yt(a)&&!Yt(r))return!1;if(!t&&(!ud(r)&&!Oa(r)&&(a=pt(a),r=pt(r)),!Ke(n)&&Yt(a)&&!Yt(r)))return a.value=r,!0;const o=Ke(n)&&Vg(i)?Number(i)<n.length:gt(n,i),u=Reflect.set(n,i,r,s);return n===pt(s)&&(o?ml(r,a)&&Qr(n,"set",i,r):Qr(n,"add",i,r)),u}}function WC(t,e){const n=gt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Qr(t,"delete",e,void 0),i}function zC(t,e){const n=Reflect.has(t,e);return(!Hg(e)||!Zb.has(e))&&pi(t,"has",e),n}function GC(t){return pi(t,"iterate",Ke(t)?"length":wa),Reflect.ownKeys(t)}const tT={get:FC,set:qC,deleteProperty:WC,has:zC,ownKeys:GC},KC={get:jC,set(t,e){return!0},deleteProperty(t,e){return!0}},XC=dn({},tT,{get:UC,set:VC}),Xg=t=>t,Jd=t=>Reflect.getPrototypeOf(t);function Lc(t,e,n=!1,i=!1){t=t.__v_raw;const r=pt(t),s=pt(e);n||(e!==s&&pi(r,"get",e),pi(r,"get",s));const{has:a}=Jd(r),o=i?Xg:n?em:yl;if(a.call(r,e))return o(t.get(e));if(a.call(r,s))return o(t.get(s));t!==r&&t.get(e)}function Ic(t,e=!1){const n=this.__v_raw,i=pt(n),r=pt(t);return e||(t!==r&&pi(i,"has",t),pi(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Pc(t,e=!1){return t=t.__v_raw,!e&&pi(pt(t),"iterate",wa),Reflect.get(t,"size",t)}function Z0(t){t=pt(t);const e=pt(this);return Jd(e).has.call(e,t)||(e.add(t),Qr(e,"add",t,t)),this}function ey(t,e){e=pt(e);const n=pt(this),{has:i,get:r}=Jd(n);let s=i.call(n,t);s||(t=pt(t),s=i.call(n,t));const a=r.call(n,t);return n.set(t,e),s?ml(e,a)&&Qr(n,"set",t,e):Qr(n,"add",t,e),this}function ty(t){const e=pt(this),{has:n,get:i}=Jd(e);let r=n.call(e,t);r||(t=pt(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&Qr(e,"delete",t,void 0),s}function ny(){const t=pt(this),e=t.size!==0,n=t.clear();return e&&Qr(t,"clear",void 0,void 0),n}function Oc(t,e){return function(i,r){const s=this,a=s.__v_raw,o=pt(a),u=e?Xg:t?em:yl;return!t&&pi(o,"iterate",wa),a.forEach((c,d)=>i.call(r,u(c),u(d),s))}}function Rc(t,e,n){return function(...i){const r=this.__v_raw,s=pt(r),a=xo(s),o=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,c=r[t](...i),d=n?Xg:e?em:yl;return!e&&pi(s,"iterate",u?fp:wa),{next(){const{value:p,done:v}=c.next();return v?{value:p,done:v}:{value:o?[d(p[0]),d(p[1])]:d(p),done:v}},[Symbol.iterator](){return this}}}}function ps(t){return function(...e){return t==="delete"?!1:this}}function YC(){const t={get(s){return Lc(this,s)},get size(){return Pc(this)},has:Ic,add:Z0,set:ey,delete:ty,clear:ny,forEach:Oc(!1,!1)},e={get(s){return Lc(this,s,!1,!0)},get size(){return Pc(this)},has:Ic,add:Z0,set:ey,delete:ty,clear:ny,forEach:Oc(!1,!0)},n={get(s){return Lc(this,s,!0)},get size(){return Pc(this,!0)},has(s){return Ic.call(this,s,!0)},add:ps("add"),set:ps("set"),delete:ps("delete"),clear:ps("clear"),forEach:Oc(!0,!1)},i={get(s){return Lc(this,s,!0,!0)},get size(){return Pc(this,!0)},has(s){return Ic.call(this,s,!0)},add:ps("add"),set:ps("set"),delete:ps("delete"),clear:ps("clear"),forEach:Oc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Rc(s,!1,!1),n[s]=Rc(s,!0,!1),e[s]=Rc(s,!1,!0),i[s]=Rc(s,!0,!0)}),[t,n,e,i]}const[QC,JC,ZC,ew]=YC();function Yg(t,e){const n=e?t?ew:ZC:t?JC:QC;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(gt(n,r)&&r in i?n:i,r,s)}const tw={get:Yg(!1,!1)},nw={get:Yg(!1,!0)},iw={get:Yg(!0,!1)},nT=new WeakMap,iT=new WeakMap,rT=new WeakMap,rw=new WeakMap;function sw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aw(t){return t.__v_skip||!Object.isExtensible(t)?0:sw(EC(t))}function Li(t){return Oa(t)?t:Jg(t,!1,tT,tw,nT)}function jl(t){return Jg(t,!1,XC,nw,iT)}function Qg(t){return Jg(t,!0,KC,iw,rT)}function Jg(t,e,n,i,r){if(!jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const a=aw(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return r.set(t,o),o}function Co(t){return Oa(t)?Co(t.__v_raw):!!(t&&t.__v_isReactive)}function Oa(t){return!!(t&&t.__v_isReadonly)}function ud(t){return!!(t&&t.__v_isShallow)}function sT(t){return Co(t)||Oa(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Zg(t){return ad(t,"__v_skip",!0),t}const yl=t=>jt(t)?Li(t):t,em=t=>jt(t)?Qg(t):t;function aT(t){Cs&&er&&(t=pt(t),Jb(t.dep||(t.dep=zg())))}function oT(t,e){t=pt(t);const n=t.dep;n&&hp(n)}function Yt(t){return!!(t&&t.__v_isRef===!0)}function Et(t){return uT(t,!1)}function ws(t){return uT(t,!0)}function uT(t,e){return Yt(t)?t:new ow(t,e)}class ow{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:pt(e),this._value=n?e:yl(e)}get value(){return aT(this),this._value}set value(e){const n=this.__v_isShallow||ud(e)||Oa(e);e=n?e:pt(e),ml(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:yl(e),oT(this))}}function kt(t){return Yt(t)?t.value:t}const uw={get:(t,e,n)=>kt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Yt(r)&&!Yt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function lT(t){return Co(t)?t:new Proxy(t,uw)}function cT(t){const e=Ke(t)?new Array(t.length):{};for(const n in t)e[n]=fT(t,n);return e}class lw{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return MC(pt(this._object),this._key)}}class cw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function dT(t,e,n){return Yt(t)?t:Je(t)?new cw(t):jt(t)&&arguments.length>1?fT(t,e,n):Et(t)}function fT(t,e,n){const i=t[e];return Yt(i)?i:new lw(t,e,n)}class dw{constructor(e,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Gg(e,()=>{this._dirty||(this._dirty=!0,oT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=pt(this);return aT(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function fw(t,e,n=!1){let i,r;const s=Je(t);return s?(i=t,r=rr):(i=t.get,r=t.set),new dw(i,r,s||!r,n)}function As(t,e,n,i){let r;try{r=i?t(...i):t()}catch(s){ru(s,e,n)}return r}function Hi(t,e,n,i){if(Je(t)){const s=As(t,e,n,i);return s&&qg(s)&&s.catch(a=>{ru(a,e,n)}),s}const r=[];for(let s=0;s<t.length;s++)r.push(Hi(t[s],e,n,i));return r}function ru(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=n;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,a,o)===!1)return}s=s.parent}const u=e.appContext.config.errorHandler;if(u){As(u,null,10,[t,a,o]);return}}hw(t,n,r,i)}function hw(t,e,n,i=!0){console.error(t)}let _l=!1,pp=!1;const Nn=[];let br=0;const wo=[];let zr=null,_a=0;const hT=Promise.resolve();let tm=null;function Jr(t){const e=tm||hT;return t?e.then(this?t.bind(this):t):e}function pw(t){let e=br+1,n=Nn.length;for(;e<n;){const i=e+n>>>1;vl(Nn[i])<t?e=i+1:n=i}return e}function Zd(t){(!Nn.length||!Nn.includes(t,_l&&t.allowRecurse?br+1:br))&&(t.id==null?Nn.push(t):Nn.splice(pw(t.id),0,t),pT())}function pT(){!_l&&!pp&&(pp=!0,tm=hT.then(mT))}function gw(t){const e=Nn.indexOf(t);e>br&&Nn.splice(e,1)}function gT(t){Ke(t)?wo.push(...t):(!zr||!zr.includes(t,t.allowRecurse?_a+1:_a))&&wo.push(t),pT()}function iy(t,e=_l?br+1:0){for(;e<Nn.length;e++){const n=Nn[e];n&&n.pre&&(Nn.splice(e,1),e--,n())}}function ld(t){if(wo.length){const e=[...new Set(wo)];if(wo.length=0,zr){zr.push(...e);return}for(zr=e,zr.sort((n,i)=>vl(n)-vl(i)),_a=0;_a<zr.length;_a++)zr[_a]();zr=null,_a=0}}const vl=t=>t.id==null?1/0:t.id,mw=(t,e)=>{const n=vl(t)-vl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function mT(t){pp=!1,_l=!0,Nn.sort(mw);const e=rr;try{for(br=0;br<Nn.length;br++){const n=Nn[br];n&&n.active!==!1&&As(n,null,14)}}finally{br=0,Nn.length=0,ld(),_l=!1,tm=null,(Nn.length||wo.length)&&mT()}}function yw(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Vt;let r=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:v}=i[d]||Vt;v&&(r=n.map(C=>Zt(C)?C.trim():C)),p&&(r=n.map(lp))}let o,u=i[o=Eh(e)]||i[o=Eh(kr(e))];!u&&s&&(u=i[o=Eh(tu(e))]),u&&Hi(u,t,6,r);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Hi(c,t,6,r)}}function yT(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let a={},o=!1;if(!Je(t)){const u=c=>{const d=yT(c,e,!0);d&&(o=!0,dn(a,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!o?(jt(t)&&i.set(t,null),null):(Ke(s)?s.forEach(u=>a[u]=null):dn(a,s),jt(t)&&i.set(t,a),a)}function ef(t,e){return!t||!Fl(e)?!1:(e=e.slice(2).replace(/Once$/,""),gt(t,e[0].toLowerCase()+e.slice(1))||gt(t,tu(e))||gt(t,e))}let En=null,tf=null;function cd(t){const e=En;return En=t,tf=t&&t.type.__scopeId||null,e}function _w(t){tf=t}function vw(){tf=null}function Ao(t,e=En,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&yy(-1);const s=cd(e);let a;try{a=t(...r)}finally{cd(s),i._d&&yy(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function xh(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[a],slots:o,attrs:u,emit:c,render:d,renderCache:p,data:v,setupState:C,ctx:x,inheritAttrs:L}=t;let O,S;const A=cd(t);try{if(n.shapeFlag&4){const I=r||i;O=ji(d.call(I,I,p,s,C,v,x)),S=u}else{const I=e;O=ji(I.length>1?I(s,{attrs:u,slots:o,emit:c}):I(s,null)),S=e.props?u:Tw(u)}}catch(I){il.length=0,ru(I,t,1),O=Ut(Zn)}let M=O;if(S&&L!==!1){const I=Object.keys(S),{shapeFlag:N}=M;I.length&&N&7&&(a&&I.some(jg)&&(S=Ew(S,a)),M=Zr(M,S))}return n.dirs&&(M=Zr(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),O=M,cd(A),O}function bw(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(Mo(i)){if(i.type!==Zn||i.children==="v-if"){if(e)return;e=i}}else return}return e}const Tw=t=>{let e;for(const n in t)(n==="class"||n==="style"||Fl(n))&&((e||(e={}))[n]=t[n]);return e},Ew=(t,e)=>{const n={};for(const i in t)(!jg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function xw(t,e,n){const{props:i,children:r,component:s}=t,{props:a,children:o,patchFlag:u}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?ry(i,a,c):!!a;if(u&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const v=d[p];if(a[v]!==i[v]&&!ef(c,v))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?ry(i,a,c):!0:!!a;return!1}function ry(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!ef(n,s))return!0}return!1}function nm({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const _T=t=>t.__isSuspense,Sw={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,a,o,u,c){t==null?Cw(e,n,i,r,s,a,o,u,c):ww(t,e,n,i,r,a,o,u,c)},hydrate:Aw,create:rm,normalize:Dw},im=Sw;function bl(t,e){const n=t.props&&t.props[e];Je(n)&&n()}function Cw(t,e,n,i,r,s,a,o,u){const{p:c,o:{createElement:d}}=u,p=d("div"),v=t.suspense=rm(t,r,i,e,p,n,s,a,o,u);c(null,v.pendingBranch=t.ssContent,p,null,i,v,s,a),v.deps>0?(bl(t,"onPending"),bl(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,s,a),Do(v,t.ssFallback)):v.resolve(!1,!0)}function ww(t,e,n,i,r,s,a,o,{p:u,um:c,o:{createElement:d}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const v=e.ssContent,C=e.ssFallback,{activeBranch:x,pendingBranch:L,isInFallback:O,isHydrating:S}=p;if(L)p.pendingBranch=v,nr(v,L)?(u(L,v,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0?p.resolve():O&&(u(x,C,n,i,r,null,s,a,o),Do(p,C))):(p.pendingId++,S?(p.isHydrating=!1,p.activeBranch=L):c(L,r,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),O?(u(null,v,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0?p.resolve():(u(x,C,n,i,r,null,s,a,o),Do(p,C))):x&&nr(v,x)?(u(x,v,n,i,r,p,s,a,o),p.resolve(!0)):(u(null,v,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0&&p.resolve()));else if(x&&nr(v,x))u(x,v,n,i,r,p,s,a,o),Do(p,v);else if(bl(e,"onPending"),p.pendingBranch=v,p.pendingId++,u(null,v,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0)p.resolve();else{const{timeout:A,pendingId:M}=p;A>0?setTimeout(()=>{p.pendingId===M&&p.fallback(C)},A):A===0&&p.fallback(C)}}function rm(t,e,n,i,r,s,a,o,u,c,d=!1){const{p,m:v,um:C,n:x,o:{parentNode:L,remove:O}}=c;let S;const A=kw(t);A&&e!=null&&e.pendingBranch&&(S=e.pendingId,e.deps++);const M=t.props?Vb(t.props.timeout):void 0,I={vnode:t,parent:e,parentComponent:n,isSVG:a,container:i,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(N=!1,F=!1){const{vnode:m,activeBranch:te,pendingBranch:ie,pendingId:Te,effects:Y,parentComponent:se,container:J}=I;if(I.isHydrating)I.isHydrating=!1;else if(!N){const Le=te&&ie.transition&&ie.transition.mode==="out-in";Le&&(te.transition.afterLeave=()=>{Te===I.pendingId&&v(ie,J,Re,0)});let{anchor:Re}=I;te&&(Re=x(te),C(te,se,I,!0)),Le||v(ie,J,Re,0)}Do(I,ie),I.pendingBranch=null,I.isInFallback=!1;let de=I.parent,$e=!1;for(;de;){if(de.pendingBranch){de.effects.push(...Y),$e=!0;break}de=de.parent}$e||gT(Y),I.effects=[],A&&e&&e.pendingBranch&&S===e.pendingId&&(e.deps--,e.deps===0&&!F&&e.resolve()),bl(m,"onResolve")},fallback(N){if(!I.pendingBranch)return;const{vnode:F,activeBranch:m,parentComponent:te,container:ie,isSVG:Te}=I;bl(F,"onFallback");const Y=x(m),se=()=>{I.isInFallback&&(p(null,N,ie,Y,te,null,Te,o,u),Do(I,N))},J=N.transition&&N.transition.mode==="out-in";J&&(m.transition.afterLeave=se),I.isInFallback=!0,C(m,te,null,!0),J||se()},move(N,F,m){I.activeBranch&&v(I.activeBranch,N,F,m),I.container=N},next(){return I.activeBranch&&x(I.activeBranch)},registerDep(N,F){const m=!!I.pendingBranch;m&&I.deps++;const te=N.vnode.el;N.asyncDep.catch(ie=>{ru(ie,N,0)}).then(ie=>{if(N.isUnmounted||I.isUnmounted||I.pendingId!==N.suspenseId)return;N.asyncResolved=!0;const{vnode:Te}=N;bp(N,ie,!1),te&&(Te.el=te);const Y=!te&&N.subTree.el;F(N,Te,L(te||N.subTree.el),te?null:x(N.subTree),I,a,u),Y&&O(Y),nm(N,Te.el),m&&--I.deps===0&&I.resolve()})},unmount(N,F){I.isUnmounted=!0,I.activeBranch&&C(I.activeBranch,n,N,F),I.pendingBranch&&C(I.pendingBranch,n,N,F)}};return I}function Aw(t,e,n,i,r,s,a,o,u){const c=e.suspense=rm(e,i,n,t.parentNode,document.createElement("div"),null,r,s,a,o,!0),d=u(t,c.pendingBranch=e.ssContent,n,c,s,a);return c.deps===0&&c.resolve(!1,!0),d}function Dw(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=sy(i?n.default:n),t.ssFallback=i?sy(n.fallback):Ut(Zn)}function sy(t){let e;if(Je(t)){const n=No&&t._c;n&&(t._d=!1,tr()),t=t(),n&&(t._d=!0,e=$i,qT())}return Ke(t)&&(t=bw(t)),t=ji(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function vT(t,e){e&&e.pendingBranch?Ke(t)?e.effects.push(...t):e.effects.push(t):gT(t)}function Do(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,r=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=r,nm(i,r))}function kw(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function bT(t,e){return sm(t,null,e)}const Nc={};function gn(t,e,n){return sm(t,e,n)}function sm(t,e,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:a}=Vt){var o;const u=Kb()===((o=cn)==null?void 0:o.scope)?cn:null;let c,d=!1,p=!1;if(Yt(t)?(c=()=>t.value,d=ud(t)):Co(t)?(c=()=>t,i=!0):Ke(t)?(p=!0,d=t.some(I=>Co(I)||ud(I)),c=()=>t.map(I=>{if(Yt(I))return I.value;if(Co(I))return Ta(I);if(Je(I))return As(I,u,2)})):Je(t)?e?c=()=>As(t,u,2):c=()=>{if(!(u&&u.isUnmounted))return v&&v(),Hi(t,u,3,[C])}:c=rr,e&&i){const I=c;c=()=>Ta(I())}let v,C=I=>{v=A.onStop=()=>{As(I,u,4)}},x;if(Bo)if(C=rr,e?n&&Hi(e,u,3,[c(),p?[]:void 0,C]):c(),r==="sync"){const I=_A();x=I.__watcherHandles||(I.__watcherHandles=[])}else return rr;let L=p?new Array(t.length).fill(Nc):Nc;const O=()=>{if(A.active)if(e){const I=A.run();(i||d||(p?I.some((N,F)=>ml(N,L[F])):ml(I,L)))&&(v&&v(),Hi(e,u,3,[I,L===Nc?void 0:p&&L[0]===Nc?[]:L,C]),L=I)}else A.run()};O.allowRecurse=!!e;let S;r==="sync"?S=O:r==="post"?S=()=>An(O,u&&u.suspense):(O.pre=!0,u&&(O.id=u.uid),S=()=>Zd(O));const A=new Gg(c,S);e?n?O():L=A.run():r==="post"?An(A.run.bind(A),u&&u.suspense):A.run();const M=()=>{A.stop(),u&&u.scope&&$g(u.scope.effects,A)};return x&&x.push(M),M}function Lw(t,e,n){const i=this.proxy,r=Zt(t)?t.includes(".")?TT(i,t):()=>i[t]:t.bind(i,i);let s;Je(e)?s=e:(s=e.handler,n=e);const a=cn;Ls(this);const o=sm(r,s.bind(i),n);return a?Ls(a):Ds(),o}function TT(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Ta(t,e){if(!jt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Yt(t))Ta(t.value,e);else if(Ke(t))for(let n=0;n<t.length;n++)Ta(t[n],e);else if($b(t)||xo(t))t.forEach(n=>{Ta(n,e)});else if(qb(t))for(const n in t)Ta(t[n],e);return t}function iU(t,e){const n=En;if(n===null)return t;const i=af(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,u,c=Vt]=e[s];a&&(Je(a)&&(a={mounted:a,updated:a}),a.deep&&Ta(o),r.push({dir:a,instance:i,value:o,oldValue:void 0,arg:u,modifiers:c}))}return t}function yr(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let u=o.dir[i];u&&(nu(),Hi(u,n,8,[t.el,o,t,e]),iu())}}function Iw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fa(()=>{t.isMounted=!0}),Hl(()=>{t.isUnmounting=!0}),t}const Bi=[Function,Array],ET={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bi,onEnter:Bi,onAfterEnter:Bi,onEnterCancelled:Bi,onBeforeLeave:Bi,onLeave:Bi,onAfterLeave:Bi,onLeaveCancelled:Bi,onBeforeAppear:Bi,onAppear:Bi,onAfterAppear:Bi,onAppearCancelled:Bi},Pw={name:"BaseTransition",props:ET,setup(t,{slots:e}){const n=ss(),i=Iw();let r;return()=>{const s=e.default&&ST(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const L of s)if(L.type!==Zn){a=L;break}}const o=pt(t),{mode:u}=o;if(i.isLeaving)return Sh(a);const c=ay(a);if(!c)return Sh(a);const d=gp(c,o,i,n);dd(c,d);const p=n.subTree,v=p&&ay(p);let C=!1;const{getTransitionKey:x}=c.type;if(x){const L=x();r===void 0?r=L:L!==r&&(r=L,C=!0)}if(v&&v.type!==Zn&&(!nr(c,v)||C)){const L=gp(v,o,i,n);if(dd(v,L),u==="out-in")return i.isLeaving=!0,L.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Sh(a);u==="in-out"&&c.type!==Zn&&(L.delayLeave=(O,S,A)=>{const M=xT(i,v);M[String(v.key)]=v,O._leaveCb=()=>{S(),O._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=A})}return a}}},Ow=Pw;function xT(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function gp(t,e,n,i){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:p,onLeave:v,onAfterLeave:C,onLeaveCancelled:x,onBeforeAppear:L,onAppear:O,onAfterAppear:S,onAppearCancelled:A}=e,M=String(t.key),I=xT(n,t),N=(te,ie)=>{te&&Hi(te,i,9,ie)},F=(te,ie)=>{const Te=ie[1];N(te,ie),Ke(te)?te.every(Y=>Y.length<=1)&&Te():te.length<=1&&Te()},m={mode:s,persisted:a,beforeEnter(te){let ie=o;if(!n.isMounted)if(r)ie=L||o;else return;te._leaveCb&&te._leaveCb(!0);const Te=I[M];Te&&nr(t,Te)&&Te.el._leaveCb&&Te.el._leaveCb(),N(ie,[te])},enter(te){let ie=u,Te=c,Y=d;if(!n.isMounted)if(r)ie=O||u,Te=S||c,Y=A||d;else return;let se=!1;const J=te._enterCb=de=>{se||(se=!0,de?N(Y,[te]):N(Te,[te]),m.delayedLeave&&m.delayedLeave(),te._enterCb=void 0)};ie?F(ie,[te,J]):J()},leave(te,ie){const Te=String(t.key);if(te._enterCb&&te._enterCb(!0),n.isUnmounting)return ie();N(p,[te]);let Y=!1;const se=te._leaveCb=J=>{Y||(Y=!0,ie(),J?N(x,[te]):N(C,[te]),te._leaveCb=void 0,I[Te]===t&&delete I[Te])};I[Te]=t,v?F(v,[te,se]):se()},clone(te){return gp(te,e,n,i)}};return m}function Sh(t){if($l(t))return t=Zr(t),t.children=null,t}function ay(t){return $l(t)?t.children?t.children[0]:void 0:t}function dd(t,e){t.shapeFlag&6&&t.component?dd(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ST(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Rn?(a.patchFlag&128&&r++,i=i.concat(ST(a.children,e,o))):(e||a.type!==Zn)&&i.push(o!=null?Zr(a,{key:o}):a)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Fn(t,e){return Je(t)?(()=>dn({name:t.name},e,{setup:t}))():t}const Aa=t=>!!t.type.__asyncLoader;function oy(t){Je(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,timeout:s,suspensible:a=!0,onError:o}=t;let u=null,c,d=0;const p=()=>(d++,u=null,v()),v=()=>{let C;return u||(C=u=e().catch(x=>{if(x=x instanceof Error?x:new Error(String(x)),o)return new Promise((L,O)=>{o(x,()=>L(p()),()=>O(x),d+1)});throw x}).then(x=>C!==u&&u?u:(x&&(x.__esModule||x[Symbol.toStringTag]==="Module")&&(x=x.default),c=x,x)))};return Fn({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return c},setup(){const C=cn;if(c)return()=>Ch(c,C);const x=A=>{u=null,ru(A,C,13,!i)};if(a&&C.suspense||Bo)return v().then(A=>()=>Ch(A,C)).catch(A=>(x(A),()=>i?Ut(i,{error:A}):null));const L=Et(!1),O=Et(),S=Et(!!r);return r&&setTimeout(()=>{S.value=!1},r),s!=null&&setTimeout(()=>{if(!L.value&&!O.value){const A=new Error(`Async component timed out after ${s}ms.`);x(A),O.value=A}},s),v().then(()=>{L.value=!0,C.parent&&$l(C.parent.vnode)&&Zd(C.parent.update)}).catch(A=>{x(A),O.value=A}),()=>{if(L.value&&c)return Ch(c,C);if(O.value&&i)return Ut(i,{error:O.value});if(n&&!S.value)return Ut(n)}}})}function Ch(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,a=Ut(t,i,r);return a.ref=n,a.ce=s,delete e.vnode.ce,a}const $l=t=>t.type.__isKeepAlive,Rw={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ss(),i=n.ctx;if(!i.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const r=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:u,m:c,um:d,o:{createElement:p}}}=i,v=p("div");i.activate=(A,M,I,N,F)=>{const m=A.component;c(A,M,I,0,o),u(m.vnode,A,M,I,m,o,N,A.slotScopeIds,F),An(()=>{m.isDeactivated=!1,m.a&&So(m.a);const te=A.props&&A.props.onVnodeMounted;te&&ui(te,m.parent,A)},o)},i.deactivate=A=>{const M=A.component;c(A,v,null,1,o),An(()=>{M.da&&So(M.da);const I=A.props&&A.props.onVnodeUnmounted;I&&ui(I,M.parent,A),M.isDeactivated=!0},o)};function C(A){wh(A),d(A,n,o,!0)}function x(A){r.forEach((M,I)=>{const N=Tp(M.type);N&&(!A||!A(N))&&L(I)})}function L(A){const M=r.get(A);!a||!nr(M,a)?C(M):a&&wh(a),r.delete(A),s.delete(A)}gn(()=>[t.include,t.exclude],([A,M])=>{A&&x(I=>Gu(A,I)),M&&x(I=>!Gu(M,I))},{flush:"post",deep:!0});let O=null;const S=()=>{O!=null&&r.set(O,Ah(n.subTree))};return Fa(S),DT(S),Hl(()=>{r.forEach(A=>{const{subTree:M,suspense:I}=n,N=Ah(M);if(A.type===N.type&&A.key===N.key){wh(N);const F=N.component.da;F&&An(F,I);return}C(A)})}),()=>{if(O=null,!e.default)return null;const A=e.default(),M=A[0];if(A.length>1)return a=null,A;if(!Mo(M)||!(M.shapeFlag&4)&&!(M.shapeFlag&128))return a=null,M;let I=Ah(M);const N=I.type,F=Tp(Aa(I)?I.type.__asyncResolved||{}:N),{include:m,exclude:te,max:ie}=t;if(m&&(!F||!Gu(m,F))||te&&F&&Gu(te,F))return a=I,M;const Te=I.key==null?N:I.key,Y=r.get(Te);return I.el&&(I=Zr(I),M.shapeFlag&128&&(M.ssContent=I)),O=Te,Y?(I.el=Y.el,I.component=Y.component,I.transition&&dd(I,I.transition),I.shapeFlag|=512,s.delete(Te),s.add(Te)):(s.add(Te),ie&&s.size>parseInt(ie,10)&&L(s.values().next().value)),I.shapeFlag|=256,a=I,_T(M.type)?M:I}}},Nw=Rw;function Gu(t,e){return Ke(t)?t.some(n=>Gu(n,e)):Zt(t)?t.split(",").includes(e):TC(t)?t.test(e):!1}function CT(t,e){AT(t,"a",e)}function wT(t,e){AT(t,"da",e)}function AT(t,e,n=cn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(nf(e,i,n),n){let r=n.parent;for(;r&&r.parent;)$l(r.parent.vnode)&&Mw(i,e,n,r),r=r.parent}}function Mw(t,e,n,i){const r=nf(e,t,i,!0);am(()=>{$g(i[e],r)},n)}function wh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ah(t){return t.shapeFlag&128?t.ssContent:t}function nf(t,e,n=cn,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;nu(),Ls(n);const o=Hi(e,n,t,a);return Ds(),iu(),o});return i?r.unshift(s):r.push(s),s}}const rs=t=>(e,n=cn)=>(!Bo||t==="sp")&&nf(t,(...i)=>e(...i),n),Bw=rs("bm"),Fa=rs("m"),Fw=rs("bu"),DT=rs("u"),Hl=rs("bum"),am=rs("um"),Uw=rs("sp"),jw=rs("rtg"),$w=rs("rtc");function kT(t,e=cn){nf("ec",t,e)}const om="components";function rU(t,e){return IT(om,t,!0,e)||t}const LT=Symbol.for("v-ndc");function Hw(t){return Zt(t)?IT(om,t,!1)||t:t||LT}function IT(t,e,n=!0,i=!1){const r=En||cn;if(r){const s=r.type;if(t===om){const o=Tp(s,!1);if(o&&(o===e||o===kr(e)||o===Yd(kr(e))))return s}const a=uy(r[t]||s[t],e)||uy(r.appContext[t],e);return!a&&i?s:a}}function uy(t,e){return t&&(t[e]||t[kr(e)]||t[Yd(kr(e))])}function sU(t,e,n,i){let r;const s=n&&n[i];if(Ke(t)||Zt(t)){r=new Array(t.length);for(let a=0,o=t.length;a<o;a++)r[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(jt(t))if(t[Symbol.iterator])r=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);r=new Array(a.length);for(let o=0,u=a.length;o<u;o++){const c=a[o];r[o]=e(t[c],c,o,s&&s[o])}}else r=[];return n&&(n[i]=r),r}function aU(t,e,n={},i,r){if(En.isCE||En.parent&&Aa(En.parent)&&En.parent.isCE)return e!=="default"&&(n.name=e),Ut("slot",n,i&&i());let s=t[e];s&&s._c&&(s._d=!1),tr();const a=s&&PT(s(n)),o=Tr(Rn,{key:n.key||a&&a.key||`_${e}`},a||(i?i():[]),a&&t._===1?64:-2);return!r&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function PT(t){return t.some(e=>Mo(e)?!(e.type===Zn||e.type===Rn&&!PT(e.children)):!0)?t:null}const mp=t=>t?XT(t)?af(t)||t.proxy:mp(t.parent):null,nl=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mp(t.parent),$root:t=>mp(t.root),$emit:t=>t.emit,$options:t=>um(t),$forceUpdate:t=>t.f||(t.f=()=>Zd(t.update)),$nextTick:t=>t.n||(t.n=Jr.bind(t.proxy)),$watch:t=>Lw.bind(t)}),Dh=(t,e)=>t!==Vt&&!t.__isScriptSetup&&gt(t,e),qw={get({_:t},e){const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:u}=t;let c;if(e[0]!=="$"){const C=a[e];if(C!==void 0)switch(C){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(Dh(i,e))return a[e]=1,i[e];if(r!==Vt&&gt(r,e))return a[e]=2,r[e];if((c=t.propsOptions[0])&&gt(c,e))return a[e]=3,s[e];if(n!==Vt&&gt(n,e))return a[e]=4,n[e];yp&&(a[e]=0)}}const d=nl[e];let p,v;if(d)return e==="$attrs"&&pi(t,"get",e),d(t);if((p=o.__cssModules)&&(p=p[e]))return p;if(n!==Vt&&gt(n,e))return a[e]=4,n[e];if(v=u.config.globalProperties,gt(v,e))return v[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return Dh(r,e)?(r[e]=n,!0):i!==Vt&&gt(i,e)?(i[e]=n,!0):gt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let o;return!!n[a]||t!==Vt&&gt(t,a)||Dh(e,a)||(o=s[0])&&gt(o,a)||gt(i,a)||gt(nl,a)||gt(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:gt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ly(t){return Ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function oU(t){const e=ss();let n=t();return Ds(),qg(n)&&(n=n.catch(i=>{throw Ls(e),i})),[n,()=>Ls(e)]}let yp=!0;function Vw(t){const e=um(t),n=t.proxy,i=t.ctx;yp=!1,e.beforeCreate&&cy(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:a,watch:o,provide:u,inject:c,created:d,beforeMount:p,mounted:v,beforeUpdate:C,updated:x,activated:L,deactivated:O,beforeDestroy:S,beforeUnmount:A,destroyed:M,unmounted:I,render:N,renderTracked:F,renderTriggered:m,errorCaptured:te,serverPrefetch:ie,expose:Te,inheritAttrs:Y,components:se,directives:J,filters:de}=e;if(c&&Ww(c,i,null),a)for(const Re in a){const Ve=a[Re];Je(Ve)&&(i[Re]=Ve.bind(n))}if(r){const Re=r.call(n,n);jt(Re)&&(t.data=Li(Re))}if(yp=!0,s)for(const Re in s){const Ve=s[Re],bt=Je(Ve)?Ve.bind(n,n):Je(Ve.get)?Ve.get.bind(n,n):rr,Qt=!Je(Ve)&&Je(Ve.set)?Ve.set.bind(n):rr,Ht=dt({get:bt,set:Qt});Object.defineProperty(i,Re,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:xt=>Ht.value=xt})}if(o)for(const Re in o)OT(o[Re],i,n,Re);if(u){const Re=Je(u)?u.call(n):u;Reflect.ownKeys(Re).forEach(Ve=>{Da(Ve,Re[Ve])})}d&&cy(d,t,"c");function Le(Re,Ve){Ke(Ve)?Ve.forEach(bt=>Re(bt.bind(n))):Ve&&Re(Ve.bind(n))}if(Le(Bw,p),Le(Fa,v),Le(Fw,C),Le(DT,x),Le(CT,L),Le(wT,O),Le(kT,te),Le($w,F),Le(jw,m),Le(Hl,A),Le(am,I),Le(Uw,ie),Ke(Te))if(Te.length){const Re=t.exposed||(t.exposed={});Te.forEach(Ve=>{Object.defineProperty(Re,Ve,{get:()=>n[Ve],set:bt=>n[Ve]=bt})})}else t.exposed||(t.exposed={});N&&t.render===rr&&(t.render=N),Y!=null&&(t.inheritAttrs=Y),se&&(t.components=se),J&&(t.directives=J)}function Ww(t,e,n=rr){Ke(t)&&(t=_p(t));for(const i in t){const r=t[i];let s;jt(r)?"default"in r?s=kn(r.from||i,r.default,!0):s=kn(r.from||i):s=kn(r),Yt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function cy(t,e,n){Hi(Ke(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function OT(t,e,n,i){const r=i.includes(".")?TT(n,i):()=>n[i];if(Zt(t)){const s=e[t];Je(s)&&gn(r,s)}else if(Je(t))gn(r,t.bind(n));else if(jt(t))if(Ke(t))t.forEach(s=>OT(s,e,n,i));else{const s=Je(t.handler)?t.handler.bind(n):e[t.handler];Je(s)&&gn(r,s,t)}}function um(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let u;return o?u=o:!r.length&&!n&&!i?u=e:(u={},r.length&&r.forEach(c=>fd(u,c,a,!0)),fd(u,e,a)),jt(e)&&s.set(e,u),u}function fd(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&fd(t,s,n,!0),r&&r.forEach(a=>fd(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=zw[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const zw={data:dy,props:fy,emits:fy,methods:Ku,computed:Ku,beforeCreate:Gn,created:Gn,beforeMount:Gn,mounted:Gn,beforeUpdate:Gn,updated:Gn,beforeDestroy:Gn,beforeUnmount:Gn,destroyed:Gn,unmounted:Gn,activated:Gn,deactivated:Gn,errorCaptured:Gn,serverPrefetch:Gn,components:Ku,directives:Ku,watch:Kw,provide:dy,inject:Gw};function dy(t,e){return e?t?function(){return dn(Je(t)?t.call(this,this):t,Je(e)?e.call(this,this):e)}:e:t}function Gw(t,e){return Ku(_p(t),_p(e))}function _p(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Gn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ku(t,e){return t?dn(Object.create(null),t,e):e}function fy(t,e){return t?Ke(t)&&Ke(e)?[...new Set([...t,...e])]:dn(Object.create(null),ly(t),ly(e??{})):e}function Kw(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const i in e)n[i]=Gn(t[i],e[i]);return n}function RT(){return{app:null,config:{isNativeTag:_C,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xw=0;function Yw(t,e){return function(i,r=null){Je(i)||(i=dn({},i)),r!=null&&!jt(r)&&(r=null);const s=RT(),a=new Set;let o=!1;const u=s.app={_uid:Xw++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:QT,get config(){return s.config},set config(c){},use(c,...d){return a.has(c)||(c&&Je(c.install)?(a.add(c),c.install(u,...d)):Je(c)&&(a.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,p){if(!o){const v=Ut(i,r);return v.appContext=s,d&&e?e(v,c):t(v,c,p),o=!0,u._container=c,c.__vue_app__=u,af(v.component)||v.component.proxy}},unmount(){o&&(t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){Tl=u;try{return c()}finally{Tl=null}}};return u}}let Tl=null;function Da(t,e){if(cn){let n=cn.provides;const i=cn.parent&&cn.parent.provides;i===n&&(n=cn.provides=Object.create(i)),n[t]=e}}function kn(t,e,n=!1){const i=cn||En;if(i||Tl){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Tl._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Je(e)?e.call(i&&i.proxy):e}}function NT(){return!!(cn||En||Tl)}function Qw(t,e,n,i=!1){const r={},s={};ad(s,rf,1),t.propsDefaults=Object.create(null),MT(t,e,r,s);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=i?r:jl(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function Jw(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=t,o=pt(r),[u]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let v=d[p];if(ef(t.emitsOptions,v))continue;const C=e[v];if(u)if(gt(s,v))C!==s[v]&&(s[v]=C,c=!0);else{const x=kr(v);r[x]=vp(u,o,x,C,t,!1)}else C!==s[v]&&(s[v]=C,c=!0)}}}else{MT(t,e,r,s)&&(c=!0);let d;for(const p in o)(!e||!gt(e,p)&&((d=tu(p))===p||!gt(e,d)))&&(u?n&&(n[p]!==void 0||n[d]!==void 0)&&(r[p]=vp(u,o,p,void 0,t,!0)):delete r[p]);if(s!==o)for(const p in s)(!e||!gt(e,p))&&(delete s[p],c=!0)}c&&Qr(t,"set","$attrs")}function MT(t,e,n,i){const[r,s]=t.propsOptions;let a=!1,o;if(e)for(let u in e){if(tl(u))continue;const c=e[u];let d;r&&gt(r,d=kr(u))?!s||!s.includes(d)?n[d]=c:(o||(o={}))[d]=c:ef(t.emitsOptions,u)||(!(u in i)||c!==i[u])&&(i[u]=c,a=!0)}if(s){const u=pt(n),c=o||Vt;for(let d=0;d<s.length;d++){const p=s[d];n[p]=vp(r,u,p,c[p],t,!gt(c,p))}}return a}function vp(t,e,n,i,r,s){const a=t[n];if(a!=null){const o=gt(a,"default");if(o&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Je(u)){const{propsDefaults:c}=r;n in c?i=c[n]:(Ls(r),i=c[n]=u.call(null,e),Ds())}else i=u}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===tu(n))&&(i=!0))}return i}function BT(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const s=t.props,a={},o=[];let u=!1;if(!Je(t)){const d=p=>{u=!0;const[v,C]=BT(p,e,!0);dn(a,v),C&&o.push(...C)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!u)return jt(t)&&i.set(t,Eo),Eo;if(Ke(s))for(let d=0;d<s.length;d++){const p=kr(s[d]);hy(p)&&(a[p]=Vt)}else if(s)for(const d in s){const p=kr(d);if(hy(p)){const v=s[d],C=a[p]=Ke(v)||Je(v)?{type:v}:dn({},v);if(C){const x=my(Boolean,C.type),L=my(String,C.type);C[0]=x>-1,C[1]=L<0||x<L,(x>-1||gt(C,"default"))&&o.push(p)}}}const c=[a,o];return jt(t)&&i.set(t,c),c}function hy(t){return t[0]!=="$"}function py(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function gy(t,e){return py(t)===py(e)}function my(t,e){return Ke(e)?e.findIndex(n=>gy(n,t)):Je(e)&&gy(e,t)?0:-1}const FT=t=>t[0]==="_"||t==="$stable",lm=t=>Ke(t)?t.map(ji):[ji(t)],Zw=(t,e,n)=>{if(e._n)return e;const i=Ao((...r)=>lm(e(...r)),n);return i._c=!1,i},UT=(t,e,n)=>{const i=t._ctx;for(const r in t){if(FT(r))continue;const s=t[r];if(Je(s))e[r]=Zw(r,s,i);else if(s!=null){const a=lm(s);e[r]=()=>a}}},jT=(t,e)=>{const n=lm(e);t.slots.default=()=>n},eA=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=pt(e),ad(e,"_",n)):UT(e,t.slots={})}else t.slots={},e&&jT(t,e);ad(t.slots,rf,1)},tA=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,a=Vt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(dn(r,e),!n&&o===1&&delete r._):(s=!e.$stable,UT(e,r)),a=e}else e&&(jT(t,e),a={default:1});if(s)for(const o in r)!FT(o)&&!(o in a)&&delete r[o]};function hd(t,e,n,i,r=!1){if(Ke(t)){t.forEach((v,C)=>hd(v,e&&(Ke(e)?e[C]:e),n,i,r));return}if(Aa(i)&&!r)return;const s=i.shapeFlag&4?af(i.component)||i.component.proxy:i.el,a=r?null:s,{i:o,r:u}=t,c=e&&e.r,d=o.refs===Vt?o.refs={}:o.refs,p=o.setupState;if(c!=null&&c!==u&&(Zt(c)?(d[c]=null,gt(p,c)&&(p[c]=null)):Yt(c)&&(c.value=null)),Je(u))As(u,o,12,[a,d]);else{const v=Zt(u),C=Yt(u);if(v||C){const x=()=>{if(t.f){const L=v?gt(p,u)?p[u]:d[u]:u.value;r?Ke(L)&&$g(L,s):Ke(L)?L.includes(s)||L.push(s):v?(d[u]=[s],gt(p,u)&&(p[u]=d[u])):(u.value=[s],t.k&&(d[t.k]=u.value))}else v?(d[u]=a,gt(p,u)&&(p[u]=a)):C&&(u.value=a,t.k&&(d[t.k]=a))};a?(x.id=-1,An(x,n)):x()}}}let gs=!1;const Mc=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Bc=t=>t.nodeType===8;function nA(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:a,remove:o,insert:u,createComment:c}}=t,d=(S,A)=>{if(!A.hasChildNodes()){n(null,S,A),ld(),A._vnode=S;return}gs=!1,p(A.firstChild,S,null,null,null),ld(),A._vnode=S,gs&&console.error("Hydration completed but contains mismatches.")},p=(S,A,M,I,N,F=!1)=>{const m=Bc(S)&&S.data==="[",te=()=>L(S,A,M,I,N,m),{type:ie,ref:Te,shapeFlag:Y,patchFlag:se}=A;let J=S.nodeType;A.el=S,se===-2&&(F=!1,A.dynamicChildren=null);let de=null;switch(ie){case Ra:J!==3?A.children===""?(u(A.el=r(""),a(S),S),de=S):de=te():(S.data!==A.children&&(gs=!0,S.data=A.children),de=s(S));break;case Zn:J!==8||m?de=te():de=s(S);break;case Jc:if(m&&(S=s(S),J=S.nodeType),J===1||J===3){de=S;const $e=!A.children.length;for(let Le=0;Le<A.staticCount;Le++)$e&&(A.children+=de.nodeType===1?de.outerHTML:de.data),Le===A.staticCount-1&&(A.anchor=de),de=s(de);return m?s(de):de}else te();break;case Rn:m?de=x(S,A,M,I,N,F):de=te();break;default:if(Y&1)J!==1||A.type.toLowerCase()!==S.tagName.toLowerCase()?de=te():de=v(S,A,M,I,N,F);else if(Y&6){A.slotScopeIds=N;const $e=a(S);if(e(A,$e,null,M,I,Mc($e),F),de=m?O(S):s(S),de&&Bc(de)&&de.data==="teleport end"&&(de=s(de)),Aa(A)){let Le;m?(Le=Ut(Rn),Le.anchor=de?de.previousSibling:$e.lastChild):Le=S.nodeType===3?GT(""):Ut("div"),Le.el=S,A.component.subTree=Le}}else Y&64?J!==8?de=te():de=A.type.hydrate(S,A,M,I,N,F,t,C):Y&128&&(de=A.type.hydrate(S,A,M,I,Mc(a(S)),N,F,t,p))}return Te!=null&&hd(Te,null,I,A),de},v=(S,A,M,I,N,F)=>{F=F||!!A.dynamicChildren;const{type:m,props:te,patchFlag:ie,shapeFlag:Te,dirs:Y}=A,se=m==="input"&&Y||m==="option";if(se||ie!==-1){if(Y&&yr(A,null,M,"created"),te)if(se||!F||ie&48)for(const de in te)(se&&de.endsWith("value")||Fl(de)&&!tl(de))&&i(S,de,null,te[de],!1,void 0,M);else te.onClick&&i(S,"onClick",null,te.onClick,!1,void 0,M);let J;if((J=te&&te.onVnodeBeforeMount)&&ui(J,M,A),Y&&yr(A,null,M,"beforeMount"),((J=te&&te.onVnodeMounted)||Y)&&vT(()=>{J&&ui(J,M,A),Y&&yr(A,null,M,"mounted")},I),Te&16&&!(te&&(te.innerHTML||te.textContent))){let de=C(S.firstChild,A,S,M,I,N,F);for(;de;){gs=!0;const $e=de;de=de.nextSibling,o($e)}}else Te&8&&S.textContent!==A.children&&(gs=!0,S.textContent=A.children)}return S.nextSibling},C=(S,A,M,I,N,F,m)=>{m=m||!!A.dynamicChildren;const te=A.children,ie=te.length;for(let Te=0;Te<ie;Te++){const Y=m?te[Te]:te[Te]=ji(te[Te]);if(S)S=p(S,Y,I,N,F,m);else{if(Y.type===Ra&&!Y.children)continue;gs=!0,n(null,Y,M,null,I,N,Mc(M),F)}}return S},x=(S,A,M,I,N,F)=>{const{slotScopeIds:m}=A;m&&(N=N?N.concat(m):m);const te=a(S),ie=C(s(S),A,te,M,I,N,F);return ie&&Bc(ie)&&ie.data==="]"?s(A.anchor=ie):(gs=!0,u(A.anchor=c("]"),te,ie),ie)},L=(S,A,M,I,N,F)=>{if(gs=!0,A.el=null,F){const ie=O(S);for(;;){const Te=s(S);if(Te&&Te!==ie)o(Te);else break}}const m=s(S),te=a(S);return o(S),n(null,A,te,m,M,I,Mc(te),N),m},O=S=>{let A=0;for(;S;)if(S=s(S),S&&Bc(S)&&(S.data==="["&&A++,S.data==="]")){if(A===0)return s(S);A--}return S};return[d,p]}const An=vT;function iA(t){return $T(t)}function rA(t){return $T(t,nA)}function $T(t,e){const n=cp();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:o,createComment:u,setText:c,setElementText:d,parentNode:p,nextSibling:v,setScopeId:C=rr,insertStaticContent:x}=t,L=(V,P,B,K=null,ee=null,oe=null,me=!1,xe=null,ve=!!P.dynamicChildren)=>{if(V===P)return;V&&!nr(V,P)&&(K=_e(V),xt(V,ee,oe,!0),V=null),P.patchFlag===-2&&(ve=!1,P.dynamicChildren=null);const{type:Se,ref:De,shapeFlag:ne}=P;switch(Se){case Ra:O(V,P,B,K);break;case Zn:S(V,P,B,K);break;case Jc:V==null&&A(P,B,K,me);break;case Rn:se(V,P,B,K,ee,oe,me,xe,ve);break;default:ne&1?N(V,P,B,K,ee,oe,me,xe,ve):ne&6?J(V,P,B,K,ee,oe,me,xe,ve):(ne&64||ne&128)&&Se.process(V,P,B,K,ee,oe,me,xe,ve,Ae)}De!=null&&ee&&hd(De,V&&V.ref,oe,P||V,!P)},O=(V,P,B,K)=>{if(V==null)i(P.el=o(P.children),B,K);else{const ee=P.el=V.el;P.children!==V.children&&c(ee,P.children)}},S=(V,P,B,K)=>{V==null?i(P.el=u(P.children||""),B,K):P.el=V.el},A=(V,P,B,K)=>{[V.el,V.anchor]=x(V.children,P,B,K,V.el,V.anchor)},M=({el:V,anchor:P},B,K)=>{let ee;for(;V&&V!==P;)ee=v(V),i(V,B,K),V=ee;i(P,B,K)},I=({el:V,anchor:P})=>{let B;for(;V&&V!==P;)B=v(V),r(V),V=B;r(P)},N=(V,P,B,K,ee,oe,me,xe,ve)=>{me=me||P.type==="svg",V==null?F(P,B,K,ee,oe,me,xe,ve):ie(V,P,ee,oe,me,xe,ve)},F=(V,P,B,K,ee,oe,me,xe)=>{let ve,Se;const{type:De,props:ne,shapeFlag:ue,transition:be,dirs:Be}=V;if(ve=V.el=a(V.type,oe,ne&&ne.is,ne),ue&8?d(ve,V.children):ue&16&&te(V.children,ve,null,K,ee,oe&&De!=="foreignObject",me,xe),Be&&yr(V,null,K,"created"),m(ve,V,V.scopeId,me,K),ne){for(const st in ne)st!=="value"&&!tl(st)&&s(ve,st,null,ne[st],oe,V.children,K,ee,qt);"value"in ne&&s(ve,"value",null,ne.value),(Se=ne.onVnodeBeforeMount)&&ui(Se,K,V)}Be&&yr(V,null,K,"beforeMount");const ut=(!ee||ee&&!ee.pendingBranch)&&be&&!be.persisted;ut&&be.beforeEnter(ve),i(ve,P,B),((Se=ne&&ne.onVnodeMounted)||ut||Be)&&An(()=>{Se&&ui(Se,K,V),ut&&be.enter(ve),Be&&yr(V,null,K,"mounted")},ee)},m=(V,P,B,K,ee)=>{if(B&&C(V,B),K)for(let oe=0;oe<K.length;oe++)C(V,K[oe]);if(ee){let oe=ee.subTree;if(P===oe){const me=ee.vnode;m(V,me,me.scopeId,me.slotScopeIds,ee.parent)}}},te=(V,P,B,K,ee,oe,me,xe,ve=0)=>{for(let Se=ve;Se<V.length;Se++){const De=V[Se]=xe?Es(V[Se]):ji(V[Se]);L(null,De,P,B,K,ee,oe,me,xe)}},ie=(V,P,B,K,ee,oe,me)=>{const xe=P.el=V.el;let{patchFlag:ve,dynamicChildren:Se,dirs:De}=P;ve|=V.patchFlag&16;const ne=V.props||Vt,ue=P.props||Vt;let be;B&&la(B,!1),(be=ue.onVnodeBeforeUpdate)&&ui(be,B,P,V),De&&yr(P,V,B,"beforeUpdate"),B&&la(B,!0);const Be=ee&&P.type!=="foreignObject";if(Se?Te(V.dynamicChildren,Se,xe,B,K,Be,oe):me||Ve(V,P,xe,null,B,K,Be,oe,!1),ve>0){if(ve&16)Y(xe,P,ne,ue,B,K,ee);else if(ve&2&&ne.class!==ue.class&&s(xe,"class",null,ue.class,ee),ve&4&&s(xe,"style",ne.style,ue.style,ee),ve&8){const ut=P.dynamicProps;for(let st=0;st<ut.length;st++){const yt=ut[st],hn=ne[yt],_i=ue[yt];(_i!==hn||yt==="value")&&s(xe,yt,hn,_i,ee,V.children,B,K,qt)}}ve&1&&V.children!==P.children&&d(xe,P.children)}else!me&&Se==null&&Y(xe,P,ne,ue,B,K,ee);((be=ue.onVnodeUpdated)||De)&&An(()=>{be&&ui(be,B,P,V),De&&yr(P,V,B,"updated")},K)},Te=(V,P,B,K,ee,oe,me)=>{for(let xe=0;xe<P.length;xe++){const ve=V[xe],Se=P[xe],De=ve.el&&(ve.type===Rn||!nr(ve,Se)||ve.shapeFlag&70)?p(ve.el):B;L(ve,Se,De,null,K,ee,oe,me,!0)}},Y=(V,P,B,K,ee,oe,me)=>{if(B!==K){if(B!==Vt)for(const xe in B)!tl(xe)&&!(xe in K)&&s(V,xe,B[xe],null,me,P.children,ee,oe,qt);for(const xe in K){if(tl(xe))continue;const ve=K[xe],Se=B[xe];ve!==Se&&xe!=="value"&&s(V,xe,Se,ve,me,P.children,ee,oe,qt)}"value"in K&&s(V,"value",B.value,K.value)}},se=(V,P,B,K,ee,oe,me,xe,ve)=>{const Se=P.el=V?V.el:o(""),De=P.anchor=V?V.anchor:o("");let{patchFlag:ne,dynamicChildren:ue,slotScopeIds:be}=P;be&&(xe=xe?xe.concat(be):be),V==null?(i(Se,B,K),i(De,B,K),te(P.children,B,De,ee,oe,me,xe,ve)):ne>0&&ne&64&&ue&&V.dynamicChildren?(Te(V.dynamicChildren,ue,B,ee,oe,me,xe),(P.key!=null||ee&&P===ee.subTree)&&HT(V,P,!0)):Ve(V,P,B,De,ee,oe,me,xe,ve)},J=(V,P,B,K,ee,oe,me,xe,ve)=>{P.slotScopeIds=xe,V==null?P.shapeFlag&512?ee.ctx.activate(P,B,K,me,ve):de(P,B,K,ee,oe,me,ve):$e(V,P,ve)},de=(V,P,B,K,ee,oe,me)=>{const xe=V.component=dA(V,K,ee);if($l(V)&&(xe.ctx.renderer=Ae),fA(xe),xe.asyncDep){if(ee&&ee.registerDep(xe,Le),!V.el){const ve=xe.subTree=Ut(Zn);S(null,ve,P,B)}return}Le(xe,V,P,B,ee,oe,me)},$e=(V,P,B)=>{const K=P.component=V.component;if(xw(V,P,B))if(K.asyncDep&&!K.asyncResolved){Re(K,P,B);return}else K.next=P,gw(K.update),K.update();else P.el=V.el,K.vnode=P},Le=(V,P,B,K,ee,oe,me)=>{const xe=()=>{if(V.isMounted){let{next:De,bu:ne,u:ue,parent:be,vnode:Be}=V,ut=De,st;la(V,!1),De?(De.el=Be.el,Re(V,De,me)):De=Be,ne&&So(ne),(st=De.props&&De.props.onVnodeBeforeUpdate)&&ui(st,be,De,Be),la(V,!0);const yt=xh(V),hn=V.subTree;V.subTree=yt,L(hn,yt,p(hn.el),_e(hn),V,ee,oe),De.el=yt.el,ut===null&&nm(V,yt.el),ue&&An(ue,ee),(st=De.props&&De.props.onVnodeUpdated)&&An(()=>ui(st,be,De,Be),ee)}else{let De;const{el:ne,props:ue}=P,{bm:be,m:Be,parent:ut}=V,st=Aa(P);if(la(V,!1),be&&So(be),!st&&(De=ue&&ue.onVnodeBeforeMount)&&ui(De,ut,P),la(V,!0),ne&&rt){const yt=()=>{V.subTree=xh(V),rt(ne,V.subTree,V,ee,null)};st?P.type.__asyncLoader().then(()=>!V.isUnmounted&&yt()):yt()}else{const yt=V.subTree=xh(V);L(null,yt,B,K,V,ee,oe),P.el=yt.el}if(Be&&An(Be,ee),!st&&(De=ue&&ue.onVnodeMounted)){const yt=P;An(()=>ui(De,ut,yt),ee)}(P.shapeFlag&256||ut&&Aa(ut.vnode)&&ut.vnode.shapeFlag&256)&&V.a&&An(V.a,ee),V.isMounted=!0,P=B=K=null}},ve=V.effect=new Gg(xe,()=>Zd(Se),V.scope),Se=V.update=()=>ve.run();Se.id=V.uid,la(V,!0),Se()},Re=(V,P,B)=>{P.component=V;const K=V.vnode.props;V.vnode=P,V.next=null,Jw(V,P.props,K,B),tA(V,P.children,B),nu(),iy(),iu()},Ve=(V,P,B,K,ee,oe,me,xe,ve=!1)=>{const Se=V&&V.children,De=V?V.shapeFlag:0,ne=P.children,{patchFlag:ue,shapeFlag:be}=P;if(ue>0){if(ue&128){Qt(Se,ne,B,K,ee,oe,me,xe,ve);return}else if(ue&256){bt(Se,ne,B,K,ee,oe,me,xe,ve);return}}be&8?(De&16&&qt(Se,ee,oe),ne!==Se&&d(B,ne)):De&16?be&16?Qt(Se,ne,B,K,ee,oe,me,xe,ve):qt(Se,ee,oe,!0):(De&8&&d(B,""),be&16&&te(ne,B,K,ee,oe,me,xe,ve))},bt=(V,P,B,K,ee,oe,me,xe,ve)=>{V=V||Eo,P=P||Eo;const Se=V.length,De=P.length,ne=Math.min(Se,De);let ue;for(ue=0;ue<ne;ue++){const be=P[ue]=ve?Es(P[ue]):ji(P[ue]);L(V[ue],be,B,null,ee,oe,me,xe,ve)}Se>De?qt(V,ee,oe,!0,!1,ne):te(P,B,K,ee,oe,me,xe,ve,ne)},Qt=(V,P,B,K,ee,oe,me,xe,ve)=>{let Se=0;const De=P.length;let ne=V.length-1,ue=De-1;for(;Se<=ne&&Se<=ue;){const be=V[Se],Be=P[Se]=ve?Es(P[Se]):ji(P[Se]);if(nr(be,Be))L(be,Be,B,null,ee,oe,me,xe,ve);else break;Se++}for(;Se<=ne&&Se<=ue;){const be=V[ne],Be=P[ue]=ve?Es(P[ue]):ji(P[ue]);if(nr(be,Be))L(be,Be,B,null,ee,oe,me,xe,ve);else break;ne--,ue--}if(Se>ne){if(Se<=ue){const be=ue+1,Be=be<De?P[be].el:K;for(;Se<=ue;)L(null,P[Se]=ve?Es(P[Se]):ji(P[Se]),B,Be,ee,oe,me,xe,ve),Se++}}else if(Se>ue)for(;Se<=ne;)xt(V[Se],ee,oe,!0),Se++;else{const be=Se,Be=Se,ut=new Map;for(Se=Be;Se<=ue;Se++){const en=P[Se]=ve?Es(P[Se]):ji(P[Se]);en.key!=null&&ut.set(en.key,Se)}let st,yt=0;const hn=ue-Be+1;let _i=!1,ft=0;const Cn=new Array(hn);for(Se=0;Se<hn;Se++)Cn[Se]=0;for(Se=be;Se<=ne;Se++){const en=V[Se];if(yt>=hn){xt(en,ee,oe,!0);continue}let ti;if(en.key!=null)ti=ut.get(en.key);else for(st=Be;st<=ue;st++)if(Cn[st-Be]===0&&nr(en,P[st])){ti=st;break}ti===void 0?xt(en,ee,oe,!0):(Cn[ti-Be]=Se+1,ti>=ft?ft=ti:_i=!0,L(en,P[ti],B,null,ee,oe,me,xe,ve),yt++)}const $n=_i?sA(Cn):Eo;for(st=$n.length-1,Se=hn-1;Se>=0;Se--){const en=Be+Se,ti=P[en],Mr=en+1<De?P[en+1].el:K;Cn[Se]===0?L(null,ti,B,Mr,ee,oe,me,xe,ve):_i&&(st<0||Se!==$n[st]?Ht(ti,B,Mr,2):st--)}}},Ht=(V,P,B,K,ee=null)=>{const{el:oe,type:me,transition:xe,children:ve,shapeFlag:Se}=V;if(Se&6){Ht(V.component.subTree,P,B,K);return}if(Se&128){V.suspense.move(P,B,K);return}if(Se&64){me.move(V,P,B,Ae);return}if(me===Rn){i(oe,P,B);for(let ne=0;ne<ve.length;ne++)Ht(ve[ne],P,B,K);i(V.anchor,P,B);return}if(me===Jc){M(V,P,B);return}if(K!==2&&Se&1&&xe)if(K===0)xe.beforeEnter(oe),i(oe,P,B),An(()=>xe.enter(oe),ee);else{const{leave:ne,delayLeave:ue,afterLeave:be}=xe,Be=()=>i(oe,P,B),ut=()=>{ne(oe,()=>{Be(),be&&be()})};ue?ue(oe,Be,ut):ut()}else i(oe,P,B)},xt=(V,P,B,K=!1,ee=!1)=>{const{type:oe,props:me,ref:xe,children:ve,dynamicChildren:Se,shapeFlag:De,patchFlag:ne,dirs:ue}=V;if(xe!=null&&hd(xe,null,B,V,!0),De&256){P.ctx.deactivate(V);return}const be=De&1&&ue,Be=!Aa(V);let ut;if(Be&&(ut=me&&me.onVnodeBeforeUnmount)&&ui(ut,P,V),De&6)yi(V.component,B,K);else{if(De&128){V.suspense.unmount(B,K);return}be&&yr(V,null,P,"beforeUnmount"),De&64?V.type.remove(V,P,B,ee,Ae,K):Se&&(oe!==Rn||ne>0&&ne&64)?qt(Se,P,B,!1,!0):(oe===Rn&&ne&384||!ee&&De&16)&&qt(ve,P,B),K&&fn(V)}(Be&&(ut=me&&me.onVnodeUnmounted)||be)&&An(()=>{ut&&ui(ut,P,V),be&&yr(V,null,P,"unmounted")},B)},fn=V=>{const{type:P,el:B,anchor:K,transition:ee}=V;if(P===Rn){In(B,K);return}if(P===Jc){I(V);return}const oe=()=>{r(B),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(V.shapeFlag&1&&ee&&!ee.persisted){const{leave:me,delayLeave:xe}=ee,ve=()=>me(B,oe);xe?xe(V.el,oe,ve):ve()}else oe()},In=(V,P)=>{let B;for(;V!==P;)B=v(V),r(V),V=B;r(P)},yi=(V,P,B)=>{const{bum:K,scope:ee,update:oe,subTree:me,um:xe}=V;K&&So(K),ee.stop(),oe&&(oe.active=!1,xt(me,V,P,B)),xe&&An(xe,P),An(()=>{V.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},qt=(V,P,B,K=!1,ee=!1,oe=0)=>{for(let me=oe;me<V.length;me++)xt(V[me],P,B,K,ee)},_e=V=>V.shapeFlag&6?_e(V.component.subTree):V.shapeFlag&128?V.suspense.next():v(V.anchor||V.el),Ie=(V,P,B)=>{V==null?P._vnode&&xt(P._vnode,null,null,!0):L(P._vnode||null,V,P,null,null,null,B),iy(),ld(),P._vnode=V},Ae={p:L,um:xt,m:Ht,r:fn,mt:de,mc:te,pc:Ve,pbc:Te,n:_e,o:t};let Pe,rt;return e&&([Pe,rt]=e(Ae)),{render:Ie,hydrate:Pe,createApp:Yw(Ie,Pe)}}function la({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function HT(t,e,n=!1){const i=t.children,r=e.children;if(Ke(i)&&Ke(r))for(let s=0;s<i.length;s++){const a=i[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=Es(r[s]),o.el=a.el),n||HT(a,o)),o.type===Ra&&(o.el=a.el)}}function sA(t){const e=t.slice(),n=[0];let i,r,s,a,o;const u=t.length;for(i=0;i<u;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<c?s=o+1:a=o;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const aA=t=>t.__isTeleport,Rn=Symbol.for("v-fgt"),Ra=Symbol.for("v-txt"),Zn=Symbol.for("v-cmt"),Jc=Symbol.for("v-stc"),il=[];let $i=null;function tr(t=!1){il.push($i=t?null:[])}function qT(){il.pop(),$i=il[il.length-1]||null}let No=1;function yy(t){No+=t}function VT(t){return t.dynamicChildren=No>0?$i||Eo:null,qT(),No>0&&$i&&$i.push(t),t}function oA(t,e,n,i,r,s){return VT(sf(t,e,n,i,r,s,!0))}function Tr(t,e,n,i,r){return VT(Ut(t,e,n,i,r,!0))}function Mo(t){return t?t.__v_isVNode===!0:!1}function nr(t,e){return t.type===e.type&&t.key===e.key}const rf="__vInternal",WT=({key:t})=>t??null,Zc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Zt(t)||Yt(t)||Je(t)?{i:En,r:t,k:e,f:!!n}:t:null);function sf(t,e=null,n=null,i=0,r=null,s=t===Rn?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&WT(e),ref:e&&Zc(e),scopeId:tf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:En};return o?(cm(u,n),s&128&&t.normalize(u)):n&&(u.shapeFlag|=Zt(n)?8:16),No>0&&!a&&$i&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&$i.push(u),u}const Ut=uA;function uA(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===LT)&&(t=Zn),Mo(t)){const o=Zr(t,e,!0);return n&&cm(o,n),No>0&&!s&&$i&&(o.shapeFlag&6?$i[$i.indexOf(t)]=o:$i.push(o)),o.patchFlag|=-2,o}if(mA(t)&&(t=t.__vccOpts),e){e=zT(e);let{class:o,style:u}=e;o&&!Zt(o)&&(e.class=Ca(o)),jt(u)&&(sT(u)&&!Ke(u)&&(u=dn({},u)),e.style=Qd(u))}const a=Zt(t)?1:_T(t)?128:aA(t)?64:jt(t)?4:Je(t)?2:0;return sf(t,e,n,i,r,a,s,!0)}function zT(t){return t?sT(t)||rf in t?dn({},t):t:null}function Zr(t,e,n=!1){const{props:i,ref:r,patchFlag:s,children:a}=t,o=e?KT(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&WT(o),ref:e&&e.ref?n&&r?Ke(r)?r.concat(Zc(e)):[r,Zc(e)]:Zc(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zr(t.ssContent),ssFallback:t.ssFallback&&Zr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function GT(t=" ",e=0){return Ut(Ra,null,t,e)}function uU(t="",e=!1){return e?(tr(),Tr(Zn,null,t)):Ut(Zn,null,t)}function ji(t){return t==null||typeof t=="boolean"?Ut(Zn):Ke(t)?Ut(Rn,null,t.slice()):typeof t=="object"?Es(t):Ut(Ra,null,String(t))}function Es(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Zr(t)}function cm(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ke(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),cm(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(rf in e)?e._ctx=En:r===3&&En&&(En.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Je(e)?(e={default:e,_ctx:En},n=32):(e=String(e),i&64?(n=16,e=[GT(e)]):n=8);t.children=e,t.shapeFlag|=n}function KT(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Ca([e.class,i.class]));else if(r==="style")e.style=Qd([e.style,i.style]);else if(Fl(r)){const s=e[r],a=i[r];a&&s!==a&&!(Ke(s)&&s.includes(a))&&(e[r]=s?[].concat(s,a):a)}else r!==""&&(e[r]=i[r])}return e}function ui(t,e,n,i=null){Hi(t,e,7,[n,i])}const lA=RT();let cA=0;function dA(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||lA,s={uid:cA++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Gb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:BT(i,r),emitsOptions:yT(i,r),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:i.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=yw.bind(null,s),t.ce&&t.ce(s),s}let cn=null;const ss=()=>cn||En;let dm,io,_y="__VUE_INSTANCE_SETTERS__";(io=cp()[_y])||(io=cp()[_y]=[]),io.push(t=>cn=t),dm=t=>{io.length>1?io.forEach(e=>e(t)):io[0](t)};const Ls=t=>{dm(t),t.scope.on()},Ds=()=>{cn&&cn.scope.off(),dm(null)};function XT(t){return t.vnode.shapeFlag&4}let Bo=!1;function fA(t,e=!1){Bo=e;const{props:n,children:i}=t.vnode,r=XT(t);Qw(t,n,r,e),eA(t,i);const s=r?hA(t,e):void 0;return Bo=!1,s}function hA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Zg(new Proxy(t.ctx,qw));const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?gA(t):null;Ls(t),nu();const s=As(i,t,0,[t.props,r]);if(iu(),Ds(),qg(s)){if(s.then(Ds,Ds),e)return s.then(a=>{bp(t,a,e)}).catch(a=>{ru(a,t,0)});t.asyncDep=s}else bp(t,s,e)}else YT(t,e)}function bp(t,e,n){Je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:jt(e)&&(t.setupState=lT(e)),YT(t,n)}let vy;function YT(t,e,n){const i=t.type;if(!t.render){if(!e&&vy&&!i.render){const r=i.template||um(t).template;if(r){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:u}=i,c=dn(dn({isCustomElement:s,delimiters:o},a),u);i.render=vy(r,c)}}t.render=i.render||rr}Ls(t),nu(),Vw(t),iu(),Ds()}function pA(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return pi(t,"get","$attrs"),e[n]}}))}function gA(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return pA(t)},slots:t.slots,emit:t.emit,expose:e}}function af(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(lT(Zg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in nl)return nl[n](t)},has(e,n){return n in e||n in nl}}))}function Tp(t,e=!0){return Je(t)?t.displayName||t.name:t.name||e&&t.__name}function mA(t){return Je(t)&&"__vccOpts"in t}const dt=(t,e)=>fw(t,e,Bo);function Ln(t,e,n){const i=arguments.length;return i===2?jt(e)&&!Ke(e)?Mo(e)?Ut(t,null,[e]):Ut(t,e):Ut(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Mo(n)&&(n=[n]),Ut(t,e,n))}const yA=Symbol.for("v-scx"),_A=()=>kn(yA),QT="3.3.4",vA="http://www.w3.org/2000/svg",va=typeof document<"u"?document:null,by=va&&va.createElement("template"),bA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?va.createElementNS(vA,t):va.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>va.createTextNode(t),createComment:t=>va.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>va.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const a=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{by.innerHTML=i?`<svg>${t}</svg>`:t;const o=by.content;if(i){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function TA(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function EA(t,e,n){const i=t.style,r=Zt(n);if(n&&!r){if(e&&!Zt(e))for(const s in e)n[s]==null&&Ep(i,s,"");for(const s in n)Ep(i,s,n[s])}else{const s=i.display;r?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=s)}}const Ty=/\s*!important$/;function Ep(t,e,n){if(Ke(n))n.forEach(i=>Ep(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=xA(t,e);Ty.test(n)?t.setProperty(tu(i),n.replace(Ty,""),"important"):t[i]=n}}const Ey=["Webkit","Moz","ms"],kh={};function xA(t,e){const n=kh[e];if(n)return n;let i=kr(e);if(i!=="filter"&&i in t)return kh[e]=i;i=Yd(i);for(let r=0;r<Ey.length;r++){const s=Ey[r]+i;if(s in t)return kh[e]=s}return e}const xy="http://www.w3.org/1999/xlink";function SA(t,e,n,i,r){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(xy,e.slice(6,e.length)):t.setAttributeNS(xy,e,n);else{const s=IC(e);n==null||s&&!Wb(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function CA(t,e,n,i,r,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,r,s),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=n;const c=o==="OPTION"?t.getAttribute("value"):t.value,d=n??"";c!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Wb(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function ho(t,e,n,i){t.addEventListener(e,n,i)}function wA(t,e,n,i){t.removeEventListener(e,n,i)}function AA(t,e,n,i,r=null){const s=t._vei||(t._vei={}),a=s[e];if(i&&a)a.value=i;else{const[o,u]=DA(e);if(i){const c=s[e]=IA(i,r);ho(t,o,c,u)}else a&&(wA(t,o,a,u),s[e]=void 0)}}const Sy=/(?:Once|Passive|Capture)$/;function DA(t){let e;if(Sy.test(t)){e={};let i;for(;i=t.match(Sy);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):tu(t.slice(2)),e]}let Lh=0;const kA=Promise.resolve(),LA=()=>Lh||(kA.then(()=>Lh=0),Lh=Date.now());function IA(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Hi(PA(i,n.value),e,5,[i])};return n.value=t,n.attached=LA(),n}function PA(t,e){if(Ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const Cy=/^on[a-z]/,OA=(t,e,n,i,r=!1,s,a,o,u)=>{e==="class"?TA(t,i,r):e==="style"?EA(t,n,i):Fl(e)?jg(e)||AA(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):RA(t,e,i,r))?CA(t,e,i,s,a,o,u):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),SA(t,e,i,r))};function RA(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Cy.test(e)&&Je(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Cy.test(e)&&Zt(n)?!1:e in t}const ms="transition",Nu="animation",of=(t,{slots:e})=>Ln(Ow,NA(t),e);of.displayName="Transition";const JT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};of.props=dn({},ET,JT);const ca=(t,e=[])=>{Ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},wy=t=>t?Ke(t)?t.some(e=>e.length>1):t.length>1:!1;function NA(t){const e={};for(const se in t)se in JT||(e[se]=t[se]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:d=o,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=t,x=MA(r),L=x&&x[0],O=x&&x[1],{onBeforeEnter:S,onEnter:A,onEnterCancelled:M,onLeave:I,onLeaveCancelled:N,onBeforeAppear:F=S,onAppear:m=A,onAppearCancelled:te=M}=e,ie=(se,J,de)=>{da(se,J?d:o),da(se,J?c:a),de&&de()},Te=(se,J)=>{se._isLeaving=!1,da(se,p),da(se,C),da(se,v),J&&J()},Y=se=>(J,de)=>{const $e=se?m:A,Le=()=>ie(J,se,de);ca($e,[J,Le]),Ay(()=>{da(J,se?u:s),ys(J,se?d:o),wy($e)||Dy(J,i,L,Le)})};return dn(e,{onBeforeEnter(se){ca(S,[se]),ys(se,s),ys(se,a)},onBeforeAppear(se){ca(F,[se]),ys(se,u),ys(se,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(se,J){se._isLeaving=!0;const de=()=>Te(se,J);ys(se,p),UA(),ys(se,v),Ay(()=>{se._isLeaving&&(da(se,p),ys(se,C),wy(I)||Dy(se,i,O,de))}),ca(I,[se,de])},onEnterCancelled(se){ie(se,!1),ca(M,[se])},onAppearCancelled(se){ie(se,!0),ca(te,[se])},onLeaveCancelled(se){Te(se),ca(N,[se])}})}function MA(t){if(t==null)return null;if(jt(t))return[Ih(t.enter),Ih(t.leave)];{const e=Ih(t);return[e,e]}}function Ih(t){return Vb(t)}function ys(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function da(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Ay(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let BA=0;function Dy(t,e,n,i){const r=t._endId=++BA,s=()=>{r===t._endId&&i()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:u}=FA(t,e);if(!a)return i();const c=a+"end";let d=0;const p=()=>{t.removeEventListener(c,v),s()},v=C=>{C.target===t&&++d>=u&&p()};setTimeout(()=>{d<u&&p()},o+1),t.addEventListener(c,v)}function FA(t,e){const n=window.getComputedStyle(t),i=x=>(n[x]||"").split(", "),r=i(`${ms}Delay`),s=i(`${ms}Duration`),a=ky(r,s),o=i(`${Nu}Delay`),u=i(`${Nu}Duration`),c=ky(o,u);let d=null,p=0,v=0;e===ms?a>0&&(d=ms,p=a,v=s.length):e===Nu?c>0&&(d=Nu,p=c,v=u.length):(p=Math.max(a,c),d=p>0?a>c?ms:Nu:null,v=d?d===ms?s.length:u.length:0);const C=d===ms&&/\b(transform|all)(,|$)/.test(i(`${ms}Property`).toString());return{type:d,timeout:p,propCount:v,hasTransform:C}}function ky(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Ly(n)+Ly(t[i])))}function Ly(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function UA(){return document.body.offsetHeight}const Iy=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ke(e)?n=>So(e,n):e};function jA(t){t.target.composing=!0}function Py(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const lU={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t._assign=Iy(r);const s=i||r.props&&r.props.type==="number";ho(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=lp(o)),t._assign(o)}),n&&ho(t,"change",()=>{t.value=t.value.trim()}),e||(ho(t,"compositionstart",jA),ho(t,"compositionend",Py),ho(t,"change",Py))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},s){if(t._assign=Iy(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(r||t.type==="number")&&lp(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},ZT=dn({patchProp:OA},bA);let rl,Oy=!1;function $A(){return rl||(rl=iA(ZT))}function HA(){return rl=Oy?rl:rA(ZT),Oy=!0,rl}const qA=(...t)=>{const e=$A().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=e1(i);if(!r)return;const s=e._component;!Je(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e},VA=(...t)=>{const e=HA().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=e1(i);if(r)return n(r,!0,r instanceof SVGElement)},e};function e1(t){return Zt(t)?document.querySelector(t):t}const WA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,zA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,GA=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function KA(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){XA(t);return}return e}function XA(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function YA(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.at(-1)==='"'&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!GA.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(WA.test(t)||zA.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,KA)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}const QA=/#/g,JA=/&/g,ZA=/=/g,fm=/\+/g,eD=/%5e/gi,tD=/%60/gi,nD=/%7c/gi,iD=/%20/gi;function rD(t){return encodeURI(""+t).replace(nD,"|")}function xp(t){return rD(typeof t=="string"?t:JSON.stringify(t)).replace(fm,"%2B").replace(iD,"+").replace(QA,"%23").replace(JA,"%26").replace(tD,"`").replace(eD,"^")}function Ph(t){return xp(t).replace(ZA,"%3D")}function t1(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function sD(t){return t1(t.replace(fm," "))}function aD(t){return t1(t.replace(fm," "))}function oD(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const i=n.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const r=sD(i[1]);if(r==="__proto__"||r==="constructor")continue;const s=aD(i[2]||"");e[r]===void 0?e[r]=s:Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]}return e}function uD(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Ph(t)}=${xp(n)}`).join("&"):`${Ph(t)}=${xp(e)}`:Ph(t)}function lD(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>uD(e,t[e])).filter(Boolean).join("&")}const cD=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,dD=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,fD=/^([/\\]\s*){2,}[^/\\]/;function n1(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?cD.test(t):dD.test(t)||(e.acceptRelative?fD.test(t):!1)}const hD=/\/$|\/\?|\/#/;function Sp(t="",e){return e?hD.test(t):t.endsWith("/")}function pD(t="",e){if(!e)return(Sp(t)?t.slice(0,-1):t)||"/";if(!Sp(t,!0))return t||"/";let n=t,i="";const r=t.indexOf("#");r>=0&&(n=t.slice(0,r),i=t.slice(r));const[s,...a]=n.split("?");return(s.slice(0,-1)||"/")+(a.length>0?`?${a.join("?")}`:"")+i}function gD(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Sp(t,!0))return t||"/";let n=t,i="";const r=t.indexOf("#");if(r>=0&&(n=t.slice(0,r),i=t.slice(r),!n))return i;const[s,...a]=n.split("?");return s+"/"+(a.length>0?`?${a.join("?")}`:"")+i}function mD(t,e){if(_D(e)||n1(t))return t;const n=pD(e);return t.startsWith(n)?t:TD(n,t)}function yD(t,e){const n=i1(t),i={...oD(n.search),...e};return n.search=lD(i),ED(n)}function _D(t){return!t||t==="/"}function vD(t){return t&&t!=="/"}const bD=/^\.?\//;function TD(t,...e){let n=t||"";for(const i of e.filter(r=>vD(r)))if(n){const r=i.replace(bD,"");n=gD(n)+r}else n=i;return n}function i1(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,v=""]=n;return{protocol:p.toLowerCase(),pathname:v,href:p+v,auth:"",host:"",search:"",hash:""}}if(!n1(t,{acceptRelative:!0}))return e?i1(e+t):Ry(t);const[,i="",r,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:u,search:c,hash:d}=Ry(o.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:a,pathname:u,search:c,hash:d}}function Ry(t=""){const[e="",n="",i=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:i}}function ED(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",i=t.hash||"",r=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol?t.protocol+"//":"")+r+s+e+n+i}class xD extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function SD(t){var u,c,d,p,v;const e=((u=t.error)==null?void 0:u.message)||((c=t.error)==null?void 0:c.toString())||"",n=((d=t.request)==null?void 0:d.method)||((p=t.options)==null?void 0:p.method)||"GET",i=((v=t.request)==null?void 0:v.url)||String(t.request)||"/",r=`[${n}] ${JSON.stringify(i)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${r}: ${s}${e?` ${e}`:""}`,o=new xD(a,t.error?{cause:t.error}:void 0);for(const C of["request","options","response"])Object.defineProperty(o,C,{get(){return t[C]}});for(const[C,x]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,C,{get(){return t.response&&t.response[x]}});return o}const CD=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ny(t="GET"){return CD.has(t.toUpperCase())}function wD(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const AD=new Set(["image/svg","application/xml","application/xhtml","application/html"]),DD=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function kD(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return DD.test(e)?"json":AD.has(e)||e.startsWith("text/")?"text":"blob"}function LD(t,e,n=globalThis.Headers){const i={...e,...t};if(e!=null&&e.params&&(t!=null&&t.params)&&(i.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&(t!=null&&t.query)&&(i.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&(t!=null&&t.headers)){i.headers=new n((e==null?void 0:e.headers)||{});for(const[r,s]of new n((t==null?void 0:t.headers)||{}))i.headers.set(r,s)}return i}const ID=new Set([408,409,425,429,500,502,503,504]),PD=new Set([101,204,205,304]);function r1(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:i=globalThis.AbortController}=t;async function r(o){const u=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!u){let d;typeof o.options.retry=="number"?d=o.options.retry:d=Ny(o.options.method)?0:1;const p=o.response&&o.response.status||500;if(d>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(p):ID.has(p))){const v=o.options.retryDelay||0;return v>0&&await new Promise(C=>setTimeout(C,v)),s(o.request,{...o.options,retry:d-1,timeout:o.options.timeout})}}const c=SD(o);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(u,c={}){var v;const d={request:u,options:LD(c,t.defaults,n),response:void 0,error:void 0};if(d.options.method=(v=d.options.method)==null?void 0:v.toUpperCase(),d.options.onRequest&&await d.options.onRequest(d),typeof d.request=="string"&&(d.options.baseURL&&(d.request=mD(d.request,d.options.baseURL)),(d.options.query||d.options.params)&&(d.request=yD(d.request,{...d.options.params,...d.options.query}))),d.options.body&&Ny(d.options.method)&&(wD(d.options.body)?(d.options.body=typeof d.options.body=="string"?d.options.body:JSON.stringify(d.options.body),d.options.headers=new n(d.options.headers||{}),d.options.headers.has("content-type")||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")):("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half"))),!d.options.signal&&d.options.timeout){const C=new i;setTimeout(()=>C.abort(),d.options.timeout),d.options.signal=C.signal}try{d.response=await e(d.request,d.options)}catch(C){return d.error=C,d.options.onRequestError&&await d.options.onRequestError(d),await r(d)}if(d.response.body&&!PD.has(d.response.status)&&d.options.method!=="HEAD"){const C=(d.options.parseResponse?"json":d.options.responseType)||kD(d.response.headers.get("content-type")||"");switch(C){case"json":{const x=await d.response.text(),L=d.options.parseResponse||YA;d.response._data=L(x);break}case"stream":{d.response._data=d.response.body;break}default:d.response._data=await d.response[C]()}}return d.options.onResponse&&await d.options.onResponse(d),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await d.options.onResponseError(d),await r(d)):d.response},a=async function(u,c){return(await s(u,c))._data};return a.raw=s,a.native=(...o)=>e(...o),a.create=(o={})=>r1({...t,defaults:{...t.defaults,...o}}),a}const hm=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),OD=hm.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),RD=hm.Headers,ND=hm.AbortController,MD=r1({fetch:OD,Headers:RD,AbortController:ND}),BD=MD,s1=/#/g,a1=/&/g,FD=/\//g,UD=/=/g,jD=/\?/g,uf=/\+/g,$D=/%5e/gi,HD=/%60/gi,qD=/%7c/gi,VD=/%20/gi,WD=/%252f/gi;function o1(t){return encodeURI(""+t).replace(qD,"|")}function Cp(t){return o1(typeof t=="string"?t:JSON.stringify(t)).replace(uf,"%2B").replace(VD,"+").replace(s1,"%23").replace(a1,"%26").replace(HD,"`").replace($D,"^")}function Oh(t){return Cp(t).replace(UD,"%3D")}function u1(t){return o1(t).replace(s1,"%23").replace(jD,"%3F").replace(WD,"%2F").replace(a1,"%26").replace(uf,"%2B")}function My(t){return u1(t).replace(FD,"%2F")}function pd(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function zD(t){return pd(t.replace(uf," "))}function GD(t){return pd(t.replace(uf," "))}function KD(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const i=n.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const r=zD(i[1]);if(r==="__proto__"||r==="constructor")continue;const s=GD(i[2]||"");e[r]===void 0?e[r]=s:Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]}return e}function XD(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Oh(t)}=${Cp(n)}`).join("&"):`${Oh(t)}=${Cp(e)}`:Oh(t)}function YD(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>XD(e,t[e])).filter(Boolean).join("&")}const QD=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,l1=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,JD=/^([/\\]\s*){2,}[^/\\]/;function Is(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?QD.test(t):l1.test(t)||(e.acceptRelative?JD.test(t):!1)}const ZD=/^[\s\0]*(blob|data|javascript|vbscript):$/i;function ek(t){return!!t&&ZD.test(t)}const tk=/\/$|\/\?/;function wp(t="",e=!1){return e?tk.test(t):t.endsWith("/")}function nk(t="",e=!1){if(!e)return(wp(t)?t.slice(0,-1):t)||"/";if(!wp(t,!0))return t||"/";const[n,...i]=t.split("?");return(n.slice(0,-1)||"/")+(i.length>0?`?${i.join("?")}`:"")}function Ap(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(wp(t,!0))return t||"/";const[n,...i]=t.split("?");return n+"/"+(i.length>0?`?${i.join("?")}`:"")}function ik(t=""){return t.startsWith("/")}function Dp(t=""){return ik(t)?t:"/"+t}function By(t,e){if(sk(e))return t;const n=nk(e);if(!t.startsWith(n))return t;const i=t.slice(n.length);return i[0]==="/"?i:"/"+i}function rk(t,e){const n=ql(t),i={...KD(n.search),...e};return n.search=YD(i),ck(n)}function sk(t){return!t||t==="/"}function ak(t){return t&&t!=="/"}const ok=/^\.?\//;function Ps(t,...e){let n=t||"";for(const i of e.filter(r=>ak(r)))if(n){const r=i.replace(ok,"");n=Ap(n)+r}else n=i;return n}function uk(t){return lk(t,"https://")}function lk(t,e){const n=t.match(l1);return n?e+t.slice(n[0].length):e+t}function kp(t,e,n={}){return n.trailingSlash||(t=Ap(t),e=Ap(e)),n.leadingSlash||(t=Dp(t),e=Dp(e)),n.encoding||(t=pd(t),e=pd(e)),t===e}function ql(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/);if(n){const[,p,v=""]=n;return{protocol:p,pathname:v,href:p+v,auth:"",host:"",search:"",hash:""}}if(!Is(t,{acceptRelative:!0}))return e?ql(e+t):Fy(t);const[,i="",r,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:u,search:c,hash:d}=Fy(o.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i,auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:a,pathname:u,search:c,hash:d}}function Fy(t=""){const[e="",n="",i=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:i}}function ck(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",i=t.hash||"",r=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol?t.protocol+"//":"")+r+s+e+n+i}const dk=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},gd=dk().app,fk=()=>gd.baseURL,hk=()=>gd.buildAssetsDir,pk=(...t)=>Ps(c1(),hk(),...t),c1=(...t)=>{const e=gd.cdnURL||gd.baseURL;return t.length?Ps(e,...t):e};globalThis.__buildAssetsURL=pk,globalThis.__publicAssetsURL=c1;function Lp(t,e={},n){for(const i in t){const r=t[i],s=n?`${n}:${i}`:i;typeof r=="object"&&r!==null?Lp(r,e,s):typeof r=="function"&&(e[s]=r)}return e}const gk={run:t=>t()},mk=()=>gk,d1=typeof console.createTask<"u"?console.createTask:mk;function yk(t,e){const n=e.shift(),i=d1(n);return t.reduce((r,s)=>r.then(()=>i.run(()=>s(...e))),Promise.resolve())}function _k(t,e){const n=e.shift(),i=d1(n);return Promise.all(t.map(r=>i.run(()=>r(...e))))}function Rh(t,e){for(const n of[...t])n(e)}class vk{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,i={}){if(!e||typeof n!="function")return()=>{};const r=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!i.allowDeprecated){let a=s.message;a||(a=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let i,r=(...s)=>(typeof i=="function"&&i(),i=void 0,r=void 0,n(...s));return i=this.hook(e,r),i}removeHook(e,n){if(this._hooks[e]){const i=this._hooks[e].indexOf(n);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const i=this._hooks[e]||[];delete this._hooks[e];for(const r of i)this.hook(e,r)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Lp(e),i=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of i.splice(0,i.length))r()}}removeHooks(e){const n=Lp(e);for(const i in n)this.removeHook(i,n[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(yk,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(_k,e,...n)}callHookWith(e,n,...i){const r=this._before||this._after?{name:n,args:i,context:{}}:void 0;this._before&&Rh(this._before,r);const s=e(n in this._hooks?[...this._hooks[n]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&r&&Rh(this._after,r)}):(this._after&&r&&Rh(this._after,r),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function f1(){return new vk}function bk(t={}){let e,n=!1;const i=a=>{if(e&&e!==a)throw new Error("Context conflict")};let r;if(t.asyncContext){const a=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;a?r=new a:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(r&&e===void 0){const a=r.getStore();if(a!==void 0)return a}return e};return{use:()=>{const a=s();if(a===void 0)throw new Error("Context is not available");return a},tryUse:()=>s(),set:(a,o)=>{o||i(a),e=a,n=!0},unset:()=>{e=void 0,n=!1},call:(a,o)=>{i(a),e=a;try{return r?r.run(a,o):o()}finally{n||(e=void 0)}},async callAsync(a,o){e=a;const u=()=>{e=a},c=()=>e===a?u:void 0;Ip.add(c);try{const d=r?r.run(a,o):o();return n||(e=void 0),await d}finally{Ip.delete(c)}}}}function Tk(t={}){const e={};return{get(n,i={}){return e[n]||(e[n]=bk({...t,...i})),e[n],e[n]}}}const md=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Uy="__unctx__",Ek=md[Uy]||(md[Uy]=Tk()),xk=(t,e={})=>Ek.get(t,e),jy="__unctx_async_handlers__",Ip=md[jy]||(md[jy]=new Set);function ka(t){const e=[];for(const r of Ip){const s=r();s&&e.push(s)}const n=()=>{for(const r of e)r()};let i=t();return i&&typeof i=="object"&&"catch"in i&&(i=i.catch(r=>{throw n(),r})),[i,n]}const h1=xk("nuxt-app",{asyncContext:!1}),Sk="__nuxt_plugin";function Ck(t){let e=0;const n={provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.7.4"},get vue(){return n.vueApp.version}},payload:Li({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:r=>Dk(n,r),isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let r=!1;return()=>{if(!r&&(r=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...t};n.hooks=f1(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(r,s)=>{const a="$"+r;Fc(n,a,s),Fc(n.vueApp.config.globalProperties,a,s)},Fc(n.vueApp,"$nuxt",n),Fc(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener("nuxt.preloadError",s=>{n.callHook("app:chunkError",{error:s.payload})}),window.useNuxtApp=window.useNuxtApp||$t;const r=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",r)}const i=Li(n.payload.config);return n.provide("config",i),n}async function wk(t,e){if(e.hooks&&t.hooks.addHooks(e.hooks),typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const i in n)t.provide(i,n[i])}}async function Ak(t,e){const n=[],i=[];for(const r of e){const s=wk(t,r);r.parallel?n.push(s.catch(a=>i.push(a))):await s}if(await Promise.all(n),i.length)throw i[0]}/*! @__NO_SIDE_EFFECTS__ */function Un(t){return typeof t=="function"?t:(delete t.name,Object.assign(t.setup||(()=>{}),t,{[Sk]:!0}))}function Dk(t,e,n){const i=()=>n?e(...n):e();return h1.set(t),t.vueApp.runWithContext(i)}/*! @__NO_SIDE_EFFECTS__ */function $t(){var e;let t;if(NT()&&(t=(e=ss())==null?void 0:e.appContext.app.$nuxt),t=t||h1.tryUse(),!t)throw new Error("[nuxt] instance unavailable");return t}/*! @__NO_SIDE_EFFECTS__ */function Vl(){return $t().$config}function Fc(t,e,n){Object.defineProperty(t,e,{get:()=>n})}const kk=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Lk=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Ik=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function Pk(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Ok(t);return}return e}function Ok(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Pp(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t[t.length-1]==='"')return n.slice(1,-1);if(n.length<=9){const i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!Ik.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(kk.test(t)||Lk.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Pk)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}const Rk="modulepreload",Nk=function(t,e){return t[0]==="."?new URL(t,e).href:t},$y={},Mk=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Nk(s,i),s in $y)return;$y[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!i)for(let d=r.length-1;d>=0;d--){const p=r[d];if(p.href===s&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Rk,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},li=(...t)=>Mk(...t).catch(e=>{const n=new Event("nuxt.preloadError");throw n.payload=e,window.dispatchEvent(n),e}),Bk=-1,Fk=-2,Uk=-3,jk=-4,$k=-5,Hk=-6;function qk(t,e){return Vk(JSON.parse(t),e)}function Vk(t,e){if(typeof t=="number")return r(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,i=Array(n.length);function r(s,a=!1){if(s===Bk)return;if(s===Uk)return NaN;if(s===jk)return 1/0;if(s===$k)return-1/0;if(s===Hk)return-0;if(a)throw new Error("Invalid input");if(s in i)return i[s];const o=n[s];if(!o||typeof o!="object")i[s]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const u=o[0],c=e==null?void 0:e[u];if(c)return i[s]=c(r(o[1]));switch(u){case"Date":i[s]=new Date(o[1]);break;case"Set":const d=new Set;i[s]=d;for(let C=1;C<o.length;C+=1)d.add(r(o[C]));break;case"Map":const p=new Map;i[s]=p;for(let C=1;C<o.length;C+=2)p.set(r(o[C]),r(o[C+1]));break;case"RegExp":i[s]=new RegExp(o[1],o[2]);break;case"Object":i[s]=Object(o[1]);break;case"BigInt":i[s]=BigInt(o[1]);break;case"null":const v=Object.create(null);i[s]=v;for(let C=1;C<o.length;C+=2)v[o[C]]=r(o[C+1]);break;default:throw new Error(`Unknown type ${u}`)}}else{const u=new Array(o.length);i[s]=u;for(let c=0;c<o.length;c+=1){const d=o[c];d!==Fk&&(u[c]=r(d))}}else{const u={};i[s]=u;for(const c in o){const d=o[c];u[c]=r(d)}}return i[s]}return r(0)}function Wk(t){return Array.isArray(t)?t:[t]}const zk=["title","titleTemplate","script","style","noscript"],ed=["base","meta","link","style","script","noscript"],Gk=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],Kk=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],p1=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"],Xk=typeof window<"u";function g1(t){let e=9;for(let n=0;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Hy(t){return t._h||g1(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,n])=>`${e}:${String(n)}`).join(",")}`)}function m1(t,e){const{props:n,tag:i}=t;if(Kk.includes(i))return i;if(i==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const r=["id"];i==="meta"&&r.push("name","property","http-equiv");for(const s of r)if(typeof n[s]<"u"){const a=String(n[s]);return e&&!e(a)?!1:`${i}:${s}:${a}`}return!1}function qy(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function Yk(t,e,n){const i={tag:t,props:await y1(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return p1.forEach(r=>{const s=typeof i.props[r]<"u"?i.props[r]:n[r];typeof s<"u"&&((!["innerHTML","textContent"].includes(r)||zk.includes(i.tag))&&(i[r]=s),delete i.props[r])}),i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.props.children&&(i.innerHTML=i.props.children,delete i.props.children),i.tag==="script"&&(typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),i.innerHTML&&["application/ld+json","application/json"].includes(i.props.type)&&(i.innerHTML=i.innerHTML.replace(/</g,"\\u003C"))),Array.isArray(i.props.content)?i.props.content.map(r=>({...i,props:{...i.props,content:r}})):i}function Qk(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(e=>t[e])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(e=>e.trim()).filter(Boolean).join(" ")}async function y1(t,e){for(const n of Object.keys(t)){if(n==="class"){t[n]=Qk(t[n]);continue}if(t[n]instanceof Promise&&(t[n]=await t[n]),!e&&!p1.includes(n)){const i=String(t[n]),r=n.startsWith("data-");i==="true"||i===""?t[n]=r?"true":!0:t[n]||(r&&i==="false"?t[n]="false":delete t[n])}}return t}const Jk=10;async function Zk(t){const e=[];return Object.entries(t.resolvedInput).filter(([n,i])=>typeof i<"u"&&Gk.includes(n)).forEach(([n,i])=>{const r=Wk(i);e.push(...r.map(s=>Yk(n,s,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((n,i)=>(n._e=t._i,t.mode&&(n._m=t.mode),n._p=(t._i<<Jk)+i,n))}const Vy={base:-10,title:10},Wy={critical:-80,high:-10,low:20};function yd(t){let e=100;const n=t.tagPriority;return typeof n=="number"?n:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in Vy&&(e=Vy[t.tag]),typeof n=="string"&&n in Wy?e+Wy[n]:e)}const eL=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],_s="%separator";function ga(t,e,n){if(typeof t!="string"||!t.includes("%"))return t;function i(a){let o;return["s","pageTitle"].includes(a)?o=e.pageTitle:a.includes(".")?o=a.split(".").reduce((u,c)=>u&&u[c]||void 0,e):o=e[a],typeof o<"u"?(o||"").replace(/"/g,'\\"'):!1}let r=t;try{r=decodeURI(t)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const o=i(a.slice(1));typeof o=="string"&&(t=t.replace(new RegExp(`\\${a}(\\W|$)`,"g"),(u,c)=>`${o}${c}`).trim())}),t.includes(_s)&&(t.endsWith(_s)&&(t=t.slice(0,-_s.length).trim()),t.startsWith(_s)&&(t=t.slice(_s.length).trim()),t=t.replace(new RegExp(`\\${_s}\\s*\\${_s}`,"g"),_s),t=ga(t,{separator:n},n)),t}async function tL(t){const e={tag:t.tagName.toLowerCase(),props:await y1(t.getAttributeNames().reduce((n,i)=>({...n,[i]:t.getAttribute(i)}),{})),innerHTML:t.innerHTML};return e._d=m1(e),e}async function _1(t,e={}){var d;const n=e.document||t.resolvedOptions.document;if(!n)return;const i={shouldRender:t.dirty,tags:[]};if(await t.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const r=(await t.resolveTags()).map(p=>({tag:p,id:ed.includes(p.tag)?Hy(p):p.tag,shouldRender:!0}));let s=t._dom;if(!s){s={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};for(const p of["body","head"]){const v=(d=n==null?void 0:n[p])==null?void 0:d.children;for(const C of[...v].filter(x=>ed.includes(x.tagName.toLowerCase())))s.elMap[C.getAttribute("data-hid")||Hy(await tL(C))]=C}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function a(p,v,C){const x=`${p}:${v}`;s.sideEffects[x]=C,delete s.pendingSideEffects[x]}function o({id:p,$el:v,tag:C}){const x=C.tag.endsWith("Attrs");s.elMap[p]=v,x||(["textContent","innerHTML"].forEach(L=>{C[L]&&C[L]!==v[L]&&(v[L]=C[L])}),a(p,"el",()=>{s.elMap[p].remove(),delete s.elMap[p]})),Object.entries(C.props).forEach(([L,O])=>{const S=`attr:${L}`;if(L==="class")for(const A of(O||"").split(" ").filter(Boolean))x&&a(p,`${S}:${A}`,()=>v.classList.remove(A)),!v.classList.contains(A)&&v.classList.add(A);else v.getAttribute(L)!==O&&v.setAttribute(L,O===!0?"":String(O)),x&&a(p,S,()=>v.removeAttribute(L))})}const u=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const p of r){const{tag:v,shouldRender:C,id:x}=p;if(C){if(v.tag==="title"){n.title=v.textContent;continue}p.$el=p.$el||s.elMap[x],p.$el?o(p):ed.includes(v.tag)&&u.push(p)}}for(const p of u){const v=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),o(p),c[v]=c[v]||n.createDocumentFragment(),c[v].appendChild(p.$el)}for(const p of r)await t.hooks.callHook("dom:renderTag",p,n,a);c.head&&n.head.appendChild(c.head),c.bodyOpen&&n.body.insertBefore(c.bodyOpen,n.body.firstChild),c.bodyClose&&n.body.appendChild(c.bodyClose),Object.values(s.pendingSideEffects).forEach(p=>p()),t._dom=s,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:r})}async function nL(t,e={}){const n=e.delayFn||(i=>setTimeout(i,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(i=>n(async()=>{await _1(t,e),delete t._domUpdatePromise,i()}))}function iL(t){return e=>{var i,r;const n=((r=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return n&&e.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":function(s){nL(s,t)}}}}}const rL=["templateParams","htmlAttrs","bodyAttrs"],sL={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(i=>{t.props[i]&&(t.key=t.props[i],delete t.props[i])});const n=m1(t)||(t.key?`${t.tag}:${t.key}`:!1);n&&(t._d=n)},"tags:resolve":function(t){const e={};t.tags.forEach(i=>{const r=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,s=e[r];if(s){let o=i==null?void 0:i.tagDuplicateStrategy;if(!o&&rL.includes(i.tag)&&(o="merge"),o==="merge"){const u=s.props;["class","style"].forEach(c=>{i.props[c]&&u[c]&&(c==="style"&&!u[c].endsWith(";")&&(u[c]+=";"),i.props[c]=`${u[c]} ${i.props[c]}`)}),e[r].props={...u,...i.props};return}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);return}else if(yd(i)>yd(s))return}const a=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(ed.includes(i.tag)&&a===0){delete e[r];return}e[r]=i});const n=[];Object.values(e).forEach(i=>{const r=i._duped;delete i._duped,n.push(i),r&&n.push(...r)}),t.tags=n,t.tags=t.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},aL={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(n=>["titleTemplate","templateParams","title"].includes(n.tag)&&n._m==="server").forEach(n=>{e[n.tag]=n.tag.startsWith("title")?n.textContent:n.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},zy=["script","link","bodyAttrs"];function Gy(t){const e={},n={};return Object.entries(t.props).forEach(([i,r])=>{i.startsWith("on")&&typeof r=="function"?n[i]=r:e[i]=r}),{props:e,eventHandlers:n}}const oL={hooks:{"ssr:render":function(t){t.tags=t.tags.map(e=>(!zy.includes(e.tag)||!Object.entries(e.props).find(([n,i])=>n.startsWith("on")&&typeof i=="function")||(e.props=Gy(e).props),e))},"tags:resolve":function(t){t.tags=t.tags.map(e=>{if(!zy.includes(e.tag))return e;const{props:n,eventHandlers:i}=Gy(e);return Object.keys(i).length&&(e.props=n,e._eventHandlers=i),e})},"dom:renderTag":function(t,e,n){if(!t.tag._eventHandlers)return;const i=t.tag.tag==="bodyAttrs"?e.defaultView:t.$el;Object.entries(t.tag._eventHandlers).forEach(([r,s])=>{const a=`${t.tag._d||t.tag._p}:${r}`,o=r.slice(2).toLowerCase(),u=`data-h-${o}`;if(n(t.id,a,()=>{}),t.$el.hasAttribute(u))return;const c=s;t.$el.setAttribute(u,""),i.addEventListener(o,c),t.entry&&n(t.id,a,()=>{i.removeEventListener(o,c),t.$el.removeAttribute(u)})})}}},uL=["link","style","script","noscript"],lL={hooks:{"tag:normalise":({tag:t})=>{t.key&&uL.includes(t.tag)&&(t.props["data-hid"]=t._h=g1(t.key))}}},cL={hooks:{"tags:resolve":t=>{const e=n=>{var i;return(i=t.tags.find(r=>r._d===n))==null?void 0:i._p};for(const{prefix:n,offset:i}of eL)for(const r of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(n))){const s=e(r.tagPriority.replace(n,""));typeof s<"u"&&(r._p=s+i)}t.tags.sort((n,i)=>n._p-i._p).sort((n,i)=>yd(n)-yd(i))}}},dL={hooks:{"tags:resolve":t=>{var a;const{tags:e}=t,n=(a=e.find(o=>o.tag==="title"))==null?void 0:a.textContent,i=e.findIndex(o=>o.tag==="templateParams"),r=i!==-1?e[i].props:{},s=r.separator||"|";delete r.separator,r.pageTitle=ga(r.pageTitle||n||"",r,s);for(const o of e)o.processTemplateParams!==!1&&(["titleTemplate","title"].includes(o.tag)&&typeof o.textContent=="string"?o.textContent=ga(o.textContent,r,s):o.tag==="meta"&&typeof o.props.content=="string"?o.props.content=ga(o.props.content,r,s):o.tag==="link"&&typeof o.props.href=="string"?o.props.href=ga(o.props.href,r,s):o.processTemplateParams===!0&&(o.innerHTML?o.innerHTML=ga(o.innerHTML,r,s):o.textContent&&(o.textContent=ga(o.textContent,r,s))));t.tags=e.filter(o=>o.tag!=="templateParams")}}},fL={hooks:{"tags:resolve":t=>{const{tags:e}=t;let n=e.findIndex(r=>r.tag==="titleTemplate");const i=e.findIndex(r=>r.tag==="title");if(i!==-1&&n!==-1){const r=qy(e[n].textContent,e[i].textContent);r!==null?e[i].textContent=r||e[i].textContent:delete e[i]}else if(n!==-1){const r=qy(e[n].textContent);r!==null&&(e[n].textContent=r,e[n].tag="title",n=-1)}n!==-1&&delete e[n],t.tags=e.filter(Boolean)}}};let v1;function hL(t={}){const e=pL(t);return e.use(iL()),v1=e}function Ky(t,e){return!t||t==="server"&&e||t==="client"&&!e}function pL(t={}){const e=f1();e.addHooks(t.hooks||{}),t.document=t.document||(Xk?document:void 0);const n=!t.document;t.plugins=[sL,aL,oL,lL,cL,dL,fL,...(t==null?void 0:t.plugins)||[]];const i=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let r=0,s=[];const a={dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(o){const u=typeof o=="function"?o(a):o;Ky(u.mode,n)&&e.addHooks(u.hooks||{})},push(o,u){u==null||delete u.head;const c={_i:r++,input:o,...u};return Ky(c.mode,n)&&(s.push(c),i()),{dispose(){s=s.filter(d=>d._i!==c._i),e.callHook("entries:updated",a),i()},patch(d){s=s.map(p=>(p._i===c._i&&(p.input=c.input=d),p)),i()}}},async resolveTags(){const o={tags:[],entries:[...s]};await e.callHook("entries:resolve",o);for(const u of o.entries){const c=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(c):c),u.resolvedInput)for(const d of await Zk(u)){const p={tag:d,entry:u,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",p),o.tags.push(p.tag)}}return await e.callHook("tags:beforeResolve",o),await e.callHook("tags:resolve",o),o.tags},ssr:n};return t.plugins.forEach(o=>a.use(o)),a.hooks.callHook("init",a),a}function gL(){return v1}const mL=QT.startsWith("3");function yL(t){return typeof t=="function"?t():kt(t)}function _d(t,e=""){if(t instanceof Promise)return t;const n=yL(t);return!t||!n?n:Array.isArray(n)?n.map(i=>_d(i,e)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([i,r])=>i==="titleTemplate"||i.startsWith("on")?[i,kt(r)]:[i,_d(r,i)])):n}const _L={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=_d(e.input)}}},b1="usehead";function vL(t){return{install(n){mL&&(n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(b1,t))}}.install}function bL(t={}){t.domDelayFn=t.domDelayFn||(n=>Jr(()=>setTimeout(()=>n(),0)));const e=hL(t);return e.use(_L),e.install=vL(e),e}const Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rp="__unhead_injection_handler__";function TL(t){Op[Rp]=t}function EL(){if(Rp in Op)return Op[Rp]();const t=kn(b1);return t||gL()}function xL(t,e={}){const n=e.head||EL();if(n)return n.ssr?n.push(t,e):SL(n,t,e)}function SL(t,e,n={}){const i=Et(!1),r=Et({});bT(()=>{r.value=i.value?{}:_d(e)});const s=t.push(r.value,n);return gn(r,o=>{s.patch(o)}),ss()&&(Hl(()=>{s.dispose()}),wT(()=>{i.value=!0}),CT(()=>{i.value=!1})),s}function Nh(t){return t!==null&&typeof t=="object"}function Np(t,e,n=".",i){if(!Nh(e))return Np(t,{},n,i);const r=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const a=t[s];a!=null&&(i&&i(r,s,a,n)||(Array.isArray(a)&&Array.isArray(r[s])?r[s]=[...a,...r[s]]:Nh(a)&&Nh(r[s])?r[s]=Np(a,r[s],(n?`${n}.`:"")+s.toString(),i):r[s]=a))}return r}function CL(t){return(...e)=>e.reduce((n,i)=>Np(n,i,"",t),{})}const pm=CL();function wL(t,e){try{return e in t}catch{return!1}}var AL=Object.defineProperty,DL=(t,e,n)=>e in t?AL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ma=(t,e,n)=>(DL(t,typeof e!="symbol"?e+"":e,n),n);class Mp extends Error{constructor(e,n={}){super(e,n),ma(this,"statusCode",500),ma(this,"fatal",!1),ma(this,"unhandled",!1),ma(this,"statusMessage"),ma(this,"data"),ma(this,"cause"),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Fp(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=T1(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}ma(Mp,"__h3_error__",!0);function Bp(t){if(typeof t=="string")return new Mp(t);if(kL(t))return t;const e=new Mp(t.message??t.statusMessage??"",{cause:t.cause||t});if(wL(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Fp(t.statusCode,e.statusCode):t.status&&(e.statusCode=Fp(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;T1(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function kL(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const LL=/[^\u0009\u0020-\u007E]/g;function T1(t=""){return t.replace(LL,"")}function Fp(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const E1=Symbol("layout-meta"),Wl=Symbol("route"),Nr=()=>{var t;return(t=$t())==null?void 0:t.$router},lf=()=>NT()?kn(Wl,$t()._route):$t()._route;/*! @__NO_SIDE_EFFECTS__ */const IL=(t,e,n={})=>{const i=$t(),r=n.global||typeof t!="string",s=typeof t!="string"?t:e;if(!s){console.warn("[nuxt] No route middleware passed to `addRouteMiddleware`.",t);return}r?i._middleware.global.push(s):i._middleware.named[t]=s},PL=()=>{try{if($t()._processingMiddleware)return!0}catch{return!0}return!1},OL=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:rk(t.path||"/",t.query||{})+(t.hash||"");if(e!=null&&e.open){{const{target:o="_blank",windowFeatures:u={}}=e.open,c=Object.entries(u).filter(([d,p])=>p!==void 0).map(([d,p])=>`${d.toLowerCase()}=${p}`).join(", ");open(n,o,c)}return Promise.resolve()}const i=(e==null?void 0:e.external)||Is(n,{acceptRelative:!0});if(i){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const o=ql(n).protocol;if(o&&ek(o))throw new Error(`Cannot navigate to a URL with '${o}' protocol.`)}const r=PL();if(!i&&r)return t;const s=Nr(),a=$t();return i?(e!=null&&e.replace?location.replace(n):location.href=n,r?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?s.replace(t):s.push(t)},cf=()=>dT($t().payload,"error"),mo=t=>{const e=gm(t);try{const n=$t(),i=cf();n.hooks.callHook("app:error",e),i.value=i.value||e}catch{throw e}return e},RL=async(t={})=>{const e=$t(),n=cf();e.callHook("app:error:cleared",t),t.redirect&&await Nr().replace(t.redirect),n.value=null},NL=t=>!!(t&&typeof t=="object"&&"__nuxt_error"in t),gm=t=>{const e=Bp(t);return e.__nuxt_error=!0,e},Xy=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),cU=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),ML=t=>{const e=$t();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Xy(t)}):Xy(t)},BL="$s";function mm(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,i]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(i!==void 0&&typeof i!="function")throw new Error("[nuxt] [useState] init must be a function: "+i);const r=BL+n,s=$t(),a=dT(s.payload.state,r);if(a.value===void 0&&i){const o=i();if(Yt(o))return s.payload.state[r]=o,o;a.value=o}return a}function FL(t={}){const e=t.path||window.location.pathname;let n={};try{n=Pp(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:$t().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const UL=!1,Up=!1,jL=!1,$L="#__nuxt";function Yy(t,e={}){const n=HL(t,e),i=$t(),r=i._payloadCache=i._payloadCache||{};return n in r||(r[n]=qL().then(s=>s?x1(n).then(a=>a||(delete r[n],null)):(r[n]=null,null))),r[n]}const Qy="json";function HL(t,e={}){const n=new URL(t,"http://localhost");if(n.search)throw new Error("Payload URL cannot contain search params: "+t);if(n.host!=="localhost"||Is(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const i=e.hash||(e.fresh?Date.now():"");return Ps(Vl().app.baseURL,n.pathname,i?`_payload.${i}.${Qy}`:`_payload.${Qy}`)}async function x1(t){const e=fetch(t).then(n=>n.text().then(S1));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function qL(t=lf().path){return!!$t().payload.prerenderedAt}let Uc=null;async function VL(){if(Uc)return Uc;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=S1(t.textContent||""),n=t.dataset.src?await x1(t.dataset.src):void 0;return Uc={...e,...n,...window.__NUXT__},Uc}function S1(t){return qk(t,$t()._payloadRevivers)}function WL(t,e){$t()._payloadRevivers[t]=e}const Jy={NuxtError:t=>gm(t),EmptyShallowRef:t=>ws(t==="_"?void 0:t==="0n"?BigInt(0):Pp(t)),EmptyRef:t=>Et(t==="_"?void 0:t==="0n"?BigInt(0):Pp(t)),ShallowRef:t=>ws(t),ShallowReactive:t=>jl(t),Ref:t=>Et(t),Reactive:t=>Li(t)},zL=Un({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const i in Jy)WL(i,Jy[i]);Object.assign(t.payload,([e,n]=ka(()=>t.runWithContext(VL)),e=await e,n(),e)),window.__NUXT__=t.payload}}),GL=[],KL=Un({name:"nuxt:head",enforce:"pre",setup(t){const e=bL({plugins:GL});TL(()=>$t().vueApp._context.provides.usehead),t.vueApp.use(e);{let n=!0;const i=async()=>{n=!1,await _1(e)};e.hooks.hook("dom:beforeRender",r=>{r.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||i()}),t.hooks.hook("app:error",i),t.hooks.hook("app:suspense:resolve",i)}}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const po=typeof window<"u";function XL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const wt=Object.assign;function Mh(t,e){const n={};for(const i in e){const r=e[i];n[i]=ar(r)?r.map(t):t(r)}return n}const sl=()=>{},ar=Array.isArray,YL=/\/$/,QL=t=>t.replace(YL,"");function Bh(t,e,n="/"){let i,r={},s="",a="";const o=e.indexOf("#");let u=e.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(i=e.slice(0,u),s=e.slice(u+1,o>-1?o:e.length),r=t(s)),o>-1&&(i=i||e.slice(0,o),a=e.slice(o,e.length)),i=tI(i??e,n),{fullPath:i+(s&&"?")+s+a,path:i,query:r,hash:a}}function JL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Zy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ZL(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Fo(e.matched[i],n.matched[r])&&C1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function C1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!eI(t[n],e[n]))return!1;return!0}function eI(t,e){return ar(t)?e_(t,e):ar(e)?e_(e,t):t===e}function e_(t,e){return ar(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function tI(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var El;(function(t){t.pop="pop",t.push="push"})(El||(El={}));var al;(function(t){t.back="back",t.forward="forward",t.unknown=""})(al||(al={}));function nI(t){if(!t)if(po){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),QL(t)}const iI=/^[^#]+#/;function rI(t,e){return t.replace(iI,"#")+e}function sI(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const df=()=>({left:window.pageXOffset,top:window.pageYOffset});function aI(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=sI(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function t_(t,e){return(history.state?history.state.position-e:-1)+t}const jp=new Map;function oI(t,e){jp.set(t,e)}function uI(t){const e=jp.get(t);return jp.delete(t),e}let lI=()=>location.protocol+"//"+location.host;function w1(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let o=r.includes(t.slice(s))?t.slice(s).length:1,u=r.slice(o);return u[0]!=="/"&&(u="/"+u),Zy(u,"")}return Zy(n,t)+i+r}function cI(t,e,n,i){let r=[],s=[],a=null;const o=({state:v})=>{const C=w1(t,location),x=n.value,L=e.value;let O=0;if(v){if(n.value=C,e.value=v,a&&a===x){a=null;return}O=L?v.position-L.position:0}else i(C);r.forEach(S=>{S(n.value,x,{delta:O,type:El.pop,direction:O?O>0?al.forward:al.back:al.unknown})})};function u(){a=n.value}function c(v){r.push(v);const C=()=>{const x=r.indexOf(v);x>-1&&r.splice(x,1)};return s.push(C),C}function d(){const{history:v}=window;v.state&&v.replaceState(wt({},v.state,{scroll:df()}),"")}function p(){for(const v of s)v();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:p}}function n_(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?df():null}}function dI(t){const{history:e,location:n}=window,i={value:w1(t,n)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(u,c,d){const p=t.indexOf("#"),v=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+u:lI()+t+u;try{e[d?"replaceState":"pushState"](c,"",v),r.value=c}catch(C){console.error(C),n[d?"replace":"assign"](v)}}function a(u,c){const d=wt({},e.state,n_(r.value.back,u,r.value.forward,!0),c,{position:r.value.position});s(u,d,!0),i.value=u}function o(u,c){const d=wt({},r.value,e.state,{forward:u,scroll:df()});s(d.current,d,!0);const p=wt({},n_(i.value,u,null),{position:d.position+1},c);s(u,p,!1),i.value=u}return{location:i,state:r,push:o,replace:a}}function A1(t){t=nI(t);const e=dI(t),n=cI(t,e.state,e.location,e.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const r=wt({location:"",base:t,go:i,createHref:rI.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function fI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),A1(t)}function hI(t){return typeof t=="string"||t&&typeof t=="object"}function D1(t){return typeof t=="string"||typeof t=="symbol"}const mr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},k1=Symbol("");var i_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(i_||(i_={}));function Uo(t,e){return wt(new Error,{type:t,[k1]:!0},e)}function Hr(t,e){return t instanceof Error&&k1 in t&&(e==null||!!(t.type&e))}const r_="[^/]+?",pI={sensitive:!1,strict:!1,start:!0,end:!0},gI=/[.+*?^${}()[\]/\\]/g;function mI(t,e){const n=wt({},pI,e),i=[];let r=n.start?"^":"";const s=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let p=0;p<c.length;p++){const v=c[p];let C=40+(n.sensitive?.25:0);if(v.type===0)p||(r+="/"),r+=v.value.replace(gI,"\\$&"),C+=40;else if(v.type===1){const{value:x,repeatable:L,optional:O,regexp:S}=v;s.push({name:x,repeatable:L,optional:O});const A=S||r_;if(A!==r_){C+=10;try{new RegExp(`(${A})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${x}" (${A}): `+I.message)}}let M=L?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;p||(M=O&&c.length<2?`(?:/${M})`:"/"+M),O&&(M+="?"),r+=M,C+=20,O&&(C+=-8),L&&(C+=-20),A===".*"&&(C+=-50)}d.push(C)}i.push(d)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function o(c){const d=c.match(a),p={};if(!d)return null;for(let v=1;v<d.length;v++){const C=d[v]||"",x=s[v-1];p[x.name]=C&&x.repeatable?C.split("/"):C}return p}function u(c){let d="",p=!1;for(const v of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const C of v)if(C.type===0)d+=C.value;else if(C.type===1){const{value:x,repeatable:L,optional:O}=C,S=x in c?c[x]:"";if(ar(S)&&!L)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const A=ar(S)?S.join("/"):S;if(!A)if(O)v.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${x}"`);d+=A}}return d||"/"}return{re:a,score:i,keys:s,parse:o,stringify:u}}function yI(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function _I(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=yI(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(s_(i))return 1;if(s_(r))return-1}return r.length-i.length}function s_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vI={type:0,value:""},bI=/[a-zA-Z0-9_]/;function TI(t){if(!t)return[[]];if(t==="/")return[[vI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(C){throw new Error(`ERR (${n})/"${c}": ${C}`)}let n=0,i=n;const r=[];let s;function a(){s&&r.push(s),s=[]}let o=0,u,c="",d="";function p(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function v(){c+=u}for(;o<t.length;){if(u=t[o++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(c&&p(),a()):u===":"?(p(),n=1):v();break;case 4:v(),n=i;break;case 1:u==="("?n=2:bI.test(u)?v():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),p(),a(),r}function EI(t,e,n){const i=mI(TI(t.path),n),r=wt(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function xI(t,e){const n=[],i=new Map;e=u_({strict:!1,end:!0,sensitive:!1},e);function r(d){return i.get(d)}function s(d,p,v){const C=!v,x=SI(d);x.aliasOf=v&&v.record;const L=u_(e,d),O=[x];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const I of M)O.push(wt({},x,{components:v?v.record.components:x.components,path:I,aliasOf:v?v.record:x}))}let S,A;for(const M of O){const{path:I}=M;if(p&&I[0]!=="/"){const N=p.record.path,F=N[N.length-1]==="/"?"":"/";M.path=p.record.path+(I&&F+I)}if(S=EI(M,p,L),v?v.alias.push(S):(A=A||S,A!==S&&A.alias.push(S),C&&d.name&&!o_(S)&&a(d.name)),x.children){const N=x.children;for(let F=0;F<N.length;F++)s(N[F],S,v&&v.children[F])}v=v||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&u(S)}return A?()=>{a(A)}:sl}function a(d){if(D1(d)){const p=i.get(d);p&&(i.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&i.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return n}function u(d){let p=0;for(;p<n.length&&_I(d,n[p])>=0&&(d.record.path!==n[p].record.path||!L1(d,n[p]));)p++;n.splice(p,0,d),d.record.name&&!o_(d)&&i.set(d.record.name,d)}function c(d,p){let v,C={},x,L;if("name"in d&&d.name){if(v=i.get(d.name),!v)throw Uo(1,{location:d});L=v.record.name,C=wt(a_(p.params,v.keys.filter(A=>!A.optional).map(A=>A.name)),d.params&&a_(d.params,v.keys.map(A=>A.name))),x=v.stringify(C)}else if("path"in d)x=d.path,v=n.find(A=>A.re.test(x)),v&&(C=v.parse(x),L=v.record.name);else{if(v=p.name?i.get(p.name):n.find(A=>A.re.test(p.path)),!v)throw Uo(1,{location:d,currentLocation:p});L=v.record.name,C=wt({},p.params,d.params),x=v.stringify(C)}const O=[];let S=v;for(;S;)O.unshift(S.record),S=S.parent;return{name:L,path:x,params:C,matched:O,meta:wI(O)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:c,removeRoute:a,getRoutes:o,getRecordMatcher:r}}function a_(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function SI(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:CI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function CI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function o_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function wI(t){return t.reduce((e,n)=>wt(e,n.meta),{})}function u_(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function L1(t,e){return e.children.some(n=>n===t||L1(t,n))}const I1=/#/g,AI=/&/g,DI=/\//g,kI=/=/g,LI=/\?/g,P1=/\+/g,II=/%5B/g,PI=/%5D/g,O1=/%5E/g,OI=/%60/g,R1=/%7B/g,RI=/%7C/g,N1=/%7D/g,NI=/%20/g;function ym(t){return encodeURI(""+t).replace(RI,"|").replace(II,"[").replace(PI,"]")}function MI(t){return ym(t).replace(R1,"{").replace(N1,"}").replace(O1,"^")}function $p(t){return ym(t).replace(P1,"%2B").replace(NI,"+").replace(I1,"%23").replace(AI,"%26").replace(OI,"`").replace(R1,"{").replace(N1,"}").replace(O1,"^")}function BI(t){return $p(t).replace(kI,"%3D")}function FI(t){return ym(t).replace(I1,"%23").replace(LI,"%3F")}function UI(t){return t==null?"":FI(t).replace(DI,"%2F")}function vd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function jI(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(P1," "),a=s.indexOf("="),o=vd(a<0?s:s.slice(0,a)),u=a<0?null:vd(s.slice(a+1));if(o in e){let c=e[o];ar(c)||(c=e[o]=[c]),c.push(u)}else e[o]=u}return e}function l_(t){let e="";for(let n in t){const i=t[n];if(n=BI(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(ar(i)?i.map(s=>s&&$p(s)):[i&&$p(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function $I(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=ar(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const HI=Symbol(""),c_=Symbol(""),ff=Symbol(""),_m=Symbol(""),Hp=Symbol("");function Mu(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function xs(t,e,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,o)=>{const u=p=>{p===!1?o(Uo(4,{from:n,to:e})):p instanceof Error?o(p):hI(p)?o(Uo(2,{from:e,to:p})):(s&&i.enterCallbacks[r]===s&&typeof p=="function"&&s.push(p),a())},c=t.call(i&&i.instances[r],e,n,u);let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(p=>o(p))})}function Fh(t,e,n,i){const r=[];for(const s of t)for(const a in s.components){let o=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(qI(o)){const c=(o.__vccOpts||o)[e];c&&r.push(xs(c,n,i,s,a))}else{let u=o();r.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=XL(c)?c.default:c;s.components[a]=d;const v=(d.__vccOpts||d)[e];return v&&xs(v,n,i,s,a)()}))}}return r}function qI(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function d_(t){const e=kn(ff),n=kn(_m),i=dt(()=>e.resolve(kt(t.to))),r=dt(()=>{const{matched:u}=i.value,{length:c}=u,d=u[c-1],p=n.matched;if(!d||!p.length)return-1;const v=p.findIndex(Fo.bind(null,d));if(v>-1)return v;const C=f_(u[c-2]);return c>1&&f_(d)===C&&p[p.length-1].path!==C?p.findIndex(Fo.bind(null,u[c-2])):v}),s=dt(()=>r.value>-1&&GI(n.params,i.value.params)),a=dt(()=>r.value>-1&&r.value===n.matched.length-1&&C1(n.params,i.value.params));function o(u={}){return zI(u)?e[kt(t.replace)?"replace":"push"](kt(t.to)).catch(sl):Promise.resolve()}return{route:i,href:dt(()=>i.value.href),isActive:s,isExactActive:a,navigate:o}}const VI=Fn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:d_,setup(t,{slots:e}){const n=Li(d_(t)),{options:i}=kn(ff),r=dt(()=>({[h_(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[h_(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Ln("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),WI=VI;function zI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function GI(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!ar(r)||r.length!==i.length||i.some((s,a)=>s!==r[a]))return!1}return!0}function f_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const h_=(t,e,n)=>t??e??n,KI=Fn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=kn(Hp),r=dt(()=>t.route||i.value),s=kn(c_,0),a=dt(()=>{let c=kt(s);const{matched:d}=r.value;let p;for(;(p=d[c])&&!p.components;)c++;return c}),o=dt(()=>r.value.matched[a.value]);Da(c_,dt(()=>a.value+1)),Da(HI,o),Da(Hp,r);const u=Et();return gn(()=>[u.value,o.value,t.name],([c,d,p],[v,C,x])=>{d&&(d.instances[p]=c,C&&C!==d&&c&&c===v&&(d.leaveGuards.size||(d.leaveGuards=C.leaveGuards),d.updateGuards.size||(d.updateGuards=C.updateGuards))),c&&d&&(!C||!Fo(d,C)||!v)&&(d.enterCallbacks[p]||[]).forEach(L=>L(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,p=o.value,v=p&&p.components[d];if(!v)return p_(n.default,{Component:v,route:c});const C=p.props[d],x=C?C===!0?c.params:typeof C=="function"?C(c):C:null,O=Ln(v,wt({},x,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(p.instances[d]=null)},ref:u}));return p_(n.default,{Component:O,route:c})||O}}});function p_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const M1=KI;function XI(t){const e=xI(t.routes,t),n=t.parseQuery||jI,i=t.stringifyQuery||l_,r=t.history,s=Mu(),a=Mu(),o=Mu(),u=ws(mr);let c=mr;po&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Mh.bind(null,_e=>""+_e),p=Mh.bind(null,UI),v=Mh.bind(null,vd);function C(_e,Ie){let Ae,Pe;return D1(_e)?(Ae=e.getRecordMatcher(_e),Pe=Ie):Pe=_e,e.addRoute(Pe,Ae)}function x(_e){const Ie=e.getRecordMatcher(_e);Ie&&e.removeRoute(Ie)}function L(){return e.getRoutes().map(_e=>_e.record)}function O(_e){return!!e.getRecordMatcher(_e)}function S(_e,Ie){if(Ie=wt({},Ie||u.value),typeof _e=="string"){const B=Bh(n,_e,Ie.path),K=e.resolve({path:B.path},Ie),ee=r.createHref(B.fullPath);return wt(B,K,{params:v(K.params),hash:vd(B.hash),redirectedFrom:void 0,href:ee})}let Ae;if("path"in _e)Ae=wt({},_e,{path:Bh(n,_e.path,Ie.path).path});else{const B=wt({},_e.params);for(const K in B)B[K]==null&&delete B[K];Ae=wt({},_e,{params:p(B)}),Ie.params=p(Ie.params)}const Pe=e.resolve(Ae,Ie),rt=_e.hash||"";Pe.params=d(v(Pe.params));const V=JL(i,wt({},_e,{hash:MI(rt),path:Pe.path})),P=r.createHref(V);return wt({fullPath:V,hash:rt,query:i===l_?$I(_e.query):_e.query||{}},Pe,{redirectedFrom:void 0,href:P})}function A(_e){return typeof _e=="string"?Bh(n,_e,u.value.path):wt({},_e)}function M(_e,Ie){if(c!==_e)return Uo(8,{from:Ie,to:_e})}function I(_e){return m(_e)}function N(_e){return I(wt(A(_e),{replace:!0}))}function F(_e){const Ie=_e.matched[_e.matched.length-1];if(Ie&&Ie.redirect){const{redirect:Ae}=Ie;let Pe=typeof Ae=="function"?Ae(_e):Ae;return typeof Pe=="string"&&(Pe=Pe.includes("?")||Pe.includes("#")?Pe=A(Pe):{path:Pe},Pe.params={}),wt({query:_e.query,hash:_e.hash,params:"path"in Pe?{}:_e.params},Pe)}}function m(_e,Ie){const Ae=c=S(_e),Pe=u.value,rt=_e.state,V=_e.force,P=_e.replace===!0,B=F(Ae);if(B)return m(wt(A(B),{state:typeof B=="object"?wt({},rt,B.state):rt,force:V,replace:P}),Ie||Ae);const K=Ae;K.redirectedFrom=Ie;let ee;return!V&&ZL(i,Pe,Ae)&&(ee=Uo(16,{to:K,from:Pe}),Ht(Pe,Pe,!0,!1)),(ee?Promise.resolve(ee):Te(K,Pe)).catch(oe=>Hr(oe)?Hr(oe,2)?oe:Qt(oe):Ve(oe,K,Pe)).then(oe=>{if(oe){if(Hr(oe,2))return m(wt({replace:P},A(oe.to),{state:typeof oe.to=="object"?wt({},rt,oe.to.state):rt,force:V}),Ie||K)}else oe=se(K,Pe,!0,P,rt);return Y(K,Pe,oe),oe})}function te(_e,Ie){const Ae=M(_e,Ie);return Ae?Promise.reject(Ae):Promise.resolve()}function ie(_e){const Ie=In.values().next().value;return Ie&&typeof Ie.runWithContext=="function"?Ie.runWithContext(_e):_e()}function Te(_e,Ie){let Ae;const[Pe,rt,V]=YI(_e,Ie);Ae=Fh(Pe.reverse(),"beforeRouteLeave",_e,Ie);for(const B of Pe)B.leaveGuards.forEach(K=>{Ae.push(xs(K,_e,Ie))});const P=te.bind(null,_e,Ie);return Ae.push(P),qt(Ae).then(()=>{Ae=[];for(const B of s.list())Ae.push(xs(B,_e,Ie));return Ae.push(P),qt(Ae)}).then(()=>{Ae=Fh(rt,"beforeRouteUpdate",_e,Ie);for(const B of rt)B.updateGuards.forEach(K=>{Ae.push(xs(K,_e,Ie))});return Ae.push(P),qt(Ae)}).then(()=>{Ae=[];for(const B of V)if(B.beforeEnter)if(ar(B.beforeEnter))for(const K of B.beforeEnter)Ae.push(xs(K,_e,Ie));else Ae.push(xs(B.beforeEnter,_e,Ie));return Ae.push(P),qt(Ae)}).then(()=>(_e.matched.forEach(B=>B.enterCallbacks={}),Ae=Fh(V,"beforeRouteEnter",_e,Ie),Ae.push(P),qt(Ae))).then(()=>{Ae=[];for(const B of a.list())Ae.push(xs(B,_e,Ie));return Ae.push(P),qt(Ae)}).catch(B=>Hr(B,8)?B:Promise.reject(B))}function Y(_e,Ie,Ae){o.list().forEach(Pe=>ie(()=>Pe(_e,Ie,Ae)))}function se(_e,Ie,Ae,Pe,rt){const V=M(_e,Ie);if(V)return V;const P=Ie===mr,B=po?history.state:{};Ae&&(Pe||P?r.replace(_e.fullPath,wt({scroll:P&&B&&B.scroll},rt)):r.push(_e.fullPath,rt)),u.value=_e,Ht(_e,Ie,Ae,P),Qt()}let J;function de(){J||(J=r.listen((_e,Ie,Ae)=>{if(!yi.listening)return;const Pe=S(_e),rt=F(Pe);if(rt){m(wt(rt,{replace:!0}),Pe).catch(sl);return}c=Pe;const V=u.value;po&&oI(t_(V.fullPath,Ae.delta),df()),Te(Pe,V).catch(P=>Hr(P,12)?P:Hr(P,2)?(m(P.to,Pe).then(B=>{Hr(B,20)&&!Ae.delta&&Ae.type===El.pop&&r.go(-1,!1)}).catch(sl),Promise.reject()):(Ae.delta&&r.go(-Ae.delta,!1),Ve(P,Pe,V))).then(P=>{P=P||se(Pe,V,!1),P&&(Ae.delta&&!Hr(P,8)?r.go(-Ae.delta,!1):Ae.type===El.pop&&Hr(P,20)&&r.go(-1,!1)),Y(Pe,V,P)}).catch(sl)}))}let $e=Mu(),Le=Mu(),Re;function Ve(_e,Ie,Ae){Qt(_e);const Pe=Le.list();return Pe.length?Pe.forEach(rt=>rt(_e,Ie,Ae)):console.error(_e),Promise.reject(_e)}function bt(){return Re&&u.value!==mr?Promise.resolve():new Promise((_e,Ie)=>{$e.add([_e,Ie])})}function Qt(_e){return Re||(Re=!_e,de(),$e.list().forEach(([Ie,Ae])=>_e?Ae(_e):Ie()),$e.reset()),_e}function Ht(_e,Ie,Ae,Pe){const{scrollBehavior:rt}=t;if(!po||!rt)return Promise.resolve();const V=!Ae&&uI(t_(_e.fullPath,0))||(Pe||!Ae)&&history.state&&history.state.scroll||null;return Jr().then(()=>rt(_e,Ie,V)).then(P=>P&&aI(P)).catch(P=>Ve(P,_e,Ie))}const xt=_e=>r.go(_e);let fn;const In=new Set,yi={currentRoute:u,listening:!0,addRoute:C,removeRoute:x,hasRoute:O,getRoutes:L,resolve:S,options:t,push:I,replace:N,go:xt,back:()=>xt(-1),forward:()=>xt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:Le.add,isReady:bt,install(_e){const Ie=this;_e.component("RouterLink",WI),_e.component("RouterView",M1),_e.config.globalProperties.$router=Ie,Object.defineProperty(_e.config.globalProperties,"$route",{enumerable:!0,get:()=>kt(u)}),po&&!fn&&u.value===mr&&(fn=!0,I(r.location).catch(rt=>{}));const Ae={};for(const rt in mr)Object.defineProperty(Ae,rt,{get:()=>u.value[rt],enumerable:!0});_e.provide(ff,Ie),_e.provide(_m,jl(Ae)),_e.provide(Hp,u);const Pe=_e.unmount;In.add(_e),_e.unmount=function(){In.delete(_e),In.size<1&&(c=mr,J&&J(),J=null,u.value=mr,fn=!1,Re=!1),Pe()}}};function qt(_e){return _e.reduce((Ie,Ae)=>Ie.then(()=>ie(Ae)),Promise.resolve())}return yi}function YI(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(c=>Fo(c,o))?i.push(o):n.push(o));const u=t.matched[a];u&&(e.matched.find(c=>Fo(c,u))||r.push(u))}return[n,i,r]}function B1(){return kn(ff)}function vm(){return kn(_m)}const It={key:t=>t.name.split("_")[0]},Pt={key:t=>t.name.split("_")[0]},Ot={key:t=>t.name.split("_")[0]},Rt={key:t=>t.name.split("_")[0]},Nt={key:t=>t.name.split("_")[0]},g_=[{name:(It==null?void 0:It.name)??"about___en",path:(It==null?void 0:It.path)??"/en/about",meta:It||{},alias:(It==null?void 0:It.alias)||[],redirect:(It==null?void 0:It.redirect)||void 0,component:()=>li(()=>import("./about.628cd7b3.js"),["./about.628cd7b3.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./about.7cf906c4.css"],import.meta.url).then(t=>t.default||t)},{name:(It==null?void 0:It.name)??"about___zh-Hant",path:(It==null?void 0:It.path)??"/about",meta:It||{},alias:(It==null?void 0:It.alias)||[],redirect:(It==null?void 0:It.redirect)||void 0,component:()=>li(()=>import("./about.628cd7b3.js"),["./about.628cd7b3.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./about.7cf906c4.css"],import.meta.url).then(t=>t.default||t)},{name:(Pt==null?void 0:Pt.name)??"contact___en",path:(Pt==null?void 0:Pt.path)??"/en/contact",meta:Pt||{},alias:(Pt==null?void 0:Pt.alias)||[],redirect:(Pt==null?void 0:Pt.redirect)||void 0,component:()=>li(()=>import("./contact.ff7fac49.js"),["./contact.ff7fac49.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./contact.807123ce.css"],import.meta.url).then(t=>t.default||t)},{name:(Pt==null?void 0:Pt.name)??"contact___zh-Hant",path:(Pt==null?void 0:Pt.path)??"/contact",meta:Pt||{},alias:(Pt==null?void 0:Pt.alias)||[],redirect:(Pt==null?void 0:Pt.redirect)||void 0,component:()=>li(()=>import("./contact.ff7fac49.js"),["./contact.ff7fac49.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./contact.807123ce.css"],import.meta.url).then(t=>t.default||t)},{name:(Ot==null?void 0:Ot.name)??"index___en",path:(Ot==null?void 0:Ot.path)??"/en",meta:Ot||{},alias:(Ot==null?void 0:Ot.alias)||[],redirect:(Ot==null?void 0:Ot.redirect)||void 0,component:()=>li(()=>import("./index.349e949f.js"),["./index.349e949f.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./index.2ffefbfd.css"],import.meta.url).then(t=>t.default||t)},{name:(Ot==null?void 0:Ot.name)??"index___zh-Hant",path:(Ot==null?void 0:Ot.path)??"/",meta:Ot||{},alias:(Ot==null?void 0:Ot.alias)||[],redirect:(Ot==null?void 0:Ot.redirect)||void 0,component:()=>li(()=>import("./index.349e949f.js"),["./index.349e949f.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./index.2ffefbfd.css"],import.meta.url).then(t=>t.default||t)},{name:(Rt==null?void 0:Rt.name)??"production-service___en",path:(Rt==null?void 0:Rt.path)??"/en/production-service",meta:Rt||{},alias:(Rt==null?void 0:Rt.alias)||[],redirect:(Rt==null?void 0:Rt.redirect)||void 0,component:()=>li(()=>import("./production-service.fc6bcd30.js"),["./production-service.fc6bcd30.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./production-service.14c4c91f.css"],import.meta.url).then(t=>t.default||t)},{name:(Rt==null?void 0:Rt.name)??"production-service___zh-Hant",path:(Rt==null?void 0:Rt.path)??"/production-service",meta:Rt||{},alias:(Rt==null?void 0:Rt.alias)||[],redirect:(Rt==null?void 0:Rt.redirect)||void 0,component:()=>li(()=>import("./production-service.fc6bcd30.js"),["./production-service.fc6bcd30.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./production-service.14c4c91f.css"],import.meta.url).then(t=>t.default||t)},{name:(Nt==null?void 0:Nt.name)??"project-slug___en",path:(Nt==null?void 0:Nt.path)??"/en/project/:slug()",meta:Nt||{},alias:(Nt==null?void 0:Nt.alias)||[],redirect:(Nt==null?void 0:Nt.redirect)||void 0,component:()=>li(()=>import("./_slug_.f908ecb7.js"),["./_slug_.f908ecb7.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./_slug_.8163d1ca.css"],import.meta.url).then(t=>t.default||t)},{name:(Nt==null?void 0:Nt.name)??"project-slug___zh-Hant",path:(Nt==null?void 0:Nt.path)??"/project/:slug()",meta:Nt||{},alias:(Nt==null?void 0:Nt.alias)||[],redirect:(Nt==null?void 0:Nt.redirect)||void 0,component:()=>li(()=>import("./_slug_.f908ecb7.js"),["./_slug_.f908ecb7.js","./useHttp.62807f6e.js","./nuxt-link.304f5191.js","./useHttp.36fdf639.css","./CTA.54615d0d.js","./CTA.2aef5404.css","./_slug_.8163d1ca.css"],import.meta.url).then(t=>t.default||t)}],QI={scrollBehavior(t,e,n){var c;const i=$t(),r=((c=Nr().options)==null?void 0:c.scrollBehaviorType)??"auto";let s=n||void 0;const a=typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop;if(!s&&e&&t&&a!==!1&&JI(e,t)&&(s={left:0,top:0}),t.path===e.path){if(e.hash&&!t.hash)return{left:0,top:0};if(t.hash)return{el:t.hash,top:m_(t.hash),behavior:r}}const o=d=>!!(d.meta.pageTransition??Up),u=o(e)&&o(t)?"page:transition:finish":"page:finish";return new Promise(d=>{i.hooks.hookOnce(u,async()=>{await Jr(),t.hash&&(s={el:t.hash,top:m_(t.hash),behavior:r}),d(s)})})}};function m_(t){try{const e=document.querySelector(t);if(e)return parseFloat(getComputedStyle(e).scrollMarginTop)}catch{}return 0}function JI(t,e){return e.path!==t.path||JSON.stringify(t.params)!==JSON.stringify(e.params)}const ZI={},ai={...ZI,...QI},eP=async t=>{var u;let e,n;if(!((u=t.meta)!=null&&u.validate))return;const i=$t(),r=Nr();if(([e,n]=ka(()=>Promise.resolve(t.meta.validate(t))),e=await e,n(),e)===!0)return;const a=gm({statusCode:404,statusMessage:`Page Not Found: ${t.fullPath}`}),o=r.beforeResolve(c=>{if(o(),c===t){const d=r.afterEach(async()=>{d(),await i.runWithContext(()=>mo(a)),window.history.pushState({},"",t.fullPath)});return!1}})},tP=[eP],ol={};function nP(t,e,n){const{pathname:i,search:r,hash:s}=e,a=t.indexOf("#");if(a>-1){const c=s.includes(t.slice(a))?t.slice(a).length:1;let d=s.slice(c);return d[0]!=="/"&&(d="/"+d),By(d,"")}const o=By(i,t),u=!n||kp(o,n,{trailingSlash:!0})?o:n;return u+(u.includes("?")?"":r)+s}const iP=Un({name:"nuxt:router",enforce:"pre",async setup(t){var L,O;let e,n,i=Vl().app.baseURL;ai.hashMode&&!i.includes("#")&&(i+="#");const r=((L=ai.history)==null?void 0:L.call(ai,i))??(ai.hashMode?fI(i):A1(i)),s=((O=ai.routes)==null?void 0:O.call(ai,g_))??g_;let a;const o=nP(i,window.location,t.payload.path),u=XI({...ai,scrollBehavior:(S,A,M)=>{var I;if(A===mr){a=M;return}return u.options.scrollBehavior=ai.scrollBehavior,(I=ai.scrollBehavior)==null?void 0:I.call(ai,S,mr,a||M)},history:r,routes:s});t.vueApp.use(u);const c=ws(u.currentRoute.value);u.afterEach((S,A)=>{c.value=A}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const d=ws(u.resolve(o)),p=()=>{d.value=u.currentRoute.value};t.hook("page:finish",p),u.afterEach((S,A)=>{var M,I,N,F;((I=(M=S.matched[0])==null?void 0:M.components)==null?void 0:I.default)===((F=(N=A.matched[0])==null?void 0:N.components)==null?void 0:F.default)&&p()});const v={};for(const S in d.value)Object.defineProperty(v,S,{get:()=>d.value[S]});t._route=jl(v),t._middleware=t._middleware||{global:[],named:{}};const C=cf();try{[e,n]=ka(()=>u.isReady()),await e,n()}catch(S){[e,n]=ka(()=>t.runWithContext(()=>mo(S))),await e,n()}const x=t.payload.state._layout;return u.beforeEach(async(S,A)=>{var M;S.meta=Li(S.meta),t.isHydrating&&x&&!Oa(S.meta.layout)&&(S.meta.layout=x),t._processingMiddleware=!0;{const I=new Set([...tP,...t._middleware.global]);for(const N of S.matched){const F=N.meta.middleware;if(F)if(Array.isArray(F))for(const m of F)I.add(m);else I.add(F)}for(const N of I){const F=typeof N=="string"?t._middleware.named[N]||await((M=ol[N])==null?void 0:M.call(ol).then(te=>te.default||te)):N;if(!F)throw new Error(`Unknown route middleware: '${N}'.`);const m=await t.runWithContext(()=>F(S,A));if(!t.payload.serverRendered&&t.isHydrating&&(m===!1||m instanceof Error)){const te=m||Bp({statusCode:404,statusMessage:`Page Not Found: ${o}`});return await t.runWithContext(()=>mo(te)),!1}if(m!==!0&&(m||m===!1))return m}}}),u.onError(()=>{delete t._processingMiddleware}),u.afterEach(async(S,A,M)=>{delete t._processingMiddleware,!t.isHydrating&&C.value&&await t.runWithContext(RL),S.matched.length===0&&await t.runWithContext(()=>mo(Bp({statusCode:404,fatal:!1,statusMessage:`Page not found: ${S.fullPath}`})))}),t.hooks.hookOnce("app:created",async()=>{try{await u.replace({...u.resolve(o),name:void 0,force:!0}),u.options.scrollBehavior=ai.scrollBehavior}catch(S){await t.runWithContext(()=>mo(S))}}),{provide:{router:u}}}});function rP(t){const e=(t==null?void 0:t.debug)||!1,n=[];function i(s){var o;if(!s||typeof s!="object"||Object.keys(s).length===0)return;if(!s._context&&e){let u=(o=new Error("tmp").stack)==null?void 0:o.split(`
`)[2].split(" ")[5];u!=null&&u.includes("/")&&(u="anonymous"),s._context=u}const a={};for(const u in s){const c=s[u];typeof c<"u"&&c!==""&&(a[u]=c)}Object.keys(a).filter(u=>!u.startsWith("_")).length>0&&n.push(a)}function r(){var a;const s={_context:{}};for(const o in n.sort((u,c)=>(u._priority||0)-(c._priority||0)))for(const u in n[o]){const c=u,d=n[o][u];u.startsWith("_")||(s[u]=d,s._context[c]=((a=n[o]._context)==null?void 0:a[c])||n[o]._context||"anonymous")}return sP(s)}return{stack:n,push:i,get:r}}function sP(t){typeof t.indexable<"u"&&(t.indexable=String(t.indexable)!=="false"),typeof t.trailingSlash<"u"&&(t.trailingSlash=String(t.trailingSlash)!=="false"),t.url&&!Is(t.url,{acceptRelative:!0,strict:!1})&&(t.url=uk(t.url));const e=Object.keys(t).sort((i,r)=>i.localeCompare(r)),n={};for(const i of e)n[i]=t[i];return n}const aP=Un({name:"nuxt-site-config",enforce:"pre",async setup(t){const e=Vl()["nuxt-site-config"]||{debug:!1};let n;n||(n=rP({debug:e.debug}));{n.push({_context:"window",url:window.location.origin});const i=mm("site-config");i.value&&n.push(i.value)}return{provide:{nuxtSiteConfig:n}}}}),oP=Un({name:"nuxt:payload",setup(t){Nr().beforeResolve(async(e,n)=>{if(e.path===n.path)return;const i=await Yy(e.path);i&&Object.assign(t.static.data,i.data)}),ML(()=>{t.hooks.hook("link:prefetch",async e=>{ql(e).protocol||await Yy(e)})})}}),uP=!1,lP=!0;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const cP=Symbol();var y_;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(y_||(y_={}));function dP(){const t=Wg(!0),e=t.run(()=>Et({}));let n=[],i=[];const r=Zg({install(s){r._a=s,s.provide(cP,r),s.config.globalProperties.$pinia=r,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!uP?i.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const fP=Un(t=>{const e=dP();return t.vueApp.use(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}),hP=Un({name:"nuxt:global-components"}),Ea={},pP=Un({name:"nuxt:prefetch",setup(t){const e=Nr();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var r;const i=(r=n==null?void 0:n.meta)==null?void 0:r.layout;i&&typeof Ea[i]=="function"&&await Ea[i]()})}),t.hooks.hook("link:prefetch",n=>{var a,o,u,c;if(Is(n))return;const i=e.resolve(n);if(!i)return;const r=(a=i==null?void 0:i.meta)==null?void 0:a.layout;let s=Array.isArray((o=i==null?void 0:i.meta)==null?void 0:o.middleware)?(u=i==null?void 0:i.meta)==null?void 0:u.middleware:[(c=i==null?void 0:i.meta)==null?void 0:c.middleware];s=s.filter(d=>typeof d=="string");for(const d of s)typeof ol[d]=="function"&&ol[d]();r&&typeof Ea[r]=="function"&&Ea[r]()})}}),gP=Un(()=>{});/*!
  * shared v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const qp=typeof window<"u",Bs=(t,e=!1)=>e?Symbol.for(t):Symbol(t),mP=(t,e,n)=>yP({l:t,k:e,s:n}),yP=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),bn=t=>typeof t=="number"&&isFinite(t),_P=t=>U1(t)==="[object Date]",bd=t=>U1(t)==="[object RegExp]",hf=t=>ht(t)&&Object.keys(t).length===0,xn=Object.assign;let __;const bm=()=>__||(__=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function v_(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const vP=Object.prototype.hasOwnProperty;function Tm(t,e){return vP.call(t,e)}const rn=Array.isArray,ln=t=>typeof t=="function",Ue=t=>typeof t=="string",nn=t=>typeof t=="boolean",mt=t=>t!==null&&typeof t=="object",F1=Object.prototype.toString,U1=t=>F1.call(t),ht=t=>{if(!mt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},bP=t=>t==null?"":rn(t)||ht(t)&&t.toString===F1?JSON.stringify(t,null,2):String(t);function Em(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function xm(t){let e=t;return()=>++e}function TP(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}/*!
  * message-compiler v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function EP(t,e,n){return{line:t,column:e,offset:n}}function Vp(t,e,n){const i={start:t,end:e};return n!=null&&(i.source=n),i}const vt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17};function pf(t,e,n={}){const{domain:i,messages:r,args:s}=n,a=t,o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=i,o}function xP(t){throw t}const qr=" ",SP="\r",Kn=`
`,CP=String.fromCharCode(8232),wP=String.fromCharCode(8233);function AP(t){const e=t;let n=0,i=1,r=1,s=0;const a=m=>e[m]===SP&&e[m+1]===Kn,o=m=>e[m]===Kn,u=m=>e[m]===wP,c=m=>e[m]===CP,d=m=>a(m)||o(m)||u(m)||c(m),p=()=>n,v=()=>i,C=()=>r,x=()=>s,L=m=>a(m)||u(m)||c(m)?Kn:e[m],O=()=>L(n),S=()=>L(n+s);function A(){return s=0,d(n)&&(i++,r=0),a(n)&&n++,n++,r++,e[n]}function M(){return a(n+s)&&s++,s++,e[n+s]}function I(){n=0,i=1,r=1,s=0}function N(m=0){s=m}function F(){const m=n+s;for(;m!==n;)A();s=0}return{index:p,line:v,column:C,peekOffset:x,charAt:L,currentChar:O,currentPeek:S,next:A,peek:M,reset:I,resetPeek:N,skipToPeek:F}}const vs=void 0,DP=".",b_="'",kP="tokenizer";function LP(t,e={}){const n=e.location!==!1,i=AP(t),r=()=>i.index(),s=()=>EP(i.line(),i.column(),i.index()),a=s(),o=r(),u={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>u,{onError:d}=e;function p(P,B,K,...ee){const oe=c();if(B.column+=K,B.offset+=K,d){const me=n?Vp(oe.startLoc,B):null,xe=pf(P,me,{domain:kP,args:ee});d(xe)}}function v(P,B,K){P.endLoc=s(),P.currentType=B;const ee={type:B};return n&&(ee.loc=Vp(P.startLoc,P.endLoc)),K!=null&&(ee.value=K),ee}const C=P=>v(P,14);function x(P,B){return P.currentChar()===B?(P.next(),B):(p(vt.EXPECTED_TOKEN,s(),0,B),"")}function L(P){let B="";for(;P.currentPeek()===qr||P.currentPeek()===Kn;)B+=P.currentPeek(),P.peek();return B}function O(P){const B=L(P);return P.skipToPeek(),B}function S(P){if(P===vs)return!1;const B=P.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B===95}function A(P){if(P===vs)return!1;const B=P.charCodeAt(0);return B>=48&&B<=57}function M(P,B){const{currentType:K}=B;if(K!==2)return!1;L(P);const ee=S(P.currentPeek());return P.resetPeek(),ee}function I(P,B){const{currentType:K}=B;if(K!==2)return!1;L(P);const ee=P.currentPeek()==="-"?P.peek():P.currentPeek(),oe=A(ee);return P.resetPeek(),oe}function N(P,B){const{currentType:K}=B;if(K!==2)return!1;L(P);const ee=P.currentPeek()===b_;return P.resetPeek(),ee}function F(P,B){const{currentType:K}=B;if(K!==8)return!1;L(P);const ee=P.currentPeek()===".";return P.resetPeek(),ee}function m(P,B){const{currentType:K}=B;if(K!==9)return!1;L(P);const ee=S(P.currentPeek());return P.resetPeek(),ee}function te(P,B){const{currentType:K}=B;if(!(K===8||K===12))return!1;L(P);const ee=P.currentPeek()===":";return P.resetPeek(),ee}function ie(P,B){const{currentType:K}=B;if(K!==10)return!1;const ee=()=>{const me=P.currentPeek();return me==="{"?S(P.peek()):me==="@"||me==="%"||me==="|"||me===":"||me==="."||me===qr||!me?!1:me===Kn?(P.peek(),ee()):S(me)},oe=ee();return P.resetPeek(),oe}function Te(P){L(P);const B=P.currentPeek()==="|";return P.resetPeek(),B}function Y(P){const B=L(P),K=P.currentPeek()==="%"&&P.peek()==="{";return P.resetPeek(),{isModulo:K,hasSpace:B.length>0}}function se(P,B=!0){const K=(oe=!1,me="",xe=!1)=>{const ve=P.currentPeek();return ve==="{"?me==="%"?!1:oe:ve==="@"||!ve?me==="%"?!0:oe:ve==="%"?(P.peek(),K(oe,"%",!0)):ve==="|"?me==="%"||xe?!0:!(me===qr||me===Kn):ve===qr?(P.peek(),K(!0,qr,xe)):ve===Kn?(P.peek(),K(!0,Kn,xe)):!0},ee=K();return B&&P.resetPeek(),ee}function J(P,B){const K=P.currentChar();return K===vs?vs:B(K)?(P.next(),K):null}function de(P){return J(P,K=>{const ee=K.charCodeAt(0);return ee>=97&&ee<=122||ee>=65&&ee<=90||ee>=48&&ee<=57||ee===95||ee===36})}function $e(P){return J(P,K=>{const ee=K.charCodeAt(0);return ee>=48&&ee<=57})}function Le(P){return J(P,K=>{const ee=K.charCodeAt(0);return ee>=48&&ee<=57||ee>=65&&ee<=70||ee>=97&&ee<=102})}function Re(P){let B="",K="";for(;B=$e(P);)K+=B;return K}function Ve(P){O(P);const B=P.currentChar();return B!=="%"&&p(vt.EXPECTED_TOKEN,s(),0,B),P.next(),"%"}function bt(P){let B="";for(;;){const K=P.currentChar();if(K==="{"||K==="}"||K==="@"||K==="|"||!K)break;if(K==="%")if(se(P))B+=K,P.next();else break;else if(K===qr||K===Kn)if(se(P))B+=K,P.next();else{if(Te(P))break;B+=K,P.next()}else B+=K,P.next()}return B}function Qt(P){O(P);let B="",K="";for(;B=de(P);)K+=B;return P.currentChar()===vs&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),K}function Ht(P){O(P);let B="";return P.currentChar()==="-"?(P.next(),B+=`-${Re(P)}`):B+=Re(P),P.currentChar()===vs&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),B}function xt(P){O(P),x(P,"'");let B="",K="";const ee=me=>me!==b_&&me!==Kn;for(;B=J(P,ee);)B==="\\"?K+=fn(P):K+=B;const oe=P.currentChar();return oe===Kn||oe===vs?(p(vt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),oe===Kn&&(P.next(),x(P,"'")),K):(x(P,"'"),K)}function fn(P){const B=P.currentChar();switch(B){case"\\":case"'":return P.next(),`\\${B}`;case"u":return In(P,B,4);case"U":return In(P,B,6);default:return p(vt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,B),""}}function In(P,B,K){x(P,B);let ee="";for(let oe=0;oe<K;oe++){const me=Le(P);if(!me){p(vt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${B}${ee}${P.currentChar()}`);break}ee+=me}return`\\${B}${ee}`}function yi(P){O(P);let B="",K="";const ee=oe=>oe!=="{"&&oe!=="}"&&oe!==qr&&oe!==Kn;for(;B=J(P,ee);)K+=B;return K}function qt(P){let B="",K="";for(;B=de(P);)K+=B;return K}function _e(P){const B=(K=!1,ee)=>{const oe=P.currentChar();return oe==="{"||oe==="%"||oe==="@"||oe==="|"||oe==="("||oe===")"||!oe||oe===qr?ee:oe===Kn||oe===DP?(ee+=oe,P.next(),B(K,ee)):(ee+=oe,P.next(),B(!0,ee))};return B(!1,"")}function Ie(P){O(P);const B=x(P,"|");return O(P),B}function Ae(P,B){let K=null;switch(P.currentChar()){case"{":return B.braceNest>=1&&p(vt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),P.next(),K=v(B,2,"{"),O(P),B.braceNest++,K;case"}":return B.braceNest>0&&B.currentType===2&&p(vt.EMPTY_PLACEHOLDER,s(),0),P.next(),K=v(B,3,"}"),B.braceNest--,B.braceNest>0&&O(P),B.inLinked&&B.braceNest===0&&(B.inLinked=!1),K;case"@":return B.braceNest>0&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),K=Pe(P,B)||C(B),B.braceNest=0,K;default:let oe=!0,me=!0,xe=!0;if(Te(P))return B.braceNest>0&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),K=v(B,1,Ie(P)),B.braceNest=0,B.inLinked=!1,K;if(B.braceNest>0&&(B.currentType===5||B.currentType===6||B.currentType===7))return p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),B.braceNest=0,rt(P,B);if(oe=M(P,B))return K=v(B,5,Qt(P)),O(P),K;if(me=I(P,B))return K=v(B,6,Ht(P)),O(P),K;if(xe=N(P,B))return K=v(B,7,xt(P)),O(P),K;if(!oe&&!me&&!xe)return K=v(B,13,yi(P)),p(vt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,K.value),O(P),K;break}return K}function Pe(P,B){const{currentType:K}=B;let ee=null;const oe=P.currentChar();switch((K===8||K===9||K===12||K===10)&&(oe===Kn||oe===qr)&&p(vt.INVALID_LINKED_FORMAT,s(),0),oe){case"@":return P.next(),ee=v(B,8,"@"),B.inLinked=!0,ee;case".":return O(P),P.next(),v(B,9,".");case":":return O(P),P.next(),v(B,10,":");default:return Te(P)?(ee=v(B,1,Ie(P)),B.braceNest=0,B.inLinked=!1,ee):F(P,B)||te(P,B)?(O(P),Pe(P,B)):m(P,B)?(O(P),v(B,12,qt(P))):ie(P,B)?(O(P),oe==="{"?Ae(P,B)||ee:v(B,11,_e(P))):(K===8&&p(vt.INVALID_LINKED_FORMAT,s(),0),B.braceNest=0,B.inLinked=!1,rt(P,B))}}function rt(P,B){let K={type:14};if(B.braceNest>0)return Ae(P,B)||C(B);if(B.inLinked)return Pe(P,B)||C(B);switch(P.currentChar()){case"{":return Ae(P,B)||C(B);case"}":return p(vt.UNBALANCED_CLOSING_BRACE,s(),0),P.next(),v(B,3,"}");case"@":return Pe(P,B)||C(B);default:if(Te(P))return K=v(B,1,Ie(P)),B.braceNest=0,B.inLinked=!1,K;const{isModulo:oe,hasSpace:me}=Y(P);if(oe)return me?v(B,0,bt(P)):v(B,4,Ve(P));if(se(P))return v(B,0,bt(P));break}return K}function V(){const{currentType:P,offset:B,startLoc:K,endLoc:ee}=u;return u.lastType=P,u.lastOffset=B,u.lastStartLoc=K,u.lastEndLoc=ee,u.offset=r(),u.startLoc=s(),i.currentChar()===vs?v(u,14):rt(i,u)}return{nextToken:V,currentOffset:r,currentPosition:s,context:c}}const IP="parser",PP=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function OP(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"�"}}}function RP(t={}){const e=t.location!==!1,{onError:n}=t;function i(S,A,M,I,...N){const F=S.currentPosition();if(F.offset+=I,F.column+=I,n){const m=e?Vp(M,F):null,te=pf(A,m,{domain:IP,args:N});n(te)}}function r(S,A,M){const I={type:S};return e&&(I.start=A,I.end=A,I.loc={start:M,end:M}),I}function s(S,A,M,I){I&&(S.type=I),e&&(S.end=A,S.loc&&(S.loc.end=M))}function a(S,A){const M=S.context(),I=r(3,M.offset,M.startLoc);return I.value=A,s(I,S.currentOffset(),S.currentPosition()),I}function o(S,A){const M=S.context(),{lastOffset:I,lastStartLoc:N}=M,F=r(5,I,N);return F.index=parseInt(A,10),S.nextToken(),s(F,S.currentOffset(),S.currentPosition()),F}function u(S,A){const M=S.context(),{lastOffset:I,lastStartLoc:N}=M,F=r(4,I,N);return F.key=A,S.nextToken(),s(F,S.currentOffset(),S.currentPosition()),F}function c(S,A){const M=S.context(),{lastOffset:I,lastStartLoc:N}=M,F=r(9,I,N);return F.value=A.replace(PP,OP),S.nextToken(),s(F,S.currentOffset(),S.currentPosition()),F}function d(S){const A=S.nextToken(),M=S.context(),{lastOffset:I,lastStartLoc:N}=M,F=r(8,I,N);return A.type!==12?(i(S,vt.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),F.value="",s(F,I,N),{nextConsumeToken:A,node:F}):(A.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,gr(A)),F.value=A.value||"",s(F,S.currentOffset(),S.currentPosition()),{node:F})}function p(S,A){const M=S.context(),I=r(7,M.offset,M.startLoc);return I.value=A,s(I,S.currentOffset(),S.currentPosition()),I}function v(S){const A=S.context(),M=r(6,A.offset,A.startLoc);let I=S.nextToken();if(I.type===9){const N=d(S);M.modifier=N.node,I=N.nextConsumeToken||S.nextToken()}switch(I.type!==10&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(I)),I=S.nextToken(),I.type===2&&(I=S.nextToken()),I.type){case 11:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(I)),M.key=p(S,I.value||"");break;case 5:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(I)),M.key=u(S,I.value||"");break;case 6:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(I)),M.key=o(S,I.value||"");break;case 7:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(I)),M.key=c(S,I.value||"");break;default:i(S,vt.UNEXPECTED_EMPTY_LINKED_KEY,A.lastStartLoc,0);const N=S.context(),F=r(7,N.offset,N.startLoc);return F.value="",s(F,N.offset,N.startLoc),M.key=F,s(M,N.offset,N.startLoc),{nextConsumeToken:I,node:M}}return s(M,S.currentOffset(),S.currentPosition()),{node:M}}function C(S){const A=S.context(),M=A.currentType===1?S.currentOffset():A.offset,I=A.currentType===1?A.endLoc:A.startLoc,N=r(2,M,I);N.items=[];let F=null;do{const ie=F||S.nextToken();switch(F=null,ie.type){case 0:ie.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(ie)),N.items.push(a(S,ie.value||""));break;case 6:ie.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(ie)),N.items.push(o(S,ie.value||""));break;case 5:ie.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(ie)),N.items.push(u(S,ie.value||""));break;case 7:ie.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,gr(ie)),N.items.push(c(S,ie.value||""));break;case 8:const Te=v(S);N.items.push(Te.node),F=Te.nextConsumeToken||null;break}}while(A.currentType!==14&&A.currentType!==1);const m=A.currentType===1?A.lastOffset:S.currentOffset(),te=A.currentType===1?A.lastEndLoc:S.currentPosition();return s(N,m,te),N}function x(S,A,M,I){const N=S.context();let F=I.items.length===0;const m=r(1,A,M);m.cases=[],m.cases.push(I);do{const te=C(S);F||(F=te.items.length===0),m.cases.push(te)}while(N.currentType!==14);return F&&i(S,vt.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),s(m,S.currentOffset(),S.currentPosition()),m}function L(S){const A=S.context(),{offset:M,startLoc:I}=A,N=C(S);return A.currentType===14?N:x(S,M,I,N)}function O(S){const A=LP(S,xn({},t)),M=A.context(),I=r(0,M.offset,M.startLoc);return e&&I.loc&&(I.loc.source=S),I.body=L(A),t.onCacheKey&&(I.cacheKey=t.onCacheKey(S)),M.currentType!==14&&i(A,vt.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,S[M.offset]||""),s(I,A.currentOffset(),A.currentPosition()),I}return{parse:O}}function gr(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function NP(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function T_(t,e){for(let n=0;n<t.length;n++)Sm(t[n],e)}function Sm(t,e){switch(t.type){case 1:T_(t.cases,e),e.helper("plural");break;case 2:T_(t.items,e);break;case 6:Sm(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function MP(t,e={}){const n=NP(t);n.helper("normalize"),t.body&&Sm(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function BP(t){const e=t.body;return e.type===2?E_(e):e.cases.forEach(n=>E_(n)),t}function E_(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=Em(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}function go(t){switch(t.t=t.type,t.type){case 0:const e=t;go(e.body),e.b=e.body,delete e.body;break;case 1:const n=t,i=n.cases;for(let d=0;d<i.length;d++)go(i[d]);n.c=i,delete n.cases;break;case 2:const r=t,s=r.items;for(let d=0;d<s.length;d++)go(s[d]);r.i=s,delete r.items,r.static&&(r.s=r.static,delete r.static);break;case 3:case 9:case 8:case 7:const a=t;a.value&&(a.v=a.value,delete a.value);break;case 6:const o=t;go(o.key),o.k=o.key,delete o.key,o.modifier&&(go(o.modifier),o.m=o.modifier,delete o.modifier);break;case 5:const u=t;u.i=u.index,delete u.index;break;case 4:const c=t;c.k=c.key,delete c.key;break}delete t.type}function FP(t,e){const{sourceMap:n,filename:i,breakLineCode:r,needIndent:s}=e,a=e.location!==!1,o={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const u=()=>o;function c(O,S){o.code+=O}function d(O,S=!0){const A=S?r:"";c(s?A+"  ".repeat(O):A)}function p(O=!0){const S=++o.indentLevel;O&&d(S)}function v(O=!0){const S=--o.indentLevel;O&&d(S)}function C(){d(o.indentLevel)}return{context:u,push:c,indent:p,deindent:v,newline:C,helper:O=>`_${O}`,needIndent:()=>o.needIndent}}function UP(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),jo(t,e.key),e.modifier?(t.push(", "),jo(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function jP(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(jo(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function $P(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(jo(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function HP(t,e){e.body?jo(t,e.body):t.push("null")}function jo(t,e){const{helper:n}=t;switch(e.type){case 0:HP(t,e);break;case 1:$P(t,e);break;case 2:jP(t,e);break;case 6:UP(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const qP=(t,e={})=>{const n=Ue(e.mode)?e.mode:"normal",i=Ue(e.filename)?e.filename:"message.intl",r=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],u=FP(t,{mode:n,filename:i,sourceMap:r,breakLineCode:s,needIndent:a});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(a),o.length>0&&(u.push(`const { ${Em(o.map(p=>`${p}: _${p}`),", ")} } = ctx`),u.newline()),u.push("return "),jo(u,t),u.deindent(a),u.push("}"),delete t.helpers;const{code:c,map:d}=u.context();return{ast:t,code:c,map:d?d.toJSON():void 0}};function VP(t,e={}){const n=xn({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=RP(n).parse(t);return i?(s&&BP(o),r&&go(o),{ast:o,code:""}):(MP(o,n),qP(o,n))}/*!
  * devtools-if v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const j1={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function WP(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(bm().__INTLIFY_PROD_DEVTOOLS__=!1)}const Fs=[];Fs[0]={w:[0],i:[3,0],"[":[4],o:[7]};Fs[1]={w:[1],".":[2],"[":[4],o:[7]};Fs[2]={w:[2],i:[3,0],0:[3,0]};Fs[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Fs[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Fs[5]={"'":[4,0],o:8,l:[5,0]};Fs[6]={'"':[4,0],o:8,l:[6,0]};const zP=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function GP(t){return zP.test(t)}function KP(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function XP(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function YP(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:GP(e)?KP(e):"*"+e}function QP(t){const e=[];let n=-1,i=0,r=0,s,a,o,u,c,d,p;const v=[];v[0]=()=>{a===void 0?a=o:a+=o},v[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},v[2]=()=>{v[0](),r++},v[3]=()=>{if(r>0)r--,i=4,v[0]();else{if(r=0,a===void 0||(a=YP(a),a===!1))return!1;v[1]()}};function C(){const x=t[n+1];if(i===5&&x==="'"||i===6&&x==='"')return n++,o="\\"+x,v[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&C())){if(u=XP(s),p=Fs[i],c=p[u]||p.l||8,c===8||(i=c[0],c[1]!==void 0&&(d=v[c[1]],d&&(o=s,d()===!1))))return;if(i===7)return e}}const x_=new Map;function JP(t,e){return mt(t)?t[e]:null}function ZP(t,e){if(!mt(t))return null;let n=x_.get(e);if(n||(n=QP(e),n&&x_.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const a=r[n[s]];if(a===void 0)return null;r=a,s++}return r}const eO=t=>t,tO=t=>"",nO="text",iO=t=>t.length===0?"":Em(t),rO=bP;function S_(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function sO(t){const e=bn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(bn(t.named.count)||bn(t.named.n))?bn(t.named.count)?t.named.count:bn(t.named.n)?t.named.n:e:e}function aO(t,e){e.count||(e.count=t),e.n||(e.n=t)}function oO(t={}){const e=t.locale,n=sO(t),i=mt(t.pluralRules)&&Ue(e)&&ln(t.pluralRules[e])?t.pluralRules[e]:S_,r=mt(t.pluralRules)&&Ue(e)&&ln(t.pluralRules[e])?S_:void 0,s=S=>S[i(n,S.length,r)],a=t.list||[],o=S=>a[S],u=t.named||{};bn(t.pluralIndex)&&aO(n,u);const c=S=>u[S];function d(S){const A=ln(t.messages)?t.messages(S):mt(t.messages)?t.messages[S]:!1;return A||(t.parent?t.parent.message(S):tO)}const p=S=>t.modifiers?t.modifiers[S]:eO,v=ht(t.processor)&&ln(t.processor.normalize)?t.processor.normalize:iO,C=ht(t.processor)&&ln(t.processor.interpolate)?t.processor.interpolate:rO,x=ht(t.processor)&&Ue(t.processor.type)?t.processor.type:nO,O={list:o,named:c,plural:s,linked:(S,...A)=>{const[M,I]=A;let N="text",F="";A.length===1?mt(M)?(F=M.modifier||F,N=M.type||N):Ue(M)&&(F=M||F):A.length===2&&(Ue(M)&&(F=M||F),Ue(I)&&(N=I||N));const m=d(S)(O),te=N==="vnode"&&rn(m)&&F?m[0]:m;return F?p(F)(te,N):te},message:d,type:x,interpolate:C,normalize:v,values:xn({},a,u)};return O}let xl=null;function uO(t){xl=t}function lO(t,e,n){xl&&xl.emit(j1.I18nInit,{timestamp:Date.now(),i18n:t,version:e,meta:n})}const cO=dO(j1.FunctionTranslate);function dO(t){return e=>xl&&xl.emit(t,e)}const fO={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function hO(t,e,n){return[...new Set([n,...rn(e)?e:mt(e)?Object.keys(e):Ue(e)?[e]:[n]])]}function $1(t,e,n){const i=Ue(n)?n:Cm,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let a=[n];for(;rn(a);)a=C_(s,a,e);const o=rn(e)||!ht(e)?e:e.default?e.default:null;a=Ue(o)?[o]:o,rn(a)&&C_(s,a,!1),r.__localeChainCache.set(i,s)}return s}function C_(t,e,n){let i=!0;for(let r=0;r<e.length&&nn(i);r++){const s=e[r];Ue(s)&&(i=pO(t,e[r],n))}return i}function pO(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=gO(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function gO(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(rn(n)||ht(n))&&n[r]&&(i=n[r])}return i}const mO="9.3.0-beta.27",gf=-1,Cm="en-US",w_="",A_=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function yO(){return{upper:(t,e)=>e==="text"&&Ue(t)?t.toUpperCase():e==="vnode"&&mt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ue(t)?t.toLowerCase():e==="vnode"&&mt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ue(t)?A_(t):e==="vnode"&&mt(t)&&"__v_isVNode"in t?A_(t.children):t}}let H1;function _O(t){H1=t}let q1;function vO(t){q1=t}let V1;function bO(t){V1=t}let W1=null;const D_=t=>{W1=t},TO=()=>W1;let z1=null;const k_=t=>{z1=t},EO=()=>z1;let L_=0;function xO(t={}){const e=ln(t.onWarn)?t.onWarn:TP,n=Ue(t.version)?t.version:mO,i=Ue(t.locale)?t.locale:Cm,r=rn(t.fallbackLocale)||ht(t.fallbackLocale)||Ue(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,s=ht(t.messages)?t.messages:{[i]:{}},a=ht(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},o=ht(t.numberFormats)?t.numberFormats:{[i]:{}},u=xn({},t.modifiers||{},yO()),c=t.pluralRules||{},d=ln(t.missing)?t.missing:null,p=nn(t.missingWarn)||bd(t.missingWarn)?t.missingWarn:!0,v=nn(t.fallbackWarn)||bd(t.fallbackWarn)?t.fallbackWarn:!0,C=!!t.fallbackFormat,x=!!t.unresolving,L=ln(t.postTranslation)?t.postTranslation:null,O=ht(t.processor)?t.processor:null,S=nn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,A=!!t.escapeParameter,M=ln(t.messageCompiler)?t.messageCompiler:H1,I=ln(t.messageResolver)?t.messageResolver:q1||JP,N=ln(t.localeFallbacker)?t.localeFallbacker:V1||hO,F=mt(t.fallbackContext)?t.fallbackContext:void 0,m=t,te=mt(m.__datetimeFormatters)?m.__datetimeFormatters:new Map,ie=mt(m.__numberFormatters)?m.__numberFormatters:new Map,Te=mt(m.__meta)?m.__meta:{};L_++;const Y={version:n,cid:L_,locale:i,fallbackLocale:r,messages:s,modifiers:u,pluralRules:c,missing:d,missingWarn:p,fallbackWarn:v,fallbackFormat:C,unresolving:x,postTranslation:L,processor:O,warnHtmlMessage:S,escapeParameter:A,messageCompiler:M,messageResolver:I,localeFallbacker:N,fallbackContext:F,onWarn:e,__meta:Te};return Y.datetimeFormats=a,Y.numberFormats=o,Y.__datetimeFormatters=te,Y.__numberFormatters=ie,__INTLIFY_PROD_DEVTOOLS__&&lO(Y,n,Te),Y}function wm(t,e,n,i,r){const{missing:s,onWarn:a}=t;if(s!==null){const o=s(t,n,e,r);return Ue(o)?o:e}else return e}function Bu(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function Uh(t){return n=>SO(n,t)}function SO(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const i=n,r=i.c||i.cases;return t.plural(r.reduce((s,a)=>[...s,I_(t,a)],[]))}else return I_(t,n)}function I_(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const i=(e.i||e.items).reduce((r,s)=>[...r,Wp(t,s)],[]);return t.normalize(i)}}function Wp(t,e){const n=e.t||e.type;switch(n){case 3:const i=e;return i.v||i.value;case 9:const r=e;return r.v||r.value;case 4:const s=e;return t.interpolate(t.named(s.k||s.key));case 5:const a=e;return t.interpolate(t.list(a.i||a.index));case 6:const o=e,u=o.m||o.modifier;return t.linked(Wp(t,o.k||o.key),u?Wp(t,u):void 0,t.type);case 7:const c=e;return c.v||c.value;case 8:const d=e;return d.v||d.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const G1=vt.__EXTEND_POINT__,jc=xm(G1),xa={INVALID_ARGUMENT:G1,INVALID_DATE_ARGUMENT:jc(),INVALID_ISO_DATE_ARGUMENT:jc(),NOT_SUPPORT_NON_STRING_MESSAGE:jc(),__EXTEND_POINT__:jc()};function yo(t){return pf(t,null,void 0)}const CO=t=>t;let $c=Object.create(null);const Sl=t=>mt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function wO(t,e={}){let n=!1;const i=e.onError||xP;return e.onError=r=>{n=!0,i(r)},{...VP(t,e),detectError:n}}function AO(t,e){if(Ue(t)){nn(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||CO)(t),r=$c[i];if(r)return r;const{ast:s,detectError:a}=wO(t,{...e,location:!1,jit:!0}),o=Uh(s);return a?o:$c[i]=o}else{const n=t.cacheKey;if(n){const i=$c[n];return i||($c[n]=Uh(t))}else return Uh(t)}}const P_=()=>"",Zi=t=>ln(t);function O_(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:a,messages:o}=t,[u,c]=zp(...e),d=nn(c.missingWarn)?c.missingWarn:t.missingWarn,p=nn(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,v=nn(c.escapeParameter)?c.escapeParameter:t.escapeParameter,C=!!c.resolvedMessage,x=Ue(c.default)||nn(c.default)?nn(c.default)?s?u:()=>u:c.default:n?s?u:()=>u:"",L=n||x!=="",O=Ue(c.locale)?c.locale:t.locale;v&&DO(c);let[S,A,M]=C?[u,O,o[O]||{}]:K1(t,u,O,a,p,d),I=S,N=u;if(!C&&!(Ue(I)||Sl(I)||Zi(I))&&L&&(I=x,N=I),!C&&(!(Ue(I)||Sl(I)||Zi(I))||!Ue(A)))return r?gf:u;let F=!1;const m=()=>{F=!0},te=Zi(I)?I:X1(t,u,A,I,N,m);if(F)return I;const ie=IO(t,A,M,c),Te=oO(ie),Y=kO(t,te,Te),se=i?i(Y,u):Y;if(__INTLIFY_PROD_DEVTOOLS__){const J={timestamp:Date.now(),key:Ue(u)?u:Zi(I)?I.key:"",locale:A||(Zi(I)?I.locale:""),format:Ue(I)?I:Zi(I)?I.source:"",message:se};J.meta=xn({},t.__meta,TO()||{}),cO(J)}return se}function DO(t){rn(t.list)?t.list=t.list.map(e=>Ue(e)?v_(e):e):mt(t.named)&&Object.keys(t.named).forEach(e=>{Ue(t.named[e])&&(t.named[e]=v_(t.named[e]))})}function K1(t,e,n,i,r,s){const{messages:a,onWarn:o,messageResolver:u,localeFallbacker:c}=t,d=c(t,i,n);let p={},v,C=null;const x="translate";for(let L=0;L<d.length&&(v=d[L],p=a[v]||{},(C=u(p,e))===null&&(C=p[e]),!(Ue(C)||Sl(C)||Zi(C)));L++){const O=wm(t,e,v,s,x);O!==e&&(C=O)}return[C,v,p]}function X1(t,e,n,i,r,s){const{messageCompiler:a,warnHtmlMessage:o}=t;if(Zi(i)){const c=i;return c.locale=c.locale||n,c.key=c.key||e,c}if(a==null){const c=()=>i;return c.locale=n,c.key=e,c}const u=a(i,LO(t,n,r,i,o,s));return u.locale=n,u.key=e,u.source=i,u}function kO(t,e,n){return e(n)}function zp(...t){const[e,n,i]=t,r={};if(!Ue(e)&&!bn(e)&&!Zi(e)&&!Sl(e))throw yo(xa.INVALID_ARGUMENT);const s=bn(e)?String(e):(Zi(e),e);return bn(n)?r.plural=n:Ue(n)?r.default=n:ht(n)&&!hf(n)?r.named=n:rn(n)&&(r.list=n),bn(i)?r.plural=i:Ue(i)?r.default=i:ht(i)&&xn(r,i),[s,r]}function LO(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:a=>{throw s&&s(a),a},onCacheKey:a=>mP(e,n,a)}}function IO(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:u,missingWarn:c,fallbackContext:d}=t,v={locale:e,modifiers:r,pluralRules:s,messages:C=>{let x=a(n,C);if(x==null&&d){const[,,L]=K1(d,C,e,o,u,c);x=a(L,C)}if(Ue(x)||Sl(x)){let L=!1;const S=X1(t,C,e,x,C,()=>{L=!0});return L?P_:S}else return Zi(x)?x:P_}};return t.processor&&(v.processor=t.processor),i.list&&(v.list=i.list),i.named&&(v.named=i.named),bn(i.plural)&&(v.pluralIndex=i.plural),v}function R_(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:o}=t,[u,c,d,p]=Gp(...e),v=nn(d.missingWarn)?d.missingWarn:t.missingWarn;nn(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn;const C=!!d.part,x=Ue(d.locale)?d.locale:t.locale,L=a(t,r,x);if(!Ue(u)||u==="")return new Intl.DateTimeFormat(x,p).format(c);let O={},S,A=null;const M="datetime format";for(let F=0;F<L.length&&(S=L[F],O=n[S]||{},A=O[u],!ht(A));F++)wm(t,u,S,v,M);if(!ht(A)||!Ue(S))return i?gf:u;let I=`${S}__${u}`;hf(p)||(I=`${I}__${JSON.stringify(p)}`);let N=o.get(I);return N||(N=new Intl.DateTimeFormat(S,xn({},A,p)),o.set(I,N)),C?N.formatToParts(c):N.format(c)}const Y1=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Gp(...t){const[e,n,i,r]=t,s={};let a={},o;if(Ue(e)){const u=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw yo(xa.INVALID_ISO_DATE_ARGUMENT);const c=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();o=new Date(c);try{o.toISOString()}catch{throw yo(xa.INVALID_ISO_DATE_ARGUMENT)}}else if(_P(e)){if(isNaN(e.getTime()))throw yo(xa.INVALID_DATE_ARGUMENT);o=e}else if(bn(e))o=e;else throw yo(xa.INVALID_ARGUMENT);return Ue(n)?s.key=n:ht(n)&&Object.keys(n).forEach(u=>{Y1.includes(u)?a[u]=n[u]:s[u]=n[u]}),Ue(i)?s.locale=i:ht(i)&&(a=i),ht(r)&&(a=r),[s.key||"",o,s,a]}function N_(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function M_(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:o}=t,[u,c,d,p]=Kp(...e),v=nn(d.missingWarn)?d.missingWarn:t.missingWarn;nn(d.fallbackWarn)?d.fallbackWarn:t.fallbackWarn;const C=!!d.part,x=Ue(d.locale)?d.locale:t.locale,L=a(t,r,x);if(!Ue(u)||u==="")return new Intl.NumberFormat(x,p).format(c);let O={},S,A=null;const M="number format";for(let F=0;F<L.length&&(S=L[F],O=n[S]||{},A=O[u],!ht(A));F++)wm(t,u,S,v,M);if(!ht(A)||!Ue(S))return i?gf:u;let I=`${S}__${u}`;hf(p)||(I=`${I}__${JSON.stringify(p)}`);let N=o.get(I);return N||(N=new Intl.NumberFormat(S,xn({},A,p)),o.set(I,N)),C?N.formatToParts(c):N.format(c)}const Q1=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Kp(...t){const[e,n,i,r]=t,s={};let a={};if(!bn(e))throw yo(xa.INVALID_ARGUMENT);const o=e;return Ue(n)?s.key=n:ht(n)&&Object.keys(n).forEach(u=>{Q1.includes(u)?a[u]=n[u]:s[u]=n[u]}),Ue(i)?s.locale=i:ht(i)&&(a=i),ht(r)&&(a=r),[s.key||"",o,s,a]}function B_(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}WP();/*!
  * vue-i18n v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const PO="9.3.0-beta.27";function OO(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(bm().__INTLIFY_PROD_DEVTOOLS__=!1)}const J1=fO.__EXTEND_POINT__,bs=xm(J1);bs(),bs(),bs(),bs(),bs(),bs(),bs(),bs();const Z1=xa.__EXTEND_POINT__,oi=xm(Z1),Ii={UNEXPECTED_RETURN_TYPE:Z1,INVALID_ARGUMENT:oi(),MUST_BE_CALL_SETUP_TOP:oi(),NOT_INSTALLED:oi(),NOT_AVAILABLE_IN_LEGACY_MODE:oi(),REQUIRED_VALUE:oi(),INVALID_VALUE:oi(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:oi(),NOT_INSTALLED_WITH_PROVIDE:oi(),UNEXPECTED_ERROR:oi(),NOT_COMPATIBLE_LEGACY_VUE_I18N:oi(),BRIDGE_SUPPORT_VUE_2_ONLY:oi(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:oi(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:oi(),__EXTEND_POINT__:oi()};function Vi(t,...e){return pf(t,null,void 0)}const Xp=Bs("__translateVNode"),Yp=Bs("__datetimeParts"),Qp=Bs("__numberParts"),RO=Bs("__setPluralRules"),NO=Bs("__injectWithOption"),Jp=Bs("__dispose");function Zp(t){if(!mt(t))return t;for(const e in t)if(Tm(t,e))if(!e.includes("."))mt(t[e])&&Zp(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let a=0;a<i;a++){if(n[a]in r||(r[n[a]]={}),!mt(r[n[a]])){s=!0;break}r=r[n[a]]}s||(r[n[i]]=t[e],delete t[e]),mt(r[n[i]])&&Zp(r[n[i]])}return t}function e2(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,a=ht(n)?n:rn(i)?{}:{[t]:{}};if(rn(i)&&i.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:u,resource:c}=o;u?(a[u]=a[u]||{},ul(c,a[u])):ul(c,a)}else Ue(o)&&ul(JSON.parse(o),a)}),r==null&&s)for(const o in a)Tm(a,o)&&Zp(a[o]);return a}const Hc=t=>!mt(t)||rn(t);function ul(t,e){if(Hc(t)||Hc(e))throw Vi(Ii.INVALID_VALUE);for(const n in t)Tm(t,n)&&(Hc(t[n])||Hc(e[n])?e[n]=t[n]:ul(t[n],e[n]))}function t2(t){return t.type}function MO(t,e,n){let i=mt(e.messages)?e.messages:{};"__i18nGlobal"in n&&(i=e2(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(mt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(mt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function F_(t){return Ut(Ra,null,t,0)}const U_="__INTLIFY_META__";let j_=0;function $_(t){return(e,n,i,r)=>t(n,i,ss()||void 0,r)}const BO=()=>{const t=ss();let e=null;return t&&(e=t2(t)[U_])?{[U_]:e}:null};function n2(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0;let s=nn(t.inheritLocale)?t.inheritLocale:!0;const a=Et(n&&s?n.locale.value:Ue(t.locale)?t.locale:Cm),o=Et(n&&s?n.fallbackLocale.value:Ue(t.fallbackLocale)||rn(t.fallbackLocale)||ht(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),u=Et(e2(a.value,t)),c=Et(ht(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),d=Et(ht(t.numberFormats)?t.numberFormats:{[a.value]:{}});let p=n?n.missingWarn:nn(t.missingWarn)||bd(t.missingWarn)?t.missingWarn:!0,v=n?n.fallbackWarn:nn(t.fallbackWarn)||bd(t.fallbackWarn)?t.fallbackWarn:!0,C=n?n.fallbackRoot:nn(t.fallbackRoot)?t.fallbackRoot:!0,x=!!t.fallbackFormat,L=ln(t.missing)?t.missing:null,O=ln(t.missing)?$_(t.missing):null,S=ln(t.postTranslation)?t.postTranslation:null,A=n?n.warnHtmlMessage:nn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,M=!!t.escapeParameter;const I=n?n.modifiers:ht(t.modifiers)?t.modifiers:{};let N=t.pluralRules||n&&n.pluralRules,F;F=(()=>{r&&k_(null);const ne={version:PO,locale:a.value,fallbackLocale:o.value,messages:u.value,modifiers:I,pluralRules:N,missing:O===null?void 0:O,missingWarn:p,fallbackWarn:v,fallbackFormat:x,unresolving:!0,postTranslation:S===null?void 0:S,warnHtmlMessage:A,escapeParameter:M,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ne.datetimeFormats=c.value,ne.numberFormats=d.value,ne.__datetimeFormatters=ht(F)?F.__datetimeFormatters:void 0,ne.__numberFormatters=ht(F)?F.__numberFormatters:void 0;const ue=xO(ne);return r&&k_(ue),ue})(),Bu(F,a.value,o.value);function te(){return[a.value,o.value,u.value,c.value,d.value]}const ie=dt({get:()=>a.value,set:ne=>{a.value=ne,F.locale=a.value}}),Te=dt({get:()=>o.value,set:ne=>{o.value=ne,F.fallbackLocale=o.value,Bu(F,a.value,ne)}}),Y=dt(()=>u.value),se=dt(()=>c.value),J=dt(()=>d.value);function de(){return ln(S)?S:null}function $e(ne){S=ne,F.postTranslation=ne}function Le(){return L}function Re(ne){ne!==null&&(O=$_(ne)),L=ne,F.missing=O}const Ve=(ne,ue,be,Be,ut,st)=>{te();let yt;try{__INTLIFY_PROD_DEVTOOLS__&&D_(BO()),r||(F.fallbackContext=n?EO():void 0),yt=ne(F)}finally{__INTLIFY_PROD_DEVTOOLS__&&D_(null),r||(F.fallbackContext=void 0)}if(bn(yt)&&yt===gf){const[hn,_i]=ue();return n&&C?Be(n):ut(hn)}else{if(st(yt))return yt;throw Vi(Ii.UNEXPECTED_RETURN_TYPE)}};function bt(...ne){return Ve(ue=>Reflect.apply(O_,null,[ue,...ne]),()=>zp(...ne),"translate",ue=>Reflect.apply(ue.t,ue,[...ne]),ue=>ue,ue=>Ue(ue))}function Qt(...ne){const[ue,be,Be]=ne;if(Be&&!mt(Be))throw Vi(Ii.INVALID_ARGUMENT);return bt(ue,be,xn({resolvedMessage:!0},Be||{}))}function Ht(...ne){return Ve(ue=>Reflect.apply(R_,null,[ue,...ne]),()=>Gp(...ne),"datetime format",ue=>Reflect.apply(ue.d,ue,[...ne]),()=>w_,ue=>Ue(ue))}function xt(...ne){return Ve(ue=>Reflect.apply(M_,null,[ue,...ne]),()=>Kp(...ne),"number format",ue=>Reflect.apply(ue.n,ue,[...ne]),()=>w_,ue=>Ue(ue))}function fn(ne){return ne.map(ue=>Ue(ue)||bn(ue)||nn(ue)?F_(String(ue)):ue)}const yi={normalize:fn,interpolate:ne=>ne,type:"vnode"};function qt(...ne){return Ve(ue=>{let be;const Be=ue;try{Be.processor=yi,be=Reflect.apply(O_,null,[Be,...ne])}finally{Be.processor=null}return be},()=>zp(...ne),"translate",ue=>ue[Xp](...ne),ue=>[F_(ue)],ue=>rn(ue))}function _e(...ne){return Ve(ue=>Reflect.apply(M_,null,[ue,...ne]),()=>Kp(...ne),"number format",ue=>ue[Qp](...ne),()=>[],ue=>Ue(ue)||rn(ue))}function Ie(...ne){return Ve(ue=>Reflect.apply(R_,null,[ue,...ne]),()=>Gp(...ne),"datetime format",ue=>ue[Yp](...ne),()=>[],ue=>Ue(ue)||rn(ue))}function Ae(ne){N=ne,F.pluralRules=N}function Pe(ne,ue){const be=Ue(ue)?ue:a.value,Be=P(be);return F.messageResolver(Be,ne)!==null}function rt(ne){let ue=null;const be=$1(F,o.value,a.value);for(let Be=0;Be<be.length;Be++){const ut=u.value[be[Be]]||{},st=F.messageResolver(ut,ne);if(st!=null){ue=st;break}}return ue}function V(ne){const ue=rt(ne);return ue??(n?n.tm(ne)||{}:{})}function P(ne){return u.value[ne]||{}}function B(ne,ue){u.value[ne]=ue,F.messages=u.value}function K(ne,ue){u.value[ne]=u.value[ne]||{},ul(ue,u.value[ne]),F.messages=u.value}function ee(ne){return c.value[ne]||{}}function oe(ne,ue){c.value[ne]=ue,F.datetimeFormats=c.value,N_(F,ne,ue)}function me(ne,ue){c.value[ne]=xn(c.value[ne]||{},ue),F.datetimeFormats=c.value,N_(F,ne,ue)}function xe(ne){return d.value[ne]||{}}function ve(ne,ue){d.value[ne]=ue,F.numberFormats=d.value,B_(F,ne,ue)}function Se(ne,ue){d.value[ne]=xn(d.value[ne]||{},ue),F.numberFormats=d.value,B_(F,ne,ue)}j_++,n&&qp&&(gn(n.locale,ne=>{s&&(a.value=ne,F.locale=ne,Bu(F,a.value,o.value))}),gn(n.fallbackLocale,ne=>{s&&(o.value=ne,F.fallbackLocale=ne,Bu(F,a.value,o.value))}));const De={id:j_,locale:ie,fallbackLocale:Te,get inheritLocale(){return s},set inheritLocale(ne){s=ne,ne&&n&&(a.value=n.locale.value,o.value=n.fallbackLocale.value,Bu(F,a.value,o.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:Y,get modifiers(){return I},get pluralRules(){return N||{}},get isGlobal(){return r},get missingWarn(){return p},set missingWarn(ne){p=ne,F.missingWarn=p},get fallbackWarn(){return v},set fallbackWarn(ne){v=ne,F.fallbackWarn=v},get fallbackRoot(){return C},set fallbackRoot(ne){C=ne},get fallbackFormat(){return x},set fallbackFormat(ne){x=ne,F.fallbackFormat=x},get warnHtmlMessage(){return A},set warnHtmlMessage(ne){A=ne,F.warnHtmlMessage=ne},get escapeParameter(){return M},set escapeParameter(ne){M=ne,F.escapeParameter=ne},t:bt,getLocaleMessage:P,setLocaleMessage:B,mergeLocaleMessage:K,getPostTranslationHandler:de,setPostTranslationHandler:$e,getMissingHandler:Le,setMissingHandler:Re,[RO]:Ae};return De.datetimeFormats=se,De.numberFormats=J,De.rt=Qt,De.te=Pe,De.tm=V,De.d=Ht,De.n=xt,De.getDateTimeFormat=ee,De.setDateTimeFormat=oe,De.mergeDateTimeFormat=me,De.getNumberFormat=xe,De.setNumberFormat=ve,De.mergeNumberFormat=Se,De[NO]=i,De[Xp]=qt,De[Yp]=Ie,De[Qp]=_e,De}const Am={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function FO({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((i,r)=>[...i,...r.type===Rn?r.children:[r]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},{})}function i2(t){return Rn}const UO=Fn({name:"i18n-t",props:xn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>bn(t)||!isNaN(t)}},Am),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||su({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(p=>p!=="_"),a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Ue(t.plural)?+t.plural:t.plural);const o=FO(e,s),u=r[Xp](t.keypath,o,a),c=xn({},i),d=Ue(t.tag)||mt(t.tag)?t.tag:i2();return Ln(d,c,u)}}}),H_=UO;function jO(t){return rn(t)&&!Ue(t[0])}function r2(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),Ue(t.format)?a.key=t.format:mt(t.format)&&(Ue(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((v,C)=>n.includes(C)?xn({},v,{[C]:t.format[C]}):v,{}));const u=i(t.value,a,o);let c=[a.key];rn(u)?c=u.map((v,C)=>{const x=r[v.type],L=x?x({[v.type]:v.value,index:C,parts:u}):[v.value];return jO(L)&&(L[0].key=`${v.type}-${C}`),L}):Ue(u)&&(c=[u]);const d=xn({},s),p=Ue(t.tag)||mt(t.tag)?t.tag:i2();return Ln(p,d,c)}}const $O=Fn({name:"i18n-n",props:xn({value:{type:Number,required:!0},format:{type:[String,Object]}},Am),setup(t,e){const n=t.i18n||su({useScope:"parent",__useComponent:!0});return r2(t,e,Q1,(...i)=>n[Qp](...i))}}),q_=$O,HO=Fn({name:"i18n-d",props:xn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Am),setup(t,e){const n=t.i18n||su({useScope:"parent",__useComponent:!0});return r2(t,e,Y1,(...i)=>n[Yp](...i))}}),V_=HO;function qO(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function VO(t){const e=a=>{const{instance:o,modifiers:u,value:c}=a;if(!o||!o.$)throw Vi(Ii.UNEXPECTED_ERROR);const d=qO(t,o.$),p=W_(c);return[Reflect.apply(d.t,d,[...z_(p)]),d]};return{created:(a,o)=>{const[u,c]=e(o);qp&&t.global===c&&(a.__i18nWatcher=gn(c.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=c,a.textContent=u},unmounted:a=>{qp&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const u=a.__composer,c=W_(o);a.textContent=Reflect.apply(u.t,u,[...z_(c)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function W_(t){if(Ue(t))return{path:t};if(ht(t)){if(!("path"in t))throw Vi(Ii.REQUIRED_VALUE,"path");return t}else throw Vi(Ii.INVALID_VALUE)}function z_(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,a={},o=i||{};return Ue(n)&&(a.locale=n),bn(r)&&(a.plural=r),bn(s)&&(a.plural=s),[e,o,a]}function WO(t,e,...n){const i=ht(n[0])?n[0]:{},r=!!i.useI18nComponentName;(nn(i.globalInstall)?i.globalInstall:!0)&&([r?"i18n":H_.name,"I18nT"].forEach(a=>t.component(a,H_)),[q_.name,"I18nN"].forEach(a=>t.component(a,q_)),[V_.name,"I18nD"].forEach(a=>t.component(a,V_))),t.directive("t",VO(e))}const zO=Bs("global-vue-i18n");function GO(t={},e){const n=nn(t.globalInjection)?t.globalInjection:!0,i=!0,r=new Map,[s,a]=KO(t),o=Bs("");function u(p){return r.get(p)||null}function c(p,v){r.set(p,v)}function d(p){r.delete(p)}{const p={get mode(){return"composition"},get allowComposition(){return i},async install(v,...C){if(v.__VUE_I18N_SYMBOL__=o,v.provide(v.__VUE_I18N_SYMBOL__,p),ht(C[0])){const O=C[0];p.__composerExtend=O.__composerExtend,p.__vueI18nExtend=O.__vueI18nExtend}let x=null;n&&(x=nR(v,p.global)),WO(v,p,...C);const L=v.unmount;v.unmount=()=>{x&&x(),p.dispose(),L()}},get global(){return a},dispose(){s.stop()},__instances:r,__getInstance:u,__setInstance:c,__deleteInstance:d};return p}}function su(t={}){const e=ss();if(e==null)throw Vi(Ii.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Vi(Ii.NOT_INSTALLED);const n=XO(e),i=QO(n),r=t2(e),s=YO(t,r);if(s==="global")return MO(i,t,r),i;if(s==="parent"){let u=JO(n,e,t.__useComponent);return u==null&&(u=i),u}const a=n;let o=a.__getInstance(e);if(o==null){const u=xn({},t);"__i18n"in r&&(u.__i18n=r.__i18n),i&&(u.__root=i),o=n2(u),a.__composerExtend&&(o[Jp]=a.__composerExtend(o)),eR(a,e,o),a.__setInstance(e,o)}return o}function KO(t,e,n){const i=Wg();{const r=i.run(()=>n2(t));if(r==null)throw Vi(Ii.UNEXPECTED_ERROR);return[i,r]}}function XO(t){{const e=kn(t.isCE?zO:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Vi(t.isCE?Ii.NOT_INSTALLED_WITH_PROVIDE:Ii.UNEXPECTED_ERROR);return e}}function YO(t,e){return hf(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function QO(t){return t.mode==="composition"?t.global:t.global.__composer}function JO(t,e,n=!1){let i=null;const r=e.root;let s=ZO(e,n);for(;s!=null;){const a=t;if(t.mode==="composition"&&(i=a.__getInstance(s)),i!=null||r===s)break;s=s.parent}return i}function ZO(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function eR(t,e,n){Fa(()=>{},e),am(()=>{const i=n;t.__deleteInstance(e);const r=i[Jp];r&&(r(),delete i[Jp])},e)}const tR=["locale","fallbackLocale","availableLocales"],G_=["t","rt","d","n","tm","te"];function nR(t,e){const n=Object.create(null);return tR.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s)throw Vi(Ii.UNEXPECTED_ERROR);const a=Yt(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,r,a)}),t.config.globalProperties.$i18n=n,G_.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s||!s.value)throw Vi(Ii.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,s)}),()=>{delete t.config.globalProperties.$i18n,G_.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}OO();_O(AO);vO(ZP);bO($1);if(__INTLIFY_PROD_DEVTOOLS__){const t=bm();t.__INTLIFY__=!0,uO(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const s2={PREFIX:"prefix",PREFIX_EXCEPT_DEFAULT:"prefix_except_default",PREFIX_AND_DEFAULT:"prefix_and_default",NO_PREFIX:"no_prefix"},iR="",rR=s2.PREFIX_EXCEPT_DEFAULT,sR=!1,aR="___",oR="default",uR="ltr",lR="",a2="";/*!
  * shared v9.3.0-beta.26
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const cR=(t,e=!1)=>e?Symbol.for(t):Symbol(t),mf=Object.assign,o2=Array.isArray,eg=t=>typeof t=="function",$o=t=>typeof t=="string",dR=t=>typeof t=="symbol",Dm=t=>t!==null&&typeof t=="object",fR=/\/$|\/\?/;function tg(t="",e=!1){return e?fR.test(t):t.endsWith("/")}function hR(t="",e=!1){if(!e)return(tg(t)?t.slice(0,-1):t)||"/";if(!tg(t,!0))return t||"/";const[n,...i]=t.split("?");return(n.slice(0,-1)||"/")+(i.length>0?`?${i.join("?")}`:"")}function pR(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(tg(t,!0))return t||"/";const[n,...i]=t.split("?");return n+"/"+(i.length>0?`?${i.join("?")}`:"")}const gR=typeof window<"u";function u2(t,e){typeof console<"u"&&(console.warn("[vue-i18n-routing] "+t),e&&console.warn(e.stack))}function mR(t){t=t||[];const e=[];for(const n of t)$o(n)?e.push({code:n}):e.push(n);return e}function Ua(t){return t!=null&&"global"in t&&"mode"in t}function au(t){return t!=null&&!("__composer"in t)&&Yt(t.locale)}function ja(t){return t!=null&&"__composer"in t}function zl(t){return t!=null&&!("__composer"in t)&&!Yt(t.locale)}function yf(t){return t!=null&&("__VUE_I18N_BRIDGE__"in t||"_sync"in t)}function Cl(t){return Ua(t)?au(t.global)?t.global:t.global.__composer:ja(t)?t.__composer:t}function _f(t){const e=Ua(t)?t.global:t;return au(e)?e.locale.value:(zl(e)||ja(e)||yf(e),e.locale)}function yR(t){const e=Ua(t)?t.global:t;return au(e)?e.locales.value:(zl(e)||ja(e)||yf(e),e.locales)}function _R(t){const e=Ua(t)?t.global:t;return au(e)?e.localeCodes.value:(zl(e)||ja(e)||yf(e),e.localeCodes)}function l2(t,e){const n=Ua(t)?t.global:t;if(au(n))n.locale.value=e;else if(zl(n)||ja(n)||yf(n))n.locale=e;else throw new Error("TODO:")}function c2(t){return $o(t)?t:dR(t)?t.toString():"(null)"}function K_(t,e,{defaultLocale:n,strategy:i,routesNameSeparator:r,defaultLocaleRouteNameSuffix:s}){let a=c2(t)+(i==="no_prefix"?"":r+e);return e===n&&i==="prefix_and_default"&&(a+=r+s),a}function X_(t,e){return eg(t)?t(e):t}function vR(t,e){const n=[];for(const[i,r]of e.entries()){const s=t.find(a=>a.iso.toLowerCase()===r.toLowerCase());if(s){n.push({code:s.code,score:1-i/e.length});break}}for(const[i,r]of e.entries()){const s=r.split("-")[0].toLowerCase(),a=t.find(o=>o.iso.split("-")[0].toLowerCase()===s);if(a){n.push({code:a.code,score:.999-i/e.length});break}}return n}const bR=vR;function TR(t,e){return t.score===e.score?e.code.length-t.code.length:e.score-t.score}const ER=TR;function xR(t,e,{matcher:n=bR,comparer:i=ER}={}){const r=[];for(const a of t){const{code:o}=a,u=a.iso||o;r.push({code:o,iso:u})}const s=n(r,e);return s.length>1&&s.sort(i),s.length?s[0].code:""}function fa(t){return function(){return Reflect.apply(t,{getRouteBaseName:this.getRouteBaseName,localePath:this.localePath,localeRoute:this.localeRoute,localeLocation:this.localeLocation,resolveRoute:this.resolveRoute,switchLocalePath:this.switchLocalePath,localeHead:this.localeHead,i18n:this.$i18n,route:this.$route,router:this.$router},arguments)}}function SR(t,{locales:e=[],localeCodes:n=[],baseUrl:i=lR,hooks:r={},context:s={}}={}){const a=Wg(),o=t.install;return t.install=(u,...c)=>{const d=AR(c[0])?mf({},c[0]):{inject:!0};d.inject==null&&(d.inject=!0);const p=d.__composerExtend;if(d.__composerExtend=L=>{const O=Cl(t);L.locales=dt(()=>O.locales.value),L.localeCodes=dt(()=>O.localeCodes.value),L.baseUrl=dt(()=>O.baseUrl.value);let S;return eg(p)&&(S=Reflect.apply(p,d,[L])),()=>{S&&S()}},t.mode==="legacy"){const L=d.__vueI18nExtend;d.__vueI18nExtend=O=>{Y_(O,r.onExtendVueI18n);let S;return eg(L)&&(S=Reflect.apply(L,d,[O])),()=>{S&&S()}}}c[0]=d,Reflect.apply(o,t,[u,...c]);const v=Cl(t);a.run(()=>{CR(v,{locales:e,localeCodes:n,baseUrl:i,hooks:r,context:s}),t.mode==="legacy"&&ja(t.global)&&Y_(t.global,r.onExtendVueI18n)});const C=u,x=t.mode==="composition"?C.config.globalProperties.$i18n:null;if(x&&wR(x,v,r.onExtendExportedGlobal),d.inject&&u.mixin({methods:{resolveRoute:fa(bf),localePath:fa(vf),localeRoute:fa(km),localeLocation:fa(NR),switchLocalePath:fa(wl),getRouteBaseName:fa(Ho),localeHead:fa(p2)}}),C.unmount){const L=C.unmount;C.unmount=()=>{a.stop(),L()}}},a}function CR(t,e){const{locales:n,localeCodes:i,baseUrl:r,context:s}=e,a=Et(n),o=Et(i),u=Et("");t.locales=dt(()=>a.value),t.localeCodes=dt(()=>o.value),t.baseUrl=dt(()=>u.value),gR?gn(t.locale,()=>{u.value=X_(r,s)},{immediate:!0}):u.value=X_(r,s),e.hooks&&e.hooks.onExtendComposer&&e.hooks.onExtendComposer(t)}function d2(t,e,n){const i=[{locales:{get(){return t.locales.value}},localeCodes:{get(){return t.localeCodes.value}},baseUrl:{get(){return t.baseUrl.value}}}];n&&i.push(n(t));for(const r of i)for(const[s,a]of Object.entries(r))Object.defineProperty(e,s,a)}function wR(t,e,n){d2(e,t,n)}function Y_(t,e){const n=Cl(t);d2(n,t,e)}function AR(t){return Dm(t)&&("inject"in t||"__composerExtend"in t||"__vueI18nExtend"in t)}const ng=cR("vue-i18n-routing-gor");function DR(t,e){t[ng]?u2("already registered global options"):t[ng]=e}function kR(t){return t[ng]??{}}function ig(t){return new RegExp(`^/(${t.join("|")})(?:/|$)`,"i")}function LR(t,e,n){const i=`(${t.join("|")})`,r=`(?:${e}${n})?`,s=new RegExp(`${e}${i}${r}$`,"i"),a=ig(t);return u=>{if(Dm(u)){if(u.name){const d=($o(u.name)?u.name:u.name.toString()).match(s);if(d&&d.length>1)return d[1]}else if(u.path){const c=u.path.match(a);if(c&&c.length>1)return c[1]}}else if($o(u)){const c=u.match(a);if(c&&c.length>1)return c[1]}return""}}function Gl(t,e,{defaultLocale:n=iR,defaultDirection:i=uR,defaultLocaleRouteNameSuffix:r=oR,routesNameSeparator:s=aR,strategy:a=rR,trailingSlash:o=sR,localeCodes:u=[],prefixable:c=f2,switchLocalePathIntercepter:d=h2,dynamicRouteParamsKey:p=a2}={}){const v=kR(t);return{defaultLocale:e.defaultLocale||v.defaultLocale||n,defaultDirection:e.defaultDirection||v.defaultDirection||i,defaultLocaleRouteNameSuffix:e.defaultLocaleRouteNameSuffix||v.defaultLocaleRouteNameSuffix||r,routesNameSeparator:e.routesNameSeparator||v.routesNameSeparator||s,strategy:e.strategy||v.strategy||a,trailingSlash:e.trailingSlash||v.trailingSlash||o,localeCodes:e.localeCodes||v.localeCodes||u,prefixable:e.prefixable||v.prefixable||c,switchLocalePathIntercepter:e.switchLocalePathIntercepter||v.switchLocalePathIntercepter||d,dynamicRouteParamsKey:e.dynamicRouteParamsKey||v.dynamicRouteParamsKey||p}}function IR(t,e){return[t.slice(0,e),t.slice(e)]}function PR(t,e,n,i){if(n==="prefix"){if(o2(e.matched)&&e.matched.length>0)return e.matched[0];const[r,s]=IR(e.path,1),a=`${r}${i}${s===""?s:`/${s}`}`,o=t.options.routes.find(u=>u.path===a);if(o==null)return e;{const u=mf({},e,o);return u.path=a,t.resolve(u)}}else return t.resolve(e)}const OR=new Set(["prefix_and_default","prefix_except_default"]);function RR(t){const{currentLocale:e,defaultLocale:n,strategy:i}=t;return!(e===n&&OR.has(i))&&i!=="no_prefix"}const f2=RR;function Ho(t){const e=this.router,{routesNameSeparator:n}=Gl(e,this),i=t!=null?Yt(t)?kt(t):t:this.route;return i==null||!i.name?void 0:c2(i.name).split(n)[0]}function vf(t,e){const n=bf.call(this,t,e);return n==null?"":n.redirectedFrom||n.fullPath}function km(t,e){const n=bf.call(this,t,e);return n??void 0}function NR(t,e){const n=bf.call(this,t,e);return n??void 0}function bf(t,e){const n=this.router,i=this.i18n,r=e||_f(i),{routesNameSeparator:s,defaultLocale:a,defaultLocaleRouteNameSuffix:o,strategy:u,trailingSlash:c,prefixable:d}=Gl(n,this);let p=t;if($o(t))if(p[0]==="/"){const[C,x]=t.split("?"),L=Object.fromEntries(new URLSearchParams(x));p={path:C,query:L}}else p={name:t};let v=mf({},p);if(v.path&&!v.name){let C=null;try{C=PR(n,v,u,r)}catch{}const x=C,L=Ho.call(this,x);$o(L)?(v={name:K_(L,r,{defaultLocale:a,strategy:u,routesNameSeparator:s,defaultLocaleRouteNameSuffix:o}),params:x.params,query:x.query,hash:x.hash},v.state=x.state):(d({currentLocale:r,defaultLocale:a,strategy:u})&&(v.path=`/${r}${v.path}`),v.path=c?pR(v.path,!0):hR(v.path,!0))}else!v.name&&!v.path&&(v.name=Ho.call(this,this.route)),v.name=K_(v.name,r,{defaultLocale:a,strategy:u,routesNameSeparator:s,defaultLocaleRouteNameSuffix:o});try{const C=n.resolve(v);return(lP?C.name:C.route.name)?C:n.resolve(t)}catch(C){if(C.type===1)return null}}const h2=t=>t;function MR(t,e){const n={};if(e===a2)return n;const i=t.meta;return Yt(i)?i.value[e]||n:i[e]||n}function wl(t){const e=this.route,n=Ho.call(this,e);if(!n)return"";const{switchLocalePathIntercepter:i,dynamicRouteParamsKey:r}=Gl(this.router,this),{params:s,...a}=e,o=MR(e,r)[t]||{},u={name:n,params:{...s,...o}},c=mf({},a,u);let d=vf.call(this,c,t);return d=i(d,t),d}function p2({addDirAttribute:t=!1,addSeoAttributes:e=!1,identifierAttribute:n="hid"}={}){const i=this.router,r=this.i18n,{defaultDirection:s}=Gl(i,this),a={htmlAttrs:{},link:[],meta:[]};if(r.locales==null||r.baseUrl==null)return a;const o=_f(r),u=yR(r),c=mR(u).find(v=>v.code===o)||{code:o},d=c.iso,p=c.dir||s;return t&&(a.htmlAttrs.dir=p),e&&o&&r.locales&&(d&&(a.htmlAttrs.lang=d),BR.call(this,u,kt(r.baseUrl),a.link,n),FR.call(this,kt(r.baseUrl),a.link,a.meta,n,e),UR(c,d,a.meta,n),jR(u,d,a.meta,n)),a}function BR(t,e,n,i){const r=this.router,{defaultLocale:s,strategy:a}=Gl(r,this);if(a===s2.NO_PREFIX)return;const o=new Map;for(const u of t){const c=u.iso;if(!c){u2("Locale ISO code is required to generate alternate link");continue}const[d,p]=c.split("-");d&&p&&(u.isCatchallLocale||!o.has(d))&&o.set(d,u),o.set(c,u)}for(const[u,c]of o.entries()){const d=wl.call(this,c.code);d&&n.push({[i]:`i18n-alt-${u}`,rel:"alternate",href:rg(d,e),hreflang:u})}if(s){const u=wl.call(this,s);u&&n.push({[i]:"i18n-xd",rel:"alternate",href:rg(u,e),hreflang:"x-default"})}}function FR(t,e,n,i,r){const s=this.route,a=km.call(this,{...s,name:Ho.call(this,s)});if(a){let o=rg(a.path,t);const u=Dm(r)&&r.canonicalQueries||[];if(u.length){const c=a.query,d=new URLSearchParams;for(const v of u)if(v in c){const C=c[v];o2(C)?C.forEach(x=>d.append(v,x||"")):d.append(v,C||"")}const p=d.toString();p&&(o=`${o}?${p}`)}e.push({[i]:"i18n-can",rel:"canonical",href:o}),n.push({[i]:"i18n-og-url",property:"og:url",content:o})}}function UR(t,e,n,i){t&&e&&n.push({[i]:"i18n-og",property:"og:locale",content:g2(e)})}function jR(t,e,n,i){const r=t.filter(s=>{const a=s.iso;return a&&a!==e});if(r.length){const s=r.map(a=>({[i]:`i18n-og-alt-${a.iso}`,property:"og:locale:alternate",content:g2(a.iso)}));n.push(...s)}}function g2(t){return(t||"").replace(/-/g,"_")}function rg(t,e){return t.match(/^https?:\/\//)?t:e+t}function m2(t,e){const{router:n,route:i,i18n:r,defaultLocale:s,strategy:a,defaultLocaleRouteNameSuffix:o,trailingSlash:u,routesNameSeparator:c}=t;return function(...d){return Reflect.apply(e,{router:n,route:i,i18n:r,defaultLocale:s,strategy:a,defaultLocaleRouteNameSuffix:o,trailingSlash:u,routesNameSeparator:c},d)}}function dU({router:t=B1(),route:e=vm(),i18n:n=su(),defaultLocale:i=void 0,defaultLocaleRouteNameSuffix:r=void 0,routesNameSeparator:s=void 0,strategy:a=void 0,trailingSlash:o=void 0}={}){return m2({router:t,route:e,i18n:n,defaultLocale:i,defaultLocaleRouteNameSuffix:r,routesNameSeparator:s,strategy:a,trailingSlash:o},vf)}function $R({router:t=B1(),route:e=vm(),i18n:n=su(),defaultLocale:i=void 0,defaultLocaleRouteNameSuffix:r=void 0,routesNameSeparator:s=void 0,strategy:a=void 0,trailingSlash:o=void 0}={}){return m2({router:t,route:e,i18n:n,defaultLocale:i,defaultLocaleRouteNameSuffix:r,routesNameSeparator:s,strategy:a,trailingSlash:o},wl)}const ro=["en","zh-Hant"],HR={en:[{key:"../src/locales/en-US.json",load:()=>li(()=>import("./en-US.ebea1b68.js"),[],import.meta.url)}],"zh-Hant":[{key:"../src/locales/zh-Hant.json",load:()=>li(()=>import("./zh-Hant.15b96309.js"),[],import.meta.url)}]},qR=async t=>{var n;const e=Object({});return e.experimental=Object({jsTsFormatResource:!1}),e.bundle=Object({compositionOnly:!0,runtimeOnly:!1,fullInstall:!0,dropMessageCompiler:!1}),e.compilation=Object({jit:!0,strictMessage:!0,escapeHtml:!1}),e.customBlocks=Object({defaultSFCLang:"json",globalSFCScope:!1}),e.vueI18n=Object({}),(n=e.vueI18n).messages??(n.messages={}),e.locales=[Object({code:"en",files:["locales/en-US.json"],hashes:["56e089e2"],types:["static"]}),Object({code:"zh-Hant",files:["locales/zh-Hant.json"],hashes:["a7785a1e"],types:["static"]})],e.defaultLocale="zh-Hant",e.defaultDirection="ltr",e.routesNameSeparator="___",e.trailingSlash=!1,e.defaultLocaleRouteNameSuffix="default",e.strategy="prefix_except_default",e.lazy=!0,e.langDir="locales/",e.rootRedirect=null,e.detectBrowserLanguage=Object({alwaysRedirect:!1,cookieCrossOrigin:!1,cookieDomain:null,cookieKey:"i18n_redirected",cookieSecure:!1,fallbackLocale:"",redirectOn:"root",useCookie:!0}),e.differentDomains=!1,e.baseUrl="",e.dynamicRouteParams=!1,e.customRoutes="page",e.pages=Object({}),e.skipSettingLocaleOnNavigate=!1,e.types="composition",e.debug=!1,e.parallelPlugin=!1,e.i18nModules=[],e},Ai=Object({experimental:Object({jsTsFormatResource:!1}),bundle:Object({compositionOnly:!0,runtimeOnly:!1,fullInstall:!0,dropMessageCompiler:!1}),compilation:Object({jit:!0,strictMessage:!0,escapeHtml:!1}),customBlocks:Object({defaultSFCLang:"json",globalSFCScope:!1}),vueI18n:"",locales:[],defaultLocale:"",defaultDirection:"ltr",routesNameSeparator:"___",trailingSlash:!1,defaultLocaleRouteNameSuffix:"default",strategy:"prefix_except_default",lazy:!1,langDir:null,rootRedirect:null,detectBrowserLanguage:Object({alwaysRedirect:!1,cookieCrossOrigin:!1,cookieDomain:null,cookieKey:"i18n_redirected",cookieSecure:!1,fallbackLocale:"",redirectOn:"root",useCookie:!0}),differentDomains:!1,baseUrl:"",dynamicRouteParams:!1,customRoutes:"page",pages:Object({}),skipSettingLocaleOnNavigate:!1,types:"composition",debug:!1,parallelPlugin:!1}),sg=Object({__normalizedLocales:[Object({code:"en",files:["locales/en-US.json"],hashes:["56e089e2"],types:["static"]}),Object({code:"zh-Hant",files:["locales/zh-Hant.json"],hashes:["a7785a1e"],types:["static"]})]}),y2="@nuxtjs/i18n",VR=!1,WR=!1;/*! js-cookie v3.0.5 | MIT */function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var zR={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ag(t,e){function n(r,s,a){if(!(typeof document>"u")){a=qc({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in a)a[u]&&(o+="; "+u,a[u]!==!0&&(o+="="+a[u].split(";")[0]));return document.cookie=r+"="+t.write(s,r)+o}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var u=s[o].split("="),c=u.slice(1).join("=");try{var d=decodeURIComponent(u[0]);if(a[d]=t.read(c,d),r===d)break}catch{}}return r?a[r]:a}}return Object.create({set:n,get:i,remove:function(r,s){n(r,"",qc({},s,{expires:-1}))},withAttributes:function(r){return ag(this.converter,qc({},this.attributes,r))},withConverter:function(r){return ag(qc({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var _2=ag(zR,{path:"/"});function Td(t){return y2+" "+t}function GR(t){return t!=null&&("__VUE_I18N_BRIDGE__"in t||"_sync"in t)}function Tf(t,e,...n){const i=Ua(t)?t.global:t,[r,s]=[i,i[e]];return Reflect.apply(s,r,[...n])}function KR(t,e){const n=Ua(t)?t.global:t;return au(n)?n[e].value:(zl(n)||ja(n)||GR(n),n[e])}function Q_(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function XR(t,e){return function(){return Reflect.apply(e,{i18n:t.$i18n,getRouteBaseName:t.$getRouteBaseName,localePath:t.$localePath,localeRoute:t.$localeRoute,switchLocalePath:t.$switchLocalePath,localeHead:t.$localeHead,route:t.$router.currentRoute.value,router:t.$router},arguments)}}function og(t,e,n){for(const i in t)rn(t[i])?(rn(e[i])||(e[i]=[]),t[i].forEach((r,s)=>{if(!e[i][s]){const a={};og(r,a,n),e[i].push(a)}})):mt(t[i])?(mt(e[i])||(e[i]={}),og(t[i],e[i],n)):n?n(t[i],e[i])&&(e[i]=t[i]):e[i]=t[i]}const ug=new Map;async function YR(t,{key:e,load:n},i){var a,o;const r=(a=t.$config.public)==null?void 0:a.i18n;let s=null;try{const u=await n().then(c=>c.default||c);ln(u)?(o=r.experimental)!=null&&o.jsTsFormatResource?s=await u(i):console.warn(Td("JS / TS extension format is not supported by default. This can be enabled by setting `i18n.experimental.jsTsFormatResource: true` (experimental)")):(s=u,s!=null&&ug.set(e,s))}catch(u){console.error(Td("Failed locale loading: "+u.message))}return s}async function Ed(t,e,n){const i=HR[e];if(i==null){console.warn(Td("Could not find messages for locale code"+e));return}const r={};for(const s of i){let a=null;ug.has(s.key)?a=ug.get(s.key):a=await YR(t,s,e),a!=null&&og(a,r)}n(e,r)}function v2(t,e){let n;return navigator.languages&&(n=xR(t.__normalizedLocales,navigator.languages)),n}function Lm(t,{useCookie:e=Ai.detectBrowserLanguage.useCookie,cookieKey:n=Ai.detectBrowserLanguage.cookieKey,localeCodes:i=[]}={}){if(e){let r;if(r=_2.get(n),r&&i.includes(r))return r}}function QR(t,e,{useCookie:n=Ai.detectBrowserLanguage.useCookie,cookieKey:i=Ai.detectBrowserLanguage.cookieKey,cookieDomain:r=Ai.detectBrowserLanguage.cookieDomain,cookieSecure:s=Ai.detectBrowserLanguage.cookieSecure,cookieCrossOrigin:a=Ai.detectBrowserLanguage.cookieCrossOrigin}={}){if(!n)return;const o=new Date,u={expires:new Date(o.setDate(o.getDate()+365)),path:"/",sameSite:a?"none":"lax",secure:a||s};r&&(u.domain=r),_2.set(i,t,u)}const JR={locale:"",stat:!1,reason:"unknown",from:"unknown"};function ZR(t,e,n,i,r,s=[],a=""){const{strategy:o}=n,{ssg:u,callType:c,firstAccess:d}=r;if(!d)return{locale:"",stat:!1,reason:"first_access_only"};const{redirectOn:p,alwaysRedirect:v,useCookie:C,fallbackLocale:x}=n.detectBrowserLanguage,L=Ue(t)?t:t.path;if(o!=="no_prefix"){if(p==="root"){if(L!=="/")return{locale:"",stat:!1,reason:"not_redirect_on_root"}}else if(p==="no prefix"&&!v&&L.match(ig(s)))return{locale:"",stat:!1,reason:"not_redirect_on_no_prefix"}}let O="unknown",S,A;C&&(A=S=Lm(e,{...n.detectBrowserLanguage,localeCodes:s}),O="cookie"),A||(A=v2(i),O="navigator_or_header");const M=A||x;!A&&x&&(O="fallback");const I=a||n.vueI18n.locale;if(M&&(!C||v||!S)){if(o==="no_prefix")return{locale:M,stat:!0,from:O};if(c==="setup"&&M!==I)return{locale:M,stat:!0,from:O};if(v){const N=L==="/",F=p==="all",m=p==="no prefix"&&!L.match(ig(s));if(N||F||m)return{locale:M,stat:!0,from:O}}}return u==="ssg_setup"&&M?{locale:M,stat:!0,from:O}:(O==="navigator_or_header"||O==="cookie")&&M?{locale:M,stat:!0,from:O}:{locale:"",stat:!1,reason:"not_found_match"}}function eN(){let t;return t=window.location.host,t}function tN(t){let e=eN()||"";if(e){const n=t.find(i=>i.domain===e);if(n)return n.code;e=""}return e}function b2(t,e,n){const i=e.find(r=>r.code===t);if(i&&i.domain){if(Is(i.domain))return i.domain;let r;return r=new URL(window.location.origin).protocol,r+"://"+i.domain}console.warn(Td("Could not find domain name for locale "+t))}function nN(t,e){return Tf(t,"setLocaleCookie",e)}function iN(t,e,n){return Tf(t,"mergeLocaleMessage",e,n)}function rN(t,e,n,i,r){return Tf(t,"onBeforeLanguageSwitch",e,n,i,r)}function sN(t,e,n){return Tf(t,"onLanguageSwitched",e,n)}function T2(t,e){let n=[];if(rn(t))n=t;else if(mt(t)){const i=[...e,"default"];for(const r of i)t[r]&&(n=[...n,...t[r].filter(Boolean)])}else Ue(t)&&e.every(i=>i!==t)&&n.push(t);return n}async function aN(t,e,n){const{defaultLocale:i,initialLocale:r,localeCodes:s,fallbackLocale:a,lazy:o}=n,u=(d,p)=>{const v=e[d]||{};e[d]={...v,...p}};if(o&&a){const d=T2(a,[i,r]);await Promise.all(d.map(p=>Ed(t,p,u)))}const c=o?[...new Set().add(i).add(r)]:s;return await Promise.all(c.map(d=>Ed(t,d,u))),e}async function J_(t,e,n,{useCookie:i=Ai.detectBrowserLanguage.useCookie,skipSettingLocaleOnNavigate:r=Ai.skipSettingLocaleOnNavigate,differentDomains:s=Ai.differentDomains,initial:a=!1,lazy:o=!1}={}){let u=!1;const c=_f(n);if(!t)return[u,c];if(!a&&s)return[u,c];if(c===t)return[u,c];const d=await rN(n,c,t,a,e),p=_R(n);if(d&&p&&p.includes(d)){if(d===c)return[u,c];t=d}const v=KR(n,"fallbackLocale");if(o){const C=(x,L)=>iN(n,x,L);if(v){const x=T2(v,[t]);await Promise.all(x.map(L=>Ed(e,L,C)))}await Ed(e,t,C)}return r?[u,c]:(i&&nN(n,t),l2(n,t),await sN(n,c,t),u=!0,[u,c])}function Z_(t,e,n,i,r,s,a,o=[]){const{strategy:u,defaultLocale:c,differentDomains:d}=i,p=ln(r)?r():r,{locale:v,stat:C,reason:x,from:L}=i.detectBrowserLanguage?ZR(t,e,i,sg,s,o,p):JR;if(x==="detect_ignore_on_ssg")return p;if((L==="navigator_or_header"||L==="cookie"||L==="fallback")&&v)return v;let O=v;return O||(d?O=tN(a):u!=="no_prefix"?O=n(t):i.detectBrowserLanguage||(O=p)),!O&&i.detectBrowserLanguage&&i.detectBrowserLanguage.useCookie&&(O=Lm(e,{...i.detectBrowserLanguage,localeCodes:o})||""),O||(O=c||""),O}function ev({route:t,context:e,targetLocale:n,routeLocaleGetter:i,nuxtI18nOptions:r,calledWithRouting:s=!1}){const{strategy:a,differentDomains:o}=r;let u="";const{fullPath:c}=t.to;if(!o&&(s||a!=="no_prefix"&&a!=="prefix_and_default")&&i(t.to)!==n){const d=e.$switchLocalePath(n)||e.$localePath(c,n);Ue(d)&&d&&!kp(d,c)&&!d.startsWith("//")&&(u=t.from&&t.from.fullPath===d?"":d)}if((o||VR)&&i(t.to)!==n){const p=$R({i18n:Cl(e.$i18n),route:t.to,router:e.$router})(n);Ue(p)&&p&&!kp(p,c)&&!p.startsWith("//")&&(u=p)}return u}function oN(t){return mt(t)&&"path"in t&&"statusCode"in t}const uN=()=>mm(y2+":redirect",()=>"");function tv(t,e){return OL(t,{redirectCode:e})}async function nv(t,{status:e=302,rootRedirect:n=Ai.rootRedirect,differentDomains:i=Ai.differentDomains,skipSettingLocaleOnNavigate:r=Ai.skipSettingLocaleOnNavigate,enableNavigate:s=!1}={}){const{i18n:a,locale:o,route:u}=t;let{redirectPath:c}=t;if(u.path==="/"&&n)return Ue(n)?c="/"+n:oN(n)&&(c="/"+n.path,e=n.statusCode),tv(c,e);if(!(r&&(a.__pendingLocale=o,a.__pendingLocalePromise=new Promise(d=>{a.__resolvePendingLocalePromise=d}),!s))){if(i){const d=uN();d.value&&d.value!==c&&(d.value="",window.location.assign(c))}else if(c)return tv(c,e)}}function lN(t,e){Q_(t,"$i18n",e.global);for(const n of[["getRouteBaseName",Ho],["localePath",vf],["localeRoute",km],["switchLocalePath",wl],["localeHead",p2]])Q_(t,"$"+n[0],XR(t,n[1]))}function cN(t){return e=>f2(e)&&!t}function dN(t,e,n){return(i,r)=>{if(t){const s=b2(r,e);return s?Ps(s,i):i}else return h2(i)}}function fN(t,e){return n=>{var u,c;if(ln(t))return t(n);const{differentDomains:i,localeCodeLoader:r,normalizedLocales:s}=e,a=ln(r)?r():r;if(i&&a){const d=b2(a,s,e.nuxt);if(d)return d}const o=(c=(u=n.$config)==null?void 0:u.public)==null?void 0:c.i18n;return o!=null&&o.baseUrl?o.baseUrl:t}}const hN=Un({name:"i18n:plugin",parallel:WR,async setup(t){let e,n;const i=Nr(),r=lf(),{vueApp:s}=t,a=t,o=([e,n]=ka(()=>qR()),e=await e,n(),e),u=o.detectBrowserLanguage&&o.detectBrowserLanguage.useCookie,{__normalizedLocales:c}=sg,{defaultLocale:d,differentDomains:p,skipSettingLocaleOnNavigate:v,lazy:C,routesNameSeparator:x,defaultLocaleRouteNameSuffix:L,strategy:O,rootRedirect:S}=o;o.baseUrl=fN(o.baseUrl,{differentDomains:p,nuxt:a,localeCodeLoader:d,normalizedLocales:c});const A=LR(ro,x,L),M=o.vueI18n;M.messages=M.messages||{},M.fallbackLocale=M.fallbackLocale??!1,DR(i,{...o,dynamicRouteParamsKey:"nuxtI18n",switchLocalePathIntercepter:dN(p,c),prefixable:cN(p)});const I=Y=>Y||M.locale||"en-US";let N=Z_(r,t.ssrContext,A,o,I(d),{ssg:"normal",callType:"setup",firstAccess:!0},c,ro);M.messages=([e,n]=ka(()=>aN(a,M.messages,{...o,initialLocale:N,fallbackLocale:M.fallbackLocale,localeCodes:ro})),e=await e,n(),e),N=I(N);const F=GO({...M,locale:N});let m=!0;const te=Y=>N!==Y&&m;SR(F,{locales:o.locales,localeCodes:ro,baseUrl:o.baseUrl,context:a,hooks:{onExtendComposer(Y){Y.strategy=O,Y.localeProperties=dt(()=>c.find(se=>se.code===Y.locale.value)||{code:Y.locale.value}),Y.setLocale=async se=>{const J=te(se),[de]=await J_(se,a,F,{useCookie:u,differentDomains:p,initial:J,skipSettingLocaleOnNavigate:v,lazy:C});de&&J&&(m=!1);const $e=ev({route:{to:r},context:a,targetLocale:se,routeLocaleGetter:A,nuxtI18nOptions:o});await nv({i18n:F,redirectPath:$e,locale:se,route:r},{differentDomains:p,skipSettingLocaleOnNavigate:v,rootRedirect:S,enableNavigate:!0})},Y.differentDomains=p,Y.defaultLocale=d,Y.getBrowserLocale=()=>v2(sg,t.ssrContext),Y.getLocaleCookie=()=>Lm(t.ssrContext,{...o.detectBrowserLanguage,localeCodes:ro}),Y.setLocaleCookie=se=>QR(se,t.ssrContext,o.detectBrowserLanguage||void 0),Y.onBeforeLanguageSwitch=(se,J,de,$e)=>t.callHook("i18n:beforeLocaleSwitch",{oldLocale:se,newLocale:J,initialSetup:de,context:$e}),Y.onLanguageSwitched=(se,J)=>t.callHook("i18n:localeSwitched",{oldLocale:se,newLocale:J}),Y.finalizePendingLocaleChange=async()=>{F.__pendingLocale&&(l2(F,F.__pendingLocale),F.__resolvePendingLocalePromise&&await F.__resolvePendingLocalePromise(),F.__pendingLocale=void 0)},Y.waitForPendingLocaleChange=async()=>{F.__pendingLocale&&F.__pendingLocalePromise&&await F.__pendingLocalePromise}},onExtendExportedGlobal(Y){return{strategy:{get(){return Y.strategy}},localeProperties:{get(){return Y.localeProperties.value}},setLocale:{get(){return async se=>Reflect.apply(Y.setLocale,Y,[se])}},differentDomains:{get(){return Y.differentDomains}},defaultLocale:{get(){return Y.defaultLocale}},getBrowserLocale:{get(){return()=>Reflect.apply(Y.getBrowserLocale,Y,[])}},getLocaleCookie:{get(){return()=>Reflect.apply(Y.getLocaleCookie,Y,[])}},setLocaleCookie:{get(){return se=>Reflect.apply(Y.setLocaleCookie,Y,[se])}},onBeforeLanguageSwitch:{get(){return(se,J,de,$e)=>Reflect.apply(Y.onBeforeLanguageSwitch,Y,[se,J,de,$e])}},onLanguageSwitched:{get(){return(se,J)=>Reflect.apply(Y.onLanguageSwitched,Y,[se,J])}},finalizePendingLocaleChange:{get(){return()=>Reflect.apply(Y.finalizePendingLocaleChange,Y,[])}},waitForPendingLocaleChange:{get(){return()=>Reflect.apply(Y.waitForPendingLocaleChange,Y,[])}}}},onExtendVueI18n(Y){return{strategy:{get(){return Y.strategy}},localeProperties:{get(){return Y.localeProperties.value}},setLocale:{get(){return async se=>Reflect.apply(Y.setLocale,Y,[se])}},differentDomains:{get(){return Y.differentDomains}},defaultLocale:{get(){return Y.defaultLocale}},getBrowserLocale:{get(){return()=>Reflect.apply(Y.getBrowserLocale,Y,[])}},getLocaleCookie:{get(){return()=>Reflect.apply(Y.getLocaleCookie,Y,[])}},setLocaleCookie:{get(){return se=>Reflect.apply(Y.setLocaleCookie,Y,[se])}},onBeforeLanguageSwitch:{get(){return(se,J,de,$e)=>Reflect.apply(Y.onBeforeLanguageSwitch,Y,[se,J,de,$e])}},onLanguageSwitched:{get(){return(se,J)=>Reflect.apply(Y.onLanguageSwitched,Y,[se,J])}},finalizePendingLocaleChange:{get(){return()=>Reflect.apply(Y.finalizePendingLocaleChange,Y,[])}},waitForPendingLocaleChange:{get(){return()=>Reflect.apply(Y.waitForPendingLocaleChange,Y,[])}}}}}});const ie={__composerExtend:Y=>{const se=Cl(F);return Y.strategy=se.strategy,Y.localeProperties=dt(()=>se.localeProperties.value),Y.setLocale=se.setLocale,Y.differentDomains=se.differentDomains,Y.getBrowserLocale=se.getBrowserLocale,Y.getLocaleCookie=se.getLocaleCookie,Y.setLocaleCookie=se.setLocaleCookie,Y.onBeforeLanguageSwitch=se.onBeforeLanguageSwitch,Y.onLanguageSwitched=se.onLanguageSwitched,Y.finalizePendingLocaleChange=se.finalizePendingLocaleChange,Y.waitForPendingLocaleChange=se.waitForPendingLocaleChange,()=>{}}};s.use(F,ie),lN(a,F);let Te=0;IL("locale-changing",async(Y,se)=>{let J,de;const $e=Z_(Y,t.ssrContext,A,o,()=>_f(F)||I(d),{ssg:"normal",callType:"routing",firstAccess:Te===0},c,ro),Le=te($e),[Re]=([J,de]=ka(()=>J_($e,a,F,{useCookie:u,differentDomains:p,initial:Le,skipSettingLocaleOnNavigate:v,lazy:C})),J=await J,de(),J);Re&&Le&&(m=!1);const Ve=ev({route:{to:Y,from:se},context:a,targetLocale:$e,routeLocaleGetter:A,nuxtI18nOptions:o,calledWithRouting:!0});return Te++,nv({i18n:F,redirectPath:Ve,locale:$e,route:Y},{differentDomains:p,skipSettingLocaleOnNavigate:v,rootRedirect:S})},{global:!0})}});async function pN(t,e){return await gN(e).catch(i=>(console.error("Failed to get image meta for "+e,i+""),{width:0,height:0,ratio:0}))}async function gN(t){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((e,n)=>{const i=new Image;i.onload=()=>{const r={width:i.width,height:i.height,ratio:i.width/i.height};e(r)},i.onerror=r=>n(r),i.src=t})}function iv(t){return e=>e?t[e]||e:t.missingValue}function mN({formatter:t,keyMap:e,joinWith:n="/",valueMap:i}={}){t||(t=(s,a)=>`${s}=${a}`),e&&typeof e!="function"&&(e=iv(e));const r=i||{};return Object.keys(r).forEach(s=>{typeof r[s]!="function"&&(r[s]=iv(r[s]))}),(s={})=>Object.entries(s).filter(([o,u])=>typeof u<"u").map(([o,u])=>{const c=r[o];return typeof c=="function"&&(u=c(s[o])),o=typeof e=="function"?e(o):o,t(o,u)}).join(n)}function xd(t=""){if(typeof t=="number")return t;if(typeof t=="string"&&t.replace("px","").match(/^\d+$/g))return parseInt(t,10)}function yN(t){const e={options:t},n=(r,s={})=>E2(e,r,s),i=(r,s={},a={})=>n(r,{...a,modifiers:pm(s,a.modifiers||{})}).url;for(const r in t.presets)i[r]=(s,a,o)=>i(s,a,{...t.presets[r],...o});return i.options=t,i.getImage=n,i.getMeta=(r,s)=>_N(e,r,s),i.getSizes=(r,s)=>TN(e,r,s),e.$img=i,i}async function _N(t,e,n){const i=E2(t,e,{...n});return typeof i.getMeta=="function"?await i.getMeta():await pN(t,i.url)}function E2(t,e,n){var c,d;if(typeof e!="string"||e==="")throw new TypeError(`input must be a string (received ${typeof e}: ${JSON.stringify(e)})`);if(e.startsWith("data:"))return{url:e};const{provider:i,defaults:r}=vN(t,n.provider||t.options.provider),s=bN(t,n.preset);if(e=Is(e)?e:Dp(e),!i.supportsAlias)for(const p in t.options.alias)e.startsWith(p)&&(e=Ps(t.options.alias[p],e.substr(p.length)));if(i.validateDomains&&Is(e)){const p=ql(e).host;if(!t.options.domains.find(v=>v===p))return{url:e}}const a=pm(n,s,r);a.modifiers={...a.modifiers};const o=a.modifiers.format;(c=a.modifiers)!=null&&c.width&&(a.modifiers.width=xd(a.modifiers.width)),(d=a.modifiers)!=null&&d.height&&(a.modifiers.height=xd(a.modifiers.height));const u=i.getImage(e,a,t);return u.format=u.format||o||"",u}function vN(t,e){const n=t.options.providers[e];if(!n)throw new Error("Unknown provider: "+e);return n}function bN(t,e){if(!e)return{};if(!t.options.presets[e])throw new Error("Unknown preset: "+e);return t.options.presets[e]}function TN(t,e,n){var c,d;const i=xd((c=n.modifiers)==null?void 0:c.width),r=xd((d=n.modifiers)==null?void 0:d.height),s=i&&r?r/i:0,a=[],o={};if(typeof n.sizes=="string")for(const p of n.sizes.split(/[\s,]+/).filter(v=>v)){const v=p.split(":");v.length===2&&(o[v[0].trim()]=v[1].trim())}else Object.assign(o,n.sizes);for(const p in o){const v=t.options.screens&&t.options.screens[p]||parseInt(p);let C=String(o[p]);const x=C.endsWith("vw");if(!x&&/^\d+$/.test(C)&&(C=C+"px"),!x&&!C.endsWith("px"))continue;let L=parseInt(C);if(!v||!L)continue;x&&(L=Math.round(L/100*v));const O=s?Math.round(L*s):r;a.push({width:L,size:C,screenMaxWidth:v,media:`(max-width: ${v}px)`,src:t.$img(e,{...n.modifiers,width:L,height:O},n)})}a.sort((p,v)=>p.screenMaxWidth-v.screenMaxWidth);const u=a[a.length-1];return u&&(u.media=""),{sizes:a.map(p=>`${p.media?p.media+" ":""}${p.size}`).join(", "),srcset:a.map(p=>`${p.src} ${p.width}w`).join(", "),src:u==null?void 0:u.src}}const EN=mN({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(t,e)=>My(t)+"_"+My(e)}),xN=(t,{modifiers:e={},baseURL:n}={},i)=>{e.width&&e.height&&(e.resize=`${e.width}x${e.height}`,delete e.width,delete e.height);const r=EN(e)||"_";return n||(n=Ps(i.options.nuxt.baseURL,"/_ipx")),{url:Ps(n,r,u1(t))}},SN=!0,CN=!0,wN=Object.freeze(Object.defineProperty({__proto__:null,getImage:xN,supportsAlias:CN,validateDomains:SN},Symbol.toStringTag,{value:"Module"})),x2={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipx",domains:[],alias:{}};x2.providers={ipx:{provider:wN,defaults:void 0}};const AN=()=>{const t=Vl(),e=$t();return e.$img||e._img||(e._img=yN({...x2,nuxt:{baseURL:t.app.baseURL}}))},DN=Un(()=>({provide:{img:AN()}}));function kN(t={}){$t().$nuxtSiteConfig.push(t)}const LN=Un({name:"nuxt-site-config:i18n",enforce:1,setup(t){const e=t.$i18n;e&&kN({_context:"@nuxtjs/i18n",url:e.baseUrl.value,currentLocale:e.locale,description:dt(()=>e.t("nuxtSiteConfig.description")),name:dt(()=>e.t("nuxtSiteConfig.name"))})}}),IN="__NUXT_COLOR_MODE__",PN="nuxt-color-mode",Vr=window[IN],ON=Un(t=>{const e=mm("color-mode",()=>Li({preference:Vr.preference,value:Vr.value,unknown:!1,forced:!1})).value;Nr().afterEach(r=>{const s=r.meta.colorMode;s&&s!=="system"?(e.value=s,e.forced=!0):(s==="system"&&console.warn("You cannot force the colorMode to system at the page level."),e.forced=!1,e.value=e.preference==="system"?Vr.getColorScheme():e.preference)});let n;function i(){n||!window.matchMedia||(n=window.matchMedia("(prefers-color-scheme: dark)"),n.addEventListener("change",()=>{!e.forced&&e.preference==="system"&&(e.value=Vr.getColorScheme())}))}gn(()=>e.preference,r=>{var s;e.forced||(r==="system"?(e.value=Vr.getColorScheme(),i()):e.value=r,(s=window.localStorage)==null||s.setItem(PN,r))},{immediate:!0}),gn(()=>e.value,(r,s)=>{Vr.removeColorScheme(s),Vr.addColorScheme(r)}),e.preference==="system"&&i(),t.hook("app:mounted",()=>{e.unknown&&(e.preference=Vr.preference,e.value=Vr.value,e.unknown=!1)}),t.provide("colorMode",e)}),RN=Un({name:"nuxt:chunk-reload",setup(t){const e=Nr(),n=Vl(),i=new Set;e.beforeEach(()=>{i.clear()}),t.hook("app:chunkError",({error:s})=>{i.add(s)});function r(s){const o="href"in s&&s.href.startsWith("#")?n.app.baseURL+s.href:Ps(n.app.baseURL,s.fullPath);FL({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(r)}),e.onError((s,a)=>{i.has(s)&&r(a)})}});var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function as(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var S2={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:Al,function(e,n){var i=[],r=Object.getPrototypeOf,s=i.slice,a=i.flat?function(l){return i.flat.call(l)}:function(l){return i.concat.apply([],l)},o=i.push,u=i.indexOf,c={},d=c.toString,p=c.hasOwnProperty,v=p.toString,C=v.call(Object),x={},L=function(h){return typeof h=="function"&&typeof h.nodeType!="number"&&typeof h.item!="function"},O=function(h){return h!=null&&h===h.window},S=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function M(l,h,b){b=b||S;var E,D,k=b.createElement("script");if(k.text=l,h)for(E in A)D=h[E]||h.getAttribute&&h.getAttribute(E),D&&k.setAttribute(E,D);b.head.appendChild(k).parentNode.removeChild(k)}function I(l){return l==null?l+"":typeof l=="object"||typeof l=="function"?c[d.call(l)]||"object":typeof l}var N="3.7.1",F=/HTML$/i,m=function(l,h){return new m.fn.init(l,h)};m.fn=m.prototype={jquery:N,constructor:m,length:0,toArray:function(){return s.call(this)},get:function(l){return l==null?s.call(this):l<0?this[l+this.length]:this[l]},pushStack:function(l){var h=m.merge(this.constructor(),l);return h.prevObject=this,h},each:function(l){return m.each(this,l)},map:function(l){return this.pushStack(m.map(this,function(h,b){return l.call(h,b,h)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(l,h){return(h+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(l,h){return h%2}))},eq:function(l){var h=this.length,b=+l+(l<0?h:0);return this.pushStack(b>=0&&b<h?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},m.extend=m.fn.extend=function(){var l,h,b,E,D,k,R=arguments[0]||{},z=1,q=arguments.length,Q=!1;for(typeof R=="boolean"&&(Q=R,R=arguments[z]||{},z++),typeof R!="object"&&!L(R)&&(R={}),z===q&&(R=this,z--);z<q;z++)if((l=arguments[z])!=null)for(h in l)E=l[h],!(h==="__proto__"||R===E)&&(Q&&E&&(m.isPlainObject(E)||(D=Array.isArray(E)))?(b=R[h],D&&!Array.isArray(b)?k=[]:!D&&!m.isPlainObject(b)?k={}:k=b,D=!1,R[h]=m.extend(Q,k,E)):E!==void 0&&(R[h]=E));return R},m.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw new Error(l)},noop:function(){},isPlainObject:function(l){var h,b;return!l||d.call(l)!=="[object Object]"?!1:(h=r(l),h?(b=p.call(h,"constructor")&&h.constructor,typeof b=="function"&&v.call(b)===C):!0)},isEmptyObject:function(l){var h;for(h in l)return!1;return!0},globalEval:function(l,h,b){M(l,{nonce:h&&h.nonce},b)},each:function(l,h){var b,E=0;if(te(l))for(b=l.length;E<b&&h.call(l[E],E,l[E])!==!1;E++);else for(E in l)if(h.call(l[E],E,l[E])===!1)break;return l},text:function(l){var h,b="",E=0,D=l.nodeType;if(!D)for(;h=l[E++];)b+=m.text(h);return D===1||D===11?l.textContent:D===9?l.documentElement.textContent:D===3||D===4?l.nodeValue:b},makeArray:function(l,h){var b=h||[];return l!=null&&(te(Object(l))?m.merge(b,typeof l=="string"?[l]:l):o.call(b,l)),b},inArray:function(l,h,b){return h==null?-1:u.call(h,l,b)},isXMLDoc:function(l){var h=l&&l.namespaceURI,b=l&&(l.ownerDocument||l).documentElement;return!F.test(h||b&&b.nodeName||"HTML")},merge:function(l,h){for(var b=+h.length,E=0,D=l.length;E<b;E++)l[D++]=h[E];return l.length=D,l},grep:function(l,h,b){for(var E,D=[],k=0,R=l.length,z=!b;k<R;k++)E=!h(l[k],k),E!==z&&D.push(l[k]);return D},map:function(l,h,b){var E,D,k=0,R=[];if(te(l))for(E=l.length;k<E;k++)D=h(l[k],k,b),D!=null&&R.push(D);else for(k in l)D=h(l[k],k,b),D!=null&&R.push(D);return a(R)},guid:1,support:x}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=i[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,h){c["[object "+h+"]"]=h.toLowerCase()});function te(l){var h=!!l&&"length"in l&&l.length,b=I(l);return L(l)||O(l)?!1:b==="array"||h===0||typeof h=="number"&&h>0&&h-1 in l}function ie(l,h){return l.nodeName&&l.nodeName.toLowerCase()===h.toLowerCase()}var Te=i.pop,Y=i.sort,se=i.splice,J="[\\x20\\t\\r\\n\\f]",de=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g");m.contains=function(l,h){var b=h&&h.parentNode;return l===b||!!(b&&b.nodeType===1&&(l.contains?l.contains(b):l.compareDocumentPosition&&l.compareDocumentPosition(b)&16))};var $e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Le(l,h){return h?l==="\0"?"�":l.slice(0,-1)+"\\"+l.charCodeAt(l.length-1).toString(16)+" ":"\\"+l}m.escapeSelector=function(l){return(l+"").replace($e,Le)};var Re=S,Ve=o;(function(){var l,h,b,E,D,k=Ve,R,z,q,Q,he,ge=m.expando,ae=0,Ce=0,Xe=ra(),ot=ra(),Ye=ra(),Wt=ra(),zt=function($,X){return $===X&&(D=!0),0},mn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ni="(?:\\\\[\\da-fA-F]{1,6}"+J+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",at="\\["+J+"*("+Ni+")(?:"+J+"*([*^$|!~]?=)"+J+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ni+"))|)"+J+"*\\]",lr=":("+Ni+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+at+")*)|.*)\\)|)",lt=new RegExp(J+"+","g"),Gt=new RegExp("^"+J+"*,"+J+"*"),na=new RegExp("^"+J+"*([>+~]|"+J+")"+J+"*"),Lu=new RegExp(J+"|>"),qn=new RegExp(lr),ia=new RegExp("^"+Ni+"$"),bi={ID:new RegExp("^#("+Ni+")"),CLASS:new RegExp("^\\.("+Ni+")"),TAG:new RegExp("^("+Ni+"|[*])"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+lr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),bool:new RegExp("^(?:"+mn+")$","i"),needsContext:new RegExp("^"+J+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)","i")},cr=/^(?:input|select|textarea|button)$/i,dr=/^h\d$/i,Vn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Qa=/[+~]/,Qi=new RegExp("\\\\[\\da-fA-F]{1,6}"+J+"?|\\\\([^\\r\\n\\f])","g"),Ji=function($,X){var re="0x"+$.slice(1)-65536;return X||(re<0?String.fromCharCode(re+65536):String.fromCharCode(re>>10|55296,re&1023|56320))},dh=function(){hr()},Cc=Za(function($){return $.disabled===!0&&ie($,"fieldset")},{dir:"parentNode",next:"legend"});function fh(){try{return R.activeElement}catch{}}try{k.apply(i=s.call(Re.childNodes),Re.childNodes),i[Re.childNodes.length].nodeType}catch{k={apply:function(X,re){Ve.apply(X,s.call(re))},call:function(X){Ve.apply(X,s.call(arguments,1))}}}function _t($,X,re,le){var pe,ke,Ne,He,Me,nt,We,je=X&&X.ownerDocument,Ze=X?X.nodeType:9;if(re=re||[],typeof $!="string"||!$||Ze!==1&&Ze!==9&&Ze!==11)return re;if(!le&&(hr(X),X=X||R,q)){if(Ze!==11&&(Me=Vn.exec($)))if(pe=Me[1]){if(Ze===9)if(Ne=X.getElementById(pe)){if(Ne.id===pe)return k.call(re,Ne),re}else return re;else if(je&&(Ne=je.getElementById(pe))&&_t.contains(X,Ne)&&Ne.id===pe)return k.call(re,Ne),re}else{if(Me[2])return k.apply(re,X.getElementsByTagName($)),re;if((pe=Me[3])&&X.getElementsByClassName)return k.apply(re,X.getElementsByClassName(pe)),re}if(!Wt[$+" "]&&(!Q||!Q.test($))){if(We=$,je=X,Ze===1&&(Lu.test($)||na.test($))){for(je=Qa.test($)&&Iu(X.parentNode)||X,(je!=X||!x.scope)&&((He=X.getAttribute("id"))?He=m.escapeSelector(He):X.setAttribute("id",He=ge)),nt=sa($),ke=nt.length;ke--;)nt[ke]=(He?"#"+He:":scope")+" "+Ja(nt[ke]);We=nt.join(",")}try{return k.apply(re,je.querySelectorAll(We)),re}catch{Wt($,!0)}finally{He===ge&&X.removeAttribute("id")}}}return Ac($.replace(de,"$1"),X,re,le)}function ra(){var $=[];function X(re,le){return $.push(re+" ")>h.cacheLength&&delete X[$.shift()],X[re+" "]=le}return X}function Ti($){return $[ge]=!0,$}function jr($){var X=R.createElement("fieldset");try{return!!$(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function hh($){return function(X){return ie(X,"input")&&X.type===$}}function wc($){return function(X){return(ie(X,"input")||ie(X,"button"))&&X.type===$}}function fs($){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===$:X.disabled===$:X.isDisabled===$||X.isDisabled!==!$&&Cc(X)===$:X.disabled===$:"label"in X?X.disabled===$:!1}}function fr($){return Ti(function(X){return X=+X,Ti(function(re,le){for(var pe,ke=$([],re.length,X),Ne=ke.length;Ne--;)re[pe=ke[Ne]]&&(re[pe]=!(le[pe]=re[pe]))})})}function Iu($){return $&&typeof $.getElementsByTagName<"u"&&$}function hr($){var X,re=$?$.ownerDocument||$:Re;return re==R||re.nodeType!==9||!re.documentElement||(R=re,z=R.documentElement,q=!m.isXMLDoc(R),he=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,z.msMatchesSelector&&Re!=R&&(X=R.defaultView)&&X.top!==X&&X.addEventListener("unload",dh),x.getById=jr(function(le){return z.appendChild(le).id=m.expando,!R.getElementsByName||!R.getElementsByName(m.expando).length}),x.disconnectedMatch=jr(function(le){return he.call(le,"*")}),x.scope=jr(function(){return R.querySelectorAll(":scope")}),x.cssHas=jr(function(){try{return R.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),x.getById?(h.filter.ID=function(le){var pe=le.replace(Qi,Ji);return function(ke){return ke.getAttribute("id")===pe}},h.find.ID=function(le,pe){if(typeof pe.getElementById<"u"&&q){var ke=pe.getElementById(le);return ke?[ke]:[]}}):(h.filter.ID=function(le){var pe=le.replace(Qi,Ji);return function(ke){var Ne=typeof ke.getAttributeNode<"u"&&ke.getAttributeNode("id");return Ne&&Ne.value===pe}},h.find.ID=function(le,pe){if(typeof pe.getElementById<"u"&&q){var ke,Ne,He,Me=pe.getElementById(le);if(Me){if(ke=Me.getAttributeNode("id"),ke&&ke.value===le)return[Me];for(He=pe.getElementsByName(le),Ne=0;Me=He[Ne++];)if(ke=Me.getAttributeNode("id"),ke&&ke.value===le)return[Me]}return[]}}),h.find.TAG=function(le,pe){return typeof pe.getElementsByTagName<"u"?pe.getElementsByTagName(le):pe.querySelectorAll(le)},h.find.CLASS=function(le,pe){if(typeof pe.getElementsByClassName<"u"&&q)return pe.getElementsByClassName(le)},Q=[],jr(function(le){var pe;z.appendChild(le).innerHTML="<a id='"+ge+"' href='' disabled='disabled'></a><select id='"+ge+"-\r\\' disabled='disabled'><option selected=''></option></select>",le.querySelectorAll("[selected]").length||Q.push("\\["+J+"*(?:value|"+mn+")"),le.querySelectorAll("[id~="+ge+"-]").length||Q.push("~="),le.querySelectorAll("a#"+ge+"+*").length||Q.push(".#.+[+~]"),le.querySelectorAll(":checked").length||Q.push(":checked"),pe=R.createElement("input"),pe.setAttribute("type","hidden"),le.appendChild(pe).setAttribute("name","D"),z.appendChild(le).disabled=!0,le.querySelectorAll(":disabled").length!==2&&Q.push(":enabled",":disabled"),pe=R.createElement("input"),pe.setAttribute("name",""),le.appendChild(pe),le.querySelectorAll("[name='']").length||Q.push("\\["+J+"*name"+J+"*="+J+`*(?:''|"")`)}),x.cssHas||Q.push(":has"),Q=Q.length&&new RegExp(Q.join("|")),zt=function(le,pe){if(le===pe)return D=!0,0;var ke=!le.compareDocumentPosition-!pe.compareDocumentPosition;return ke||(ke=(le.ownerDocument||le)==(pe.ownerDocument||pe)?le.compareDocumentPosition(pe):1,ke&1||!x.sortDetached&&pe.compareDocumentPosition(le)===ke?le===R||le.ownerDocument==Re&&_t.contains(Re,le)?-1:pe===R||pe.ownerDocument==Re&&_t.contains(Re,pe)?1:E?u.call(E,le)-u.call(E,pe):0:ke&4?-1:1)}),R}_t.matches=function($,X){return _t($,null,null,X)},_t.matchesSelector=function($,X){if(hr($),q&&!Wt[X+" "]&&(!Q||!Q.test(X)))try{var re=he.call($,X);if(re||x.disconnectedMatch||$.document&&$.document.nodeType!==11)return re}catch{Wt(X,!0)}return _t(X,R,null,[$]).length>0},_t.contains=function($,X){return($.ownerDocument||$)!=R&&hr($),m.contains($,X)},_t.attr=function($,X){($.ownerDocument||$)!=R&&hr($);var re=h.attrHandle[X.toLowerCase()],le=re&&p.call(h.attrHandle,X.toLowerCase())?re($,X,!q):void 0;return le!==void 0?le:$.getAttribute(X)},_t.error=function($){throw new Error("Syntax error, unrecognized expression: "+$)},m.uniqueSort=function($){var X,re=[],le=0,pe=0;if(D=!x.sortStable,E=!x.sortStable&&s.call($,0),Y.call($,zt),D){for(;X=$[pe++];)X===$[pe]&&(le=re.push(pe));for(;le--;)se.call($,re[le],1)}return E=null,$},m.fn.uniqueSort=function(){return this.pushStack(m.uniqueSort(s.apply(this)))},h=m.expr={cacheLength:50,createPseudo:Ti,match:bi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function($){return $[1]=$[1].replace(Qi,Ji),$[3]=($[3]||$[4]||$[5]||"").replace(Qi,Ji),$[2]==="~="&&($[3]=" "+$[3]+" "),$.slice(0,4)},CHILD:function($){return $[1]=$[1].toLowerCase(),$[1].slice(0,3)==="nth"?($[3]||_t.error($[0]),$[4]=+($[4]?$[5]+($[6]||1):2*($[3]==="even"||$[3]==="odd")),$[5]=+($[7]+$[8]||$[3]==="odd")):$[3]&&_t.error($[0]),$},PSEUDO:function($){var X,re=!$[6]&&$[2];return bi.CHILD.test($[0])?null:($[3]?$[2]=$[4]||$[5]||"":re&&qn.test(re)&&(X=sa(re,!0))&&(X=re.indexOf(")",re.length-X)-re.length)&&($[0]=$[0].slice(0,X),$[2]=re.slice(0,X)),$.slice(0,3))}},filter:{TAG:function($){var X=$.replace(Qi,Ji).toLowerCase();return $==="*"?function(){return!0}:function(re){return ie(re,X)}},CLASS:function($){var X=Xe[$+" "];return X||(X=new RegExp("(^|"+J+")"+$+"("+J+"|$)"))&&Xe($,function(re){return X.test(typeof re.className=="string"&&re.className||typeof re.getAttribute<"u"&&re.getAttribute("class")||"")})},ATTR:function($,X,re){return function(le){var pe=_t.attr(le,$);return pe==null?X==="!=":X?(pe+="",X==="="?pe===re:X==="!="?pe!==re:X==="^="?re&&pe.indexOf(re)===0:X==="*="?re&&pe.indexOf(re)>-1:X==="$="?re&&pe.slice(-re.length)===re:X==="~="?(" "+pe.replace(lt," ")+" ").indexOf(re)>-1:X==="|="?pe===re||pe.slice(0,re.length+1)===re+"-":!1):!0}},CHILD:function($,X,re,le,pe){var ke=$.slice(0,3)!=="nth",Ne=$.slice(-4)!=="last",He=X==="of-type";return le===1&&pe===0?function(Me){return!!Me.parentNode}:function(Me,nt,We){var je,Ze,qe,Dt,On,yn=ke!==Ne?"nextSibling":"previousSibling",si=Me.parentNode,Ei=He&&Me.nodeName.toLowerCase(),$r=!We&&!He,_n=!1;if(si){if(ke){for(;yn;){for(qe=Me;qe=qe[yn];)if(He?ie(qe,Ei):qe.nodeType===1)return!1;On=yn=$==="only"&&!On&&"nextSibling"}return!0}if(On=[Ne?si.firstChild:si.lastChild],Ne&&$r){for(Ze=si[ge]||(si[ge]={}),je=Ze[$]||[],Dt=je[0]===ae&&je[1],_n=Dt&&je[2],qe=Dt&&si.childNodes[Dt];qe=++Dt&&qe&&qe[yn]||(_n=Dt=0)||On.pop();)if(qe.nodeType===1&&++_n&&qe===Me){Ze[$]=[ae,Dt,_n];break}}else if($r&&(Ze=Me[ge]||(Me[ge]={}),je=Ze[$]||[],Dt=je[0]===ae&&je[1],_n=Dt),_n===!1)for(;(qe=++Dt&&qe&&qe[yn]||(_n=Dt=0)||On.pop())&&!((He?ie(qe,Ei):qe.nodeType===1)&&++_n&&($r&&(Ze=qe[ge]||(qe[ge]={}),Ze[$]=[ae,_n]),qe===Me)););return _n-=pe,_n===le||_n%le===0&&_n/le>=0}}},PSEUDO:function($,X){var re,le=h.pseudos[$]||h.setFilters[$.toLowerCase()]||_t.error("unsupported pseudo: "+$);return le[ge]?le(X):le.length>1?(re=[$,$,"",X],h.setFilters.hasOwnProperty($.toLowerCase())?Ti(function(pe,ke){for(var Ne,He=le(pe,X),Me=He.length;Me--;)Ne=u.call(pe,He[Me]),pe[Ne]=!(ke[Ne]=He[Me])}):function(pe){return le(pe,0,re)}):le}},pseudos:{not:Ti(function($){var X=[],re=[],le=Ru($.replace(de,"$1"));return le[ge]?Ti(function(pe,ke,Ne,He){for(var Me,nt=le(pe,null,He,[]),We=pe.length;We--;)(Me=nt[We])&&(pe[We]=!(ke[We]=Me))}):function(pe,ke,Ne){return X[0]=pe,le(X,null,Ne,re),X[0]=null,!re.pop()}}),has:Ti(function($){return function(X){return _t($,X).length>0}}),contains:Ti(function($){return $=$.replace(Qi,Ji),function(X){return(X.textContent||m.text(X)).indexOf($)>-1}}),lang:Ti(function($){return ia.test($||"")||_t.error("unsupported lang: "+$),$=$.replace(Qi,Ji).toLowerCase(),function(X){var re;do if(re=q?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return re=re.toLowerCase(),re===$||re.indexOf($+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function($){var X=e.location&&e.location.hash;return X&&X.slice(1)===$.id},root:function($){return $===z},focus:function($){return $===fh()&&R.hasFocus()&&!!($.type||$.href||~$.tabIndex)},enabled:fs(!1),disabled:fs(!0),checked:function($){return ie($,"input")&&!!$.checked||ie($,"option")&&!!$.selected},selected:function($){return $.parentNode&&$.parentNode.selectedIndex,$.selected===!0},empty:function($){for($=$.firstChild;$;$=$.nextSibling)if($.nodeType<6)return!1;return!0},parent:function($){return!h.pseudos.empty($)},header:function($){return dr.test($.nodeName)},input:function($){return cr.test($.nodeName)},button:function($){return ie($,"input")&&$.type==="button"||ie($,"button")},text:function($){var X;return ie($,"input")&&$.type==="text"&&((X=$.getAttribute("type"))==null||X.toLowerCase()==="text")},first:fr(function(){return[0]}),last:fr(function($,X){return[X-1]}),eq:fr(function($,X,re){return[re<0?re+X:re]}),even:fr(function($,X){for(var re=0;re<X;re+=2)$.push(re);return $}),odd:fr(function($,X){for(var re=1;re<X;re+=2)$.push(re);return $}),lt:fr(function($,X,re){var le;for(re<0?le=re+X:re>X?le=X:le=re;--le>=0;)$.push(le);return $}),gt:fr(function($,X,re){for(var le=re<0?re+X:re;++le<X;)$.push(le);return $})}},h.pseudos.nth=h.pseudos.eq;for(l in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[l]=hh(l);for(l in{submit:!0,reset:!0})h.pseudos[l]=wc(l);function hs(){}hs.prototype=h.filters=h.pseudos,h.setFilters=new hs;function sa($,X){var re,le,pe,ke,Ne,He,Me,nt=ot[$+" "];if(nt)return X?0:nt.slice(0);for(Ne=$,He=[],Me=h.preFilter;Ne;){(!re||(le=Gt.exec(Ne)))&&(le&&(Ne=Ne.slice(le[0].length)||Ne),He.push(pe=[])),re=!1,(le=na.exec(Ne))&&(re=le.shift(),pe.push({value:re,type:le[0].replace(de," ")}),Ne=Ne.slice(re.length));for(ke in h.filter)(le=bi[ke].exec(Ne))&&(!Me[ke]||(le=Me[ke](le)))&&(re=le.shift(),pe.push({value:re,type:ke,matches:le}),Ne=Ne.slice(re.length));if(!re)break}return X?Ne.length:Ne?_t.error($):ot($,He).slice(0)}function Ja($){for(var X=0,re=$.length,le="";X<re;X++)le+=$[X].value;return le}function Za($,X,re){var le=X.dir,pe=X.next,ke=pe||le,Ne=re&&ke==="parentNode",He=Ce++;return X.first?function(Me,nt,We){for(;Me=Me[le];)if(Me.nodeType===1||Ne)return $(Me,nt,We);return!1}:function(Me,nt,We){var je,Ze,qe=[ae,He];if(We){for(;Me=Me[le];)if((Me.nodeType===1||Ne)&&$(Me,nt,We))return!0}else for(;Me=Me[le];)if(Me.nodeType===1||Ne)if(Ze=Me[ge]||(Me[ge]={}),pe&&ie(Me,pe))Me=Me[le]||Me;else{if((je=Ze[ke])&&je[0]===ae&&je[1]===He)return qe[2]=je[2];if(Ze[ke]=qe,qe[2]=$(Me,nt,We))return!0}return!1}}function eo($){return $.length>1?function(X,re,le){for(var pe=$.length;pe--;)if(!$[pe](X,re,le))return!1;return!0}:$[0]}function ph($,X,re){for(var le=0,pe=X.length;le<pe;le++)_t($,X[le],re);return re}function to($,X,re,le,pe){for(var ke,Ne=[],He=0,Me=$.length,nt=X!=null;He<Me;He++)(ke=$[He])&&(!re||re(ke,le,pe))&&(Ne.push(ke),nt&&X.push(He));return Ne}function Pu($,X,re,le,pe,ke){return le&&!le[ge]&&(le=Pu(le)),pe&&!pe[ge]&&(pe=Pu(pe,ke)),Ti(function(Ne,He,Me,nt){var We,je,Ze,qe,Dt=[],On=[],yn=He.length,si=Ne||ph(X||"*",Me.nodeType?[Me]:Me,[]),Ei=$&&(Ne||!X)?to(si,Dt,$,Me,nt):si;if(re?(qe=pe||(Ne?$:yn||le)?[]:He,re(Ei,qe,Me,nt)):qe=Ei,le)for(We=to(qe,On),le(We,[],Me,nt),je=We.length;je--;)(Ze=We[je])&&(qe[On[je]]=!(Ei[On[je]]=Ze));if(Ne){if(pe||$){if(pe){for(We=[],je=qe.length;je--;)(Ze=qe[je])&&We.push(Ei[je]=Ze);pe(null,qe=[],We,nt)}for(je=qe.length;je--;)(Ze=qe[je])&&(We=pe?u.call(Ne,Ze):Dt[je])>-1&&(Ne[We]=!(He[We]=Ze))}}else qe=to(qe===He?qe.splice(yn,qe.length):qe),pe?pe(null,He,qe,nt):k.apply(He,qe)})}function Ou($){for(var X,re,le,pe=$.length,ke=h.relative[$[0].type],Ne=ke||h.relative[" "],He=ke?1:0,Me=Za(function(je){return je===X},Ne,!0),nt=Za(function(je){return u.call(X,je)>-1},Ne,!0),We=[function(je,Ze,qe){var Dt=!ke&&(qe||Ze!=b)||((X=Ze).nodeType?Me(je,Ze,qe):nt(je,Ze,qe));return X=null,Dt}];He<pe;He++)if(re=h.relative[$[He].type])We=[Za(eo(We),re)];else{if(re=h.filter[$[He].type].apply(null,$[He].matches),re[ge]){for(le=++He;le<pe&&!h.relative[$[le].type];le++);return Pu(He>1&&eo(We),He>1&&Ja($.slice(0,He-1).concat({value:$[He-2].type===" "?"*":""})).replace(de,"$1"),re,He<le&&Ou($.slice(He,le)),le<pe&&Ou($=$.slice(le)),le<pe&&Ja($))}We.push(re)}return eo(We)}function gh($,X){var re=X.length>0,le=$.length>0,pe=function(ke,Ne,He,Me,nt){var We,je,Ze,qe=0,Dt="0",On=ke&&[],yn=[],si=b,Ei=ke||le&&h.find.TAG("*",nt),$r=ae+=si==null?1:Math.random()||.1,_n=Ei.length;for(nt&&(b=Ne==R||Ne||nt);Dt!==_n&&(We=Ei[Dt])!=null;Dt++){if(le&&We){for(je=0,!Ne&&We.ownerDocument!=R&&(hr(We),He=!q);Ze=$[je++];)if(Ze(We,Ne||R,He)){k.call(Me,We);break}nt&&(ae=$r)}re&&((We=!Ze&&We)&&qe--,ke&&On.push(We))}if(qe+=Dt,re&&Dt!==qe){for(je=0;Ze=X[je++];)Ze(On,yn,Ne,He);if(ke){if(qe>0)for(;Dt--;)On[Dt]||yn[Dt]||(yn[Dt]=Te.call(Me));yn=to(yn)}k.apply(Me,yn),nt&&!ke&&yn.length>0&&qe+X.length>1&&m.uniqueSort(Me)}return nt&&(ae=$r,b=si),On};return re?Ti(pe):pe}function Ru($,X){var re,le=[],pe=[],ke=Ye[$+" "];if(!ke){for(X||(X=sa($)),re=X.length;re--;)ke=Ou(X[re]),ke[ge]?le.push(ke):pe.push(ke);ke=Ye($,gh(pe,le)),ke.selector=$}return ke}function Ac($,X,re,le){var pe,ke,Ne,He,Me,nt=typeof $=="function"&&$,We=!le&&sa($=nt.selector||$);if(re=re||[],We.length===1){if(ke=We[0]=We[0].slice(0),ke.length>2&&(Ne=ke[0]).type==="ID"&&X.nodeType===9&&q&&h.relative[ke[1].type]){if(X=(h.find.ID(Ne.matches[0].replace(Qi,Ji),X)||[])[0],X)nt&&(X=X.parentNode);else return re;$=$.slice(ke.shift().value.length)}for(pe=bi.needsContext.test($)?0:ke.length;pe--&&(Ne=ke[pe],!h.relative[He=Ne.type]);)if((Me=h.find[He])&&(le=Me(Ne.matches[0].replace(Qi,Ji),Qa.test(ke[0].type)&&Iu(X.parentNode)||X))){if(ke.splice(pe,1),$=le.length&&Ja(ke),!$)return k.apply(re,le),re;break}}return(nt||Ru($,We))(le,X,!q,re,!X||Qa.test($)&&Iu(X.parentNode)||X),re}x.sortStable=ge.split("").sort(zt).join("")===ge,hr(),x.sortDetached=jr(function($){return $.compareDocumentPosition(R.createElement("fieldset"))&1}),m.find=_t,m.expr[":"]=m.expr.pseudos,m.unique=m.uniqueSort,_t.compile=Ru,_t.select=Ac,_t.setDocument=hr,_t.tokenize=sa,_t.escape=m.escapeSelector,_t.getText=m.text,_t.isXML=m.isXMLDoc,_t.selectors=m.expr,_t.support=m.support,_t.uniqueSort=m.uniqueSort})();var bt=function(l,h,b){for(var E=[],D=b!==void 0;(l=l[h])&&l.nodeType!==9;)if(l.nodeType===1){if(D&&m(l).is(b))break;E.push(l)}return E},Qt=function(l,h){for(var b=[];l;l=l.nextSibling)l.nodeType===1&&l!==h&&b.push(l);return b},Ht=m.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function fn(l,h,b){return L(h)?m.grep(l,function(E,D){return!!h.call(E,D,E)!==b}):h.nodeType?m.grep(l,function(E){return E===h!==b}):typeof h!="string"?m.grep(l,function(E){return u.call(h,E)>-1!==b}):m.filter(h,l,b)}m.filter=function(l,h,b){var E=h[0];return b&&(l=":not("+l+")"),h.length===1&&E.nodeType===1?m.find.matchesSelector(E,l)?[E]:[]:m.find.matches(l,m.grep(h,function(D){return D.nodeType===1}))},m.fn.extend({find:function(l){var h,b,E=this.length,D=this;if(typeof l!="string")return this.pushStack(m(l).filter(function(){for(h=0;h<E;h++)if(m.contains(D[h],this))return!0}));for(b=this.pushStack([]),h=0;h<E;h++)m.find(l,D[h],b);return E>1?m.uniqueSort(b):b},filter:function(l){return this.pushStack(fn(this,l||[],!1))},not:function(l){return this.pushStack(fn(this,l||[],!0))},is:function(l){return!!fn(this,typeof l=="string"&&Ht.test(l)?m(l):l||[],!1).length}});var In,yi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,qt=m.fn.init=function(l,h,b){var E,D;if(!l)return this;if(b=b||In,typeof l=="string")if(l[0]==="<"&&l[l.length-1]===">"&&l.length>=3?E=[null,l,null]:E=yi.exec(l),E&&(E[1]||!h))if(E[1]){if(h=h instanceof m?h[0]:h,m.merge(this,m.parseHTML(E[1],h&&h.nodeType?h.ownerDocument||h:S,!0)),xt.test(E[1])&&m.isPlainObject(h))for(E in h)L(this[E])?this[E](h[E]):this.attr(E,h[E]);return this}else return D=S.getElementById(E[2]),D&&(this[0]=D,this.length=1),this;else return!h||h.jquery?(h||b).find(l):this.constructor(h).find(l);else{if(l.nodeType)return this[0]=l,this.length=1,this;if(L(l))return b.ready!==void 0?b.ready(l):l(m)}return m.makeArray(l,this)};qt.prototype=m.fn,In=m(S);var _e=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(l){var h=m(l,this),b=h.length;return this.filter(function(){for(var E=0;E<b;E++)if(m.contains(this,h[E]))return!0})},closest:function(l,h){var b,E=0,D=this.length,k=[],R=typeof l!="string"&&m(l);if(!Ht.test(l)){for(;E<D;E++)for(b=this[E];b&&b!==h;b=b.parentNode)if(b.nodeType<11&&(R?R.index(b)>-1:b.nodeType===1&&m.find.matchesSelector(b,l))){k.push(b);break}}return this.pushStack(k.length>1?m.uniqueSort(k):k)},index:function(l){return l?typeof l=="string"?u.call(m(l),this[0]):u.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(l,h){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(l,h))))},addBack:function(l){return this.add(l==null?this.prevObject:this.prevObject.filter(l))}});function Ae(l,h){for(;(l=l[h])&&l.nodeType!==1;);return l}m.each({parent:function(l){var h=l.parentNode;return h&&h.nodeType!==11?h:null},parents:function(l){return bt(l,"parentNode")},parentsUntil:function(l,h,b){return bt(l,"parentNode",b)},next:function(l){return Ae(l,"nextSibling")},prev:function(l){return Ae(l,"previousSibling")},nextAll:function(l){return bt(l,"nextSibling")},prevAll:function(l){return bt(l,"previousSibling")},nextUntil:function(l,h,b){return bt(l,"nextSibling",b)},prevUntil:function(l,h,b){return bt(l,"previousSibling",b)},siblings:function(l){return Qt((l.parentNode||{}).firstChild,l)},children:function(l){return Qt(l.firstChild)},contents:function(l){return l.contentDocument!=null&&r(l.contentDocument)?l.contentDocument:(ie(l,"template")&&(l=l.content||l),m.merge([],l.childNodes))}},function(l,h){m.fn[l]=function(b,E){var D=m.map(this,h,b);return l.slice(-5)!=="Until"&&(E=b),E&&typeof E=="string"&&(D=m.filter(E,D)),this.length>1&&(Ie[l]||m.uniqueSort(D),_e.test(l)&&D.reverse()),this.pushStack(D)}});var Pe=/[^\x20\t\r\n\f]+/g;function rt(l){var h={};return m.each(l.match(Pe)||[],function(b,E){h[E]=!0}),h}m.Callbacks=function(l){l=typeof l=="string"?rt(l):m.extend({},l);var h,b,E,D,k=[],R=[],z=-1,q=function(){for(D=D||l.once,E=h=!0;R.length;z=-1)for(b=R.shift();++z<k.length;)k[z].apply(b[0],b[1])===!1&&l.stopOnFalse&&(z=k.length,b=!1);l.memory||(b=!1),h=!1,D&&(b?k=[]:k="")},Q={add:function(){return k&&(b&&!h&&(z=k.length-1,R.push(b)),function he(ge){m.each(ge,function(ae,Ce){L(Ce)?(!l.unique||!Q.has(Ce))&&k.push(Ce):Ce&&Ce.length&&I(Ce)!=="string"&&he(Ce)})}(arguments),b&&!h&&q()),this},remove:function(){return m.each(arguments,function(he,ge){for(var ae;(ae=m.inArray(ge,k,ae))>-1;)k.splice(ae,1),ae<=z&&z--}),this},has:function(he){return he?m.inArray(he,k)>-1:k.length>0},empty:function(){return k&&(k=[]),this},disable:function(){return D=R=[],k=b="",this},disabled:function(){return!k},lock:function(){return D=R=[],!b&&!h&&(k=b=""),this},locked:function(){return!!D},fireWith:function(he,ge){return D||(ge=ge||[],ge=[he,ge.slice?ge.slice():ge],R.push(ge),h||q()),this},fire:function(){return Q.fireWith(this,arguments),this},fired:function(){return!!E}};return Q};function V(l){return l}function P(l){throw l}function B(l,h,b,E){var D;try{l&&L(D=l.promise)?D.call(l).done(h).fail(b):l&&L(D=l.then)?D.call(l,h,b):h.apply(void 0,[l].slice(E))}catch(k){b.apply(void 0,[k])}}m.extend({Deferred:function(l){var h=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],b="pending",E={state:function(){return b},always:function(){return D.done(arguments).fail(arguments),this},catch:function(k){return E.then(null,k)},pipe:function(){var k=arguments;return m.Deferred(function(R){m.each(h,function(z,q){var Q=L(k[q[4]])&&k[q[4]];D[q[1]](function(){var he=Q&&Q.apply(this,arguments);he&&L(he.promise)?he.promise().progress(R.notify).done(R.resolve).fail(R.reject):R[q[0]+"With"](this,Q?[he]:arguments)})}),k=null}).promise()},then:function(k,R,z){var q=0;function Q(he,ge,ae,Ce){return function(){var Xe=this,ot=arguments,Ye=function(){var zt,mn;if(!(he<q)){if(zt=ae.apply(Xe,ot),zt===ge.promise())throw new TypeError("Thenable self-resolution");mn=zt&&(typeof zt=="object"||typeof zt=="function")&&zt.then,L(mn)?Ce?mn.call(zt,Q(q,ge,V,Ce),Q(q,ge,P,Ce)):(q++,mn.call(zt,Q(q,ge,V,Ce),Q(q,ge,P,Ce),Q(q,ge,V,ge.notifyWith))):(ae!==V&&(Xe=void 0,ot=[zt]),(Ce||ge.resolveWith)(Xe,ot))}},Wt=Ce?Ye:function(){try{Ye()}catch(zt){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(zt,Wt.error),he+1>=q&&(ae!==P&&(Xe=void 0,ot=[zt]),ge.rejectWith(Xe,ot))}};he?Wt():(m.Deferred.getErrorHook?Wt.error=m.Deferred.getErrorHook():m.Deferred.getStackHook&&(Wt.error=m.Deferred.getStackHook()),e.setTimeout(Wt))}}return m.Deferred(function(he){h[0][3].add(Q(0,he,L(z)?z:V,he.notifyWith)),h[1][3].add(Q(0,he,L(k)?k:V)),h[2][3].add(Q(0,he,L(R)?R:P))}).promise()},promise:function(k){return k!=null?m.extend(k,E):E}},D={};return m.each(h,function(k,R){var z=R[2],q=R[5];E[R[1]]=z.add,q&&z.add(function(){b=q},h[3-k][2].disable,h[3-k][3].disable,h[0][2].lock,h[0][3].lock),z.add(R[3].fire),D[R[0]]=function(){return D[R[0]+"With"](this===D?void 0:this,arguments),this},D[R[0]+"With"]=z.fireWith}),E.promise(D),l&&l.call(D,D),D},when:function(l){var h=arguments.length,b=h,E=Array(b),D=s.call(arguments),k=m.Deferred(),R=function(z){return function(q){E[z]=this,D[z]=arguments.length>1?s.call(arguments):q,--h||k.resolveWith(E,D)}};if(h<=1&&(B(l,k.done(R(b)).resolve,k.reject,!h),k.state()==="pending"||L(D[b]&&D[b].then)))return k.then();for(;b--;)B(D[b],R(b),k.reject);return k.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(l,h){e.console&&e.console.warn&&l&&K.test(l.name)&&e.console.warn("jQuery.Deferred exception: "+l.message,l.stack,h)},m.readyException=function(l){e.setTimeout(function(){throw l})};var ee=m.Deferred();m.fn.ready=function(l){return ee.then(l).catch(function(h){m.readyException(h)}),this},m.extend({isReady:!1,readyWait:1,ready:function(l){(l===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(l!==!0&&--m.readyWait>0)&&ee.resolveWith(S,[m]))}}),m.ready.then=ee.then;function oe(){S.removeEventListener("DOMContentLoaded",oe),e.removeEventListener("load",oe),m.ready()}S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?e.setTimeout(m.ready):(S.addEventListener("DOMContentLoaded",oe),e.addEventListener("load",oe));var me=function(l,h,b,E,D,k,R){var z=0,q=l.length,Q=b==null;if(I(b)==="object"){D=!0;for(z in b)me(l,h,z,b[z],!0,k,R)}else if(E!==void 0&&(D=!0,L(E)||(R=!0),Q&&(R?(h.call(l,E),h=null):(Q=h,h=function(he,ge,ae){return Q.call(m(he),ae)})),h))for(;z<q;z++)h(l[z],b,R?E:E.call(l[z],z,h(l[z],b)));return D?l:Q?h.call(l):q?h(l[0],b):k},xe=/^-ms-/,ve=/-([a-z])/g;function Se(l,h){return h.toUpperCase()}function De(l){return l.replace(xe,"ms-").replace(ve,Se)}var ne=function(l){return l.nodeType===1||l.nodeType===9||!+l.nodeType};function ue(){this.expando=m.expando+ue.uid++}ue.uid=1,ue.prototype={cache:function(l){var h=l[this.expando];return h||(h={},ne(l)&&(l.nodeType?l[this.expando]=h:Object.defineProperty(l,this.expando,{value:h,configurable:!0}))),h},set:function(l,h,b){var E,D=this.cache(l);if(typeof h=="string")D[De(h)]=b;else for(E in h)D[De(E)]=h[E];return D},get:function(l,h){return h===void 0?this.cache(l):l[this.expando]&&l[this.expando][De(h)]},access:function(l,h,b){return h===void 0||h&&typeof h=="string"&&b===void 0?this.get(l,h):(this.set(l,h,b),b!==void 0?b:h)},remove:function(l,h){var b,E=l[this.expando];if(E!==void 0){if(h!==void 0)for(Array.isArray(h)?h=h.map(De):(h=De(h),h=h in E?[h]:h.match(Pe)||[]),b=h.length;b--;)delete E[h[b]];(h===void 0||m.isEmptyObject(E))&&(l.nodeType?l[this.expando]=void 0:delete l[this.expando])}},hasData:function(l){var h=l[this.expando];return h!==void 0&&!m.isEmptyObject(h)}};var be=new ue,Be=new ue,ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,st=/[A-Z]/g;function yt(l){return l==="true"?!0:l==="false"?!1:l==="null"?null:l===+l+""?+l:ut.test(l)?JSON.parse(l):l}function hn(l,h,b){var E;if(b===void 0&&l.nodeType===1)if(E="data-"+h.replace(st,"-$&").toLowerCase(),b=l.getAttribute(E),typeof b=="string"){try{b=yt(b)}catch{}Be.set(l,h,b)}else b=void 0;return b}m.extend({hasData:function(l){return Be.hasData(l)||be.hasData(l)},data:function(l,h,b){return Be.access(l,h,b)},removeData:function(l,h){Be.remove(l,h)},_data:function(l,h,b){return be.access(l,h,b)},_removeData:function(l,h){be.remove(l,h)}}),m.fn.extend({data:function(l,h){var b,E,D,k=this[0],R=k&&k.attributes;if(l===void 0){if(this.length&&(D=Be.get(k),k.nodeType===1&&!be.get(k,"hasDataAttrs"))){for(b=R.length;b--;)R[b]&&(E=R[b].name,E.indexOf("data-")===0&&(E=De(E.slice(5)),hn(k,E,D[E])));be.set(k,"hasDataAttrs",!0)}return D}return typeof l=="object"?this.each(function(){Be.set(this,l)}):me(this,function(z){var q;if(k&&z===void 0)return q=Be.get(k,l),q!==void 0||(q=hn(k,l),q!==void 0)?q:void 0;this.each(function(){Be.set(this,l,z)})},null,h,arguments.length>1,null,!0)},removeData:function(l){return this.each(function(){Be.remove(this,l)})}}),m.extend({queue:function(l,h,b){var E;if(l)return h=(h||"fx")+"queue",E=be.get(l,h),b&&(!E||Array.isArray(b)?E=be.access(l,h,m.makeArray(b)):E.push(b)),E||[]},dequeue:function(l,h){h=h||"fx";var b=m.queue(l,h),E=b.length,D=b.shift(),k=m._queueHooks(l,h),R=function(){m.dequeue(l,h)};D==="inprogress"&&(D=b.shift(),E--),D&&(h==="fx"&&b.unshift("inprogress"),delete k.stop,D.call(l,R,k)),!E&&k&&k.empty.fire()},_queueHooks:function(l,h){var b=h+"queueHooks";return be.get(l,b)||be.access(l,b,{empty:m.Callbacks("once memory").add(function(){be.remove(l,[h+"queue",b])})})}}),m.fn.extend({queue:function(l,h){var b=2;return typeof l!="string"&&(h=l,l="fx",b--),arguments.length<b?m.queue(this[0],l):h===void 0?this:this.each(function(){var E=m.queue(this,l,h);m._queueHooks(this,l),l==="fx"&&E[0]!=="inprogress"&&m.dequeue(this,l)})},dequeue:function(l){return this.each(function(){m.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,h){var b,E=1,D=m.Deferred(),k=this,R=this.length,z=function(){--E||D.resolveWith(k,[k])};for(typeof l!="string"&&(h=l,l=void 0),l=l||"fx";R--;)b=be.get(k[R],l+"queueHooks"),b&&b.empty&&(E++,b.empty.add(z));return z(),D.promise(h)}});var _i=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ft=new RegExp("^(?:([+-])=|)("+_i+")([a-z%]*)$","i"),Cn=["Top","Right","Bottom","Left"],$n=S.documentElement,en=function(l){return m.contains(l.ownerDocument,l)},ti={composed:!0};$n.getRootNode&&(en=function(l){return m.contains(l.ownerDocument,l)||l.getRootNode(ti)===l.ownerDocument});var Mr=function(l,h){return l=h||l,l.style.display==="none"||l.style.display===""&&en(l)&&m.css(l,"display")==="none"};function sc(l,h,b,E){var D,k,R=20,z=E?function(){return E.cur()}:function(){return m.css(l,h,"")},q=z(),Q=b&&b[3]||(m.cssNumber[h]?"":"px"),he=l.nodeType&&(m.cssNumber[h]||Q!=="px"&&+q)&&ft.exec(m.css(l,h));if(he&&he[3]!==Q){for(q=q/2,Q=Q||he[3],he=+q||1;R--;)m.style(l,h,he+Q),(1-k)*(1-(k=z()/q||.5))<=0&&(R=0),he=he/k;he=he*2,m.style(l,h,he+Q),b=b||[]}return b&&(he=+he||+q||0,D=b[1]?he+(b[1]+1)*b[2]:+b[2],E&&(E.unit=Q,E.start=he,E.end=D)),D}var ac={};function Gf(l){var h,b=l.ownerDocument,E=l.nodeName,D=ac[E];return D||(h=b.body.appendChild(b.createElement(E)),D=m.css(h,"display"),h.parentNode.removeChild(h),D==="none"&&(D="block"),ac[E]=D,D)}function us(l,h){for(var b,E,D=[],k=0,R=l.length;k<R;k++)E=l[k],E.style&&(b=E.style.display,h?(b==="none"&&(D[k]=be.get(E,"display")||null,D[k]||(E.style.display="")),E.style.display===""&&Mr(E)&&(D[k]=Gf(E))):b!=="none"&&(D[k]="none",be.set(E,"display",b)));for(k=0;k<R;k++)D[k]!=null&&(l[k].style.display=D[k]);return l}m.fn.extend({show:function(){return us(this,!0)},hide:function(){return us(this)},toggle:function(l){return typeof l=="boolean"?l?this.show():this.hide():this.each(function(){Mr(this)?m(this).show():m(this).hide()})}});var Hs=/^(?:checkbox|radio)$/i,oc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,uc=/^$|^module$|\/(?:java|ecma)script/i;(function(){var l=S.createDocumentFragment(),h=l.appendChild(S.createElement("div")),b=S.createElement("input");b.setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),h.appendChild(b),x.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",x.option=!!h.lastChild})();var ni={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ni.tbody=ni.tfoot=ni.colgroup=ni.caption=ni.thead,ni.th=ni.td,x.option||(ni.optgroup=ni.option=[1,"<select multiple='multiple'>","</select>"]);function wn(l,h){var b;return typeof l.getElementsByTagName<"u"?b=l.getElementsByTagName(h||"*"):typeof l.querySelectorAll<"u"?b=l.querySelectorAll(h||"*"):b=[],h===void 0||h&&ie(l,h)?m.merge([l],b):b}function gu(l,h){for(var b=0,E=l.length;b<E;b++)be.set(l[b],"globalEval",!h||be.get(h[b],"globalEval"))}var Kf=/<|&#?\w+;/;function lc(l,h,b,E,D){for(var k,R,z,q,Q,he,ge=h.createDocumentFragment(),ae=[],Ce=0,Xe=l.length;Ce<Xe;Ce++)if(k=l[Ce],k||k===0)if(I(k)==="object")m.merge(ae,k.nodeType?[k]:k);else if(!Kf.test(k))ae.push(h.createTextNode(k));else{for(R=R||ge.appendChild(h.createElement("div")),z=(oc.exec(k)||["",""])[1].toLowerCase(),q=ni[z]||ni._default,R.innerHTML=q[1]+m.htmlPrefilter(k)+q[2],he=q[0];he--;)R=R.lastChild;m.merge(ae,R.childNodes),R=ge.firstChild,R.textContent=""}for(ge.textContent="",Ce=0;k=ae[Ce++];){if(E&&m.inArray(k,E)>-1){D&&D.push(k);continue}if(Q=en(k),R=wn(ge.appendChild(k),"script"),Q&&gu(R),b)for(he=0;k=R[he++];)uc.test(k.type||"")&&b.push(k)}return ge}var cc=/^([^.]*)(?:\.(.+)|)/;function ls(){return!0}function Br(){return!1}function qs(l,h,b,E,D,k){var R,z;if(typeof h=="object"){typeof b!="string"&&(E=E||b,b=void 0);for(z in h)qs(l,z,b,E,h[z],k);return l}if(E==null&&D==null?(D=b,E=b=void 0):D==null&&(typeof b=="string"?(D=E,E=void 0):(D=E,E=b,b=void 0)),D===!1)D=Br;else if(!D)return l;return k===1&&(R=D,D=function(q){return m().off(q),R.apply(this,arguments)},D.guid=R.guid||(R.guid=m.guid++)),l.each(function(){m.event.add(this,h,D,E,b)})}m.event={global:{},add:function(l,h,b,E,D){var k,R,z,q,Q,he,ge,ae,Ce,Xe,ot,Ye=be.get(l);if(ne(l))for(b.handler&&(k=b,b=k.handler,D=k.selector),D&&m.find.matchesSelector($n,D),b.guid||(b.guid=m.guid++),(q=Ye.events)||(q=Ye.events=Object.create(null)),(R=Ye.handle)||(R=Ye.handle=function(Wt){return typeof m<"u"&&m.event.triggered!==Wt.type?m.event.dispatch.apply(l,arguments):void 0}),h=(h||"").match(Pe)||[""],Q=h.length;Q--;)z=cc.exec(h[Q])||[],Ce=ot=z[1],Xe=(z[2]||"").split(".").sort(),Ce&&(ge=m.event.special[Ce]||{},Ce=(D?ge.delegateType:ge.bindType)||Ce,ge=m.event.special[Ce]||{},he=m.extend({type:Ce,origType:ot,data:E,handler:b,guid:b.guid,selector:D,needsContext:D&&m.expr.match.needsContext.test(D),namespace:Xe.join(".")},k),(ae=q[Ce])||(ae=q[Ce]=[],ae.delegateCount=0,(!ge.setup||ge.setup.call(l,E,Xe,R)===!1)&&l.addEventListener&&l.addEventListener(Ce,R)),ge.add&&(ge.add.call(l,he),he.handler.guid||(he.handler.guid=b.guid)),D?ae.splice(ae.delegateCount++,0,he):ae.push(he),m.event.global[Ce]=!0)},remove:function(l,h,b,E,D){var k,R,z,q,Q,he,ge,ae,Ce,Xe,ot,Ye=be.hasData(l)&&be.get(l);if(!(!Ye||!(q=Ye.events))){for(h=(h||"").match(Pe)||[""],Q=h.length;Q--;){if(z=cc.exec(h[Q])||[],Ce=ot=z[1],Xe=(z[2]||"").split(".").sort(),!Ce){for(Ce in q)m.event.remove(l,Ce+h[Q],b,E,!0);continue}for(ge=m.event.special[Ce]||{},Ce=(E?ge.delegateType:ge.bindType)||Ce,ae=q[Ce]||[],z=z[2]&&new RegExp("(^|\\.)"+Xe.join("\\.(?:.*\\.|)")+"(\\.|$)"),R=k=ae.length;k--;)he=ae[k],(D||ot===he.origType)&&(!b||b.guid===he.guid)&&(!z||z.test(he.namespace))&&(!E||E===he.selector||E==="**"&&he.selector)&&(ae.splice(k,1),he.selector&&ae.delegateCount--,ge.remove&&ge.remove.call(l,he));R&&!ae.length&&((!ge.teardown||ge.teardown.call(l,Xe,Ye.handle)===!1)&&m.removeEvent(l,Ce,Ye.handle),delete q[Ce])}m.isEmptyObject(q)&&be.remove(l,"handle events")}},dispatch:function(l){var h,b,E,D,k,R,z=new Array(arguments.length),q=m.event.fix(l),Q=(be.get(this,"events")||Object.create(null))[q.type]||[],he=m.event.special[q.type]||{};for(z[0]=q,h=1;h<arguments.length;h++)z[h]=arguments[h];if(q.delegateTarget=this,!(he.preDispatch&&he.preDispatch.call(this,q)===!1)){for(R=m.event.handlers.call(this,q,Q),h=0;(D=R[h++])&&!q.isPropagationStopped();)for(q.currentTarget=D.elem,b=0;(k=D.handlers[b++])&&!q.isImmediatePropagationStopped();)(!q.rnamespace||k.namespace===!1||q.rnamespace.test(k.namespace))&&(q.handleObj=k,q.data=k.data,E=((m.event.special[k.origType]||{}).handle||k.handler).apply(D.elem,z),E!==void 0&&(q.result=E)===!1&&(q.preventDefault(),q.stopPropagation()));return he.postDispatch&&he.postDispatch.call(this,q),q.result}},handlers:function(l,h){var b,E,D,k,R,z=[],q=h.delegateCount,Q=l.target;if(q&&Q.nodeType&&!(l.type==="click"&&l.button>=1)){for(;Q!==this;Q=Q.parentNode||this)if(Q.nodeType===1&&!(l.type==="click"&&Q.disabled===!0)){for(k=[],R={},b=0;b<q;b++)E=h[b],D=E.selector+" ",R[D]===void 0&&(R[D]=E.needsContext?m(D,this).index(Q)>-1:m.find(D,this,null,[Q]).length),R[D]&&k.push(E);k.length&&z.push({elem:Q,handlers:k})}}return Q=this,q<h.length&&z.push({elem:Q,handlers:h.slice(q)}),z},addProp:function(l,h){Object.defineProperty(m.Event.prototype,l,{enumerable:!0,configurable:!0,get:L(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},set:function(b){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(l){return l[m.expando]?l:new m.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){var h=this||l;return Hs.test(h.type)&&h.click&&ie(h,"input")&&Fr(h,"click",!0),!1},trigger:function(l){var h=this||l;return Hs.test(h.type)&&h.click&&ie(h,"input")&&Fr(h,"click"),!0},_default:function(l){var h=l.target;return Hs.test(h.type)&&h.click&&ie(h,"input")&&be.get(h,"click")||ie(h,"a")}},beforeunload:{postDispatch:function(l){l.result!==void 0&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}};function Fr(l,h,b){if(!b){be.get(l,h)===void 0&&m.event.add(l,h,ls);return}be.set(l,h,!1),m.event.add(l,h,{namespace:!1,handler:function(E){var D,k=be.get(this,h);if(E.isTrigger&1&&this[h]){if(k)(m.event.special[h]||{}).delegateType&&E.stopPropagation();else if(k=s.call(arguments),be.set(this,h,k),this[h](),D=be.get(this,h),be.set(this,h,!1),k!==D)return E.stopImmediatePropagation(),E.preventDefault(),D}else k&&(be.set(this,h,m.event.trigger(k[0],k.slice(1),this)),E.stopPropagation(),E.isImmediatePropagationStopped=ls)}})}m.removeEvent=function(l,h,b){l.removeEventListener&&l.removeEventListener(h,b)},m.Event=function(l,h){if(!(this instanceof m.Event))return new m.Event(l,h);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||l.defaultPrevented===void 0&&l.returnValue===!1?ls:Br,this.target=l.target&&l.target.nodeType===3?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):this.type=l,h&&m.extend(this,h),this.timeStamp=l&&l.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:Br,isPropagationStopped:Br,isImmediatePropagationStopped:Br,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=ls,l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=ls,l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=this.originalEvent;this.isImmediatePropagationStopped=ls,l&&!this.isSimulated&&l.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(l,h){function b(E){if(S.documentMode){var D=be.get(this,"handle"),k=m.event.fix(E);k.type=E.type==="focusin"?"focus":"blur",k.isSimulated=!0,D(E),k.target===k.currentTarget&&D(k)}else m.event.simulate(h,E.target,m.event.fix(E))}m.event.special[l]={setup:function(){var E;if(Fr(this,l,!0),S.documentMode)E=be.get(this,h),E||this.addEventListener(h,b),be.set(this,h,(E||0)+1);else return!1},trigger:function(){return Fr(this,l),!0},teardown:function(){var E;if(S.documentMode)E=be.get(this,h)-1,E?be.set(this,h,E):(this.removeEventListener(h,b),be.remove(this,h));else return!1},_default:function(E){return be.get(E.target,l)},delegateType:h},m.event.special[h]={setup:function(){var E=this.ownerDocument||this.document||this,D=S.documentMode?this:E,k=be.get(D,h);k||(S.documentMode?this.addEventListener(h,b):E.addEventListener(l,b,!0)),be.set(D,h,(k||0)+1)},teardown:function(){var E=this.ownerDocument||this.document||this,D=S.documentMode?this:E,k=be.get(D,h)-1;k?be.set(D,h,k):(S.documentMode?this.removeEventListener(h,b):E.removeEventListener(l,b,!0),be.remove(D,h))}}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,h){m.event.special[l]={delegateType:h,bindType:h,handle:function(b){var E,D=this,k=b.relatedTarget,R=b.handleObj;return(!k||k!==D&&!m.contains(D,k))&&(b.type=R.origType,E=R.handler.apply(this,arguments),b.type=h),E}}}),m.fn.extend({on:function(l,h,b,E){return qs(this,l,h,b,E)},one:function(l,h,b,E){return qs(this,l,h,b,E,1)},off:function(l,h,b){var E,D;if(l&&l.preventDefault&&l.handleObj)return E=l.handleObj,m(l.delegateTarget).off(E.namespace?E.origType+"."+E.namespace:E.origType,E.selector,E.handler),this;if(typeof l=="object"){for(D in l)this.off(D,h,l[D]);return this}return(h===!1||typeof h=="function")&&(b=h,h=void 0),b===!1&&(b=Br),this.each(function(){m.event.remove(this,l,b,h)})}});var Pn=/<script|<style|<link/i,Xf=/checked\s*(?:[^=]|=\s*.checked.)/i,Yf=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Vs(l,h){return ie(l,"table")&&ie(h.nodeType!==11?h:h.firstChild,"tr")&&m(l).children("tbody")[0]||l}function Ki(l){return l.type=(l.getAttribute("type")!==null)+"/"+l.type,l}function qa(l){return(l.type||"").slice(0,5)==="true/"?l.type=l.type.slice(5):l.removeAttribute("type"),l}function Tt(l,h){var b,E,D,k,R,z,q;if(h.nodeType===1){if(be.hasData(l)&&(k=be.get(l),q=k.events,q)){be.remove(h,"handle events");for(D in q)for(b=0,E=q[D].length;b<E;b++)m.event.add(h,D,q[D][b])}Be.hasData(l)&&(R=Be.access(l),z=m.extend({},R),Be.set(h,z))}}function Qf(l,h){var b=h.nodeName.toLowerCase();b==="input"&&Hs.test(l.type)?h.checked=l.checked:(b==="input"||b==="textarea")&&(h.defaultValue=l.defaultValue)}function Xi(l,h,b,E){h=a(h);var D,k,R,z,q,Q,he=0,ge=l.length,ae=ge-1,Ce=h[0],Xe=L(Ce);if(Xe||ge>1&&typeof Ce=="string"&&!x.checkClone&&Xf.test(Ce))return l.each(function(ot){var Ye=l.eq(ot);Xe&&(h[0]=Ce.call(this,ot,Ye.html())),Xi(Ye,h,b,E)});if(ge&&(D=lc(h,l[0].ownerDocument,!1,l,E),k=D.firstChild,D.childNodes.length===1&&(D=k),k||E)){for(R=m.map(wn(D,"script"),Ki),z=R.length;he<ge;he++)q=D,he!==ae&&(q=m.clone(q,!0,!0),z&&m.merge(R,wn(q,"script"))),b.call(l[he],q,he);if(z)for(Q=R[R.length-1].ownerDocument,m.map(R,qa),he=0;he<z;he++)q=R[he],uc.test(q.type||"")&&!be.access(q,"globalEval")&&m.contains(Q,q)&&(q.src&&(q.type||"").toLowerCase()!=="module"?m._evalUrl&&!q.noModule&&m._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")},Q):M(q.textContent.replace(Yf,""),q,Q))}return l}function Ws(l,h,b){for(var E,D=h?m.filter(h,l):l,k=0;(E=D[k])!=null;k++)!b&&E.nodeType===1&&m.cleanData(wn(E)),E.parentNode&&(b&&en(E)&&gu(wn(E,"script")),E.parentNode.removeChild(E));return l}m.extend({htmlPrefilter:function(l){return l},clone:function(l,h,b){var E,D,k,R,z=l.cloneNode(!0),q=en(l);if(!x.noCloneChecked&&(l.nodeType===1||l.nodeType===11)&&!m.isXMLDoc(l))for(R=wn(z),k=wn(l),E=0,D=k.length;E<D;E++)Qf(k[E],R[E]);if(h)if(b)for(k=k||wn(l),R=R||wn(z),E=0,D=k.length;E<D;E++)Tt(k[E],R[E]);else Tt(l,z);return R=wn(z,"script"),R.length>0&&gu(R,!q&&wn(l,"script")),z},cleanData:function(l){for(var h,b,E,D=m.event.special,k=0;(b=l[k])!==void 0;k++)if(ne(b)){if(h=b[be.expando]){if(h.events)for(E in h.events)D[E]?m.event.remove(b,E):m.removeEvent(b,E,h.handle);b[be.expando]=void 0}b[Be.expando]&&(b[Be.expando]=void 0)}}}),m.fn.extend({detach:function(l){return Ws(this,l,!0)},remove:function(l){return Ws(this,l)},text:function(l){return me(this,function(h){return h===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=h)})},null,l,arguments.length)},append:function(){return Xi(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=Vs(this,l);h.appendChild(l)}})},prepend:function(){return Xi(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=Vs(this,l);h.insertBefore(l,h.firstChild)}})},before:function(){return Xi(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this)})},after:function(){return Xi(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,h=0;(l=this[h])!=null;h++)l.nodeType===1&&(m.cleanData(wn(l,!1)),l.textContent="");return this},clone:function(l,h){return l=l??!1,h=h??l,this.map(function(){return m.clone(this,l,h)})},html:function(l){return me(this,function(h){var b=this[0]||{},E=0,D=this.length;if(h===void 0&&b.nodeType===1)return b.innerHTML;if(typeof h=="string"&&!Pn.test(h)&&!ni[(oc.exec(h)||["",""])[1].toLowerCase()]){h=m.htmlPrefilter(h);try{for(;E<D;E++)b=this[E]||{},b.nodeType===1&&(m.cleanData(wn(b,!1)),b.innerHTML=h);b=0}catch{}}b&&this.empty().append(h)},null,l,arguments.length)},replaceWith:function(){var l=[];return Xi(this,arguments,function(h){var b=this.parentNode;m.inArray(this,l)<0&&(m.cleanData(wn(this)),b&&b.replaceChild(h,this))},l)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,h){m.fn[l]=function(b){for(var E,D=[],k=m(b),R=k.length-1,z=0;z<=R;z++)E=z===R?this:this.clone(!0),m(k[z])[h](E),o.apply(D,E.get());return this.pushStack(D)}});var mu=new RegExp("^("+_i+")(?!px)[a-z%]+$","i"),Yi=/^--/,St=function(l){var h=l.ownerDocument.defaultView;return(!h||!h.opener)&&(h=e),h.getComputedStyle(l)},yu=function(l,h,b){var E,D,k={};for(D in h)k[D]=l.style[D],l.style[D]=h[D];E=b.call(l);for(D in h)l.style[D]=k[D];return E},Va=new RegExp(Cn.join("|"),"i");(function(){function l(){if(Q){q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",$n.appendChild(q).appendChild(Q);var he=e.getComputedStyle(Q);b=he.top!=="1%",z=h(he.marginLeft)===12,Q.style.right="60%",k=h(he.right)===36,E=h(he.width)===36,Q.style.position="absolute",D=h(Q.offsetWidth/3)===12,$n.removeChild(q),Q=null}}function h(he){return Math.round(parseFloat(he))}var b,E,D,k,R,z,q=S.createElement("div"),Q=S.createElement("div");Q.style&&(Q.style.backgroundClip="content-box",Q.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=Q.style.backgroundClip==="content-box",m.extend(x,{boxSizingReliable:function(){return l(),E},pixelBoxStyles:function(){return l(),k},pixelPosition:function(){return l(),b},reliableMarginLeft:function(){return l(),z},scrollboxSize:function(){return l(),D},reliableTrDimensions:function(){var he,ge,ae,Ce;return R==null&&(he=S.createElement("table"),ge=S.createElement("tr"),ae=S.createElement("div"),he.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ge.style.cssText="box-sizing:content-box;border:1px solid",ge.style.height="1px",ae.style.height="9px",ae.style.display="block",$n.appendChild(he).appendChild(ge).appendChild(ae),Ce=e.getComputedStyle(ge),R=parseInt(Ce.height,10)+parseInt(Ce.borderTopWidth,10)+parseInt(Ce.borderBottomWidth,10)===ge.offsetHeight,$n.removeChild(he)),R}}))})();function zs(l,h,b){var E,D,k,R,z=Yi.test(h),q=l.style;return b=b||St(l),b&&(R=b.getPropertyValue(h)||b[h],z&&R&&(R=R.replace(de,"$1")||void 0),R===""&&!en(l)&&(R=m.style(l,h)),!x.pixelBoxStyles()&&mu.test(R)&&Va.test(h)&&(E=q.width,D=q.minWidth,k=q.maxWidth,q.minWidth=q.maxWidth=q.width=R,R=b.width,q.width=E,q.minWidth=D,q.maxWidth=k)),R!==void 0?R+"":R}function dc(l,h){return{get:function(){if(l()){delete this.get;return}return(this.get=h).apply(this,arguments)}}}var fc=["Webkit","Moz","ms"],_u=S.createElement("div").style,Wa={};function vu(l){for(var h=l[0].toUpperCase()+l.slice(1),b=fc.length;b--;)if(l=fc[b]+h,l in _u)return l}function za(l){var h=m.cssProps[l]||Wa[l];return h||(l in _u?l:Wa[l]=vu(l)||l)}var Jf=/^(none|table(?!-c[ea]).+)/,Zf={position:"absolute",visibility:"hidden",display:"block"},Gs={letterSpacing:"0",fontWeight:"400"};function Ks(l,h,b){var E=ft.exec(h);return E?Math.max(0,E[2]-(b||0))+(E[3]||"px"):h}function Ga(l,h,b,E,D,k){var R=h==="width"?1:0,z=0,q=0,Q=0;if(b===(E?"border":"content"))return 0;for(;R<4;R+=2)b==="margin"&&(Q+=m.css(l,b+Cn[R],!0,D)),E?(b==="content"&&(q-=m.css(l,"padding"+Cn[R],!0,D)),b!=="margin"&&(q-=m.css(l,"border"+Cn[R]+"Width",!0,D))):(q+=m.css(l,"padding"+Cn[R],!0,D),b!=="padding"?q+=m.css(l,"border"+Cn[R]+"Width",!0,D):z+=m.css(l,"border"+Cn[R]+"Width",!0,D));return!E&&k>=0&&(q+=Math.max(0,Math.ceil(l["offset"+h[0].toUpperCase()+h.slice(1)]-k-q-z-.5))||0),q+Q}function cs(l,h,b){var E=St(l),D=!x.boxSizingReliable()||b,k=D&&m.css(l,"boxSizing",!1,E)==="border-box",R=k,z=zs(l,h,E),q="offset"+h[0].toUpperCase()+h.slice(1);if(mu.test(z)){if(!b)return z;z="auto"}return(!x.boxSizingReliable()&&k||!x.reliableTrDimensions()&&ie(l,"tr")||z==="auto"||!parseFloat(z)&&m.css(l,"display",!1,E)==="inline")&&l.getClientRects().length&&(k=m.css(l,"boxSizing",!1,E)==="border-box",R=q in l,R&&(z=l[q])),z=parseFloat(z)||0,z+Ga(l,h,b||(k?"border":"content"),R,E,z)+"px"}m.extend({cssHooks:{opacity:{get:function(l,h){if(h){var b=zs(l,"opacity");return b===""?"1":b}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(l,h,b,E){if(!(!l||l.nodeType===3||l.nodeType===8||!l.style)){var D,k,R,z=De(h),q=Yi.test(h),Q=l.style;if(q||(h=za(z)),R=m.cssHooks[h]||m.cssHooks[z],b!==void 0){if(k=typeof b,k==="string"&&(D=ft.exec(b))&&D[1]&&(b=sc(l,h,D),k="number"),b==null||b!==b)return;k==="number"&&!q&&(b+=D&&D[3]||(m.cssNumber[z]?"":"px")),!x.clearCloneStyle&&b===""&&h.indexOf("background")===0&&(Q[h]="inherit"),(!R||!("set"in R)||(b=R.set(l,b,E))!==void 0)&&(q?Q.setProperty(h,b):Q[h]=b)}else return R&&"get"in R&&(D=R.get(l,!1,E))!==void 0?D:Q[h]}},css:function(l,h,b,E){var D,k,R,z=De(h),q=Yi.test(h);return q||(h=za(z)),R=m.cssHooks[h]||m.cssHooks[z],R&&"get"in R&&(D=R.get(l,!0,b)),D===void 0&&(D=zs(l,h,E)),D==="normal"&&h in Gs&&(D=Gs[h]),b===""||b?(k=parseFloat(D),b===!0||isFinite(k)?k||0:D):D}}),m.each(["height","width"],function(l,h){m.cssHooks[h]={get:function(b,E,D){if(E)return Jf.test(m.css(b,"display"))&&(!b.getClientRects().length||!b.getBoundingClientRect().width)?yu(b,Zf,function(){return cs(b,h,D)}):cs(b,h,D)},set:function(b,E,D){var k,R=St(b),z=!x.scrollboxSize()&&R.position==="absolute",q=z||D,Q=q&&m.css(b,"boxSizing",!1,R)==="border-box",he=D?Ga(b,h,D,Q,R):0;return Q&&z&&(he-=Math.ceil(b["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(R[h])-Ga(b,h,"border",!1,R)-.5)),he&&(k=ft.exec(E))&&(k[3]||"px")!=="px"&&(b.style[h]=E,E=m.css(b,h)),Ks(b,E,he)}}}),m.cssHooks.marginLeft=dc(x.reliableMarginLeft,function(l,h){if(h)return(parseFloat(zs(l,"marginLeft"))||l.getBoundingClientRect().left-yu(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(l,h){m.cssHooks[l+h]={expand:function(b){for(var E=0,D={},k=typeof b=="string"?b.split(" "):[b];E<4;E++)D[l+Cn[E]+h]=k[E]||k[E-2]||k[0];return D}},l!=="margin"&&(m.cssHooks[l+h].set=Ks)}),m.fn.extend({css:function(l,h){return me(this,function(b,E,D){var k,R,z={},q=0;if(Array.isArray(E)){for(k=St(b),R=E.length;q<R;q++)z[E[q]]=m.css(b,E[q],!1,k);return z}return D!==void 0?m.style(b,E,D):m.css(b,E)},l,h,arguments.length>1)}});function on(l,h,b,E,D){return new on.prototype.init(l,h,b,E,D)}m.Tween=on,on.prototype={constructor:on,init:function(l,h,b,E,D,k){this.elem=l,this.prop=b,this.easing=D||m.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=E,this.unit=k||(m.cssNumber[b]?"":"px")},cur:function(){var l=on.propHooks[this.prop];return l&&l.get?l.get(this):on.propHooks._default.get(this)},run:function(l){var h,b=on.propHooks[this.prop];return this.options.duration?this.pos=h=m.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):this.pos=h=l,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):on.propHooks._default.set(this),this}},on.prototype.init.prototype=on.prototype,on.propHooks={_default:{get:function(l){var h;return l.elem.nodeType!==1||l.elem[l.prop]!=null&&l.elem.style[l.prop]==null?l.elem[l.prop]:(h=m.css(l.elem,l.prop,""),!h||h==="auto"?0:h)},set:function(l){m.fx.step[l.prop]?m.fx.step[l.prop](l):l.elem.nodeType===1&&(m.cssHooks[l.prop]||l.elem.style[za(l.prop)]!=null)?m.style(l.elem,l.prop,l.now+l.unit):l.elem[l.prop]=l.now}}},on.propHooks.scrollTop=on.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}},m.easing={linear:function(l){return l},swing:function(l){return .5-Math.cos(l*Math.PI)/2},_default:"swing"},m.fx=on.prototype.init,m.fx.step={};var Oi,ur,eh=/^(?:toggle|show|hide)$/,hc=/queueHooks$/;function bu(){ur&&(S.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(bu):e.setTimeout(bu,m.fx.interval),m.fx.tick())}function pc(){return e.setTimeout(function(){Oi=void 0}),Oi=Date.now()}function vi(l,h){var b,E=0,D={height:l};for(h=h?1:0;E<4;E+=2-h)b=Cn[E],D["margin"+b]=D["padding"+b]=l;return h&&(D.opacity=D.width=l),D}function Xs(l,h,b){for(var E,D=(Hn.tweeners[h]||[]).concat(Hn.tweeners["*"]),k=0,R=D.length;k<R;k++)if(E=D[k].call(b,h,l))return E}function th(l,h,b){var E,D,k,R,z,q,Q,he,ge="width"in h||"height"in h,ae=this,Ce={},Xe=l.style,ot=l.nodeType&&Mr(l),Ye=be.get(l,"fxshow");b.queue||(R=m._queueHooks(l,"fx"),R.unqueued==null&&(R.unqueued=0,z=R.empty.fire,R.empty.fire=function(){R.unqueued||z()}),R.unqueued++,ae.always(function(){ae.always(function(){R.unqueued--,m.queue(l,"fx").length||R.empty.fire()})}));for(E in h)if(D=h[E],eh.test(D)){if(delete h[E],k=k||D==="toggle",D===(ot?"hide":"show"))if(D==="show"&&Ye&&Ye[E]!==void 0)ot=!0;else continue;Ce[E]=Ye&&Ye[E]||m.style(l,E)}if(q=!m.isEmptyObject(h),!(!q&&m.isEmptyObject(Ce))){ge&&l.nodeType===1&&(b.overflow=[Xe.overflow,Xe.overflowX,Xe.overflowY],Q=Ye&&Ye.display,Q==null&&(Q=be.get(l,"display")),he=m.css(l,"display"),he==="none"&&(Q?he=Q:(us([l],!0),Q=l.style.display||Q,he=m.css(l,"display"),us([l]))),(he==="inline"||he==="inline-block"&&Q!=null)&&m.css(l,"float")==="none"&&(q||(ae.done(function(){Xe.display=Q}),Q==null&&(he=Xe.display,Q=he==="none"?"":he)),Xe.display="inline-block")),b.overflow&&(Xe.overflow="hidden",ae.always(function(){Xe.overflow=b.overflow[0],Xe.overflowX=b.overflow[1],Xe.overflowY=b.overflow[2]})),q=!1;for(E in Ce)q||(Ye?"hidden"in Ye&&(ot=Ye.hidden):Ye=be.access(l,"fxshow",{display:Q}),k&&(Ye.hidden=!ot),ot&&us([l],!0),ae.done(function(){ot||us([l]),be.remove(l,"fxshow");for(E in Ce)m.style(l,E,Ce[E])})),q=Xs(ot?Ye[E]:0,E,ae),E in Ye||(Ye[E]=q.start,ot&&(q.end=q.start,q.start=0))}}function Tu(l,h){var b,E,D,k,R;for(b in l)if(E=De(b),D=h[E],k=l[b],Array.isArray(k)&&(D=k[1],k=l[b]=k[0]),b!==E&&(l[E]=k,delete l[b]),R=m.cssHooks[E],R&&"expand"in R){k=R.expand(k),delete l[E];for(b in k)b in l||(l[b]=k[b],h[b]=D)}else h[E]=D}function Hn(l,h,b){var E,D,k=0,R=Hn.prefilters.length,z=m.Deferred().always(function(){delete q.elem}),q=function(){if(D)return!1;for(var ge=Oi||pc(),ae=Math.max(0,Q.startTime+Q.duration-ge),Ce=ae/Q.duration||0,Xe=1-Ce,ot=0,Ye=Q.tweens.length;ot<Ye;ot++)Q.tweens[ot].run(Xe);return z.notifyWith(l,[Q,Xe,ae]),Xe<1&&Ye?ae:(Ye||z.notifyWith(l,[Q,1,0]),z.resolveWith(l,[Q]),!1)},Q=z.promise({elem:l,props:m.extend({},h),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},b),originalProperties:h,originalOptions:b,startTime:Oi||pc(),duration:b.duration,tweens:[],createTween:function(ge,ae){var Ce=m.Tween(l,Q.opts,ge,ae,Q.opts.specialEasing[ge]||Q.opts.easing);return Q.tweens.push(Ce),Ce},stop:function(ge){var ae=0,Ce=ge?Q.tweens.length:0;if(D)return this;for(D=!0;ae<Ce;ae++)Q.tweens[ae].run(1);return ge?(z.notifyWith(l,[Q,1,0]),z.resolveWith(l,[Q,ge])):z.rejectWith(l,[Q,ge]),this}}),he=Q.props;for(Tu(he,Q.opts.specialEasing);k<R;k++)if(E=Hn.prefilters[k].call(Q,l,he,Q.opts),E)return L(E.stop)&&(m._queueHooks(Q.elem,Q.opts.queue).stop=E.stop.bind(E)),E;return m.map(he,Xs,Q),L(Q.opts.start)&&Q.opts.start.call(l,Q),Q.progress(Q.opts.progress).done(Q.opts.done,Q.opts.complete).fail(Q.opts.fail).always(Q.opts.always),m.fx.timer(m.extend(q,{elem:l,anim:Q,queue:Q.opts.queue})),Q}m.Animation=m.extend(Hn,{tweeners:{"*":[function(l,h){var b=this.createTween(l,h);return sc(b.elem,l,ft.exec(h),b),b}]},tweener:function(l,h){L(l)?(h=l,l=["*"]):l=l.match(Pe);for(var b,E=0,D=l.length;E<D;E++)b=l[E],Hn.tweeners[b]=Hn.tweeners[b]||[],Hn.tweeners[b].unshift(h)},prefilters:[th],prefilter:function(l,h){h?Hn.prefilters.unshift(l):Hn.prefilters.push(l)}}),m.speed=function(l,h,b){var E=l&&typeof l=="object"?m.extend({},l):{complete:b||!b&&h||L(l)&&l,duration:l,easing:b&&h||h&&!L(h)&&h};return m.fx.off?E.duration=0:typeof E.duration!="number"&&(E.duration in m.fx.speeds?E.duration=m.fx.speeds[E.duration]:E.duration=m.fx.speeds._default),(E.queue==null||E.queue===!0)&&(E.queue="fx"),E.old=E.complete,E.complete=function(){L(E.old)&&E.old.call(this),E.queue&&m.dequeue(this,E.queue)},E},m.fn.extend({fadeTo:function(l,h,b,E){return this.filter(Mr).css("opacity",0).show().end().animate({opacity:h},l,b,E)},animate:function(l,h,b,E){var D=m.isEmptyObject(l),k=m.speed(h,b,E),R=function(){var z=Hn(this,m.extend({},l),k);(D||be.get(this,"finish"))&&z.stop(!0)};return R.finish=R,D||k.queue===!1?this.each(R):this.queue(k.queue,R)},stop:function(l,h,b){var E=function(D){var k=D.stop;delete D.stop,k(b)};return typeof l!="string"&&(b=h,h=l,l=void 0),h&&this.queue(l||"fx",[]),this.each(function(){var D=!0,k=l!=null&&l+"queueHooks",R=m.timers,z=be.get(this);if(k)z[k]&&z[k].stop&&E(z[k]);else for(k in z)z[k]&&z[k].stop&&hc.test(k)&&E(z[k]);for(k=R.length;k--;)R[k].elem===this&&(l==null||R[k].queue===l)&&(R[k].anim.stop(b),D=!1,R.splice(k,1));(D||!b)&&m.dequeue(this,l)})},finish:function(l){return l!==!1&&(l=l||"fx"),this.each(function(){var h,b=be.get(this),E=b[l+"queue"],D=b[l+"queueHooks"],k=m.timers,R=E?E.length:0;for(b.finish=!0,m.queue(this,l,[]),D&&D.stop&&D.stop.call(this,!0),h=k.length;h--;)k[h].elem===this&&k[h].queue===l&&(k[h].anim.stop(!0),k.splice(h,1));for(h=0;h<R;h++)E[h]&&E[h].finish&&E[h].finish.call(this);delete b.finish})}}),m.each(["toggle","show","hide"],function(l,h){var b=m.fn[h];m.fn[h]=function(E,D,k){return E==null||typeof E=="boolean"?b.apply(this,arguments):this.animate(vi(h,!0),E,D,k)}}),m.each({slideDown:vi("show"),slideUp:vi("hide"),slideToggle:vi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,h){m.fn[l]=function(b,E,D){return this.animate(h,b,E,D)}}),m.timers=[],m.fx.tick=function(){var l,h=0,b=m.timers;for(Oi=Date.now();h<b.length;h++)l=b[h],!l()&&b[h]===l&&b.splice(h--,1);b.length||m.fx.stop(),Oi=void 0},m.fx.timer=function(l){m.timers.push(l),m.fx.start()},m.fx.interval=13,m.fx.start=function(){ur||(ur=!0,bu())},m.fx.stop=function(){ur=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(l,h){return l=m.fx&&m.fx.speeds[l]||l,h=h||"fx",this.queue(h,function(b,E){var D=e.setTimeout(b,l);E.stop=function(){e.clearTimeout(D)}})},function(){var l=S.createElement("input"),h=S.createElement("select"),b=h.appendChild(S.createElement("option"));l.type="checkbox",x.checkOn=l.value!=="",x.optSelected=b.selected,l=S.createElement("input"),l.value="t",l.type="radio",x.radioValue=l.value==="t"}();var ii,Ys=m.expr.attrHandle;m.fn.extend({attr:function(l,h){return me(this,m.attr,l,h,arguments.length>1)},removeAttr:function(l){return this.each(function(){m.removeAttr(this,l)})}}),m.extend({attr:function(l,h,b){var E,D,k=l.nodeType;if(!(k===3||k===8||k===2)){if(typeof l.getAttribute>"u")return m.prop(l,h,b);if((k!==1||!m.isXMLDoc(l))&&(D=m.attrHooks[h.toLowerCase()]||(m.expr.match.bool.test(h)?ii:void 0)),b!==void 0){if(b===null){m.removeAttr(l,h);return}return D&&"set"in D&&(E=D.set(l,b,h))!==void 0?E:(l.setAttribute(h,b+""),b)}return D&&"get"in D&&(E=D.get(l,h))!==null?E:(E=m.find.attr(l,h),E??void 0)}},attrHooks:{type:{set:function(l,h){if(!x.radioValue&&h==="radio"&&ie(l,"input")){var b=l.value;return l.setAttribute("type",h),b&&(l.value=b),h}}}},removeAttr:function(l,h){var b,E=0,D=h&&h.match(Pe);if(D&&l.nodeType===1)for(;b=D[E++];)l.removeAttribute(b)}}),ii={set:function(l,h,b){return h===!1?m.removeAttr(l,b):l.setAttribute(b,b),b}},m.each(m.expr.match.bool.source.match(/\w+/g),function(l,h){var b=Ys[h]||m.find.attr;Ys[h]=function(E,D,k){var R,z,q=D.toLowerCase();return k||(z=Ys[q],Ys[q]=R,R=b(E,D,k)!=null?q:null,Ys[q]=z),R}});var Ka=/^(?:input|select|textarea|button)$/i,Qs=/^(?:a|area)$/i;m.fn.extend({prop:function(l,h){return me(this,m.prop,l,h,arguments.length>1)},removeProp:function(l){return this.each(function(){delete this[m.propFix[l]||l]})}}),m.extend({prop:function(l,h,b){var E,D,k=l.nodeType;if(!(k===3||k===8||k===2))return(k!==1||!m.isXMLDoc(l))&&(h=m.propFix[h]||h,D=m.propHooks[h]),b!==void 0?D&&"set"in D&&(E=D.set(l,b,h))!==void 0?E:l[h]=b:D&&"get"in D&&(E=D.get(l,h))!==null?E:l[h]},propHooks:{tabIndex:{get:function(l){var h=m.find.attr(l,"tabindex");return h?parseInt(h,10):Ka.test(l.nodeName)||Qs.test(l.nodeName)&&l.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(m.propHooks.selected={get:function(l){var h=l.parentNode;return h&&h.parentNode&&h.parentNode.selectedIndex,null},set:function(l){var h=l.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function Ri(l){var h=l.match(Pe)||[];return h.join(" ")}function ri(l){return l.getAttribute&&l.getAttribute("class")||""}function Js(l){return Array.isArray(l)?l:typeof l=="string"?l.match(Pe)||[]:[]}m.fn.extend({addClass:function(l){var h,b,E,D,k,R;return L(l)?this.each(function(z){m(this).addClass(l.call(this,z,ri(this)))}):(h=Js(l),h.length?this.each(function(){if(E=ri(this),b=this.nodeType===1&&" "+Ri(E)+" ",b){for(k=0;k<h.length;k++)D=h[k],b.indexOf(" "+D+" ")<0&&(b+=D+" ");R=Ri(b),E!==R&&this.setAttribute("class",R)}}):this)},removeClass:function(l){var h,b,E,D,k,R;return L(l)?this.each(function(z){m(this).removeClass(l.call(this,z,ri(this)))}):arguments.length?(h=Js(l),h.length?this.each(function(){if(E=ri(this),b=this.nodeType===1&&" "+Ri(E)+" ",b){for(k=0;k<h.length;k++)for(D=h[k];b.indexOf(" "+D+" ")>-1;)b=b.replace(" "+D+" "," ");R=Ri(b),E!==R&&this.setAttribute("class",R)}}):this):this.attr("class","")},toggleClass:function(l,h){var b,E,D,k,R=typeof l,z=R==="string"||Array.isArray(l);return L(l)?this.each(function(q){m(this).toggleClass(l.call(this,q,ri(this),h),h)}):typeof h=="boolean"&&z?h?this.addClass(l):this.removeClass(l):(b=Js(l),this.each(function(){if(z)for(k=m(this),D=0;D<b.length;D++)E=b[D],k.hasClass(E)?k.removeClass(E):k.addClass(E);else(l===void 0||R==="boolean")&&(E=ri(this),E&&be.set(this,"__className__",E),this.setAttribute&&this.setAttribute("class",E||l===!1?"":be.get(this,"__className__")||""))}))},hasClass:function(l){var h,b,E=0;for(h=" "+l+" ";b=this[E++];)if(b.nodeType===1&&(" "+Ri(ri(b))+" ").indexOf(h)>-1)return!0;return!1}});var gc=/\r/g;m.fn.extend({val:function(l){var h,b,E,D=this[0];return arguments.length?(E=L(l),this.each(function(k){var R;this.nodeType===1&&(E?R=l.call(this,k,m(this).val()):R=l,R==null?R="":typeof R=="number"?R+="":Array.isArray(R)&&(R=m.map(R,function(z){return z==null?"":z+""})),h=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!h||!("set"in h)||h.set(this,R,"value")===void 0)&&(this.value=R))})):D?(h=m.valHooks[D.type]||m.valHooks[D.nodeName.toLowerCase()],h&&"get"in h&&(b=h.get(D,"value"))!==void 0?b:(b=D.value,typeof b=="string"?b.replace(gc,""):b??"")):void 0}}),m.extend({valHooks:{option:{get:function(l){var h=m.find.attr(l,"value");return h??Ri(m.text(l))}},select:{get:function(l){var h,b,E,D=l.options,k=l.selectedIndex,R=l.type==="select-one",z=R?null:[],q=R?k+1:D.length;for(k<0?E=q:E=R?k:0;E<q;E++)if(b=D[E],(b.selected||E===k)&&!b.disabled&&(!b.parentNode.disabled||!ie(b.parentNode,"optgroup"))){if(h=m(b).val(),R)return h;z.push(h)}return z},set:function(l,h){for(var b,E,D=l.options,k=m.makeArray(h),R=D.length;R--;)E=D[R],(E.selected=m.inArray(m.valHooks.option.get(E),k)>-1)&&(b=!0);return b||(l.selectedIndex=-1),k}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(l,h){if(Array.isArray(h))return l.checked=m.inArray(m(l).val(),h)>-1}},x.checkOn||(m.valHooks[this].get=function(l){return l.getAttribute("value")===null?"on":l.value})});var Ur=e.location,mc={guid:Date.now()},Eu=/\?/;m.parseXML=function(l){var h,b;if(!l||typeof l!="string")return null;try{h=new e.DOMParser().parseFromString(l,"text/xml")}catch{}return b=h&&h.getElementsByTagName("parsererror")[0],(!h||b)&&m.error("Invalid XML: "+(b?m.map(b.childNodes,function(E){return E.textContent}).join(`
`):l)),h};var yc=/^(?:focusinfocus|focusoutblur)$/,Zs=function(l){l.stopPropagation()};m.extend(m.event,{trigger:function(l,h,b,E){var D,k,R,z,q,Q,he,ge,ae=[b||S],Ce=p.call(l,"type")?l.type:l,Xe=p.call(l,"namespace")?l.namespace.split("."):[];if(k=ge=R=b=b||S,!(b.nodeType===3||b.nodeType===8)&&!yc.test(Ce+m.event.triggered)&&(Ce.indexOf(".")>-1&&(Xe=Ce.split("."),Ce=Xe.shift(),Xe.sort()),q=Ce.indexOf(":")<0&&"on"+Ce,l=l[m.expando]?l:new m.Event(Ce,typeof l=="object"&&l),l.isTrigger=E?2:3,l.namespace=Xe.join("."),l.rnamespace=l.namespace?new RegExp("(^|\\.)"+Xe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l.result=void 0,l.target||(l.target=b),h=h==null?[l]:m.makeArray(h,[l]),he=m.event.special[Ce]||{},!(!E&&he.trigger&&he.trigger.apply(b,h)===!1))){if(!E&&!he.noBubble&&!O(b)){for(z=he.delegateType||Ce,yc.test(z+Ce)||(k=k.parentNode);k;k=k.parentNode)ae.push(k),R=k;R===(b.ownerDocument||S)&&ae.push(R.defaultView||R.parentWindow||e)}for(D=0;(k=ae[D++])&&!l.isPropagationStopped();)ge=k,l.type=D>1?z:he.bindType||Ce,Q=(be.get(k,"events")||Object.create(null))[l.type]&&be.get(k,"handle"),Q&&Q.apply(k,h),Q=q&&k[q],Q&&Q.apply&&ne(k)&&(l.result=Q.apply(k,h),l.result===!1&&l.preventDefault());return l.type=Ce,!E&&!l.isDefaultPrevented()&&(!he._default||he._default.apply(ae.pop(),h)===!1)&&ne(b)&&q&&L(b[Ce])&&!O(b)&&(R=b[q],R&&(b[q]=null),m.event.triggered=Ce,l.isPropagationStopped()&&ge.addEventListener(Ce,Zs),b[Ce](),l.isPropagationStopped()&&ge.removeEventListener(Ce,Zs),m.event.triggered=void 0,R&&(b[q]=R)),l.result}},simulate:function(l,h,b){var E=m.extend(new m.Event,b,{type:l,isSimulated:!0});m.event.trigger(E,null,h)}}),m.fn.extend({trigger:function(l,h){return this.each(function(){m.event.trigger(l,h,this)})},triggerHandler:function(l,h){var b=this[0];if(b)return m.event.trigger(l,h,b,!0)}});var _c=/\[\]$/,vc=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,nh=/^(?:input|select|textarea|keygen)/i;function Xa(l,h,b,E){var D;if(Array.isArray(h))m.each(h,function(k,R){b||_c.test(l)?E(l,R):Xa(l+"["+(typeof R=="object"&&R!=null?k:"")+"]",R,b,E)});else if(!b&&I(h)==="object")for(D in h)Xa(l+"["+D+"]",h[D],b,E);else E(l,h)}m.param=function(l,h){var b,E=[],D=function(k,R){var z=L(R)?R():R;E[E.length]=encodeURIComponent(k)+"="+encodeURIComponent(z??"")};if(l==null)return"";if(Array.isArray(l)||l.jquery&&!m.isPlainObject(l))m.each(l,function(){D(this.name,this.value)});else for(b in l)Xa(b,l[b],h,D);return E.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=m.prop(this,"elements");return l?m.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!m(this).is(":disabled")&&nh.test(this.nodeName)&&!bc.test(l)&&(this.checked||!Hs.test(l))}).map(function(l,h){var b=m(this).val();return b==null?null:Array.isArray(b)?m.map(b,function(E){return{name:h.name,value:E.replace(vc,`\r
`)}}):{name:h.name,value:b.replace(vc,`\r
`)}}).get()}});var ih=/%20/g,Ya=/#.*$/,ea=/([?&])_=[^&]*/,Tc=/^(.*?):[ \t]*([^\r\n]*)$/mg,rh=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,sh=/^(?:GET|HEAD)$/,Ec=/^\/\//,xu={},Su={},Cu="*/".concat("*"),wu=S.createElement("a");wu.href=Ur.href;function xc(l){return function(h,b){typeof h!="string"&&(b=h,h="*");var E,D=0,k=h.toLowerCase().match(Pe)||[];if(L(b))for(;E=k[D++];)E[0]==="+"?(E=E.slice(1)||"*",(l[E]=l[E]||[]).unshift(b)):(l[E]=l[E]||[]).push(b)}}function Sc(l,h,b,E){var D={},k=l===Su;function R(z){var q;return D[z]=!0,m.each(l[z]||[],function(Q,he){var ge=he(h,b,E);if(typeof ge=="string"&&!k&&!D[ge])return h.dataTypes.unshift(ge),R(ge),!1;if(k)return!(q=ge)}),q}return R(h.dataTypes[0])||!D["*"]&&R("*")}function Au(l,h){var b,E,D=m.ajaxSettings.flatOptions||{};for(b in h)h[b]!==void 0&&((D[b]?l:E||(E={}))[b]=h[b]);return E&&m.extend(!0,l,E),l}function ah(l,h,b){for(var E,D,k,R,z=l.contents,q=l.dataTypes;q[0]==="*";)q.shift(),E===void 0&&(E=l.mimeType||h.getResponseHeader("Content-Type"));if(E){for(D in z)if(z[D]&&z[D].test(E)){q.unshift(D);break}}if(q[0]in b)k=q[0];else{for(D in b){if(!q[0]||l.converters[D+" "+q[0]]){k=D;break}R||(R=D)}k=k||R}if(k)return k!==q[0]&&q.unshift(k),b[k]}function oh(l,h,b,E){var D,k,R,z,q,Q={},he=l.dataTypes.slice();if(he[1])for(R in l.converters)Q[R.toLowerCase()]=l.converters[R];for(k=he.shift();k;)if(l.responseFields[k]&&(b[l.responseFields[k]]=h),!q&&E&&l.dataFilter&&(h=l.dataFilter(h,l.dataType)),q=k,k=he.shift(),k){if(k==="*")k=q;else if(q!=="*"&&q!==k){if(R=Q[q+" "+k]||Q["* "+k],!R){for(D in Q)if(z=D.split(" "),z[1]===k&&(R=Q[q+" "+z[0]]||Q["* "+z[0]],R)){R===!0?R=Q[D]:Q[D]!==!0&&(k=z[0],he.unshift(z[1]));break}}if(R!==!0)if(R&&l.throws)h=R(h);else try{h=R(h)}catch(ge){return{state:"parsererror",error:R?ge:"No conversion from "+q+" to "+k}}}}return{state:"success",data:h}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ur.href,type:"GET",isLocal:rh.test(Ur.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,h){return h?Au(Au(l,m.ajaxSettings),h):Au(m.ajaxSettings,l)},ajaxPrefilter:xc(xu),ajaxTransport:xc(Su),ajax:function(l,h){typeof l=="object"&&(h=l,l=void 0),h=h||{};var b,E,D,k,R,z,q,Q,he,ge,ae=m.ajaxSetup({},h),Ce=ae.context||ae,Xe=ae.context&&(Ce.nodeType||Ce.jquery)?m(Ce):m.event,ot=m.Deferred(),Ye=m.Callbacks("once memory"),Wt=ae.statusCode||{},zt={},mn={},Ni="canceled",at={readyState:0,getResponseHeader:function(lt){var Gt;if(q){if(!k)for(k={};Gt=Tc.exec(D);)k[Gt[1].toLowerCase()+" "]=(k[Gt[1].toLowerCase()+" "]||[]).concat(Gt[2]);Gt=k[lt.toLowerCase()+" "]}return Gt==null?null:Gt.join(", ")},getAllResponseHeaders:function(){return q?D:null},setRequestHeader:function(lt,Gt){return q==null&&(lt=mn[lt.toLowerCase()]=mn[lt.toLowerCase()]||lt,zt[lt]=Gt),this},overrideMimeType:function(lt){return q==null&&(ae.mimeType=lt),this},statusCode:function(lt){var Gt;if(lt)if(q)at.always(lt[at.status]);else for(Gt in lt)Wt[Gt]=[Wt[Gt],lt[Gt]];return this},abort:function(lt){var Gt=lt||Ni;return b&&b.abort(Gt),lr(0,Gt),this}};if(ot.promise(at),ae.url=((l||ae.url||Ur.href)+"").replace(Ec,Ur.protocol+"//"),ae.type=h.method||h.type||ae.method||ae.type,ae.dataTypes=(ae.dataType||"*").toLowerCase().match(Pe)||[""],ae.crossDomain==null){z=S.createElement("a");try{z.href=ae.url,z.href=z.href,ae.crossDomain=wu.protocol+"//"+wu.host!=z.protocol+"//"+z.host}catch{ae.crossDomain=!0}}if(ae.data&&ae.processData&&typeof ae.data!="string"&&(ae.data=m.param(ae.data,ae.traditional)),Sc(xu,ae,h,at),q)return at;Q=m.event&&ae.global,Q&&m.active++===0&&m.event.trigger("ajaxStart"),ae.type=ae.type.toUpperCase(),ae.hasContent=!sh.test(ae.type),E=ae.url.replace(Ya,""),ae.hasContent?ae.data&&ae.processData&&(ae.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ae.data=ae.data.replace(ih,"+")):(ge=ae.url.slice(E.length),ae.data&&(ae.processData||typeof ae.data=="string")&&(E+=(Eu.test(E)?"&":"?")+ae.data,delete ae.data),ae.cache===!1&&(E=E.replace(ea,"$1"),ge=(Eu.test(E)?"&":"?")+"_="+mc.guid+++ge),ae.url=E+ge),ae.ifModified&&(m.lastModified[E]&&at.setRequestHeader("If-Modified-Since",m.lastModified[E]),m.etag[E]&&at.setRequestHeader("If-None-Match",m.etag[E])),(ae.data&&ae.hasContent&&ae.contentType!==!1||h.contentType)&&at.setRequestHeader("Content-Type",ae.contentType),at.setRequestHeader("Accept",ae.dataTypes[0]&&ae.accepts[ae.dataTypes[0]]?ae.accepts[ae.dataTypes[0]]+(ae.dataTypes[0]!=="*"?", "+Cu+"; q=0.01":""):ae.accepts["*"]);for(he in ae.headers)at.setRequestHeader(he,ae.headers[he]);if(ae.beforeSend&&(ae.beforeSend.call(Ce,at,ae)===!1||q))return at.abort();if(Ni="abort",Ye.add(ae.complete),at.done(ae.success),at.fail(ae.error),b=Sc(Su,ae,h,at),!b)lr(-1,"No Transport");else{if(at.readyState=1,Q&&Xe.trigger("ajaxSend",[at,ae]),q)return at;ae.async&&ae.timeout>0&&(R=e.setTimeout(function(){at.abort("timeout")},ae.timeout));try{q=!1,b.send(zt,lr)}catch(lt){if(q)throw lt;lr(-1,lt)}}function lr(lt,Gt,na,Lu){var qn,ia,bi,cr,dr,Vn=Gt;q||(q=!0,R&&e.clearTimeout(R),b=void 0,D=Lu||"",at.readyState=lt>0?4:0,qn=lt>=200&&lt<300||lt===304,na&&(cr=ah(ae,at,na)),!qn&&m.inArray("script",ae.dataTypes)>-1&&m.inArray("json",ae.dataTypes)<0&&(ae.converters["text script"]=function(){}),cr=oh(ae,cr,at,qn),qn?(ae.ifModified&&(dr=at.getResponseHeader("Last-Modified"),dr&&(m.lastModified[E]=dr),dr=at.getResponseHeader("etag"),dr&&(m.etag[E]=dr)),lt===204||ae.type==="HEAD"?Vn="nocontent":lt===304?Vn="notmodified":(Vn=cr.state,ia=cr.data,bi=cr.error,qn=!bi)):(bi=Vn,(lt||!Vn)&&(Vn="error",lt<0&&(lt=0))),at.status=lt,at.statusText=(Gt||Vn)+"",qn?ot.resolveWith(Ce,[ia,Vn,at]):ot.rejectWith(Ce,[at,Vn,bi]),at.statusCode(Wt),Wt=void 0,Q&&Xe.trigger(qn?"ajaxSuccess":"ajaxError",[at,ae,qn?ia:bi]),Ye.fireWith(Ce,[at,Vn]),Q&&(Xe.trigger("ajaxComplete",[at,ae]),--m.active||m.event.trigger("ajaxStop")))}return at},getJSON:function(l,h,b){return m.get(l,h,b,"json")},getScript:function(l,h){return m.get(l,void 0,h,"script")}}),m.each(["get","post"],function(l,h){m[h]=function(b,E,D,k){return L(E)&&(k=k||D,D=E,E=void 0),m.ajax(m.extend({url:b,type:h,dataType:k,data:E,success:D},m.isPlainObject(b)&&b))}}),m.ajaxPrefilter(function(l){var h;for(h in l.headers)h.toLowerCase()==="content-type"&&(l.contentType=l.headers[h]||"")}),m._evalUrl=function(l,h,b){return m.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(E){m.globalEval(E,h,b)}})},m.fn.extend({wrapAll:function(l){var h;return this[0]&&(L(l)&&(l=l.call(this[0])),h=m(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(l){return L(l)?this.each(function(h){m(this).wrapInner(l.call(this,h))}):this.each(function(){var h=m(this),b=h.contents();b.length?b.wrapAll(l):h.append(l)})},wrap:function(l){var h=L(l);return this.each(function(b){m(this).wrapAll(h?l.call(this,b):l)})},unwrap:function(l){return this.parent(l).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(l){return!m.expr.pseudos.visible(l)},m.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Du={0:200,1223:204},ta=m.ajaxSettings.xhr();x.cors=!!ta&&"withCredentials"in ta,x.ajax=ta=!!ta,m.ajaxTransport(function(l){var h,b;if(x.cors||ta&&!l.crossDomain)return{send:function(E,D){var k,R=l.xhr();if(R.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(k in l.xhrFields)R[k]=l.xhrFields[k];l.mimeType&&R.overrideMimeType&&R.overrideMimeType(l.mimeType),!l.crossDomain&&!E["X-Requested-With"]&&(E["X-Requested-With"]="XMLHttpRequest");for(k in E)R.setRequestHeader(k,E[k]);h=function(z){return function(){h&&(h=b=R.onload=R.onerror=R.onabort=R.ontimeout=R.onreadystatechange=null,z==="abort"?R.abort():z==="error"?typeof R.status!="number"?D(0,"error"):D(R.status,R.statusText):D(Du[R.status]||R.status,R.statusText,(R.responseType||"text")!=="text"||typeof R.responseText!="string"?{binary:R.response}:{text:R.responseText},R.getAllResponseHeaders()))}},R.onload=h(),b=R.onerror=R.ontimeout=h("error"),R.onabort!==void 0?R.onabort=b:R.onreadystatechange=function(){R.readyState===4&&e.setTimeout(function(){h&&b()})},h=h("abort");try{R.send(l.hasContent&&l.data||null)}catch(z){if(h)throw z}},abort:function(){h&&h()}}}),m.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){return m.globalEval(l),l}}}),m.ajaxPrefilter("script",function(l){l.cache===void 0&&(l.cache=!1),l.crossDomain&&(l.type="GET")}),m.ajaxTransport("script",function(l){if(l.crossDomain||l.scriptAttrs){var h,b;return{send:function(E,D){h=m("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",b=function(k){h.remove(),b=null,k&&D(k.type==="error"?404:200,k.type)}),S.head.appendChild(h[0])},abort:function(){b&&b()}}}});var ku=[],ds=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=ku.pop()||m.expando+"_"+mc.guid++;return this[l]=!0,l}}),m.ajaxPrefilter("json jsonp",function(l,h,b){var E,D,k,R=l.jsonp!==!1&&(ds.test(l.url)?"url":typeof l.data=="string"&&(l.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ds.test(l.data)&&"data");if(R||l.dataTypes[0]==="jsonp")return E=l.jsonpCallback=L(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback,R?l[R]=l[R].replace(ds,"$1"+E):l.jsonp!==!1&&(l.url+=(Eu.test(l.url)?"&":"?")+l.jsonp+"="+E),l.converters["script json"]=function(){return k||m.error(E+" was not called"),k[0]},l.dataTypes[0]="json",D=e[E],e[E]=function(){k=arguments},b.always(function(){D===void 0?m(e).removeProp(E):e[E]=D,l[E]&&(l.jsonpCallback=h.jsonpCallback,ku.push(E)),k&&L(D)&&D(k[0]),k=D=void 0}),"script"}),x.createHTMLDocument=function(){var l=S.implementation.createHTMLDocument("").body;return l.innerHTML="<form></form><form></form>",l.childNodes.length===2}(),m.parseHTML=function(l,h,b){if(typeof l!="string")return[];typeof h=="boolean"&&(b=h,h=!1);var E,D,k;return h||(x.createHTMLDocument?(h=S.implementation.createHTMLDocument(""),E=h.createElement("base"),E.href=S.location.href,h.head.appendChild(E)):h=S),D=xt.exec(l),k=!b&&[],D?[h.createElement(D[1])]:(D=lc([l],h,k),k&&k.length&&m(k).remove(),m.merge([],D.childNodes))},m.fn.load=function(l,h,b){var E,D,k,R=this,z=l.indexOf(" ");return z>-1&&(E=Ri(l.slice(z)),l=l.slice(0,z)),L(h)?(b=h,h=void 0):h&&typeof h=="object"&&(D="POST"),R.length>0&&m.ajax({url:l,type:D||"GET",dataType:"html",data:h}).done(function(q){k=arguments,R.html(E?m("<div>").append(m.parseHTML(q)).find(E):q)}).always(b&&function(q,Q){R.each(function(){b.apply(this,k||[q.responseText,Q,q])})}),this},m.expr.pseudos.animated=function(l){return m.grep(m.timers,function(h){return l===h.elem}).length},m.offset={setOffset:function(l,h,b){var E,D,k,R,z,q,Q,he=m.css(l,"position"),ge=m(l),ae={};he==="static"&&(l.style.position="relative"),z=ge.offset(),k=m.css(l,"top"),q=m.css(l,"left"),Q=(he==="absolute"||he==="fixed")&&(k+q).indexOf("auto")>-1,Q?(E=ge.position(),R=E.top,D=E.left):(R=parseFloat(k)||0,D=parseFloat(q)||0),L(h)&&(h=h.call(l,b,m.extend({},z))),h.top!=null&&(ae.top=h.top-z.top+R),h.left!=null&&(ae.left=h.left-z.left+D),"using"in h?h.using.call(l,ae):ge.css(ae)}},m.fn.extend({offset:function(l){if(arguments.length)return l===void 0?this:this.each(function(D){m.offset.setOffset(this,l,D)});var h,b,E=this[0];if(E)return E.getClientRects().length?(h=E.getBoundingClientRect(),b=E.ownerDocument.defaultView,{top:h.top+b.pageYOffset,left:h.left+b.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var l,h,b,E=this[0],D={top:0,left:0};if(m.css(E,"position")==="fixed")h=E.getBoundingClientRect();else{for(h=this.offset(),b=E.ownerDocument,l=E.offsetParent||b.documentElement;l&&(l===b.body||l===b.documentElement)&&m.css(l,"position")==="static";)l=l.parentNode;l&&l!==E&&l.nodeType===1&&(D=m(l).offset(),D.top+=m.css(l,"borderTopWidth",!0),D.left+=m.css(l,"borderLeftWidth",!0))}return{top:h.top-D.top-m.css(E,"marginTop",!0),left:h.left-D.left-m.css(E,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&m.css(l,"position")==="static";)l=l.offsetParent;return l||$n})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,h){var b=h==="pageYOffset";m.fn[l]=function(E){return me(this,function(D,k,R){var z;if(O(D)?z=D:D.nodeType===9&&(z=D.defaultView),R===void 0)return z?z[h]:D[k];z?z.scrollTo(b?z.pageXOffset:R,b?R:z.pageYOffset):D[k]=R},l,E,arguments.length)}}),m.each(["top","left"],function(l,h){m.cssHooks[h]=dc(x.pixelPosition,function(b,E){if(E)return E=zs(b,h),mu.test(E)?m(b).position()[h]+"px":E})}),m.each({Height:"height",Width:"width"},function(l,h){m.each({padding:"inner"+l,content:h,"":"outer"+l},function(b,E){m.fn[E]=function(D,k){var R=arguments.length&&(b||typeof D!="boolean"),z=b||(D===!0||k===!0?"margin":"border");return me(this,function(q,Q,he){var ge;return O(q)?E.indexOf("outer")===0?q["inner"+l]:q.document.documentElement["client"+l]:q.nodeType===9?(ge=q.documentElement,Math.max(q.body["scroll"+l],ge["scroll"+l],q.body["offset"+l],ge["offset"+l],ge["client"+l])):he===void 0?m.css(q,Q,z):m.style(q,Q,he,z)},h,R?D:void 0,R)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(l,h){m.fn[h]=function(b){return this.on(h,b)}}),m.fn.extend({bind:function(l,h,b){return this.on(l,null,h,b)},unbind:function(l,h){return this.off(l,null,h)},delegate:function(l,h,b,E){return this.on(h,l,b,E)},undelegate:function(l,h,b){return arguments.length===1?this.off(l,"**"):this.off(h,l||"**",b)},hover:function(l,h){return this.on("mouseenter",l).on("mouseleave",h||l)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(l,h){m.fn[h]=function(b,E){return arguments.length>0?this.on(h,null,b,E):this.trigger(h)}});var uh=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;m.proxy=function(l,h){var b,E,D;if(typeof h=="string"&&(b=l[h],h=l,l=b),!!L(l))return E=s.call(arguments,2),D=function(){return l.apply(h||this,E.concat(s.call(arguments)))},D.guid=l.guid=l.guid||m.guid++,D},m.holdReady=function(l){l?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=ie,m.isFunction=L,m.isWindow=O,m.camelCase=De,m.type=I,m.now=Date.now,m.isNumeric=function(l){var h=m.type(l);return(h==="number"||h==="string")&&!isNaN(l-parseFloat(l))},m.trim=function(l){return l==null?"":(l+"").replace(uh,"$1")};var lh=e.jQuery,ch=e.$;return m.noConflict=function(l){return e.$===m&&(e.$=ch),l&&e.jQuery===m&&(e.jQuery=lh),m},typeof n>"u"&&(e.jQuery=e.$=m),m})})(S2);var MN=S2.exports;const BN=as(MN);window.jQuery=window.$=BN;const FN=jQuery;var Xu;typeof window<"u"?Xu=window:typeof Al<"u"?Xu=Al:typeof self<"u"?Xu=self:Xu={};var Ef=Xu;const W=as(Ef),UN={},jN=Object.freeze(Object.defineProperty({__proto__:null,default:UN},Symbol.toStringTag,{value:"Module"})),$N=NN(jN);var rv=typeof Al<"u"?Al:typeof window<"u"?window:{},HN=$N,Yu;typeof document<"u"?Yu=document:(Yu=rv["__GLOBAL_DOCUMENT_CACHE@4"],Yu||(Yu=rv["__GLOBAL_DOCUMENT_CACHE@4"]=HN));var C2=Yu;const we=as(C2);var lg={exports:{}};(function(t,e){function n(u){if(u&&typeof u=="object"){var c=u.which||u.keyCode||u.charCode;c&&(u=c)}if(typeof u=="number")return a[u];var d=String(u),p=i[d.toLowerCase()];if(p)return p;var p=r[d.toLowerCase()];if(p)return p;if(d.length===1)return d.charCodeAt(0)}n.isEventKey=function(c,d){if(c&&typeof c=="object"){var p=c.which||c.keyCode||c.charCode;if(p==null)return!1;if(typeof d=="string"){var v=i[d.toLowerCase()];if(v)return v===p;var v=r[d.toLowerCase()];if(v)return v===p}else if(typeof d=="number")return d===p;return!1}},e=t.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)i[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)i[s-48]=s;for(s=1;s<13;s++)i["f"+s]=s+111;for(s=0;s<10;s++)i["numpad "+s]=s+96;var a=e.names=e.title={};for(s in i)a[i[s]]=s;for(var o in r)i[o]=r[o]})(lg,lg.exports);var qN=lg.exports;const et=as(qN);var VN=WN;function WN(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(r){i=r}return[i,n]}const zN=as(VN);var Im={exports:{}},w2={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(w2);var GN=w2.exports,KN=YN,XN=Object.prototype.toString;function YN(t){if(!t)return!1;var e=XN.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var QN=Ef,JN=function(e,n){return n===void 0&&(n=!1),function(i,r,s){if(i){e(i);return}if(r.statusCode>=400&&r.statusCode<=599){var a=s;if(n)if(QN.TextDecoder){var o=ZN(r.headers&&r.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function ZN(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],s=i[1];return r.trim()==="charset"?s.trim():e},"utf-8")}var e3=JN,A2=Ef,t3=GN,n3=KN;Cr.httpHandler=e3;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var i3=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var r=i.indexOf(":"),s=i.slice(0,r).trim().toLowerCase(),a=i.slice(r+1).trim();typeof n[s]>"u"?n[s]=a:Array.isArray(n[s])?n[s].push(a):n[s]=[n[s],a]}),n};Im.exports=Cr;Im.exports.default=Cr;Cr.XMLHttpRequest=A2.XMLHttpRequest||o3;Cr.XDomainRequest="withCredentials"in new Cr.XMLHttpRequest?Cr.XMLHttpRequest:A2.XDomainRequest;r3(["get","put","post","patch","head","delete"],function(t){Cr[t==="delete"?"del":t]=function(e,n,i){return n=D2(e,n,i),n.method=t.toUpperCase(),k2(n)}});function r3(t,e){for(var n=0;n<t.length;n++)e(t[n])}function s3(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function D2(t,e,n){var i=t;return n3(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=t3({},e,{uri:t}),i.callback=n,i}function Cr(t,e,n){return e=D2(t,e,n),k2(e)}function k2(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(M,I,N){e||(e=!0,t.callback(M,I,N))};function i(){o.readyState===4&&setTimeout(a,0)}function r(){var A=void 0;if(o.response?A=o.response:A=o.responseText||a3(o),L)try{A=JSON.parse(A)}catch{}return A}function s(A){return clearTimeout(O),A instanceof Error||(A=new Error(""+(A||"Unknown XMLHttpRequest Error"))),A.statusCode=0,n(A,S)}function a(){if(!c){var A;clearTimeout(O),t.useXDR&&o.status===void 0?A=200:A=o.status===1223?204:o.status;var M=S,I=null;return A!==0?(M={body:r(),statusCode:A,method:p,headers:{},url:d,rawRequest:o},o.getAllResponseHeaders&&(M.headers=i3(o.getAllResponseHeaders()))):I=new Error("Internal XMLHttpRequest Error"),n(I,M,M.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new Cr.XDomainRequest:o=new Cr.XMLHttpRequest);var u,c,d=o.url=t.uri||t.url,p=o.method=t.method||"GET",v=t.body||t.data,C=o.headers=t.headers||{},x=!!t.sync,L=!1,O,S={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:o};if("json"in t&&t.json!==!1&&(L=!0,C.accept||C.Accept||(C.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(C["content-type"]||C["Content-Type"]||(C["Content-Type"]="application/json"),v=JSON.stringify(t.json===!0?v:t.json))),o.onreadystatechange=i,o.onload=a,o.onerror=s,o.onprogress=function(){},o.onabort=function(){c=!0},o.ontimeout=s,o.open(p,d,!x,t.username,t.password),x||(o.withCredentials=!!t.withCredentials),!x&&t.timeout>0&&(O=setTimeout(function(){if(!c){c=!0,o.abort("timeout");var A=new Error("XMLHttpRequest timeout");A.code="ETIMEDOUT",s(A)}},t.timeout)),o.setRequestHeader)for(u in C)C.hasOwnProperty(u)&&o.setRequestHeader(u,C[u]);else if(t.headers&&!s3(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(v||null),o}function a3(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function o3(){}var u3=Im.exports;const L2=as(u3);var I2={exports:{}},sv=C2,Pm=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Di(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Di.prototype=Pm(Error.prototype);Di.prototype.constructor=Di;Di.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Om(t){function e(i,r,s,a){return(i|0)*3600+(r|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ll(){this.values=Pm(null)}ll.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Qu(t,e,n,i){var r=i?t.split(i):[t];for(var s in r)if(typeof r[s]=="string"){var a=r[s].split(n);if(a.length===2){var o=a[0].trim(),u=a[1].trim();e(o,u)}}}function l3(t,e,n){var i=t;function r(){var o=Om(t);if(o===null)throw new Di(Di.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,u){var c=new ll;Qu(o,function(d,p){switch(d){case"region":for(var v=n.length-1;v>=0;v--)if(n[v].id===p){c.set(d,n[v].region);break}break;case"vertical":c.alt(d,p,["rl","lr"]);break;case"line":var C=p.split(","),x=C[0];c.integer(d,x),c.percent(d,x)&&c.set("snapToLines",!1),c.alt(d,x,["auto"]),C.length===2&&c.alt("lineAlign",C[1],["start","center","end"]);break;case"position":C=p.split(","),c.percent(d,C[0]),C.length===2&&c.alt("positionAlign",C[1],["start","center","end"]);break;case"size":c.percent(d,p);break;case"align":c.alt(d,p,["start","center","end","left","right"]);break}},/:/,/\s/),u.region=c.get("region",null),u.vertical=c.get("vertical","");try{u.line=c.get("line","auto")}catch{}u.lineAlign=c.get("lineAlign","start"),u.snapToLines=c.get("snapToLines",!0),u.size=c.get("size",100);try{u.align=c.get("align","center")}catch{u.align=c.get("align","middle")}try{u.position=c.get("position","auto")}catch{u.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.substr(0,3)!=="-->")throw new Di(Di.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),a(),e.endTime=r(),a(),s(t,e)}var jh=sv.createElement&&sv.createElement("textarea"),c3={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},av={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},d3={v:"title",lang:"lang"},ov={rt:"ruby"};function P2(t,e){function n(){if(!e)return null;function x(O){return e=e.substr(O.length),O}var L=e.match(/^([^<]*)(<[^>]*>?)?/);return x(L[1]?L[1]:L[2])}function i(x){return jh.innerHTML=x,x=jh.textContent,jh.textContent="",x}function r(x,L){return!ov[L.localName]||ov[L.localName]===x.localName}function s(x,L){var O=c3[x];if(!O)return null;var S=t.document.createElement(O),A=d3[x];return A&&L&&(S[A]=L.trim()),S}for(var a=t.document.createElement("div"),o=a,u,c=[];(u=n())!==null;){if(u[0]==="<"){if(u[1]==="/"){c.length&&c[c.length-1]===u.substr(2).replace(">","")&&(c.pop(),o=o.parentNode);continue}var d=Om(u.substr(1,u.length-2)),p;if(d){p=t.document.createProcessingInstruction("timestamp",d),o.appendChild(p);continue}var v=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v||(p=s(v[1],v[3]),!p)||!r(o,p))continue;if(v[2]){var C=v[2].split(".");C.forEach(function(x){var L=/^bg_/.test(x),O=L?x.slice(3):x;if(av.hasOwnProperty(O)){var S=L?"background-color":"color",A=av[O];p.style[S]=A}}),p.className=C.join(" ")}c.push(v[1]),o.appendChild(p),o=p;continue}o.appendChild(t.document.createTextNode(i(u)))}return a}var uv=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function f3(t){for(var e=0;e<uv.length;e++){var n=uv[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function h3(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(o,u){for(var c=u.childNodes.length-1;c>=0;c--)o.push(u.childNodes[c])}function s(o){if(!o||!o.length)return null;var u=o.pop(),c=u.textContent||u.innerText;if(c){var d=c.match(/^.*(\n|\r)/);return d?(o.length=0,d[0]):c}if(u.tagName==="ruby")return s(o);if(u.childNodes)return r(o,u),s(o)}for(r(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(i=n.charCodeAt(a),f3(i))return"rtl";return"ltr"}function p3(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function xf(){}xf.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};xf.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Sd(t,e,n){xf.call(this),this.cue=e,this.cueDiv=P2(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:h3(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":case"line-left":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":case"line-right":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}Sd.prototype=Pm(xf.prototype);Sd.prototype.constructor=Sd;function Yn(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}Yn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Yn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Yn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Yn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Yn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Yn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};Yn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Yn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function g3(t,e,n,i){function r(O,S){for(var A,M=new Yn(O),I=1,N=0;N<S.length;N++){for(;O.overlapsOppositeAxis(n,S[N])||O.within(n)&&O.overlapsAny(i);)O.move(S[N]);if(O.within(n))return O;var F=O.intersectPercentage(n);I>F&&(A=new Yn(O),I=F),O=new Yn(M)}return A||M}var s=new Yn(e),a=e.cue,o=p3(a),u=[];if(a.snapToLines){var c;switch(a.vertical){case"":u=["+y","-y"],c="height";break;case"rl":u=["+x","-x"],c="width";break;case"lr":u=["-x","+x"],c="width";break}var d=s.lineHeight,p=d*Math.round(o),v=n[c]+d,C=u[0];Math.abs(p)>v&&(p=p<0?-1:1,p*=Math.ceil(v/d)*d),o<0&&(p+=a.vertical===""?n.height:n.width,u=u.reverse()),s.move(C,p)}else{var x=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=x/2;break;case"end":o-=x;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"],s=new Yn(e)}var L=r(s,u);e.move(L.toCSSCompatValues(n))}function ou(){}ou.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};ou.convertCueToDOMTree=function(t,e){return!t||!e?null:P2(t,e)};var m3=.05,y3="sans-serif",_3="1.5%";ou.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=_3,n.appendChild(i);function r(d){for(var p=0;p<d.length;p++)if(d[p].hasBeenReset||!d[p].displayState)return!0;return!1}if(!r(e)){for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState);return}var a=[],o=Yn.getSimpleBoxPosition(i),u=Math.round(o.height*m3*100)/100,c={font:u+"px "+y3};(function(){for(var d,p,v=0;v<e.length;v++)p=e[v],d=new Sd(t,p,c),i.appendChild(d.div),g3(t,d,o,a),p.displayState=d.div,a.push(Yn.getSimpleBoxPosition(d))})()};ou.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};ou.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Di)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var d=e.buffer,p=0;p<d.length&&d[p]!=="\r"&&d[p]!==`
`;)++p;var v=d.substr(0,p);return d[p]==="\r"&&++p,d[p]===`
`&&++p,e.buffer=d.substr(p),v}function i(d){var p=new ll;if(Qu(d,function(C,x){switch(C){case"id":p.set(C,x);break;case"width":p.percent(C,x);break;case"lines":p.integer(C,x);break;case"regionanchor":case"viewportanchor":var L=x.split(",");if(L.length!==2)break;var O=new ll;if(O.percent("x",L[0]),O.percent("y",L[1]),!O.has("x")||!O.has("y"))break;p.set(C+"X",O.get("x")),p.set(C+"Y",O.get("y"));break;case"scroll":p.alt(C,x,["up"]);break}},/=/,/\s/),p.has("id")){var v=new(e.vttjs.VTTRegion||e.window.VTTRegion);v.width=p.get("width",100),v.lines=p.get("lines",3),v.regionAnchorX=p.get("regionanchorX",0),v.regionAnchorY=p.get("regionanchorY",100),v.viewportAnchorX=p.get("viewportanchorX",0),v.viewportAnchorY=p.get("viewportanchorY",100),v.scroll=p.get("scroll",""),e.onregion&&e.onregion(v),e.regionList.push({id:p.get("id"),region:v})}}function r(d){var p=new ll;Qu(d,function(v,C){switch(v){case"MPEGT":p.integer(v+"S",C);break;case"LOCA":p.set(v+"L",Om(C));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:p.get("MPEGTS"),LOCAL:p.get("LOCAL")})}function s(d){d.match(/X-TIMESTAMP-MAP/)?Qu(d,function(p,v){switch(p){case"X-TIMESTAMP-MAP":r(v);break}},/=/):Qu(d,function(p,v){switch(p){case"Region":i(v);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Di(Di.Errors.BadSignature);e.state="HEADER"}for(var u=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(u?u=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{l3(a,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(u=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Di(Di.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var v3=ou,b3="auto",T3={"":1,lr:1,rl:1},E3={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function x3(t){if(typeof t!="string")return!1;var e=T3[t.toLowerCase()];return e?t.toLowerCase():!1}function $h(t){if(typeof t!="string")return!1;var e=E3[t.toLowerCase()];return e?t.toLowerCase():!1}function O2(t,e,n){this.hasBeenReset=!1;var i="",r=!1,s=t,a=e,o=n,u=null,c="",d=!0,p="auto",v="start",C="auto",x="auto",L=100,O="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(S){i=""+S}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(S){r=!!S}},startTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");s=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");a=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(S){o=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(S){u=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(S){var A=x3(S);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(S){d=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(S){if(typeof S!="number"&&S!==b3)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return v},set:function(S){var A=$h(S);A?(v=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return C},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");C=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return x},set:function(S){var A=$h(S);A?(x=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return L},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");L=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return O},set:function(S){var A=$h(S);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");O=A,this.hasBeenReset=!0}}}),this.displayState=void 0}O2.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var S3=O2,C3={"":!0,up:!0};function w3(t){if(typeof t!="string")return!1;var e=C3[t.toLowerCase()];return e?t.toLowerCase():!1}function Fu(t){return typeof t=="number"&&t>=0&&t<=100}function A3(){var t=100,e=3,n=0,i=100,r=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Fu(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Fu(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Fu(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!Fu(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Fu(o))throw new Error("ViewportAnchorX must be between 0 and 100.");r=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var u=w3(o);u===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=u}}})}var D3=A3,es=Ef,$a=I2.exports={WebVTT:v3,VTTCue:S3,VTTRegion:D3};es.vttjs=$a;es.WebVTT=$a.WebVTT;var k3=$a.VTTCue,L3=$a.VTTRegion,I3=es.VTTCue,P3=es.VTTRegion;$a.shim=function(){es.VTTCue=k3,es.VTTRegion=L3};$a.restore=function(){es.VTTCue=I3,es.VTTRegion=P3};es.VTTCue||$a.shim();var O3=I2.exports;const lv=as(O3);var R2={exports:{}};(function(t,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(u,c,d){if(d=d||{},u=u.trim(),c=c.trim(),!c){if(!d.alwaysNormalize)return u;var p=o.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");return p.path=o.normalizePath(p.path),o.buildURLFromParts(p)}var v=o.parseURL(c);if(!v)throw new Error("Error trying to parse relative URL.");if(v.scheme)return d.alwaysNormalize?(v.path=o.normalizePath(v.path),o.buildURLFromParts(v)):c;var C=o.parseURL(u);if(!C)throw new Error("Error trying to parse base URL.");if(!C.netLoc&&C.path&&C.path[0]!=="/"){var x=r.exec(C.path);C.netLoc=x[1],C.path=x[2]}C.netLoc&&!C.path&&(C.path="/");var L={scheme:C.scheme,netLoc:v.netLoc,path:null,params:v.params,query:v.query,fragment:v.fragment};if(!v.netLoc&&(L.netLoc=C.netLoc,v.path[0]!=="/"))if(!v.path)L.path=C.path,v.params||(L.params=C.params,v.query||(L.query=C.query));else{var O=C.path,S=O.substring(0,O.lastIndexOf("/")+1)+v.path;L.path=o.normalizePath(S)}return L.path===null&&(L.path=d.alwaysNormalize?o.normalizePath(v.path):v.path),o.buildURLFromParts(L)},parseURL:function(u){var c=i.exec(u);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(s,"");u.length!==(u=u.replace(a,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=o})()})(R2);var R3=R2.exports;const Cd=as(R3);var cv="http://example.com",N3=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=W.location&&W.location.href||"");var i=typeof W.URL=="function",r=/^\/\//.test(e),s=!W.location&&!/\/\//i.test(e);if(i?e=new W.URL(e,W.location||cv):/\/\//i.test(e)||(e=Cd.buildAbsoluteURL(W.location&&W.location.href||"",e)),i){var a=new URL(n,e);return s?a.href.slice(cv.length):r?a.href.slice(a.protocol.length):a.href}return Cd.buildAbsoluteURL(e,n)};function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Os.apply(this,arguments)}var Rm=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},e.off=function(i,r){if(!this.listeners[i])return!1;var s=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(s,1),s>-1},e.trigger=function(i){var r=this.listeners[i];if(r)if(arguments.length===2)for(var s=r.length,a=0;a<s;++a)r[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=r.length,c=0;c<u;++c)r[c].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(r){i.push(r)})},t}(),M3=function(e){return W.atob?W.atob(e):Buffer.from(e,"base64").toString("binary")};function N2(t){for(var e=M3(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class B3 extends Rm{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const F3=String.fromCharCode(9),Hh=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},U3=function(){const t="[^=]*",e='"[^"]*"|[^,]*',n="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+n+")")},Fi=function(t){const e={};if(!t)return e;const n=t.split(U3());let i=n.length,r;for(;i--;)n[i]!==""&&(r=/([^=]*)=(.*)/.exec(n[i]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),e[r[0]]=r[1]);return e};class j3 extends Rm{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,i;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),n=/^#EXTM3U/.exec(s),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),n){i={type:"tag",tagType:"inf"},n[1]&&(i.duration=parseFloat(n[1])),n[2]&&(i.title=n[2]),this.trigger("data",i);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"targetduration"},n[1]&&(i.duration=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"version"},n[1]&&(i.version=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"media-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),n){i={type:"tag",tagType:"playlist-type"},n[1]&&(i.playlistType=n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),n){i=Os(Hh(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),n){i={type:"tag",tagType:"allow-cache"},n[1]&&(i.allowed=!/NO/.test(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(s),n){if(i={type:"tag",tagType:"map"},n[1]){const a=Fi(n[1]);a.URI&&(i.uri=a.URI),a.BYTERANGE&&(i.byterange=Hh(a.BYTERANGE))}this.trigger("data",i);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),n){if(i={type:"tag",tagType:"stream-inf"},n[1]){if(i.attributes=Fi(n[1]),i.attributes.RESOLUTION){const a=i.attributes.RESOLUTION.split("x"),o={};a[0]&&(o.width=parseInt(a[0],10)),a[1]&&(o.height=parseInt(a[1],10)),i.attributes.RESOLUTION=o}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(s),n){i={type:"tag",tagType:"media"},n[1]&&(i.attributes=Fi(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-ENDLIST/.exec(s),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),n){i={type:"tag",tagType:"program-date-time"},n[1]&&(i.dateTimeString=n[1],i.dateTimeObject=new Date(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(s),n){i={type:"tag",tagType:"key"},n[1]&&(i.attributes=Fi(n[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(n=/^#EXT-X-START:(.*)$/.exec(s),n){i={type:"tag",tagType:"start"},n[1]&&(i.attributes=Fi(n[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out-cont"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-IN:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-in"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"skip"},i.attributes=Fi(n[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(F3)),this.trigger("data",i);return}if(n=/^#EXT-X-PART:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part"},i.attributes=Fi(n[1]),["DURATION"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=Hh(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"server-control"},i.attributes=Fi(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Fi(n[1]),["PART-TARGET"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Fi(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(i.attributes.hasOwnProperty(a)){i.attributes[a]=parseInt(i.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[o]=i.attributes[a],delete i.attributes[a]}}),this.trigger("data",i);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Fi(n[1]),["LAST-MSN","LAST-PART"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseInt(i.attributes[a],10))}),this.trigger("data",i);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"daterange"},i.attributes=Fi(n[1]),["ID","CLASS"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=String(i.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=new Date(i.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/i.test(i.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=i.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in i.attributes){if(!a.test(o))continue;const u=/[0-9A-Fa-f]{6}/g.test(i.attributes[o]),c=/^\d+(\.\d+)?$/.test(i.attributes[o]);i.attributes[o]=u?i.attributes[o].toString(16):c?parseFloat(i.attributes[o]):String(i.attributes[o])}this.trigger("data",i);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:n,dataParser:i,segment:r}){typeof i!="function"&&(i=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:i(s),customType:n,segment:r}),!0})}addTagMapper({expression:e,map:n}){const i=r=>e.test(r)?n(r):r;this.tagMappers.push(i)}}const $3=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),ha=function(t){const e={};return Object.keys(t).forEach(function(n){e[$3(n)]=t[n]}),e},qh=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:i}=t;if(!e)return;const r="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,u=i&&i*2;n&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),i&&!e.hasOwnProperty(a)&&(e[a]=i*3,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),i&&e[a]<u&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${u}).`}),e[a]=u)};class H3 extends Rm{constructor(){super(),this.lineStream=new B3,this.parseStream=new j3,this.lineStream.pipe(this.parseStream);const e=this,n=[];let i={},r,s,a=!1;const o=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let p=0,v=0;const C={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&r&&(i.map=r),!i.key&&s&&(i.key=s),!i.timeline&&typeof d=="number"&&(i.timeline=d),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(x){let L,O;({tag(){({version(){x.version&&(this.manifest.version=x.version)},"allow-cache"(){this.manifest.allowCache=x.allowed,"allowed"in x||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const S={};"length"in x&&(i.byterange=S,S.length=x.length,"offset"in x||(x.offset=p)),"offset"in x&&(i.byterange=S,S.offset=x.offset),p=S.offset+S.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),x.duration>0&&(i.duration=x.duration),x.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!x.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(x.attributes.METHOD==="NONE"){s=null;return}if(!x.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(x.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:x.attributes};return}if(x.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:x.attributes.URI};return}if(x.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(x.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(x.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),x.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(x.attributes.KEYID&&x.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:x.attributes.KEYFORMAT,keyId:x.attributes.KEYID.substring(2)},pssh:N2(x.attributes.URI.split(",")[1])};return}x.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:x.attributes.METHOD||"AES-128",uri:x.attributes.URI},typeof x.attributes.IV<"u"&&(s.iv=x.attributes.IV)},"media-sequence"(){if(!isFinite(x.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+x.number});return}this.manifest.mediaSequence=x.number},"discontinuity-sequence"(){if(!isFinite(x.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+x.number});return}this.manifest.discontinuitySequence=x.number,d=x.number},"playlist-type"(){if(!/VOD|EVENT/.test(x.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+x.playlist});return}this.manifest.playlistType=x.playlistType},map(){r={},x.uri&&(r.uri=x.uri),x.byterange&&(r.byterange=x.byterange),s&&(r.key=s)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!x.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),Os(i.attributes,x.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(x.attributes&&x.attributes.TYPE&&x.attributes["GROUP-ID"]&&x.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const S=this.manifest.mediaGroups[x.attributes.TYPE];S[x.attributes["GROUP-ID"]]=S[x.attributes["GROUP-ID"]]||{},L=S[x.attributes["GROUP-ID"]],O={default:/yes/i.test(x.attributes.DEFAULT)},O.default?O.autoselect=!0:O.autoselect=/yes/i.test(x.attributes.AUTOSELECT),x.attributes.LANGUAGE&&(O.language=x.attributes.LANGUAGE),x.attributes.URI&&(O.uri=x.attributes.URI),x.attributes["INSTREAM-ID"]&&(O.instreamId=x.attributes["INSTREAM-ID"]),x.attributes.CHARACTERISTICS&&(O.characteristics=x.attributes.CHARACTERISTICS),x.attributes.FORCED&&(O.forced=/yes/i.test(x.attributes.FORCED)),L[x.attributes.NAME]=O},discontinuity(){d+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=x.dateTimeString,this.manifest.dateTimeObject=x.dateTimeObject),i.dateTimeString=x.dateTimeString,i.dateTimeObject=x.dateTimeObject},targetduration(){if(!isFinite(x.duration)||x.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+x.duration});return}this.manifest.targetDuration=x.duration,qh.call(this,this.manifest)},start(){if(!x.attributes||isNaN(x.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:x.attributes["TIME-OFFSET"],precise:x.attributes.PRECISE}},"cue-out"(){i.cueOut=x.data},"cue-out-cont"(){i.cueOutCont=x.data},"cue-in"(){i.cueIn=x.data},skip(){this.manifest.skip=ha(x.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",x.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const S=this.manifest.segments.length,A=ha(x.attributes);i.parts=i.parts||[],i.parts.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=v),v=A.byterange.offset+A.byterange.length);const M=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${M} for segment #${S}`,x.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((I,N)=>{I.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${N} lacks required attribute(s): LAST-PART`})})},"server-control"(){const S=this.manifest.serverControl=ha(x.attributes);S.hasOwnProperty("canBlockReload")||(S.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),qh.call(this,this.manifest),S.canSkipDateranges&&!S.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const S=this.manifest.segments.length,A=ha(x.attributes),M=A.type&&A.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=M?v:0,M&&(v=A.byterange.offset+A.byterange.length)));const I=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${I} for segment #${S}`,x.attributes,["TYPE","URI"]),!!A.type)for(let N=0;N<i.preloadHints.length-1;N++){const F=i.preloadHints[N];F.type&&F.type===A.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${I} for segment #${S} has the same TYPE ${A.type} as preload hint #${N}`})}},"rendition-report"(){const S=ha(x.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(S);const A=this.manifest.renditionReports.length-1,M=["LAST-MSN","URI"];a&&M.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${A}`,x.attributes,M)},"part-inf"(){this.manifest.partInf=ha(x.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",x.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),qh.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(ha(x.attributes));const S=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${S}`,x.attributes,["ID","START-DATE"]);const A=this.manifest.daterange[S];A.endDate&&A.startDate&&new Date(A.endDate)<new Date(A.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),A.duration&&A.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),A.plannedDuration&&A.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const M=!!A.endOnNext;if(M&&!A.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),M&&(A.duration||A.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),A.duration&&A.endDate){const I=A.startDate,N=I.setSeconds(I.getSeconds()+A.duration);this.manifest.daterange[S].endDate=new Date(N)}if(A&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),!C[A.id])C[A.id]=A;else for(const I in C[A.id])if(C[A.id][I]!==A[I]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}},"independent-segments"(){this.manifest.independentSegments=!0}}[x.tagType]||o).call(e)},uri(){i.uri=x.uri,n.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),s&&(i.key=s),i.timeline=d,r&&(i.map=r),v=0,i={}},comment(){},custom(){x.segment?(i.custom=i.custom||{},i.custom[x.customType]=x.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[x.customType]=x.data)}})[x.type].call(e)})}warnOnMissingAttributes_(e,n,i){const r=[];i.forEach(function(s){n.hasOwnProperty(s)||r.push(s)}),r.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${r.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var La={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},q3=["video","audio","text"],dv=["Video","Audio","Text"],M2=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var s=("00"+Number(i).toString(16)).slice(-2),a=("00"+Number(r).toString(16)).slice(-2);return"avc1."+s+"00"+a})},_r=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(r){r=r.trim();var s;q3.forEach(function(a){var o=La[a].exec(r.toLowerCase());if(!(!o||o.length<=1)){s=a;var u=r.substring(0,o[1].length),c=r.replace(u,"");i.push({type:u,details:c,mediaType:a})}}),s||i.push({type:r,details:"",mediaType:"unknown"})}),i},V3=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var s=i[r];if(s.default&&s.playlists)return _r(s.playlists[0].attributes.CODECS)}return null},B2=function(e){return e===void 0&&(e=""),La.audio.test(e.trim().toLowerCase())},W3=function(e){return e===void 0&&(e=""),La.text.test(e.trim().toLowerCase())},Dl=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(s){return M2(s.trim())}),i="video";n.length===1&&B2(n[0])?i="audio":n.length===1&&W3(n[0])&&(i="application");var r="mp4";return n.every(function(s){return La.mp4.test(s)})?r="mp4":n.every(function(s){return La.webm.test(s)})?r="webm":n.every(function(s){return La.ogg.test(s)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},td=function(e){return e===void 0&&(e=""),W.MediaSource&&W.MediaSource.isTypeSupported&&W.MediaSource.isTypeSupported(Dl(e))||!1},Vh=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<dv.length;i++){var r=dv[i];if(La["muxer"+r].test(n))return!0}return!1})},fv="mp4a.40.2",z3="avc1.4d400d",G3=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,K3=/^application\/dash\+xml/i,F2=function(e){return G3.test(e)?"hls":K3.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},X3=function(e){return e.toString(2).length},Y3=function(e){return Math.ceil(X3(e)/8)},U2=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Q3=function(e){return U2(e)},ze=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!Q3(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Dn=W.BigInt||Number,cg=[Dn("0x1"),Dn("0x100"),Dn("0x10000"),Dn("0x1000000"),Dn("0x100000000"),Dn("0x10000000000"),Dn("0x1000000000000"),Dn("0x100000000000000"),Dn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var J3=function(e,n){var i=n===void 0?{}:n,r=i.signed,s=r===void 0?!1:r,a=i.le,o=a===void 0?!1:a;e=ze(e);var u=o?"reduce":"reduceRight",c=e[u]?e[u]:Array.prototype[u],d=c.call(e,function(v,C,x){var L=o?x:Math.abs(x+1-e.length);return v+Dn(C)*cg[L]},Dn(0));if(s){var p=cg[e.length]/Dn(2)-Dn(1);d=Dn(d),d>p&&(d-=p,d-=p,d-=Dn(2))}return Number(d)},Z3=function(e,n){var i=n===void 0?{}:n,r=i.le,s=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Dn(e);for(var a=Y3(e),o=new Uint8Array(new ArrayBuffer(a)),u=0;u<a;u++){var c=s?u:Math.abs(u+1-o.length);o[c]=Number(e/cg[u]&Dn(255)),e<0&&(o[c]=Math.abs(~o[c]),o[c]-=u===0?1:2)}return o},j2=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i},e4=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return ze(n[0]);var r=n.reduce(function(o,u,c){return o+(u.byteLength||u.length)},0),s=new Uint8Array(r),a=0;return n.forEach(function(o){o=ze(o),s.set(o,a),a+=o.byteLength}),s},Kt=function(e,n,i){var r=i===void 0?{}:i,s=r.offset,a=s===void 0?0:s,o=r.mask,u=o===void 0?[]:o;e=ze(e),n=ze(n);var c=n.every?n.every:Array.prototype.every;return n.length&&e.length-a>=n.length&&c.call(n,function(d,p){var v=u[p]?u[p]&e[a+p]:e[a+p];return d===v})},hv="http://example.com",Nm=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=W.location&&W.location.href||"");var i=typeof W.URL=="function",r=/^\/\//.test(e),s=!W.location&&!/\/\//i.test(e);if(i?e=new W.URL(e,W.location||hv):/\/\//i.test(e)||(e=Cd.buildAbsoluteURL(W.location&&W.location.href||"",e)),i){var a=new URL(n,e);return s?a.href.slice(hv.length):r?a.href.slice(a.protocol.length):a.href}return Cd.buildAbsoluteURL(e,n)},t4=function(e,n,i){n.forEach(function(r){for(var s in e.mediaGroups[r])for(var a in e.mediaGroups[r][s]){var o=e.mediaGroups[r][s][a];i(o,r,s,a)}})},Us={},os={};function n4(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function Mm(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function i4(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var $2=Mm({HTML:"text/html",isHTML:function(t){return t===$2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),H2=Mm({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===H2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});os.assign=i4;os.find=n4;os.freeze=Mm;os.MIME_TYPE=$2;os.NAMESPACE=H2;var q2=os,wr=q2.find,kl=q2.NAMESPACE;function r4(t){return t!==""}function s4(t){return t?t.split(/[\t\n\f\r ]+/).filter(r4):[]}function a4(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function pv(t){if(!t)return[];var e=s4(t);return Object.keys(e.reduce(a4,{}))}function o4(t){return function(e){return t&&t.indexOf(e)!==-1}}function Kl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function gi(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Kl(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var mi={},sr=mi.ELEMENT_NODE=1,qo=mi.ATTRIBUTE_NODE=2,wd=mi.TEXT_NODE=3,V2=mi.CDATA_SECTION_NODE=4,W2=mi.ENTITY_REFERENCE_NODE=5,u4=mi.ENTITY_NODE=6,z2=mi.PROCESSING_INSTRUCTION_NODE=7,G2=mi.COMMENT_NODE=8,K2=mi.DOCUMENT_NODE=9,X2=mi.DOCUMENT_TYPE_NODE=10,ts=mi.DOCUMENT_FRAGMENT_NODE=11,l4=mi.NOTATION_NODE=12,jn={},Sn={};jn.INDEX_SIZE_ERR=(Sn[1]="Index size error",1);jn.DOMSTRING_SIZE_ERR=(Sn[2]="DOMString size error",2);var di=jn.HIERARCHY_REQUEST_ERR=(Sn[3]="Hierarchy request error",3);jn.WRONG_DOCUMENT_ERR=(Sn[4]="Wrong document",4);jn.INVALID_CHARACTER_ERR=(Sn[5]="Invalid character",5);jn.NO_DATA_ALLOWED_ERR=(Sn[6]="No data allowed",6);jn.NO_MODIFICATION_ALLOWED_ERR=(Sn[7]="No modification allowed",7);var Y2=jn.NOT_FOUND_ERR=(Sn[8]="Not found",8);jn.NOT_SUPPORTED_ERR=(Sn[9]="Not supported",9);var gv=jn.INUSE_ATTRIBUTE_ERR=(Sn[10]="Attribute in use",10);jn.INVALID_STATE_ERR=(Sn[11]="Invalid state",11);jn.SYNTAX_ERR=(Sn[12]="Syntax error",12);jn.INVALID_MODIFICATION_ERR=(Sn[13]="Invalid modification",13);jn.NAMESPACE_ERR=(Sn[14]="Invalid namespace",14);jn.INVALID_ACCESS_ERR=(Sn[15]="Invalid access",15);function an(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Sn[t]),this.message=Sn[t],Error.captureStackTrace&&Error.captureStackTrace(this,an);return n.code=t,e&&(this.message=this.message+": "+e),n}an.prototype=Error.prototype;Kl(jn,an);function Xr(){}Xr.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)_o(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Vo(t,e){this._node=t,this._refresh=e,Bm(this)}function Bm(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(uE(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var i=n.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];Kl(n,t),t._inc=e}}Vo.prototype.item=function(t){return Bm(this),this[t]||null};gi(Vo,Xr);function Ad(){}function Q2(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function mv(t,e,n,i){if(i?e[Q2(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&eE(r,t,i),c4(r,t,n))}}function yv(t,e,n){var i=Q2(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var s=t.ownerDocument;s&&(eE(s,t,n),n.ownerElement=null)}}else throw new an(Y2,new Error(t.tagName+"@"+n))}Ad.prototype={length:0,item:Xr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new an(gv);var n=this.getNamedItem(t.nodeName);return mv(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new an(gv);return n=this.getNamedItemNS(t.namespaceURI,t.localName),mv(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return yv(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return yv(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function J2(){}J2.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new Xl;if(i.implementation=this,i.childNodes=new Xr,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new Sf;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function At(){}At.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Dd(this,t,e)},replaceChild:function(t,e){Dd(this,t,e,nE),e&&this.removeChild(e)},removeChild:function(t){return tE(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return dg(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==wd&&t.nodeType==wd?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==qo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==qo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Z2(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Kl(mi,At);Kl(mi,At.prototype);function Ll(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Ll(t,e))return!0;while(t=t.nextSibling)}function Xl(){this.ownerDocument=this}function c4(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===kl.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function eE(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===kl.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function Fm(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function tE(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Fm(t.ownerDocument,t),e}function d4(t){return t&&(t.nodeType===At.DOCUMENT_NODE||t.nodeType===At.DOCUMENT_FRAGMENT_NODE||t.nodeType===At.ELEMENT_NODE)}function f4(t){return t&&(Ar(t)||Um(t)||ns(t)||t.nodeType===At.DOCUMENT_FRAGMENT_NODE||t.nodeType===At.COMMENT_NODE||t.nodeType===At.PROCESSING_INSTRUCTION_NODE)}function ns(t){return t&&t.nodeType===At.DOCUMENT_TYPE_NODE}function Ar(t){return t&&t.nodeType===At.ELEMENT_NODE}function Um(t){return t&&t.nodeType===At.TEXT_NODE}function _v(t,e){var n=t.childNodes||[];if(wr(n,Ar)||ns(e))return!1;var i=wr(n,ns);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function vv(t,e){var n=t.childNodes||[];function i(s){return Ar(s)&&s!==e}if(wr(n,i))return!1;var r=wr(n,ns);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function h4(t,e,n){if(!d4(t))throw new an(di,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new an(Y2,"child not in parent");if(!f4(e)||ns(e)&&t.nodeType!==At.DOCUMENT_NODE)throw new an(di,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function p4(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===At.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Ar);if(s.length>1||wr(r,Um))throw new an(di,"More than one element or text in fragment");if(s.length===1&&!_v(t,n))throw new an(di,"Element in fragment can not be inserted before doctype")}if(Ar(e)&&!_v(t,n))throw new an(di,"Only one element can be added and only after doctype");if(ns(e)){if(wr(i,ns))throw new an(di,"Only one doctype is allowed");var a=wr(i,Ar);if(n&&i.indexOf(a)<i.indexOf(n))throw new an(di,"Doctype can only be inserted before an element");if(!n&&a)throw new an(di,"Doctype can not be appended since element is present")}}function nE(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===At.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Ar);if(s.length>1||wr(r,Um))throw new an(di,"More than one element or text in fragment");if(s.length===1&&!vv(t,n))throw new an(di,"Element in fragment can not be inserted before doctype")}if(Ar(e)&&!vv(t,n))throw new an(di,"Only one element can be added and only after doctype");if(ns(e)){if(wr(i,function(u){return ns(u)&&u!==n}))throw new an(di,"Only one doctype is allowed");var a=wr(i,Ar);if(n&&i.indexOf(a)<i.indexOf(n))throw new an(di,"Doctype can only be inserted before an element")}}function Dd(t,e,n,i){h4(t,e,n),t.nodeType===At.DOCUMENT_NODE&&(i||p4)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===ts){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return Fm(t.ownerDocument||t,t),e.nodeType==ts&&(e.firstChild=e.lastChild=null),e}function g4(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Fm(t.ownerDocument,t,e),e}Xl.prototype={nodeName:"#document",nodeType:K2,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ts){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return Dd(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===sr&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),tE(this,t)},replaceChild:function(t,e){Dd(this,t,e,nE),t.ownerDocument=this,e&&this.removeChild(e),Ar(t)&&(this.documentElement=t)},importNode:function(t,e){return oE(this,t,e)},getElementById:function(t){var e=null;return Ll(this.documentElement,function(n){if(n.nodeType==sr&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=pv(t);return new Vo(this,function(n){var i=[];return e.length>0&&Ll(n.documentElement,function(r){if(r!==n&&r.nodeType===sr){var s=r.getAttribute("class");if(s){var a=t===s;if(!a){var o=pv(s);a=e.every(o4(o))}a&&i.push(r)}}}),i})},createElement:function(t){var e=new Na;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Xr;var n=e.attributes=new Ad;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Cf;return t.ownerDocument=this,t.childNodes=new Xr,t},createTextNode:function(t){var e=new jm;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new $m;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Hm;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Vm;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new kd;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new qm;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Na,i=e.split(":"),r=n.attributes=new Ad;return n.childNodes=new Xr,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new kd,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};gi(Xl,At);function Na(){this._nsMap={}}Na.prototype={nodeType:sr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ts?this.insertBefore(t,null):g4(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Vo(this,function(e){var n=[];return Ll(e,function(i){i!==e&&i.nodeType==sr&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new Vo(this,function(n){var i=[];return Ll(n,function(r){r!==n&&r.nodeType===sr&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};Xl.prototype.getElementsByTagName=Na.prototype.getElementsByTagName;Xl.prototype.getElementsByTagNameNS=Na.prototype.getElementsByTagNameNS;gi(Na,At);function kd(){}kd.prototype.nodeType=qo;gi(kd,At);function Yl(){}Yl.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Sn[di])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};gi(Yl,At);function jm(){}jm.prototype={nodeName:"#text",nodeType:wd,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};gi(jm,Yl);function $m(){}$m.prototype={nodeName:"#comment",nodeType:G2};gi($m,Yl);function Hm(){}Hm.prototype={nodeName:"#cdata-section",nodeType:V2};gi(Hm,Yl);function Sf(){}Sf.prototype.nodeType=X2;gi(Sf,At);function iE(){}iE.prototype.nodeType=l4;gi(iE,At);function rE(){}rE.prototype.nodeType=u4;gi(rE,At);function qm(){}qm.prototype.nodeType=W2;gi(qm,At);function Cf(){}Cf.prototype.nodeName="#document-fragment";Cf.prototype.nodeType=ts;gi(Cf,At);function Vm(){}Vm.prototype.nodeType=z2;gi(Vm,At);function sE(){}sE.prototype.serializeToString=function(t,e,n){return aE.call(t,e,n)};At.prototype.toString=aE;function aE(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&r==null){var r=i.lookupPrefix(s);if(r==null)var a=[{namespace:s,prefix:null}]}return _o(this,n,t,e,a),n.join("")}function bv(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===kl.XML||r===kl.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===i)return a.namespace!==r}return!0}function Wh(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,Z2),'"')}function _o(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case sr:var s=t.attributes,a=s.length,S=t.firstChild,o=t.tagName;n=kl.isHTML(t.namespaceURI)||n;var u=o;if(!n&&!t.prefix&&t.namespaceURI){for(var c,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){c=s.item(d).value;break}if(!c)for(var p=r.length-1;p>=0;p--){var v=r[p];if(v.prefix===""&&v.namespace===t.namespaceURI){c=v.namespace;break}}if(c!==t.namespaceURI)for(var p=r.length-1;p>=0;p--){var v=r[p];if(v.namespace===t.namespaceURI){v.prefix&&(u=v.prefix+":"+o);break}}}e.push("<",u);for(var C=0;C<a;C++){var x=s.item(C);x.prefix=="xmlns"?r.push({prefix:x.localName,namespace:x.value}):x.nodeName=="xmlns"&&r.push({prefix:"",namespace:x.value})}for(var C=0;C<a;C++){var x=s.item(C);if(bv(x,n,r)){var L=x.prefix||"",O=x.namespaceURI;Wh(e,L?"xmlns:"+L:"xmlns",O),r.push({prefix:L,namespace:O})}_o(x,e,n,i,r)}if(o===u&&bv(t,n,r)){var L=t.prefix||"",O=t.namespaceURI;Wh(e,L?"xmlns:"+L:"xmlns",O),r.push({prefix:L,namespace:O})}if(S||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;S;)S.data?e.push(S.data):_o(S,e,n,i,r.slice()),S=S.nextSibling;else for(;S;)_o(S,e,n,i,r.slice()),S=S.nextSibling;e.push("</",u,">")}else e.push("/>");return;case K2:case ts:for(var S=t.firstChild;S;)_o(S,e,n,i,r.slice()),S=S.nextSibling;return;case qo:return Wh(e,t.name,t.value);case wd:return e.push(t.data.replace(/[<&>]/g,Z2));case V2:return e.push("<![CDATA[",t.data,"]]>");case G2:return e.push("<!--",t.data,"-->");case X2:var A=t.publicId,M=t.systemId;if(e.push("<!DOCTYPE ",t.name),A)e.push(" PUBLIC ",A),M&&M!="."&&e.push(" ",M),e.push(">");else if(M&&M!=".")e.push(" SYSTEM ",M,">");else{var I=t.internalSubset;I&&e.push(" [",I,"]"),e.push(">")}return;case z2:return e.push("<?",t.target," ",t.data,"?>");case W2:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function oE(t,e,n){var i;switch(e.nodeType){case sr:i=e.cloneNode(!1),i.ownerDocument=t;case ts:break;case qo:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(oE(t,r,n)),r=r.nextSibling;return i}function dg(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new Xr),i.ownerDocument=t,i.nodeType){case sr:var a=e.attributes,o=i.attributes=new Ad,u=a.length;o._ownerElement=i;for(var c=0;c<u;c++)i.setAttributeNode(dg(t,a.item(c),!0));break;case qo:n=!0}if(n)for(var d=e.firstChild;d;)i.appendChild(dg(t,d,n)),d=d.nextSibling;return i}function uE(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case sr:case ts:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(Vo.prototype,"length",{get:function(){return Bm(this),this.$$length}}),Object.defineProperty(At.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case sr:case ts:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),uE=function(e,n,i){e["$$"+n]=i}}}catch{}Us.DocumentType=Sf;Us.DOMException=an;Us.DOMImplementation=J2;Us.Element=Na;Us.Node=At;Us.NodeList=Xr;Us.XMLSerializer=sE;var wf={},lE={};(function(t){var e=os.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(lE);var Wm={},Il=os.NAMESPACE,fg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Tv=new RegExp("[\\-\\.0-9"+fg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ev=new RegExp("^"+fg.source+Tv.source+"*(?::"+fg.source+Tv.source+"*)?$"),Uu=0,Ts=1,so=2,ju=3,ao=4,oo=5,$u=6,Vc=7;function Wo(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Wo)}Wo.prototype=new Error;Wo.prototype.name=Wo.name;function cE(){}cE.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),dE(e,e={}),m4(t,e,n,i,this.errorHandler),i.endDocument()}};function m4(t,e,n,i,r){function s(Le){if(Le>65535){Le-=65536;var Re=55296+(Le>>10),Ve=56320+(Le&1023);return String.fromCharCode(Re,Ve)}else return String.fromCharCode(Le)}function a(Le){var Re=Le.slice(1,-1);return Object.hasOwnProperty.call(n,Re)?n[Re]:Re.charAt(0)==="#"?s(parseInt(Re.substr(1).replace("x","0x"))):(r.error("entity not found:"+Le),Le)}function o(Le){if(Le>L){var Re=t.substring(L,Le).replace(/&#?\w+;/g,a);v&&u(L),i.characters(Re,0,Le-L),L=Le}}function u(Le,Re){for(;Le>=d&&(Re=p.exec(t));)c=Re.index,d=c+Re[0].length,v.lineNumber++;v.columnNumber=Le-c+1}for(var c=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,v=i.locator,C=[{currentNSMap:e}],x={},L=0;;){try{var O=t.indexOf("<",L);if(O<0){if(!t.substr(L).match(/^\s*$/)){var S=i.doc,A=S.createTextNode(t.substr(L));S.appendChild(A),i.currentElement=A}return}switch(O>L&&o(O),t.charAt(O+1)){case"/":var Y=t.indexOf(">",O+3),M=t.substring(O+2,Y).replace(/[ \t\n\r]+$/g,""),I=C.pop();Y<0?(M=t.substring(O+2).replace(/[\s<].*/,""),r.error("end tag name: "+M+" is not complete:"+I.tagName),Y=O+1+M.length):M.match(/\s</)&&(M=M.replace(/[\s<].*/,""),r.error("end tag name: "+M+" maybe not complete"),Y=O+1+M.length);var N=I.localNSMap,F=I.tagName==M,m=F||I.tagName&&I.tagName.toLowerCase()==M.toLowerCase();if(m){if(i.endElement(I.uri,I.localName,M),N)for(var te in N)Object.prototype.hasOwnProperty.call(N,te)&&i.endPrefixMapping(te);F||r.fatalError("end tag name: "+M+" is not match the current start tagName:"+I.tagName)}else C.push(I);Y++;break;case"?":v&&u(O),Y=T4(t,O,i);break;case"!":v&&u(O),Y=b4(t,O,i,r);break;default:v&&u(O);var ie=new fE,Te=C[C.length-1].currentNSMap,Y=y4(t,O,ie,Te,a,r),se=ie.length;if(!ie.closed&&v4(t,Y,ie.tagName,x)&&(ie.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),v&&se){for(var J=xv(v,{}),de=0;de<se;de++){var $e=ie[de];u($e.offset),$e.locator=xv(v,{})}i.locator=J,Sv(ie,i,Te)&&C.push(ie),i.locator=v}else Sv(ie,i,Te)&&C.push(ie);Il.isHTML(ie.uri)&&!ie.closed?Y=_4(t,Y,ie.tagName,a,i):Y++}}catch(Le){if(Le instanceof Wo)throw Le;r.error("element parse error: "+Le),Y=-1}Y>L?L=Y:o(Math.max(O,L)+1)}}function xv(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function y4(t,e,n,i,r,s){function a(v,C,x){n.attributeNames.hasOwnProperty(v)&&s.fatalError("Attribute "+v+" redefined"),n.addValue(v,C.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),x)}for(var o,u,c=++e,d=Uu;;){var p=t.charAt(c);switch(p){case"=":if(d===Ts)o=t.slice(e,c),d=ju;else if(d===so)d=ju;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===ju||d===Ts)if(d===Ts&&(s.warning('attribute value must after "="'),o=t.slice(e,c)),e=c+1,c=t.indexOf(p,e),c>0)u=t.slice(e,c),a(o,u,e-1),d=oo;else throw new Error("attribute value no end '"+p+"' match");else if(d==ao)u=t.slice(e,c),a(o,u,e),s.warning('attribute "'+o+'" missed start quot('+p+")!!"),e=c+1,d=oo;else throw new Error('attribute value must after "="');break;case"/":switch(d){case Uu:n.setTagName(t.slice(e,c));case oo:case $u:case Vc:d=Vc,n.closed=!0;case ao:case Ts:break;case so:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==Uu&&n.setTagName(t.slice(e,c)),c;case">":switch(d){case Uu:n.setTagName(t.slice(e,c));case oo:case $u:case Vc:break;case ao:case Ts:u=t.slice(e,c),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case so:d===so&&(u=o),d==ao?(s.warning('attribute "'+u+'" missed quot(")!'),a(o,u,e)):((!Il.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case ju:throw new Error("attribute value missed!!")}return c;case"":p=" ";default:if(p<=" ")switch(d){case Uu:n.setTagName(t.slice(e,c)),d=$u;break;case Ts:o=t.slice(e,c),d=so;break;case ao:var u=t.slice(e,c);s.warning('attribute "'+u+'" missed quot(")!!'),a(o,u,e);case oo:d=$u;break}else switch(d){case so:n.tagName,(!Il.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=c,d=Ts;break;case oo:s.warning('attribute space is required"'+o+'"!!');case $u:d=Ts,e=c;break;case ju:d=ao,e=c;break;case Vc:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function Sv(t,e,n){for(var i=t.tagName,r=null,p=t.length;p--;){var s=t[p],a=s.qName,o=s.value,v=a.indexOf(":");if(v>0)var u=s.prefix=a.slice(0,v),c=a.slice(v+1),d=u==="xmlns"&&c;else c=a,u=null,d=a==="xmlns"&&"";s.localName=c,d!==!1&&(r==null&&(r={},dE(n,n={})),n[d]=r[d]=o,s.uri=Il.XMLNS,e.startPrefixMapping(d,o))}for(var p=t.length;p--;){s=t[p];var u=s.prefix;u&&(u==="xml"&&(s.uri=Il.XML),u!=="xmlns"&&(s.uri=n[u||""]))}var v=i.indexOf(":");v>0?(u=t.prefix=i.slice(0,v),c=t.localName=i.slice(v+1)):(u=null,c=t.localName=i);var C=t.uri=n[u||""];if(e.startElement(C,c,i,t),t.closed){if(e.endElement(C,c,i),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=r,!0}function _4(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),s)}return e+1}function v4(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function dE(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function b4(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=E4(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],c=!1,d=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],d=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(d=a[3][0]));var p=a[o-1];return n.startDTD(u,c,d),n.endDTD(),p.index+p[0].length}}return-1}function T4(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function fE(){this.attributeNames={}}fE.prototype={setTagName:function(t){if(!Ev.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!Ev.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function E4(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}Wm.XMLReader=cE;Wm.ParseError=Wo;var x4=os,S4=Us,Cv=lE,hE=Wm,C4=S4.DOMImplementation,wv=x4.NAMESPACE,w4=hE.ParseError,A4=hE.XMLReader;function pE(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function gE(t){this.options=t||{locator:{}}}gE.prototype.parseFromString=function(t,e){var n=this.options,i=new A4,r=n.domBuilder||new Ql,s=n.errorHandler,a=n.locator,o=n.xmlns||{},u=/\/x?html?$/.test(e),c=u?Cv.HTML_ENTITIES:Cv.XML_ENTITIES;a&&r.setDocumentLocator(a),i.errorHandler=D4(s,r,a),i.domBuilder=n.domBuilder||r,u&&(o[""]=wv.HTML),o.xml=o.xml||wv.XML;var d=n.normalizeLineEndings||pE;return t&&typeof t=="string"?i.parse(d(t),o,c):i.errorHandler.error("invalid doc source"),r.doc};function D4(t,e,n){if(!t){if(e instanceof Ql)return e;t=e}var i={},r=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&r&&(o=t.length==2?function(u){t(a,u)}:t),i[a]=o&&function(u){o("[xmldom "+a+"]	"+u+hg(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function Ql(){this.cdata=!1}function uo(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Ql.prototype={startDocument:function(){this.doc=new C4().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,s=r.createElementNS(t,n||e),a=i.length;Wc(this,s),this.currentElement=s,this.locator&&uo(this.locator,s);for(var o=0;o<a;o++){var t=i.getURI(o),u=i.getValue(o),n=i.getQName(o),c=r.createAttributeNS(t,n);this.locator&&uo(i.getLocator(o),c),c.value=c.nodeValue=u,s.setAttributeNode(c)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&uo(this.locator,n),Wc(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=Av.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&uo(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=Av.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&uo(this.locator,i),Wc(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&uo(this.locator,r),Wc(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,hg(this.locator))},error:function(t){console.error("[xmldom error]	"+t,hg(this.locator))},fatalError:function(t){throw new w4(t,this.locator)}};function hg(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Av(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Ql.prototype[t]=function(){return null}});function Wc(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}wf.__DOMHandler=Ql;wf.normalizeLineEndings=pE;wf.DOMParser=gE;var k4=wf.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const Dv=t=>!!t&&typeof t=="object",Tn=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(i=>{Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):Dv(e[i])&&Dv(n[i])?e[i]=Tn(e[i],n[i]):e[i]=n[i]}),e),{}),mE=t=>Object.keys(t).map(e=>t[e]),L4=(t,e)=>{const n=[];for(let i=t;i<e;i++)n.push(i);return n},zo=t=>t.reduce((e,n)=>e.concat(n),[]),yE=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},I4=(t,e)=>t.reduce((n,i,r)=>(i[e]&&n.push(r),n),[]),P4=(t,e)=>mE(t.reduce((n,i)=>(i.forEach(r=>{n[e(r)]=r}),n),{}));var Go={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Pl=({baseUrl:t="",source:e="",range:n="",indexRange:i=""})=>{const r={uri:e,resolvedUri:Nm(t||"",e)};if(n||i){const a=(n||i).split("-");let o=W.BigInt?W.BigInt(a[0]):parseInt(a[0],10),u=W.BigInt?W.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),u<Number.MAX_SAFE_INTEGER&&typeof u=="bigint"&&(u=Number(u));let c;typeof u=="bigint"||typeof o=="bigint"?c=W.BigInt(u)-W.BigInt(o)+W.BigInt(1):c=u-o+1,typeof c=="bigint"&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),r.byterange={length:c,offset:o}}return r},O4=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=W.BigInt(t.offset)+W.BigInt(t.length)-W.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},kv=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),R4={static(t){const{duration:e,timescale:n=1,sourceDuration:i,periodDuration:r}=t,s=kv(t.endNumber),a=e/n;return typeof s=="number"?{start:0,end:s}:typeof r=="number"?{start:0,end:r/a}:{start:0,end:i/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:u=1/0}=t,c=kv(t.endNumber),d=(e+n)/1e3,p=i+a,C=d+o-p,x=Math.ceil(C*r/s),L=Math.floor((d-p-u)*r/s),O=Math.floor((d-p)*r/s);return{start:Math.max(0,L),end:typeof c=="number"?c:Math.min(x,O)}}},N4=t=>e=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:s=1}=t;return{number:s+e,duration:n/i,timeline:r,time:e*n}},zm=t=>{const{type:e,duration:n,timescale:i=1,periodDuration:r,sourceDuration:s}=t,{start:a,end:o}=R4[e](t),u=L4(a,o).map(N4(t));if(e==="static"){const c=u.length-1,d=typeof r=="number"?r:s;u[c].duration=d-n/i*c}return u},_E=t=>{const{baseUrl:e,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:s,presentationTime:a,number:o=0,duration:u}=t;if(!e)throw new Error(Go.NO_BASE_URL);const c=Pl({baseUrl:e,source:n.sourceURL,range:n.range}),d=Pl({baseUrl:e,source:e,indexRange:r});if(d.map=c,u){const p=zm(t);p.length&&(d.duration=p[0].duration,d.timeline=p[0].timeline)}else i&&(d.duration=i,d.timeline=s);return d.presentationTime=a||s,d.number=o,[d]},Gm=(t,e,n)=>{const i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,u=e.timescale,c=e.references.filter(O=>O.referenceType!==1),d=[],p=t.endList?"static":"dynamic",v=t.sidx.timeline;let C=v,x=t.mediaSequence||0,L;typeof e.firstOffset=="bigint"?L=W.BigInt(o)+e.firstOffset:L=o+e.firstOffset;for(let O=0;O<c.length;O++){const S=e.references[O],A=S.referencedSize,M=S.subsegmentDuration;let I;typeof L=="bigint"?I=L+W.BigInt(A)-W.BigInt(1):I=L+A-1;const N=`${L}-${I}`,m=_E({baseUrl:n,timescale:u,timeline:s,periodStart:v,presentationTime:C,number:x,duration:M,sourceDuration:r,indexRange:N,type:p})[0];i&&(m.map=i),d.push(m),typeof L=="bigint"?L+=W.BigInt(A):L+=A,C+=M/u,x++}return t.segments=d,t},M4=["AUDIO","SUBTITLES"],B4=1/60,vE=t=>P4(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),F4=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},Lv=t=>{let e=[];return t4(t,M4,(n,i,r,s)=>{e=e.concat(n.playlists||[])}),e},Iv=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,i)=>{n.number=t.mediaSequence+i})},U4=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(i=>{i.discontinuitySequence=n.findIndex(function({timeline:u}){return u===i.timeline});const r=F4(t,i.attributes.NAME);if(!r||i.sidx)return;const s=i.segments[0],a=r.segments.findIndex(function(u){return Math.abs(u.presentationTime-s.presentationTime)<B4});if(a===-1){Iv({playlist:i,mediaSequence:r.mediaSequence+r.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!r.segments.length&&i.timeline>r.timeline||r.segments.length&&i.timeline>r.segments[r.segments.length-1].timeline)&&i.discontinuitySequence--;return}r.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),Iv({playlist:i,mediaSequence:r.segments[a].number})})},j4=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(Lv(t)),i=e.playlists.concat(Lv(e));return e.timelineStarts=vE([t.timelineStarts,e.timelineStarts]),U4({oldPlaylists:n,newPlaylists:i,timelineStarts:e.timelineStarts}),e},Af=t=>t&&t.uri+"-"+O4(t.byterange),zh=t=>{const e=t.reduce(function(i,r){return i[r.attributes.baseUrl]||(i[r.attributes.baseUrl]=[]),i[r.attributes.baseUrl].push(r),i},{});let n=[];return Object.values(e).forEach(i=>{const r=mE(i.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(r)}),n.map(i=>(i.discontinuityStarts=I4(i.segments||[],"discontinuity"),i))},Km=(t,e)=>{const n=Af(t.sidx),i=n&&e[n]&&e[n].sidx;return i&&Gm(t,i,t.sidx.resolvedUri),t},$4=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=Km(t[n],e);return t},H4=({attributes:t,segments:e,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:r,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:i,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},q4=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},V4=(t,e={},n=!1)=>{let i;const r=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",u=a.attributes.lang||"";let c=a.attributes.label||"main";if(u&&!a.attributes.label){const p=o?` (${o})`:"";c=`${a.attributes.lang}${p}`}s[c]||(s[c]={language:u,autoselect:!0,default:o==="main",playlists:[],uri:""});const d=Km(H4(a,n),e);return s[c].playlists.push(d),typeof i>"u"&&o==="main"&&(i=a,i.default=!0),s},{});if(!i){const s=Object.keys(r)[0];r[s].default=!0}return r},W4=(t,e={})=>t.reduce((n,i)=>{const r=i.attributes.label||i.attributes.lang||"text";return n[r]||(n[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),n[r].playlists.push(Km(q4(i),e)),n},{}),z4=t=>t.reduce((e,n)=>(n&&n.forEach(i=>{const{channel:r,language:s}=i;e[s]={autoselect:!1,default:!1,instreamId:r,language:s},i.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[s].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[s]["3D"]=i["3D"])}),e),{}),G4=({attributes:t,segments:e,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(r.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(r.contentProtection=t.contentProtection),t.serviceLocation&&(r.attributes.serviceLocation=t.serviceLocation),n&&(r.sidx=n),r},K4=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",X4=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",Y4=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",Q4=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:i}){return i===n.timeline}),n.segments&&n.segments.forEach((i,r)=>{i.number=r})})},Pv=t=>t?Object.keys(t).reduce((e,n)=>{const i=t[n];return e.concat(i.playlists)},[]):[],J4=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:u,minimumUpdatePeriod:c}=t[0].attributes,d=zh(t.filter(K4)).map(G4),p=zh(t.filter(X4)),v=zh(t.filter(Y4)),C=t.map(I=>I.attributes.captionServices).filter(Boolean),x={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:$4(d,i)};c>=0&&(x.minimumUpdatePeriod=c*1e3),e&&(x.locations=e),n&&(x.contentSteering=n),o==="dynamic"&&(x.suggestedPresentationDelay=u),s&&s.length>0&&(x.eventStream=s);const L=x.playlists.length===0,O=p.length?V4(p,i,L):null,S=v.length?W4(v,i):null,A=d.concat(Pv(O),Pv(S)),M=A.map(({timelineStarts:I})=>I);return x.timelineStarts=vE(M),Q4(A,x.timelineStarts),O&&(x.mediaGroups.AUDIO.audio=O),S&&(x.mediaGroups.SUBTITLES.subs=S),C.length&&(x.mediaGroups["CLOSED-CAPTIONS"].cc=z4(C)),r?j4({oldManifest:r,newManifest:x}):x},Z4=(t,e,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:u=0}=t,c=(i+r)/1e3,d=s+o,v=c+u-d;return Math.ceil((v*a-e)/n)},bE=(t,e)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:u}=t,c=[];let d=-1;for(let p=0;p<e.length;p++){const v=e[p],C=v.d,x=v.r||0,L=v.t||0;d<0&&(d=L),L&&L>d&&(d=L);let O;if(x<0){const M=p+1;M===e.length?n==="dynamic"&&i>0&&r.indexOf("$Number$")>0?O=Z4(t,d,C):O=(s*a-d)/C:O=(e[M].t-d)/C}else O=x+1;const S=o+c.length+O;let A=o+c.length;for(;A<S;)c.push({number:A,duration:C/a,time:d,timeline:u}),d+=C,A++}return c},e8=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,t8=t=>(e,n,i,r)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(i?r=parseInt(r,10):r=1,s.length>=r)?s:`${new Array(r-s.length+1).join("0")}${s}`},Ov=(t,e)=>t.replace(e8,t8(e)),n8=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?zm(t):bE(t,e),i8=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=t,r=Pl({baseUrl:t.baseUrl,source:Ov(i.sourceURL,n),range:i.range});return n8(t,e).map(a=>{n.Number=a.number,n.Time=a.time;const o=Ov(t.media||"",n),u=t.timescale||1,c=t.presentationTimeOffset||0,d=t.periodStart+(a.time-c)/u;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Nm(t.baseUrl||"",o),map:r,number:a.number,presentationTime:d}})},r8=(t,e)=>{const{baseUrl:n,initialization:i={}}=t,r=Pl({baseUrl:n,source:i.sourceURL,range:i.range}),s=Pl({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=r,s},s8=(t,e)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=t;if(!n&&!e||n&&e)throw new Error(Go.SEGMENT_TIME_UNSPECIFIED);const s=i.map(u=>r8(t,u));let a;return n&&(a=zm(t)),e&&(a=bE(t,e)),a.map((u,c)=>{if(s[c]){const d=s[c],p=t.timescale||1,v=t.presentationTimeOffset||0;return d.timeline=u.timeline,d.duration=u.duration,d.number=u.number,d.presentationTime=r+(u.time-v)/p,d}}).filter(u=>u)},a8=({attributes:t,segmentInfo:e})=>{let n,i;e.template?(i=i8,n=Tn(t,e.template)):e.base?(i=_E,n=Tn(t,e.base)):e.list&&(i=s8,n=Tn(t,e.list));const r={attributes:t};if(!i)return r;const s=i(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return r.attributes=n,r.segments=s,e.base&&n.indexRange&&(r.sidx=s[0],r.segments=[]),r},o8=t=>t.map(a8),Xt=(t,e)=>yE(t.childNodes).filter(({tagName:n})=>n===e),Jl=t=>t.textContent.trim(),u8=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),lo=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[u,c,d,p,v,C]=o.slice(1);return parseFloat(u||0)*31536e3+parseFloat(c||0)*2592e3+parseFloat(d||0)*86400+parseFloat(p||0)*3600+parseFloat(v||0)*60+parseFloat(C||0)},l8=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),Rv={mediaPresentationDuration(t){return lo(t)},availabilityStartTime(t){return l8(t)/1e3},minimumUpdatePeriod(t){return lo(t)},suggestedPresentationDelay(t){return lo(t)},type(t){return t},timeShiftBufferDepth(t){return lo(t)},start(t){return lo(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return u8(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?lo(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},un=t=>t&&t.attributes?yE(t.attributes).reduce((e,n)=>{const i=Rv[n.name]||Rv.DEFAULT;return e[n.name]=i(n.value),e},{}):{},c8={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Df=(t,e)=>e.length?zo(t.map(function(n){return e.map(function(i){const r=Jl(i),s=Nm(n.baseUrl,r),a=Tn(un(i),{baseUrl:s});return s!==r&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,Xm=t=>{const e=Xt(t,"SegmentTemplate")[0],n=Xt(t,"SegmentList")[0],i=n&&Xt(n,"SegmentURL").map(p=>Tn({tag:"SegmentURL"},un(p))),r=Xt(t,"SegmentBase")[0],s=n||e,a=s&&Xt(s,"SegmentTimeline")[0],o=n||r||e,u=o&&Xt(o,"Initialization")[0],c=e&&un(e);c&&u?c.initialization=u&&un(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const d={template:c,segmentTimeline:a&&Xt(a,"S").map(p=>un(p)),list:n&&Tn(un(n),{segmentUrls:i,initialization:un(u)}),base:r&&Tn(un(r),{initialization:un(u)})};return Object.keys(d).forEach(p=>{d[p]||delete d[p]}),d},d8=(t,e,n)=>i=>{const r=Xt(i,"BaseURL"),s=Df(e,r),a=Tn(t,un(i)),o=Xm(i);return s.map(u=>({segmentInfo:Tn(n,o),attributes:Tn(a,u)}))},f8=t=>t.reduce((e,n)=>{const i=un(n);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const r=c8[i.schemeIdUri];if(r){e[r]={attributes:i};const s=Xt(n,"cenc:pssh")[0];if(s){const a=Jl(s);e[r].pssh=a&&N2(a)}}return e},{}),h8=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let i,r;return r=n,/^CC\d=/.test(n)?[i,r]=n.split("="):/^CC\d$/.test(n)&&(i=n),{channel:i,language:r}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[r,s=""]=n.split("=");i.channel=r,i.language=n,s.split(",").forEach(a=>{const[o,u]=a.split(":");o==="lang"?i.language=u:o==="er"?i.easyReader=Number(u):o==="war"?i.aspectRatio=Number(u):o==="3D"&&(i["3D"]=Number(u))})}else i.language=n;return i.channel&&(i.channel="SERVICE"+i.channel),i})},p8=t=>zo(Xt(t.node,"EventStream").map(e=>{const n=un(e),i=n.schemeIdUri;return Xt(e,"Event").map(r=>{const s=un(r),a=s.presentationTime||0,o=n.timescale||1,u=s.duration||0,c=a/o+t.attributes.start;return{schemeIdUri:i,value:n.value,id:s.id,start:c,end:c+u/o,messageData:Jl(r)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),g8=(t,e,n)=>i=>{const r=un(i),s=Df(e,Xt(i,"BaseURL")),a=Xt(i,"Role")[0],o={role:un(a)};let u=Tn(t,r,o);const c=Xt(i,"Accessibility")[0],d=h8(un(c));d&&(u=Tn(u,{captionServices:d}));const p=Xt(i,"Label")[0];if(p&&p.childNodes.length){const O=p.childNodes[0].nodeValue.trim();u=Tn(u,{label:O})}const v=f8(Xt(i,"ContentProtection"));Object.keys(v).length&&(u=Tn(u,{contentProtection:v}));const C=Xm(i),x=Xt(i,"Representation"),L=Tn(n,C);return zo(x.map(d8(u,s,L)))},m8=(t,e)=>(n,i)=>{const r=Df(e,Xt(n.node,"BaseURL")),s=Tn(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=Xt(n.node,"AdaptationSet"),o=Xm(n.node);return zo(a.map(g8(s,r,o)))},y8=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=Tn({serverURL:Jl(t[0])},un(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},_8=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,v8=(t,e={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=e,a=Xt(t,"Period");if(!a.length)throw new Error(Go.INVALID_NUMBER_OF_PERIOD);const o=Xt(t,"Location"),u=un(t),c=Df([{baseUrl:n}],Xt(t,"BaseURL")),d=Xt(t,"ContentSteering");u.type=u.type||"static",u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=i,u.clientOffset=r,o.length&&(u.locations=o.map(Jl));const p=[];return a.forEach((v,C)=>{const x=un(v),L=p[C-1];x.start=_8({attributes:x,priorPeriodAttributes:L?L.attributes:null,mpdType:u.type}),p.push({node:v,attributes:x})}),{locations:u.locations,contentSteeringInfo:y8(d,s),representationInfo:zo(p.map(m8(u,c))),eventStream:zo(p.map(p8))}},TE=t=>{if(t==="")throw new Error(Go.DASH_EMPTY_MANIFEST);const e=new k4;let n,i;try{n=e.parseFromString(t,"application/xml"),i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(Go.DASH_INVALID_XML);return i},b8=t=>{const e=Xt(t,"UTCTiming")[0];if(!e)return null;const n=un(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Go.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},T8=(t,e={})=>{const n=v8(TE(t),e),i=o8(n.representationInfo);return J4({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},E8=t=>b8(TE(t));var EE=Math.pow(2,32),x8=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*EE+e.getUint32(4)},S8={getUint64:x8,MAX_UINT32:EE},Nv=S8.getUint64,C8=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=Nv(t.subarray(i)),n.firstOffset=Nv(t.subarray(i+8)),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},w8=C8;const A8=as(w8);var D8=ze([73,68,51]),k8=function(e,n){n===void 0&&(n=0),e=ze(e);var i=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],s=(i&16)>>4;return s?r+20:r+10},Ju=function t(e,n){return n===void 0&&(n=0),e=ze(e),e.length-n<10||!Kt(e,D8,{offset:n})?n:(n+=k8(e,n),t(e,n))},Mv=function(e){return typeof e=="string"?j2(e):e},L8=function(e){return Array.isArray(e)?e.map(function(n){return Mv(n)}):[Mv(e)]},I8=function t(e,n,i){i===void 0&&(i=!1),n=L8(n),e=ze(e);var r=[];if(!n.length)return r;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var u=s+a;if(u>e.length){if(i)break;u=e.length}var c=e.subarray(s+8,u);Kt(o,n[0])&&(n.length===1?r.push(c):r.push.apply(r,t(c,n.slice(1),i))),s=u}return r},zc={EBML:ze([26,69,223,163]),DocType:ze([66,130]),Segment:ze([24,83,128,103]),SegmentInfo:ze([21,73,169,102]),Tracks:ze([22,84,174,107]),Track:ze([174]),TrackNumber:ze([215]),DefaultDuration:ze([35,227,131]),TrackEntry:ze([174]),TrackType:ze([131]),FlagDefault:ze([136]),CodecID:ze([134]),CodecPrivate:ze([99,162]),VideoTrack:ze([224]),AudioTrack:ze([225]),Cluster:ze([31,67,182,117]),Timestamp:ze([231]),TimestampScale:ze([42,215,177]),BlockGroup:ze([160]),BlockDuration:ze([155]),Block:ze([161]),SimpleBlock:ze([163])},pg=[128,64,32,16,8,4,2,1],P8=function(e){for(var n=1,i=0;i<pg.length&&!(e&pg[i]);i++)n++;return n},Ld=function(e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var s=P8(e[n]),a=e.subarray(n,n+s);return i&&(a=Array.prototype.slice.call(e,n,n+s),a[0]^=pg[s-1]),{length:s,value:J3(a,{signed:r}),bytes:a}},Bv=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?Z3(e):e},O8=function(e){return Array.isArray(e)?e.map(function(n){return Bv(n)}):[Bv(e)]},R8=function t(e,n,i){if(i>=n.length)return n.length;var r=Ld(n,i,!1);if(Kt(e.bytes,r.bytes))return i;var s=Ld(n,i+r.length);return t(e,n,i+s.length+s.value+r.length)},Fv=function t(e,n){n=O8(n),e=ze(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var s=Ld(e,r,!1),a=Ld(e,r+s.length),o=r+s.length+a.length;a.value===127&&(a.value=R8(s,e,o),a.value!==e.length&&(a.value-=o));var u=o+a.value>e.length?e.length:o+a.value,c=e.subarray(o,u);Kt(n[0],s.bytes)&&(n.length===1?i.push(c):i=i.concat(t(c,n.slice(1))));var d=s.length+a.length+c.length;r+=d}return i},N8=ze([0,0,0,1]),M8=ze([0,0,1]),B8=ze([0,0,3]),F8=function(e){for(var n=[],i=1;i<e.length-2;)Kt(e.subarray(i,i+3),B8)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var r=e.length-n.length,s=new Uint8Array(r),a=0;for(i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),s[i]=e[a];return s},xE=function(e,n,i,r){r===void 0&&(r=1/0),e=ze(e),i=[].concat(i);for(var s=0,a,o=0;s<e.length&&(o<r||a);){var u=void 0;if(Kt(e.subarray(s),N8)?u=4:Kt(e.subarray(s),M8)&&(u=3),!u){s++;continue}if(o++,a)return F8(e.subarray(a,s));var c=void 0;n==="h264"?c=e[s+u]&31:n==="h265"&&(c=e[s+u]>>1&63),i.indexOf(c)!==-1&&(a=s+u),s+=u+(n==="h264"?1:2)}return e.subarray(0,0)},U8=function(e,n,i){return xE(e,"h264",n,i)},j8=function(e,n,i){return xE(e,"h265",n,i)},zn={webm:ze([119,101,98,109]),matroska:ze([109,97,116,114,111,115,107,97]),flac:ze([102,76,97,67]),ogg:ze([79,103,103,83]),ac3:ze([11,119]),riff:ze([82,73,70,70]),avi:ze([65,86,73]),wav:ze([87,65,86,69]),"3gp":ze([102,116,121,112,51,103]),mp4:ze([102,116,121,112]),fmp4:ze([115,116,121,112]),mov:ze([102,116,121,112,113,116]),moov:ze([109,111,111,118]),moof:ze([109,111,111,102])},Ko={aac:function(e){var n=Ju(e);return Kt(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Ju(e);return Kt(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=Fv(e,[zc.EBML,zc.DocType])[0];return Kt(n,zn.webm)},mkv:function(e){var n=Fv(e,[zc.EBML,zc.DocType])[0];return Kt(n,zn.matroska)},mp4:function(e){if(Ko["3gp"](e)||Ko.mov(e))return!1;if(Kt(e,zn.mp4,{offset:4})||Kt(e,zn.fmp4,{offset:4})||Kt(e,zn.moof,{offset:4})||Kt(e,zn.moov,{offset:4}))return!0},mov:function(e){return Kt(e,zn.mov,{offset:4})},"3gp":function(e){return Kt(e,zn["3gp"],{offset:4})},ac3:function(e){var n=Ju(e);return Kt(e,zn.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Ju(e);return Kt(e,zn.flac,{offset:n})},ogg:function(e){return Kt(e,zn.ogg)},avi:function(e){return Kt(e,zn.riff)&&Kt(e,zn.avi,{offset:8})},wav:function(e){return Kt(e,zn.riff)&&Kt(e,zn.wav,{offset:8})},h264:function(e){return U8(e,7,3).length},h265:function(e){return j8(e,[32,33],3).length}},gg=Object.keys(Ko).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);gg.forEach(function(t){var e=Ko[t];Ko[t]=function(n){return e(ze(n))}});var $8=Ko,Ym=function(e){e=ze(e);for(var n=0;n<gg.length;n++){var i=gg[n];if($8[i](e))return i}return""},H8=function(e){return I8(e,["moof"]).length>0},Qm=9e4,Jm,Zm,kf,e0,SE,CE,wE;Jm=function(t){return t*Qm};Zm=function(t,e){return t*e};kf=function(t){return t/Qm};e0=function(t,e){return t/e};SE=function(t,e){return Jm(e0(t,e))};CE=function(t,e){return Zm(kf(t),e)};wE=function(t,e,n){return kf(n?t:t-e)};var Id={ONE_SECOND_IN_TS:Qm,secondsToVideoTs:Jm,secondsToAudioTs:Zm,videoTsToSeconds:kf,audioTsToSeconds:e0,audioTsToVideoTs:SE,videoTsToAudioTs:CE,metadataTsToSeconds:wE};/**
 * @license
 * Video.js 8.6.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var AE="8.6.1";const Gr={},Rs=function(t,e){return Gr[t]=Gr[t]||[],e&&(Gr[t]=Gr[t].concat(e)),Gr[t]},q8=function(t,e){Rs(t,e)},DE=function(t,e){const n=Rs(t).indexOf(e);return n<=-1?!1:(Gr[t]=Gr[t].slice(),Gr[t].splice(n,1),!0)},V8=function(t,e){Rs(t,[].concat(e).map(n=>{const i=(...r)=>(DE(t,i),n(...r));return i}))},Pd={prefixed:!0},nd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Uv=nd[0];let Zu;for(let t=0;t<nd.length;t++)if(nd[t][1]in we){Zu=nd[t];break}if(Zu){for(let t=0;t<Zu.length;t++)Pd[Uv[t]]=Zu[t];Pd.prefixed=Zu[0]!==Uv[0]}let ci=[];const W8=(t,e,n)=>(i,r,s)=>{const a=e.levels[r],o=new RegExp(`^(${a})$`);let u=t;if(i!=="log"&&s.unshift(i.toUpperCase()+":"),n&&(u=`%c${t}`,s.unshift(n)),s.unshift(u+":"),ci){ci.push([].concat(s));const d=ci.length-1e3;ci.splice(0,d>0?d:0)}if(!W.console)return;let c=W.console[i];!c&&i==="debug"&&(c=W.console.info||W.console.log),!(!c||!a||!o.test(i))&&c[Array.isArray(s)?"apply":"call"](W.console,s)};function mg(t,e=":",n=""){let i="info",r;const s=function(...a){r("log",i,a)};return r=W8(t,s,n),s.createLogger=(a,o,u)=>{const c=o!==void 0?o:e,d=u!==void 0?u:n,p=`${t} ${c} ${a}`;return mg(p,c,d)},s.createNewLogger=(a,o,u)=>mg(a,o,u),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);i=a}return i},s.history=()=>ci?[].concat(ci):[],s.history.filter=a=>(ci||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{ci&&(ci.length=0)},s.history.disable=()=>{ci!==null&&(ci.length=0,ci=null)},s.history.enable=()=>{ci===null&&(ci=[])},s.error=(...a)=>r("error",i,a),s.warn=(...a)=>r("warn",i,a),s.debug=(...a)=>r("debug",i,a),s}const ct=mg("VIDEOJS"),kE=ct.createLogger,z8=Object.prototype.toString,LE=function(t){return Lr(t)?Object.keys(t):[]};function ko(t,e){LE(t).forEach(n=>e(t[n],n))}function IE(t,e,n=0){return LE(t).reduce((i,r)=>e(i,t[r],r),n)}function Lr(t){return!!t&&typeof t=="object"}function Xo(t){return Lr(t)&&z8.call(t)==="[object Object]"&&t.constructor===Object}function Mt(...t){const e={};return t.forEach(n=>{n&&ko(n,(i,r)=>{if(!Xo(i)){e[r]=i;return}Xo(e[r])||(e[r]={}),e[r]=Mt(e[r],i)})}),e}function PE(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];e.push(i)}return e}function Lf(t,e,n,i=!0){const r=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return r(a),a}};return i&&(s.set=r),Object.defineProperty(t,e,s)}var G8=Object.freeze({__proto__:null,each:ko,reduce:IE,isObject:Lr,isPlain:Xo,merge:Mt,values:PE,defineLazyProperty:Lf});let t0=!1,OE=null,Ir=!1,RE,NE=!1,Lo=!1,Io=!1,Pr=!1,n0=null,If=null,ME=null,Od=!1,Pf=!1,Rd=!1,Of=!1;const Ol=!!(uu()&&("ontouchstart"in W||W.navigator.maxTouchPoints||W.DocumentTouch&&W.document instanceof W.DocumentTouch)),co=W.navigator&&W.navigator.userAgentData;co&&(Ir=co.platform==="Android",Lo=!!co.brands.find(t=>t.brand==="Microsoft Edge"),Io=!!co.brands.find(t=>t.brand==="Chromium"),Pr=!Lo&&Io,n0=If=(co.brands.find(t=>t.brand==="Chromium")||{}).version||null,Pf=co.platform==="Windows");if(!Io){const t=W.navigator&&W.navigator.userAgent||"";t0=/iPod/i.test(t),OE=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Ir=/Android/i.test(t),RE=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return n&&i?parseFloat(e[1]+"."+e[2]):n||null}(),NE=/Firefox/i.test(t),Lo=/Edg/i.test(t),Io=/Chrome/i.test(t)||/CriOS/i.test(t),Pr=!Lo&&Io,n0=If=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),ME=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),Od=/Safari/i.test(t)&&!Pr&&!Ir&&!Lo,Pf=/Windows/i.test(t),Rd=/iPad/i.test(t)||Od&&Ol&&!/iPhone/i.test(t),Of=/iPhone/i.test(t)&&!Rd}const ei=Of||Rd||t0,Rf=(Od||ei)&&!Pr;var K8=Object.freeze({__proto__:null,get IS_IPOD(){return t0},get IOS_VERSION(){return OE},get IS_ANDROID(){return Ir},get ANDROID_VERSION(){return RE},get IS_FIREFOX(){return NE},get IS_EDGE(){return Lo},get IS_CHROMIUM(){return Io},get IS_CHROME(){return Pr},get CHROMIUM_VERSION(){return n0},get CHROME_VERSION(){return If},get IE_VERSION(){return ME},get IS_SAFARI(){return Od},get IS_WINDOWS(){return Pf},get IS_IPAD(){return Rd},get IS_IPHONE(){return Of},TOUCH_ENABLED:Ol,IS_IOS:ei,IS_ANY_SAFARI:Rf});function jv(t){return typeof t=="string"&&!!t.trim()}function X8(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function uu(){return we===W.document}function lu(t){return Lr(t)&&t.nodeType===1}function BE(){try{return W.parent!==W.self}catch{return!0}}function FE(t){return function(e,n){if(!jv(e))return we[t](null);jv(n)&&(n=we.querySelector(n));const i=lu(n)?n:we;return i[t]&&i[t](e)}}function it(t="div",e={},n={},i){const r=we.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?js(r,a):(r[s]!==a||s==="tabIndex")&&(r[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){r.setAttribute(s,n[s])}),i&&i0(r,i),r}function js(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function yg(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function cl(t,e){return X8(e),t.classList.contains(e)}function Ia(t,...e){return t.classList.add(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t}function Nf(t,...e){return t?(t.classList.remove(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t):(ct.warn("removeClass was called with an element that doesn't exist"),null)}function UE(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(i=>t.classList.toggle(i,n)),t}function jE(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const i=e[n];i===null||typeof i>"u"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function Ss(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const i=t.attributes;for(let r=i.length-1;r>=0;r--){const s=i[r].name;let a=i[r].value;n.includes(s)&&(a=a!==null),e[s]=a}}return e}function $E(t,e){return t.getAttribute(e)}function Yo(t,e,n){t.setAttribute(e,n)}function Mf(t,e){t.removeAttribute(e)}function HE(){we.body.focus(),we.onselectstart=function(){return!1}}function qE(){we.onselectstart=function(){return!0}}function Qo(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Jo(t,"height"))),n.width||(n.width=parseFloat(Jo(t,"width"))),n}}function Rl(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let i=0,r=0;for(;t.offsetParent&&t!==we[Pd.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function Bf(t,e){const n={x:0,y:0};if(ei){let d=t;for(;d&&d.nodeName.toLowerCase()!=="html";){const p=Jo(d,"transform");if(/^matrix/.test(p)){const v=p.slice(7,-1).split(/,\s/).map(Number);n.x+=v[4],n.y+=v[5]}else if(/^matrix3d/.test(p)){const v=p.slice(9,-1).split(/,\s/).map(Number);n.x+=v[12],n.y+=v[13]}d=d.parentNode}}const i={},r=Rl(e.target),s=Rl(t),a=s.width,o=s.height;let u=e.offsetY-(s.top-r.top),c=e.offsetX-(s.left-r.left);return e.changedTouches&&(c=e.changedTouches[0].pageX-s.left,u=e.changedTouches[0].pageY+s.top,ei&&(c-=n.x,u-=n.y)),i.y=1-Math.max(0,Math.min(1,u/o)),i.x=Math.max(0,Math.min(1,c/a)),i}function VE(t){return Lr(t)&&t.nodeType===3}function Ff(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function WE(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),lu(e)||VE(e))return e;if(typeof e=="string"&&/\S/.test(e))return we.createTextNode(e)}).filter(e=>e)}function i0(t,e){return WE(e).forEach(n=>t.appendChild(n)),t}function zE(t,e){return i0(Ff(t),e)}function Nl(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Ns=FE("querySelector"),GE=FE("querySelectorAll");function Jo(t,e){if(!t||!e)return"";if(typeof W.getComputedStyle=="function"){let n;try{n=W.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function KE(t){[...we.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(r=>r.cssText).join(""),i=we.createElement("style");i.textContent=n,t.document.head.appendChild(i)}catch{const i=we.createElement("link");i.rel="stylesheet",i.type=e.type,i.media=e.media.mediaText,i.href=e.href,t.document.head.appendChild(i)}})}var XE=Object.freeze({__proto__:null,isReal:uu,isEl:lu,isInFrame:BE,createEl:it,textContent:js,prependTo:yg,hasClass:cl,addClass:Ia,removeClass:Nf,toggleClass:UE,setAttributes:jE,getAttributes:Ss,getAttribute:$E,setAttribute:Yo,removeAttribute:Mf,blockTextSelection:HE,unblockTextSelection:qE,getBoundingClientRect:Qo,findPosition:Rl,getPointerPosition:Bf,isTextNode:VE,emptyEl:Ff,normalizeContent:WE,appendContent:i0,insertContent:zE,isSingleLeftClick:Nl,$:Ns,$$:GE,computedStyle:Jo,copyStyleSheetsToWindow:KE});let YE=!1,_g;const Y8=function(){if(_g.options.autoSetup===!1)return;const t=Array.prototype.slice.call(we.getElementsByTagName("video")),e=Array.prototype.slice.call(we.getElementsByTagName("audio")),n=Array.prototype.slice.call(we.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(let r=0,s=i.length;r<s;r++){const a=i[r];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&_g(a);else{vg(1);break}}else YE||vg(1)};function vg(t,e){uu()&&(e&&(_g=e),W.setTimeout(Y8,t))}function bg(){YE=!0,W.removeEventListener("load",bg)}uu()&&(we.readyState==="complete"?bg():W.addEventListener("load",bg));const QE=function(t){const e=we.createElement("style");return e.className=t,e},JE=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Qn=new WeakMap;const Q8=3;let J8=Q8;function Or(){return J8++}function $v(t,e){if(!Qn.has(t))return;const n=Qn.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Qn.delete(t)}function r0(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function Uf(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const i=t||W.event;t={};for(const r in i)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||we),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const r=we.documentElement,s=we.body;t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Gc;const Z8=function(){if(typeof Gc!="boolean"){Gc=!1;try{const t=Object.defineProperty({},"passive",{get(){Gc=!0}});W.addEventListener("test",null,t),W.removeEventListener("test",null,t)}catch{}}return Gc},eM=["touchstart","touchmove"];function Pi(t,e,n){if(Array.isArray(e))return r0(Pi,t,e,n);Qn.has(t)||Qn.set(t,{});const i=Qn.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Or()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(r,s){if(i.disabled)return;r=Uf(r);const a=i.handlers[r.type];if(a){const o=a.slice(0);for(let u=0,c=o.length;u<c&&!r.isImmediatePropagationStopped();u++)try{o[u].call(t,r,s)}catch(d){ct.error(d)}}}),i.handlers[e].length===1)if(t.addEventListener){let r=!1;Z8()&&eM.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Bn(t,e,n){if(!Qn.has(t))return;const i=Qn.get(t);if(!i.handlers)return;if(Array.isArray(e))return r0(Bn,t,e,n);const r=function(a,o){i.handlers[o]=[],$v(a,o)};if(e===void 0){for(const a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(t,a);return}const s=i.handlers[e];if(s){if(!n){r(t,e);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);$v(t,e)}}function cu(t,e,n){const i=Qn.has(t)?Qn.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Uf(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)cu.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Qn.has(e.target)||Qn.set(e.target,{});const s=Qn.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function jf(t,e,n){if(Array.isArray(e))return r0(jf,t,e,n);const i=function(){Bn(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Or(),Pi(t,e,i)}function s0(t,e,n){const i=function(){Bn(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Or(),Pi(t,e,i)}var tM=Object.freeze({__proto__:null,fixEvent:Uf,on:Pi,off:Bn,trigger:cu,one:jf,any:s0});const Wi=30,Bt=function(t,e,n){e.guid||(e.guid=Or());const i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},Rr=function(t,e){let n=W.performance.now();return function(...r){const s=W.performance.now();s-n>=e&&(t(...r),n=s)}},ZE=function(t,e,n,i=W){let r;const s=()=>{i.clearTimeout(r),r=null},a=function(){const o=this,u=arguments;let c=function(){r=null,c=null,n||t.apply(o,u)};!r&&n&&t.apply(o,u),i.clearTimeout(r),r=i.setTimeout(c,e)};return a.cancel=s,a};var nM=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Wi,bind_:Bt,throttle:Rr,debounce:ZE});let Hu;class zi{on(e,n){const i=this.addEventListener;this.addEventListener=()=>{},Pi(this,e,n),this.addEventListener=i}off(e,n){Bn(this,e,n)}one(e,n){const i=this.addEventListener;this.addEventListener=()=>{},jf(this,e,n),this.addEventListener=i}any(e,n){const i=this.addEventListener;this.addEventListener=()=>{},s0(this,e,n),this.addEventListener=i}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=Uf(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),cu(this,e)}queueTrigger(e){Hu||(Hu=new Map);const n=e.type||e;let i=Hu.get(this);i||(i=new Map,Hu.set(this,i));const r=i.get(n);i.delete(n),W.clearTimeout(r);const s=W.setTimeout(()=>{i.delete(n),i.size===0&&(i=null,Hu.delete(this)),this.trigger(e)},0);i.set(n,s)}}zi.prototype.allowedEvents_={};zi.prototype.addEventListener=zi.prototype.on;zi.prototype.removeEventListener=zi.prototype.off;zi.prototype.dispatchEvent=zi.prototype.trigger;const $f=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Yr=t=>t instanceof zi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),iM=(t,e)=>{Yr(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Tg=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Nd=(t,e,n)=>{if(!t||!t.nodeName&&!Yr(t))throw new Error(`Invalid target for ${$f(e)}#${n}; must be a DOM node or evented object.`)},ex=(t,e,n)=>{if(!Tg(t))throw new Error(`Invalid event type for ${$f(e)}#${n}; must be a non-empty string or array.`)},tx=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${$f(e)}#${n}; must be a function.`)},Gh=(t,e,n)=>{const i=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let r,s,a;return i?(r=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):[r,s,a]=e,Nd(r,t,n),ex(s,t,n),tx(a,t,n),a=Bt(t,a),{isTargetingSelf:i,target:r,type:s,listener:a}},pa=(t,e,n,i)=>{Nd(t,t,e),t.nodeName?tM[e](t,n,i):t[e](n,i)},rM={on(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=Gh(this,t,"on");if(pa(n,"on",i,r),!e){const s=()=>this.off(n,i,r);s.guid=r.guid;const a=()=>this.off("dispose",s);a.guid=r.guid,pa(this,"on","dispose",s),pa(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=Gh(this,t,"one");if(e)pa(n,"one",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,pa(n,"one",i,s)}},any(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=Gh(this,t,"any");if(e)pa(n,"any",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,pa(n,"any",i,s)}},off(t,e,n){if(!t||Tg(t))Bn(this.eventBusEl_,t,e);else{const i=t,r=e;Nd(i,this,"off"),ex(r,this,"off"),tx(n,this,"off"),n=Bt(this,n),this.off("dispose",n),i.nodeName?(Bn(i,r,n),Bn(i,"dispose",n)):Yr(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(t,e){Nd(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!Tg(n))throw new Error(`Invalid event type for ${$f(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return cu(this.eventBusEl_,t,e)}};function a0(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=it("span",{className:"vjs-event-bus"});return Object.assign(t,rM),t.eventedCallbacks&&t.eventedCallbacks.forEach(i=>{i()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&Qn.has(i)&&Qn.delete(i)}),W.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const sM={state:{},setState(t){typeof t=="function"&&(t=t());let e;return ko(t,(n,i)=>{this.state[i]!==n&&(e=e||{},e[i]={from:this.state[i],to:n}),this.state[i]=n}),e&&Yr(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function nx(t,e){return Object.assign(t,sM),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Yr(t)&&t.on("statechanged",t.handleStateChanged),t}const dl=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},tn=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},ix=function(t,e){return tn(t)===tn(e)};var aM=Object.freeze({__proto__:null,toLowerCase:dl,toTitleCase:tn,titleCaseEquals:ix});class ye{constructor(e,n,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Mt({},this.options_),n=this.options_=Mt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const r=e&&e.id&&e.id()||"no_player";this.id_=`${r}_component_${Or()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(r=>this.addClass(r)),["on","off","one","any","trigger"].forEach(r=>{this[r]=void 0}),n.evented!==!1&&(a0(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),nx(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,n){}off(e,n){}one(e,n){}any(e,n){}trigger(e,n){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Mt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,i){return it(e,n,i)}localize(e,n,i=e){const r=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[r],o=r&&r.split("-")[0],u=s&&s[o];let c=i;return a&&a[e]?c=a[e]:u&&u[e]&&(c=u[e]),n&&(c=c.replace(/\{(\d+)\}/g,function(d,p){const v=n[p-1];let C=v;return typeof v>"u"&&(C=d),C})),c}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,r)=>i.concat(r),[]);let n=this;for(let i=0;i<e.length;i++)if(n=n.getChild(e[i]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",r=it("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=we.createElementNS(i,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=we.createElementNS(i,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),r.appendChild(s),this.iconIsSet_?n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")):n.appendChild(r),this.iconIsSet_=!0,r}addChild(e,n={},i=this.children_.length){let r,s;if(typeof e=="string"){s=tn(e);const a=n.componentClass||s;n.name=s;const o=ye.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;r=new o(this.player_||this,n)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,typeof r.id=="function"&&(this.childIndex_[r.id()]=r),s=s||r.name&&tn(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[dl(s)]=r),typeof r.el=="function"&&r.el()){let a=null;this.children_[i+1]&&(this.children_[i+1].el_?a=this.children_[i+1].el_:lu(this.children_[i+1])&&(a=this.children_[i+1])),this.contentEl().insertBefore(r.el(),a)}return r}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){n=!0,this.children_.splice(r,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[tn(e.name())]=null,this.childNameIndex_[dl(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,i=a=>{const o=a.name;let u=a.opts;if(n[o]!==void 0&&(u=n[o]),u===!1)return;u===!0&&(u={}),u.playerOptions=this.options_.playerOptions;const c=this.addChild(o,u);c&&(this[o]=c)};let r;const s=ye.getComponent("Tech");Array.isArray(e)?r=e:r=Object.keys(e),r.concat(Object.keys(this.options_).filter(function(a){return!r.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,u;return typeof a=="string"?(o=a,u=e[o]||this.options_[o]||{}):(o=a.name,u=a),{name:o,opts:u}}).filter(a=>{const o=ye.getComponent(a.opts.componentClass||tn(a.name));return o&&!s.isTech(o)}).forEach(i)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return Ns(e,n||this.contentEl())}$$(e,n){return GE(e,n||this.contentEl())}hasClass(e){return cl(this.el_,e)}addClass(...e){Ia(this.el_,...e)}removeClass(...e){Nf(this.el_,...e)}toggleClass(e,n){UE(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return $E(this.el_,e)}setAttribute(e,n){Yo(this.el_,e,n)}removeAttribute(e){Mf(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,i){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const r=this.el_.style[e],s=r.indexOf("px");return parseInt(s!==-1?r.slice(0,s):this.el_["offset"+tn(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Jo(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const i=`offset${tn(e)}`;n=this.el_[i]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(et.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const i=10,r=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=W.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const u=o.touches[0].pageX-n.pageX,c=o.touches[0].pageY-n.pageY;Math.sqrt(u*u+c*c)>i&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&W.performance.now()-e<r&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Bt(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const i=function(r){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,n){var i;return e=Bt(this,e),this.clearTimersOnDispose_(),i=W.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},n),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),W.clearTimeout(e)),e}setInterval(e,n){e=Bt(this,e),this.clearTimersOnDispose_();const i=W.setInterval(e,n);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),W.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=Bt(this,e),n=W.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),n=Bt(this,n);const i=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),W.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((i,r)=>this[n](r))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=ye.getComponent("Tech"),r=i&&i.isTech(n),s=ye===n||ye.prototype.isPrototypeOf(n.prototype);if(r||!s){let o;throw r?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=tn(e),ye.components_||(ye.components_={});const a=ye.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,u=Object.keys(o);if(o&&u.length>0&&u.map(c=>o[c]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return ye.components_[e]=n,ye.components_[dl(e)]=n,n}static getComponent(e){if(!(!e||!ye.components_))return ye.components_[e]}}ye.registerComponent("Component",ye);function oM(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function Hv(t,e,n,i){return oM(t,i,n.length-1),n[i][e]}function Kh(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Hv.bind(null,"start",0,t),end:Hv.bind(null,"end",1,t)},W.Symbol&&W.Symbol.iterator&&(e[W.Symbol.iterator]=()=>(t||[]).values()),e}function Dr(t,e){return Array.isArray(t)?Kh(t):t===void 0||e===void 0?Kh():Kh([[t,e]])}const rx=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),r=r>0||a>0?r+":":"",i=((r||s>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let o0=rx;function sx(t){o0=t}function ax(){o0=rx}function Ma(t,e=t){return o0(t,e)}var uM=Object.freeze({__proto__:null,createTimeRanges:Dr,createTimeRange:Dr,setFormatTime:sx,resetFormatTime:ax,formatTime:Ma});function ox(t,e){let n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=Dr(0,0));for(let s=0;s<t.length;s++)i=t.start(s),r=t.end(s),r>e&&(r=e),n+=r-i;return n/e}function Jn(t){if(t instanceof Jn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Lr(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Jn.defaultMessages[this.code]||"")}Jn.prototype.code=0;Jn.prototype.message="";Jn.prototype.status=null;Jn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Jn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let t=0;t<Jn.errorTypes.length;t++)Jn[Jn.errorTypes[t]]=t,Jn.prototype[Jn.errorTypes[t]]=t;function fl(t){return t!=null&&typeof t.then=="function"}function Er(t){fl(t)&&t.then(null,e=>{})}const Eg=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,i,r)=>(t[i]&&(n[i]=t[i]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},lM=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,r=>r.track);return Array.prototype.map.call(e,function(r){const s=Eg(r.track);return r.src&&(s.src=r.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(r){return n.indexOf(r)===-1}).map(Eg))},cM=function(t,e){return t.forEach(function(n){const i=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(r=>i.addCue(r))}),e.textTracks()};var qv={textTracksToJson:lM,jsonToTextTracks:cM,trackToJson_:Eg};const Xh="vjs-modal-dialog";class du extends ye{constructor(e,n){super(e,n),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=it("div",{className:`${Xh}-content`},{role:"document"}),this.descEl_=it("p",{className:`${Xh}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),js(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Xh} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let i=this.getChild("closeButton");if(n&&!i){const r=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(i,"close",this.close_)}!n&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),i=n.parentNode,r=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(n),this.empty(),zE(n,e),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n);const s=this.getChild("closeButton");s&&i.appendChild(s.el_)}empty(){this.trigger("beforemodalempty"),Ff(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=we.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),et.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!et.isEventKey(e,"Tab"))return;const n=this.focusableEls_(),i=this.el_.querySelector(":focus");let r;for(let s=0;s<n.length;s++)if(i===n[s]){r=s;break}we.activeElement===this.el_&&(r=0),e.shiftKey&&r===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&r===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof W.HTMLAnchorElement||n instanceof W.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof W.HTMLInputElement||n instanceof W.HTMLSelectElement||n instanceof W.HTMLTextAreaElement||n instanceof W.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof W.HTMLIFrameElement||n instanceof W.HTMLObjectElement||n instanceof W.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}du.prototype.options_={pauseOnOpen:!0,temporary:!0};ye.registerComponent("ModalDialog",du);class Zo extends zi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Yr(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this[i],n.off&&n.off(),this.tracks_.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}Zo.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Zo.prototype.allowedEvents_)Zo.prototype["on"+t]=null;const Yh=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class dM extends Zo{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){Yh(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Yh(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Yh(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const Qh=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class fM extends Zo{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){Qh(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&Qh(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Qh(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class ux extends Zo{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class hM{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,i=e.length;n<i;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i].track){n=this.trackElements_[i];break}return n}removeTrackElement_(e){for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Md{constructor(e){Md.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let i=0;const r=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<r)for(i=n;i<r;i++)s.call(this,i)}getCueById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}const pM={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},gM={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},mM={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Vv={disabled:"disabled",hidden:"hidden",showing:"showing"};class u0 extends zi{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Or(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const r in n)Object.defineProperty(this,r,{get(){return n[r]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(r){r!==i&&(i=r,this.trigger("labelchange"))}})}}const l0=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],n=we.createElement("a");n.href=t;const i={};for(let r=0;r<e.length;r++)i[e[r]]=n[e[r]];return i.protocol==="http:"&&(i.host=i.host.replace(/:80$/,"")),i.protocol==="https:"&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=W.location.protocol),i.host||(i.host=W.location.host),i},lx=function(t){if(!t.match(/^https?:\/\//)){const e=we.createElement("a");e.href=t,t=e.href}return t},c0=function(t){if(typeof t=="string"){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(n)return n.pop().toLowerCase()}return""},Hf=function(t,e=W.location){const n=l0(t);return(n.protocol===":"?e.protocol:n.protocol)+n.host!==e.protocol+e.host};var yM=Object.freeze({__proto__:null,parseUrl:l0,getAbsoluteURL:lx,getFileExtension:c0,isCrossOrigin:Hf});const Wv=function(t,e){const n=new W.WebVTT.Parser(W,W.vttjs,W.WebVTT.StringDecoder()),i=[];n.oncue=function(r){e.addCue(r)},n.onparsingerror=function(r){i.push(r)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(W.console&&W.console.groupCollapsed&&W.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),i.forEach(r=>ct.error(r)),W.console&&W.console.groupEnd&&W.console.groupEnd()),n.flush()},zv=function(t,e){const n={uri:t},i=Hf(t);i&&(n.cors=i);const r=e.tech_.crossOrigin()==="use-credentials";r&&(n.withCredentials=r),L2(n,Bt(this,function(s,a,o){if(s)return ct.error(s,a);e.loaded_=!0,typeof W.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],u=>{if(u.type==="vttjserror"){ct.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return Wv(o,e)}):Wv(o,e)}))};class Zl extends u0{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Mt(e,{kind:mM[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=Vv[n.mode]||"disabled";const r=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(i="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new Md(this.cues_),a=new Md(this.activeCues_);let o=!1;this.timeupdateHandler=Bt(this,function(c={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const u=()=>{this.stopTracking()};this.tech_.one("dispose",u),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return r},set(){}},mode:{get(){return i},set(c){Vv[c]&&i!==c&&(i=c,!this.preload_&&i!=="disabled"&&this.cues.length===0&&zv(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const c=this.tech_.currentTime(),d=[];for(let p=0,v=this.cues.length;p<v;p++){const C=this.cues[p];C.startTime<=c&&C.endTime>=c&&d.push(C)}if(o=!1,d.length!==this.activeCues_.length)o=!0;else for(let p=0;p<d.length;p++)this.activeCues_.indexOf(d[p])===-1&&(o=!0);return this.activeCues_=d,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&zv(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new W.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const r in e)r in n||(n[r]=e[r]);n.id=e.id,n.originalCue_=e}const i=this.tech_.textTracks();for(let r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const i=this.cues_[n];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}Zl.prototype.allowedEvents_={cuechange:"cuechange"};class cx extends u0{constructor(e={}){const n=Mt(e,{kind:gM[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class dx extends u0{constructor(e={}){const n=Mt(e,{kind:pM[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class is extends zi{constructor(e={}){super();let n;const i=new Zl(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return i}}}),n=is.NONE,i.addEventListener("loadeddata",()=>{n=is.LOADED,this.trigger({type:"load",target:this})})}}is.prototype.allowedEvents_={load:"load"};is.NONE=0;is.LOADING=1;is.LOADED=2;is.ERROR=3;const qi={audio:{ListClass:dM,TrackClass:cx,capitalName:"Audio"},video:{ListClass:fM,TrackClass:dx,capitalName:"Video"},text:{ListClass:ux,TrackClass:Zl,capitalName:"Text"}};Object.keys(qi).forEach(function(t){qi[t].getterName=`${t}Tracks`,qi[t].privateName=`${t}Tracks_`});const eu={remoteText:{ListClass:ux,TrackClass:Zl,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:hM,TrackClass:is,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Xn=Object.assign({},qi,eu);eu.names=Object.keys(eu);qi.names=Object.keys(qi);Xn.names=[].concat(eu.names).concat(qi.names);function _M(t,e,n,i,r={}){const s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;const a=new Xn.text.TrackClass(r);return s.addTrack(a),a}class tt extends ye{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Xn.names.forEach(i=>{const r=Xn[i];e&&e[r.getterName]&&(this[r.privateName]=e[r.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e[`native${i}Tracks`]===!1&&(this[`featuresNative${i}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Xn.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Bt(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Dr(0,0)}bufferedPercent(){return ox(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(qi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const i=this[`${n}Tracks`]()||[];let r=i.length;for(;r--;){const s=i[r];n==="text"&&this.removeRemoteTextTrack(s),i.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const i=e[n];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Jn(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Dr(0,0):Dr()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){qi.names.forEach(e=>{const n=qi[e],i=()=>{this.trigger(`${e}trackchange`)},r=this[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),this.on("dispose",()=>{r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!W.WebVTT)if(we.body.contains(this.el())){if(!this.options_["vtt.js"]&&Xo(lv)&&Object.keys(lv).length>0){this.trigger("vttjsloaded");return}const e=we.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),W.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),i=o=>e.addTrack(o.track),r=o=>e.removeTrack(o.track);n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const u=e[o];u.removeEventListener("cuechange",s),u.mode==="showing"&&u.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,n,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return _M(this,e,n,i)}createRemoteTextTrack(e){const n=Mt(e,{tech:this});return new eu.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const i=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Or();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return tt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof tt||e instanceof tt||e===tt}static registerTech(e,n){if(tt.techs_||(tt.techs_={}),!tt.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!tt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!tt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=tn(e),tt.techs_[e]=n,tt.techs_[dl(e)]=n,e!=="Tech"&&tt.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(tt.techs_&&tt.techs_[e])return tt.techs_[e];if(e=tn(e),W&&W.videojs&&W.videojs[e])return ct.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),W.videojs[e]}}}Xn.names.forEach(function(t){const e=Xn[t];tt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});tt.prototype.featuresVolumeControl=!0;tt.prototype.featuresMuteControl=!0;tt.prototype.featuresFullscreenResize=!1;tt.prototype.featuresPlaybackRate=!1;tt.prototype.featuresProgressEvents=!1;tt.prototype.featuresSourceset=!1;tt.prototype.featuresTimeupdateEvents=!1;tt.prototype.featuresNativeTextTracks=!1;tt.prototype.featuresVideoFrameCallback=!1;tt.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){let r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){const i=t.sourceHandlers||[];let r;for(let s=0;s<i.length;s++)if(r=i[s].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,i){const r=t.sourceHandlers||[];let s;for(let a=0;a<r.length;a++)if(s=r[a].canHandleSource(n,i),s)return r[a];return null},t.canPlaySource=function(n,i){const r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""},["seekable","seeking","duration"].forEach(function(n){const i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let i=t.selectSourceHandler(n,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:ct.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ye.registerComponent("Tech",tt);tt.registerTech("Tech",tt);tt.defaultTechOrder_=[];const Pa={},xg={},Bd={};function vM(t,e){Pa[t]=Pa[t]||[],Pa[t].push(e)}function bM(t,e,n){t.setTimeout(()=>ya(e,Pa[e.type],n,t),1)}function TM(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function EM(t,e,n){return t.reduceRight(d0(n),e[n]())}function xM(t,e,n,i){return e[n](t.reduce(d0(n),i))}function Gv(t,e,n,i=null){const r="call"+tn(n),s=t.reduce(d0(r),i),a=s===Bd,o=a?null:e[n](s);return wM(t,n,o,a),o}const SM={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},CM={setCurrentTime:1,setMuted:1,setVolume:1},Kv={play:1,pause:1};function d0(t){return(e,n)=>e===Bd?Bd:n[t]?n[t](e):e}function wM(t,e,n,i){for(let r=t.length-1;r>=0;r--){const s=t[r];s[e]&&s[e](i,n)}}function AM(t){xg[t.id()]=null}function DM(t,e){const n=xg[t.id()];let i=null;if(n==null)return i=e(t),xg[t.id()]=[[e,i]],i;for(let r=0;r<n.length;r++){const[s,a]=n[r];s===e&&(i=a)}return i===null&&(i=e(t),n.push([e,i])),i}function ya(t={},e=[],n,i,r=[],s=!1){const[a,...o]=e;if(typeof a=="string")ya(t,Pa[a],n,i,r,s);else if(a){const u=DM(i,a);if(!u.setSource)return r.push(u),ya(t,o,n,i,r,s);u.setSource(Object.assign({},t),function(c,d){if(c)return ya(t,o,n,i,r,s);r.push(u),ya(d,t.type===d.type?o:Pa[d.type],n,i,r,s)})}else o.length?ya(t,o,n,i,r,s):s?n(t,r):ya(t,Pa["*"],n,i,r,!0)}const kM={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Fd=function(t=""){const e=c0(t);return kM[e.toLowerCase()]||""},LM=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(r=>r.src===e);if(n.length)return n[0].type;const i=t.$$("source");for(let r=0;r<i.length;r++){const s=i[r];if(s.type&&s.src&&s.src===e)return s.type}return Fd(e)},fx=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=fx(n),Array.isArray(n)?e=e.concat(n):Lr(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[Xv({src:t})]:Lr(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[Xv(t)]:t=[];return t};function Xv(t){if(!t.type){const e=Fd(t.src);e&&(t.type=e)}return t}var IM=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class PM extends ye{constructor(e,n,i){const r=Mt({createEl:!1},n);if(super(e,r,i),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=tn(a[s]);let u=tt.getTech(o);if(o||(u=ye.getComponent(o)),u&&u.isSupported()){e.loadTech_(o);break}}else e.src(n.playerOptions.sources)}}ye.registerComponent("MediaLoader",PM);class qf extends ye{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",n={},i={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&ct.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=n.tabIndex;const r=it(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=it("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,js(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){et.isEventKey(e,"Space")||et.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ye.registerComponent("ClickableComponent",qf);class Sg extends qf{constructor(e,n){super(e,n),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return it("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(it("picture",{className:"vjs-poster",tabIndex:-1},{},it("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Er(this.player_.play()):this.player_.pause())}}Sg.prototype.crossorigin=Sg.prototype.crossOrigin;ye.registerComponent("PosterImage",Sg);const Ui="#222",Yv="#ccc",OM={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Jh(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function qu(t,e,n){try{t.style[e]=n}catch{return}}function Qv(t){return t?`${t}px`:""}class RM extends ye{constructor(e,n,i){super(e,n,i);const r=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",r),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(Bt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=W.screen.orientation||W,o=W.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const u=this.options_.playerOptions.tracks||[];for(let c=0;c<u.length;c++)this.player_.addRemoteTextTrack(u[c],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let r,s,a;for(let o=0;o<n.length;o++){const u=n[o];i&&i.enabled&&i.language&&i.language===u.language&&u.kind in e?u.kind===i.kind?a=u:a||(a=u):i&&!i.enabled?(a=null,r=null,s=null):u.default&&(u.kind==="descriptions"&&!r?r=u:u.kind in e&&!s&&(s=u))}a?a.mode="showing":s?s.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof W.WebVTT=="function"&&W.WebVTT.processCues(W,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<e.length;++o){const u=e[o];u.mode==="showing"&&a.push(u)}this.updateForTrack(a);return}let i=null,r=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?i=a:r=a)}r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!W.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),i=e/n,r=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(i-r)>.1&&(i>r?s=Math.round((e-n*r)/2):a=Math.round((n-e/r)/2)),qu(this.el_,"insetInline",Qv(s)),qu(this.el_,"insetBlock",Qv(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),i=e.activeCues;let r=i.length;for(;r--;){const s=i[r];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&qu(a.firstChild,"color",Jh(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&qu(a.firstChild,"backgroundColor",Jh(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?qu(a,"backgroundColor",Jh(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Ui}, 2px 2px 4px ${Ui}, 2px 2px 5px ${Ui}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Ui}, 2px 2px ${Ui}, 3px 3px ${Ui}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${Yv}, 0 1px ${Yv}, -1px -1px ${Ui}, 0 -1px ${Ui}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Ui}, 0 0 4px ${Ui}, 0 0 4px ${Ui}, 0 0 4px ${Ui}`)),n.fontPercent&&n.fontPercent!==1){const o=W.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=OM[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof W.WebVTT!="function"||e.every(i=>!i.activeCues))return;const n=[];for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s)n.push(r.activeCues[s])}W.WebVTT.processCues(W,n,this.el_);for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s){const a=r.activeCues[s].displayState;Ia(a,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language?r.language:i)),r.language&&Yo(a,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}ye.registerComponent("TextTrackDisplay",RM);class NM extends ye{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=it("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}ye.registerComponent("LoadingSpinner",NM);class ki extends qf{createEl(e,n={},i={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),i=Object.assign({type:"button"},i);const r=it(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}addChild(e,n={}){const i=this.constructor.name;return ct.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),ye.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(et.isEventKey(e,"Space")||et.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}ye.registerComponent("Button",ki);class hx extends ki{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Er(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(!r){this.player_.tech(!0).focus();return}const s=()=>r.focus();fl(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}hx.prototype.controlText_="Play Video";ye.registerComponent("BigPlayButton",hx);class MM extends ki{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){et.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ye.registerComponent("CloseButton",MM);class px extends ki{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),n.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Er(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}px.prototype.controlText_="Play";ye.registerComponent("PlayToggle",px);class fu extends ye{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended"],i=>this.updateContent(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=it("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return n.appendChild(i),this.contentEl_=it("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=Ma(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,ct.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=we.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}fu.prototype.labelText_="Time";fu.prototype.controlText_="Time";ye.registerComponent("TimeDisplay",fu);class f0 extends fu{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}f0.prototype.labelText_="Current Time";f0.prototype.controlText_="Current Time";ye.registerComponent("CurrentTimeDisplay",f0);class h0 extends fu{constructor(e,n){super(e,n);const i=r=>this.updateContent(r);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}h0.prototype.labelText_="Duration";h0.prototype.controlText_="Duration";ye.registerComponent("DurationDisplay",h0);class BM extends ye{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return n.appendChild(i),e.appendChild(n),e}}ye.registerComponent("TimeDivider",BM);class p0 extends fu{constructor(e,n){super(e,n),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(it("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}p0.prototype.labelText_="Remaining Time";p0.prototype.controlText_="Remaining Time";ye.registerComponent("RemainingTimeDisplay",p0);class FM extends ye{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=it("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(it("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(we.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}ye.registerComponent("LiveDisplay",FM);class gx extends ki{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=it("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}gx.prototype.controlText_="Seek to live, currently playing live";ye.registerComponent("SeekToLive",gx);function ec(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var UM=Object.freeze({__proto__:null,clamp:ec});class g0 extends ye{constructor(e,n){super(e,n),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},i={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,n,i)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Pr&&e.preventDefault(),HE(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;qE(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(ec(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=Bf(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){et.isEventKey(e,"Left")||et.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):et.isEventKey(e,"Right")||et.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}ye.registerComponent("Slider",g0);const Zh=(t,e)=>ec(t/e*100,0,100).toFixed(2)+"%";class jM extends ye{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=it("span",{className:"vjs-control-text"}),i=it("span",{textContent:this.localize("Loaded")}),r=we.createTextNode(": ");return this.percentageEl_=it("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,i=this.player_.buffered(),r=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=Zh(s,r);this.percent_!==o&&(this.el_.style.width=o,js(this.percentageEl_,o),this.percent_=o);for(let u=0;u<i.length;u++){const c=i.start(u),d=i.end(u);let p=a[u];p||(p=this.el_.appendChild(it()),a[u]=p),!(p.dataset.start===c&&p.dataset.end===d)&&(p.dataset.start=c,p.dataset.end=d,p.style.left=Zh(c,s),p.style.width=Zh(d-c,s))}for(let u=a.length;u>i.length;u--)this.el_.removeChild(a[u-1]);a.length=i.length})}}ye.registerComponent("LoadProgressBar",jM);class $M extends ye{constructor(e,n){super(e,n),this.update=Rr(Bt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,i){const r=Rl(this.el_),s=Qo(this.player_.el()),a=e.width*n;if(!s||!r)return;const o=e.left-s.left+a,u=e.width-a+(s.right-e.right);let c=r.width/2;o<c?c+=c-o:u<c&&(c=u),c<0?c=0:c>r.width&&(c=r.width),c=Math.round(c),this.el_.style.right=`-${c}px`,this.write(i)}write(e){js(this.el_,e)}updateTime(e,n,i,r){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),u=o-n*o;s=(u<1?"":"-")+Ma(u,o)}else s=Ma(i,a);this.update(e,n,s),r&&r()})}}ye.registerComponent("TimeTooltip",$M);class m0 extends ye{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=Rr(Bt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const i=this.getChild("timeTooltip");if(!i)return;const r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,n,r)}}m0.prototype.options_={children:[]};!ei&&!Ir&&m0.prototype.options_.children.push("timeTooltip");ye.registerComponent("PlayProgressBar",m0);class mx extends ye{constructor(e,n){super(e,n),this.update=Rr(Bt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const i=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,i,()=>{this.el_.style.left=`${e.width*n}px`})}}mx.prototype.options_={children:["timeTooltip"]};ye.registerComponent("MouseTimeDisplay",mx);const Kc=5,Jv=12;class y0 extends g0{constructor(e,n){super(e,n),this.setEventHandlers_()}setEventHandlers_(){this.update_=Bt(this,this.update),this.update=Rr(this.update_,Wi),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.on(we,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){we.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Wi))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(we.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),r=this.player_.liveTracker;let s=this.player_.duration();r&&r.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==i||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ma(i,s),Ma(s,s)],"{1} of {2}")),this.currentTime_=i,this.duration_=s),this.bar&&this.bar.update(Qo(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let n;const i=this.player_.liveTracker;return i&&i.isLive()?(n=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){Nl(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!Nl(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const r=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())i=r*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(r>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(i=a+r*s.liveWindow(),i>=o&&(i=o),i<=a&&(i=a+.1),i===1/0)return}this.userSeek_(i)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Er(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Kc)}stepBack(){this.userSeek_(this.player_.currentTime()-Kc)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(et.isEventKey(e,"Space")||et.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(et.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(et.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(et(e))){e.preventDefault(),e.stopPropagation();const i=(et.codes[et(e)]-et.codes[0])*10/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else et.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Kc*Jv)):et.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Kc*Jv)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.off(we,"visibilitychange",this.toggleVisibility_),super.dispose()}}y0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!ei&&!Ir&&y0.prototype.options_.children.splice(1,0,"mouseTimeDisplay");ye.registerComponent("SeekBar",y0);class yx extends ye{constructor(e,n){super(e,n),this.handleMouseMove=Rr(Bt(this,this.handleMouseMove),Wi),this.throttledHandleMouseSeek=Rr(Bt(this,this.handleMouseSeek),Wi),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const i=n.getChild("playProgressBar"),r=n.getChild("mouseTimeDisplay");if(!i&&!r)return;const s=n.el(),a=Rl(s);let o=Bf(s,e).x;o=ec(o,0,1),r&&r.update(a,o),i&&i.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Er(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}yx.prototype.options_={children:["seekBar"]};ye.registerComponent("ProgressControl",yx);class _x extends ki{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){we.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in W?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof we.exitPictureInPicture=="function"&&super.show()}}_x.prototype.controlText_="Picture-in-Picture";ye.registerComponent("PictureInPictureToggle",_x);class vx extends ki{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),we[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}vx.prototype.controlText_="Fullscreen";ye.registerComponent("FullscreenToggle",vx);const HM=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class qM extends ye{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}ye.registerComponent("VolumeLevel",qM);class VM extends ye{constructor(e,n){super(e,n),this.update=Rr(Bt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,i,r){if(!i){const s=Qo(this.el_),a=Qo(this.player_.el()),o=e.width*n;if(!a||!s)return;const u=e.left-a.left+o,c=e.width-o+(a.right-e.right);let d=s.width/2;u<d?d+=d-u:c<d&&(d=c),d<0?d=0:d>s.width&&(d=s.width),this.el_.style.right=`-${d}px`}this.write(`${r}%`)}write(e){js(this.el_,e)}updateVolume(e,n,i,r,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,i,r.toFixed(0)),s&&s()})}}ye.registerComponent("VolumeLevelTooltip",VM);class bx extends ye{constructor(e,n){super(e,n),this.update=Rr(Bt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,i){const r=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,i,r,()=>{i?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}bx.prototype.options_={children:["volumeLevelTooltip"]};ye.registerComponent("MouseVolumeLevelDisplay",bx);class Vf extends g0{constructor(e,n){super(e,n),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Nl(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const i=this.el(),r=Qo(i),s=this.vertical();let a=Bf(i,e);a=s?a.y:a.x,a=ec(a,0,1),n.update(r,a,s)}Nl(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Vf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ei&&!Ir&&Vf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Vf.prototype.playerEvent="volumechange";ye.registerComponent("VolumeBar",Vf);class Tx extends ye{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Xo(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),HM(this,e),this.throttledHandleMouseMove=Rr(Bt(this,this.handleMouseMove),Wi),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}Tx.prototype.options_={children:["volumeBar"]};ye.registerComponent("VolumeControl",Tx);const WM=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Ex extends ki{constructor(e,n){super(e,n),WM(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),i=this.player_.lastVolume_();if(n===0){const r=i<.1?.1:i;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),ei&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),Nf(this.el_,[0,1,2,3].reduce((i,r)=>i+`${r?" ":""}vjs-vol-${r}`,"")),Ia(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}Ex.prototype.controlText_="Mute";ye.registerComponent("MuteToggle",Ex);class xx extends ye{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Xo(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){et.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Pi(we,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Bn(we,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){et.isEventKey(e,"Esc")&&this.handleMouseOut()}}xx.prototype.options_={children:["muteToggle","volumeControl"]};ye.registerComponent("VolumePanel",xx);class zM extends ki{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;n+this.skipTime<=r?s=n+this.skipTime:s=r,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}ye.registerComponent("SkipForward",zM);class Sx extends ki{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()&&i.seekableStart();let s;r&&n-this.skipTime<=r?s=r:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}Sx.prototype.controlText_="Skip Backward";ye.registerComponent("SkipBackward",Sx);class Cx extends ye{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof ye&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof ye&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=it(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Pi(n,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||we.activeElement;if(!this.children().some(i=>i.el()===n)){const i=this.menuButton_;i&&i.buttonPressed_&&n!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const i=n.filter(r=>r.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){et.isEventKey(e,"Left")||et.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(et.isEventKey(e,"Right")||et.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}ye.registerComponent("Menu",Cx);class _0 extends ye{constructor(e,n={}){super(e,n),this.menuButton_=new ki(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=ki.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const r=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",r),this.on(this.menuButton_,"click",r),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Pi(we,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new Cx(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=it("li",{className:"vjs-menu-title",textContent:tn(this.options_.title),tabIndex:-1}),i=new ye(this.player_,{el:n});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=ki.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Bn(we,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){et.isEventKey(e,"Esc")||et.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),et.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(et.isEventKey(e,"Up")||et.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(et.isEventKey(e,"Esc")||et.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(et.isEventKey(e,"Esc")||et.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),et.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ei&&BE())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}ye.registerComponent("MenuButton",_0);class v0 extends _0{constructor(e,n){const i=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!i)return;const r=Bt(this,this.update);i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),i.addEventListener("labelchange",r),this.player_.on("ready",r),this.player_.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r),i.removeEventListener("labelchange",r)})}}ye.registerComponent("TrackButton",v0);const GM=["Tab","Esc","Up","Down","Right","Left"];class tc extends qf{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,i){this.nonIconControl=!0;const r=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),i),s=it("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?r.appendChild(s):r.replaceChild(s,r.querySelector(".vjs-icon-placeholder")),r}handleKeyDown(e){GM.some(n=>et.isEventKey(e,n))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}ye.registerComponent("MenuItem",tc);class nc extends tc{constructor(e,n){const i=n.track,r=e.textTracks();n.label=i.label||i.language||"Unknown",n.selected=i.mode==="showing",super(e,n),this.track=i,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),r.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof W.Event!="object")try{o=new W.Event("change")}catch{}o||(o=we.createEvent("Event"),o.initEvent("change",!0,!0)),r.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const n=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let r=0;r<i.length;r++){const s=i[r];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}ye.registerComponent("TextTrackMenuItem",nc);class wx extends nc{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}ye.registerComponent("OffTextTrackMenuItem",wx);class hu extends v0{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=nc){let i;this.label_&&(i=`${this.label_} off`),e.push(new wx(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<r.length;s++){const a=r[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}ye.registerComponent("TextTrackButton",hu);class Ax extends tc{constructor(e,n){const i=n.track,r=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=s&&s<r.endTime,super(e,n),this.track=i,this.cue=r}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}ye.registerComponent("ChaptersTrackMenuItem",Ax);class b0 extends hu{constructor(e,n,i){super(e,n,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(r=>{r.selected(this.track_.activeCues[0]===r.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(tn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let i=0,r=n.length;i<r;i++){const s=n[i],a=new Ax(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}b0.prototype.kind_="chapters";b0.prototype.controlText_="Chapters";ye.registerComponent("ChaptersButton",b0);class T0 extends hu{constructor(e,n,i){super(e,n,i),this.setIcon("audio-description");const r=e.textTracks(),s=Bt(this,this.handleTracksChange);r.addEventListener("change",s),this.on("dispose",function(){r.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let i=!1;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(a.kind!==this.kind_&&a.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}T0.prototype.kind_="descriptions";T0.prototype.controlText_="Descriptions";ye.registerComponent("DescriptionsButton",T0);class E0 extends hu{constructor(e,n,i){super(e,n,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}E0.prototype.kind_="subtitles";E0.prototype.controlText_="Subtitles";ye.registerComponent("SubtitlesButton",E0);class x0 extends nc{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}ye.registerComponent("CaptionSettingsMenuItem",x0);class S0 extends hu{constructor(e,n,i){super(e,n,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new x0(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}S0.prototype.kind_="captions";S0.prototype.controlText_="Captions";ye.registerComponent("CaptionsButton",S0);class Dx extends nc{createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",r):s.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(it("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),r}}ye.registerComponent("SubsCapsMenuItem",Dx);class C0 extends hu{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(tn(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new x0(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Dx),e}}C0.prototype.kinds_=["captions","subtitles"];C0.prototype.controlText_="Subtitles";ye.registerComponent("SubsCapsButton",C0);class kx extends tc{constructor(e,n){const i=n.track,r=e.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,super(e,n),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};r.addEventListener("change",s),this.on("dispose",()=>{r.removeEventListener("change",s)})}createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(it("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];r!==this.track&&(r.enabled=r===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}ye.registerComponent("AudioTrackMenuItem",kx);class Lx extends v0{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];e.push(new kx(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e}}Lx.prototype.controlText_="Audio Track";ye.registerComponent("AudioTrackButton",Lx);class w0 extends tc{constructor(e,n){const i=n.rate,r=parseFloat(i,10);n.label=i,n.selected=r===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=i,this.rate=r,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}w0.prototype.contentElType="button";ye.registerComponent("PlaybackRateMenuItem",w0);class Ix extends _0{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=it("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let i=e.length-1;i>=0;i--)n.push(new w0(this.player(),{rate:e[i]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Ix.prototype.controlText_="Playback Rate";ye.registerComponent("PlaybackRateMenuButton",Ix);class Px extends ye{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},i={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,i)}}ye.registerComponent("Spacer",Px);class KM extends Px{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}ye.registerComponent("CustomControlSpacer",KM);class Ox extends ye{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}Ox.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};ye.registerComponent("ControlBar",Ox);class Rx extends du{constructor(e,n){super(e,n),this.on(e,"error",i=>this.open(i))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}Rx.prototype.options_=Object.assign({},du.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ye.registerComponent("ErrorDisplay",Rx);const ep="vjs-text-track-settings",Zv=["#000","Black"],eb=["#00F","Blue"],tb=["#0FF","Cyan"],nb=["#0F0","Green"],ib=["#F0F","Magenta"],rb=["#F00","Red"],sb=["#FFF","White"],ab=["#FF0","Yellow"],tp=["1","Opaque"],np=["0.5","Semi-Transparent"],ob=["0","Transparent"],ba={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Zv,sb,rb,nb,eb,ab,ib,tb]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[tp,np,ob]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[sb,Zv,rb,nb,eb,ab,ib,tb]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[tp,np]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[ob,np,tp]}};ba.windowColor.options=ba.backgroundColor.options;function Nx(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function XM(t,e){const n=t.options[t.options.selectedIndex].value;return Nx(n,e)}function YM(t,e,n){if(e){for(let i=0;i<t.options.length;i++)if(Nx(t.options[i].value,n)===e){t.selectedIndex=i;break}}}class QM extends du{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=it("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),ko(ba,i=>{this.on(this.$(i.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,n="",i="label"){const r=ba[e],s=r.id.replace("%s",this.id_),a=[n,s].join(" ").trim();return[`<${i} id="${s}" class="${i==="label"?"vjs-label":""}">`,this.localize(r.label),`</${i}>`,`<select aria-labelledby="${a}">`].concat(r.options.map(o=>{const u=s+"-"+o[1].replace(/\W+/g,"");return[`<option id="${u}" value="${o[0]}" `,`aria-labelledby="${a} ${u}">`,this.localize(o[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return it("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return it("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return it("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return IE(ba,(e,n,i)=>{const r=XM(this.$(n.selector),n.parser);return r!==void 0&&(e[i]=r),e},{})}setValues(e){ko(ba,(n,i)=>{YM(this.$(n.selector),e[i],n.parser)})}setDefaults(){ko(ba,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(W.localStorage.getItem(ep))}catch(n){ct.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?W.localStorage.setItem(ep,JSON.stringify(e)):W.localStorage.removeItem(ep)}catch(n){ct.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,n=e&&e.subsCapsButton,i=e&&e.captionsButton;n?n.focus():i&&i.focus()}handleLanguagechange(){this.fill()}}ye.registerComponent("TextTrackSettings",QM);class JM extends ye{constructor(e,n){let i=n.ResizeObserver||W.ResizeObserver;n.ResizeObserver===null&&(i=!1);const r=Mt({createEl:!i,reportTouchActivity:!1},n);super(e,r),this.ResizeObserver=n.ResizeObserver||W.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=ZE(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){Bn(this,"resize",s),Bn(this,"unload",a),a=null};Pi(this.el_.contentWindow,"unload",a),Pi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}ye.registerComponent("ResizeManager",JM);const ZM={trackingThreshold:20,liveTolerance:15};class e5 extends ye{constructor(e,n){const i=Mt(ZM,n,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=r=>this.handlePlay(r),this.handleFirstTimeupdate_=r=>this.handleFirstTimeupdate(r),this.handleSeeked_=r=>this.handleSeeked(r),this.seekToLiveEdge_=r=>this.seekToLiveEdge(r),this.reset_(),this.on(this.player_,"durationchange",r=>this.handleDurationchange(r)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(W.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;const r=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||r===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Wi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.end(i));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.start(i));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}ye.registerComponent("LiveTracker",e5);class t5 extends ye{constructor(e,n){super(e,n),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:it("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Or()}`}),description:it("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Or()}`})},it("div",{className:"vjs-title-bar"},{},PE(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(r=>{const s=this.state[r],a=this.els[r],o=i[r];Ff(a),s&&js(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}ye.registerComponent("TitleBar",t5);const Cg=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),i=[];let r="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&i.indexOf(a)===-1&&i.push(a)}return i.length?(i.length===1&&(r=i[0]),t.triggerSourceset(r),!0):!1},n5=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=we.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=we.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",W.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Mx=(t,e)=>{let n={};for(let i=0;i<t.length&&(n=Object.getOwnPropertyDescriptor(t[i],e),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},i5=t=>Mx([t.el(),W.HTMLMediaElement.prototype,W.Element.prototype,n5],"innerHTML"),ub=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},i=i5(t),r=s=>(...a)=>{const o=s.apply(e,a);return Cg(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=r(n[s]))}),Object.defineProperty(e,"innerHTML",Mt(i,{set:r(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)},r5=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?lx(W.Element.prototype.getAttribute.call(this,"src")):""},set(t){return W.Element.prototype.setAttribute.call(this,"src",t),t}}),s5=t=>Mx([t.el(),W.HTMLMediaElement.prototype,r5],"src"),a5=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=s5(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Mt(n,{set:s=>{const a=n.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=i.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=r.call(e);return Cg(t)||(t.triggerSourceset(""),ub(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):Cg(t)||ub(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Fe extends tt{constructor(e,n){super(e,n);const i=e.source;let r=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const u=s[a];u.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack(u.track),this.textTracks().addTrack(u.track),!r&&!this.el_.hasAttribute("crossorigin")&&Hf(u.src)&&(r=!0)):o.push(u))}for(let u=0;u<o.length;u++)this.el_.removeChild(o[u])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&r&&ct.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Ol||Of)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Fe.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){a5(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const i=()=>{n=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const r=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",r)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach(r=>{this.el()[`${i}Tracks`].removeEventListener(r,this[`${i}TracksListeners_`][r])}),this[`featuresNative${e}Tracks`]=!n,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=qi[e],i=this.el()[n.getterName],r=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!i||!i.addEventListener)return;const s={change:o=>{const u={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(u),e==="text"&&this[eu.remoteText.getterName]().trigger(u)},addtrack(o){r.addTrack(o.track)},removetrack(o){r.removeTrack(o.track)}},a=function(){const o=[];for(let u=0;u<r.length;u++){let c=!1;for(let d=0;d<i.length;d++)if(i[d]===r[u]){c=!0;break}c||o.push(r[u])}for(;o.length;)r.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const u=s[o];i.addEventListener(o,u),this.on("dispose",c=>i.removeEventListener(o,u))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){qi.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),Fe.disposeMediaElement(e),e=i}else{e=we.createElement("video");const i=this.options_.tag&&Ss(this.options_.tag),r=Mt({},i);(!Ol||this.options_.nativeControlsForTouch!==!0)&&delete r.controls,jE(e,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Yo(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let i=0;i<n.length;i++){const r=n[i],s=this.options_[r];typeof s<"u"&&(s?Yo(e,r,r):Mf(e,r),e[r]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const r=function(){i=!0};this.on("loadstart",r);const s=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),i||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Rf?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){ct(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Ir&&Pr&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Er(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Fe.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):super.addTextTrack(e,n,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=we.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const i=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let i=n.length;for(;i--;)(e===n[i]||e===n[i].track)&&this.el().removeChild(n[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),W.performance&&(e.creationTime=W.performance.now()),e}}Lf(Fe,"TEST_VID",function(){if(!uu())return;const t=we.createElement("video"),e=we.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Fe.isSupported=function(){try{Fe.TEST_VID.volume=.5}catch{return!1}return!!(Fe.TEST_VID&&Fe.TEST_VID.canPlayType)};Fe.canPlayType=function(t){return Fe.TEST_VID.canPlayType(t)};Fe.canPlaySource=function(t,e){return Fe.canPlayType(t.type)};Fe.canControlVolume=function(){try{const t=Fe.TEST_VID.volume;Fe.TEST_VID.volume=t/2+.1;const e=t!==Fe.TEST_VID.volume;return e&&ei?(W.setTimeout(()=>{Fe&&Fe.prototype&&(Fe.prototype.featuresVolumeControl=t!==Fe.TEST_VID.volume)}),!1):e}catch{return!1}};Fe.canMuteVolume=function(){try{const t=Fe.TEST_VID.muted;return Fe.TEST_VID.muted=!t,Fe.TEST_VID.muted?Yo(Fe.TEST_VID,"muted","muted"):Mf(Fe.TEST_VID,"muted","muted"),t!==Fe.TEST_VID.muted}catch{return!1}};Fe.canControlPlaybackRate=function(){if(Ir&&Pr&&If<58)return!1;try{const t=Fe.TEST_VID.playbackRate;return Fe.TEST_VID.playbackRate=t/2+.1,t!==Fe.TEST_VID.playbackRate}catch{return!1}};Fe.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(we.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Fe.supportsNativeTextTracks=function(){return Rf||ei&&Pr};Fe.supportsNativeVideoTracks=function(){return!!(Fe.TEST_VID&&Fe.TEST_VID.videoTracks)};Fe.supportsNativeAudioTracks=function(){return!!(Fe.TEST_VID&&Fe.TEST_VID.audioTracks)};Fe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Lf(Fe.prototype,t,()=>Fe[e](),!0)});Fe.prototype.featuresVolumeControl=Fe.canControlVolume();Fe.prototype.movingMediaElementInDOM=!ei;Fe.prototype.featuresFullscreenResize=!0;Fe.prototype.featuresProgressEvents=!0;Fe.prototype.featuresTimeupdateEvents=!0;Fe.prototype.featuresVideoFrameCallback=!!(Fe.TEST_VID&&Fe.TEST_VID.requestVideoFrameCallback);Fe.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Fe.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Fe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Fe.prototype["set"+tn(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Fe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Fe.prototype["set"+tn(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Fe.prototype[t]=function(){return this.el_[t]()}});tt.withSourceHandlers(Fe);Fe.nativeSourceHandler={};Fe.nativeSourceHandler.canPlayType=function(t){try{return Fe.TEST_VID.canPlayType(t)}catch{return""}};Fe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Fe.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=c0(t.src);return Fe.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Fe.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Fe.nativeSourceHandler.dispose=function(){};Fe.registerSourceHandler(Fe.nativeSourceHandler);tt.registerTech("Html5",Fe);const Bx=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ip={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},wg=["tiny","xsmall","small","medium","large","xlarge","huge"],id={};wg.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;id[t]=`vjs-layout-${e}`});const o5={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Ft extends ye{constructor(e,n,i){if(e.id=e.id||n.id||`vjs_video_${Or()}`,n=Object.assign(Ft.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,i),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.isFullscreen_=!1,this.log=kE(this.id_),this.fsApi_=Pd,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Ss(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=Ft.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),a0(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Pi(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const r=Mt(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=r,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const o=new W.DOMParser().parseFromString(IM,"image/svg+xml");if(o.querySelector("parsererror"))ct.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const c=o.documentElement;c.style.display="none",this.el_.appendChild(c),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),Ol&&this.addClass("vjs-touch-enabled"),ei||this.addClass("vjs-workinghover"),Ft.players[this.id_]=this;const s=AE.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Bn(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Bn(we,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Ft.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),AM(this),Xn.names.forEach(e=>{const n=Xn[e],i=this[n.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const r=this.tag.tagName.toLowerCase()==="video-js";i?n=this.el_=e.parentNode:r||(n=this.el_=super.createEl("div"));const s=Ss(e);if(r){for(n=this.el_=e,e=this.tag=we.createElement("video");n.children.length;)e.appendChild(n.firstChild);cl(n,"video-js")||Ia(n,"video-js"),n.appendChild(e),i=this.playerElIngest_=n,Object.keys(n).forEach(o=>{try{e[o]=n[o]}catch{}})}if(e.setAttribute("tabindex","-1"),s.tabindex="-1",Pr&&Pf&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(o){r&&o==="class"||n.setAttribute(o,s[o]),r&&e.setAttribute(o,s[o])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),W.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=QE("vjs-styles-dimensions");const o=Ns(".vjs-styles-defaults"),u=Ns("head");u.insertBefore(this.styleEl_,o?o.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let o=0;o<a.length;o++){const u=a.item(o);Ia(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(n,e),yg(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ct.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const i=e+"_";if(n===void 0)return this[i]||0;if(n===""||n==="auto"){this[i]=void 0,this.updateStyleEl_();return}const r=parseFloat(n);if(isNaN(r)){ct.error(`Improper value "${n}" supplied for for ${e}`);return}this[i]=r,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Yr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),iM(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(W.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,u=typeof this.height_=="number"?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(o>=0&&(c.width=o),u>=0&&(c.height=u));return}let e,n,i,r;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const s=i.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?r="dimensions-"+this.id():r=this.id()+"-dimensions",this.addClass(r),JE(this.styleEl_,`
      .${r} {
        width: ${e}px;
        height: ${n}px;
      }

      .${r}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const i=tn(e),r=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(tt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${r}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Xn.names.forEach(u=>{const c=Xn[u];a[c.getterName]=this[c.privateName]}),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=tt.getTech(e);if(!o)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(Bt(this,this.handleTechReady_),!0),qv.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Bx.forEach(u=>{this.on(this.tech_,u,c=>this[`handleTech${tn(u)}_`](c))}),Object.keys(ip).forEach(u=>{this.on(this.tech_,u,c=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${ip[u]}_`].bind(this),event:c});return}this[`handleTech${ip[u]}_`](c)})}),this.on(this.tech_,"loadstart",u=>this.handleTechLoadStart_(u)),this.on(this.tech_,"sourceset",u=>this.handleTechSourceset_(u)),this.on(this.tech_,"waiting",u=>this.handleTechWaiting_(u)),this.on(this.tech_,"ended",u=>this.handleTechEnded_(u)),this.on(this.tech_,"seeking",u=>this.handleTechSeeking_(u)),this.on(this.tech_,"play",u=>this.handleTechPlay_(u)),this.on(this.tech_,"pause",u=>this.handleTechPause_(u)),this.on(this.tech_,"durationchange",u=>this.handleTechDurationChange_(u)),this.on(this.tech_,"fullscreenchange",(u,c)=>this.handleTechFullscreenChange_(u,c)),this.on(this.tech_,"fullscreenerror",(u,c)=>this.handleTechFullscreenError_(u,c)),this.on(this.tech_,"enterpictureinpicture",u=>this.handleTechEnterPictureInPicture_(u)),this.on(this.tech_,"leavepictureinpicture",u=>this.handleTechLeavePictureInPicture_(u)),this.on(this.tech_,"error",u=>this.handleTechError_(u)),this.on(this.tech_,"posterchange",u=>this.handleTechPosterChange_(u)),this.on(this.tech_,"textdata",u=>this.handleTechTextData_(u)),this.on(this.tech_,"ratechange",u=>this.handleTechRateChange_(u)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&yg(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Xn.names.forEach(e=>{const n=Xn[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=qv.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ct.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const r=this.muted();this.muted(!0);const s=()=>{this.muted(r)};this.playTerminatedQueue_.push(s);const a=this.play();if(fl(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let i;if(e==="any"&&!this.muted()?(i=this.play(),fl(i)&&(i=i.catch(n))):e==="muted"&&!this.muted()?i=n():i=this.play(),!!fl(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,i="";typeof n!="string"&&(n=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!i&&(i=LM(this,n)),this.cache_.source=Mt({},e,{src:n,type:i});const r=this.cache_.sources.filter(u=>u.src&&u.src===n),s=[],a=this.$$("source"),o=[];for(let u=0;u<a.length;u++){const c=Ss(a[u]);s.push(c),c.src&&c.src===n&&o.push(c.src)}o.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=()=>{}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Er(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const i=this.el();let r=we[this.fsApi_.fullscreenElement]===i;!r&&i.matches&&(r=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in CM)return xM(this.middleware_,this.tech_,e,n);if(e in Kv)return Gv(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(i){throw ct(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in SM)return EM(this.middleware_,this.tech_,e);if(e in Kv)return Gv(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(ct(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(ct(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(ct(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Er){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(Rf||ei);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&i&&this.load();return}const r=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),r===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Dr(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Dr(0,0)),e}bufferedPercent(){return ox(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let i=e.end(e.length-1);return i>n&&(i=n),i}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((i,r)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),i()}function o(c,d){s(),r(d)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const u=n.requestFullscreenHelper_(e);u&&(u.then(s,s),u.then(i,r))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](n);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,i)=>{function r(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){r(),n()}function a(u,c){r(),i(c)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(r,r),o.then(n,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=we[this.fsApi_.exitFullscreen]();return e&&Er(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=we.documentElement.style.overflow,Pi(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow="hidden",Ia(we.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){et.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Bn(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow=this.docOrigOverflow,Nf(we.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&W.documentPictureInPicture){const e=we.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(it("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),W.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(KE(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),n.addEventListener("pagehide",i=>{const r=i.target.querySelector(".video-js");e.parentNode.replaceChild(r,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in we&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(W.documentPictureInPicture&&W.documentPictureInPicture.window)return W.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in we)return we.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(r=>{const s=r.tagName.toLowerCase();if(r.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(r.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=a=>et.isEventKey(a,"f"),muteKey:r=a=>et.isEventKey(a,"m"),playPauseKey:s=a=>et.isEventKey(a,"k")||et.isEventKey(a,"Space")}=n;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const a=ye.getComponent("FullscreenToggle");we[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else r.call(this,e)?(e.preventDefault(),e.stopPropagation(),ye.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),ye.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let i=0,r=this.options_.techOrder;i<r.length;i++){const s=r[i];let a=tt.getTech(s);if(a||(a=ye.getComponent(s)),!a){ct.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(o=>[o,tt.getTech(o)]).filter(([o,u])=>u?u.isSupported():(ct.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),i=function(o,u,c){let d;return o.some(p=>u.some(v=>{if(d=c(p,v),d)return!0})),d};let r;const s=o=>(u,c)=>o(c,u),a=([o,u],c)=>{if(u.canPlaySource(c,this.options_[o.toLowerCase()]))return{source:c,tech:o}};return this.options_.sourceOrder?r=i(e,n,s(a)):r=i(n,e,a),r||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=fx(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),bM(this,i[0],(r,s)=>{if(this.middleware_=s,n||(this.cache_.sources=i),this.updateSourceCaches_(r),this.src_(r)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}TM(s,this.tech_)}),i.length>1){const r=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},s=()=>{this.off("error",r)};this.one("error",r),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",r),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?ix(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Er(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Yr(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:i,remainingTimeDisplay:r}=this.controlBar||{},{seekBar:s}=i||{};e&&e.updateContent(),n&&n.updateContent(),r&&r.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Rs("beforeerror").forEach(n=>{const i=n(this,e);if(!(Lr(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Jn(e),this.addClass("vjs-error"),ct.error(`(CODE:${this.error_.code} ${Jn.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Rs("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,i;const r=Bt(this,this.reportUserActivity),s=function(p){(p.screenX!==n||p.screenY!==i)&&(n=p.screenX,i=p.screenY,r())},a=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},o=function(p){r(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const u=this.getChild("controlBar");u&&!ei&&!Ir&&(u.on("mouseenter",function(p){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),u.on("mouseleave",function(p){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let c;const d=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);const p=this.options_.inactivityTimeout;p<=0||(c=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},p))};this.setInterval(d,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();e.forEach(r=>{r!==n&&r.el_&&!r.hasClass("vjs-hidden")&&(r.hide(),this.audioOnlyCache_.hiddenChildren.push(r))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,i){if(this.tech_)return this.tech_.addTextTrack(e,n,i)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Yr(this)&&this.trigger("languagechange"))}languages(){return Mt(Ft.prototype.options_.languages,this.languages_)}toJSON(){const e=Mt(this.options_),n=e.tracks;e.tracks=[];for(let i=0;i<n.length;i++){let r=n[i];r=Mt(r),r.player=void 0,e.tracks[i]=r}return e}createModal(e,n){n=n||{},n.content=e||"";const i=new du(this,n);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let i=0;i<wg.length;i++){const r=wg[i],s=this.breakpoints_[r];if(n<=s){if(e===r)return;e&&this.removeClass(id[e]),this.addClass(id[r]),this.breakpoint_=r;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},o5,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return id[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=Mt(e);const{artist:r,artwork:s,description:a,poster:o,src:u,textTracks:c,title:d}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:Fd(o)}]),i&&this.crossOrigin(i),u&&this.src(u),o&&this.poster(o),Array.isArray(c)&&c.forEach(p=>this.addRemoteTextTrack(p,!1)),this.titleBar&&this.titleBar.update({title:d,description:a||r||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),r={src:n,textTracks:i};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:Fd(r.poster)}]),r}return Mt(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},i=Ss(e),r=i["data-setup"];if(cl(e,"vjs-fill")&&(i.fill=!0),cl(e,"vjs-fluid")&&(i.fluid=!0),r!==null){const[s,a]=zN(r||"{}");s&&ct.error(s),Object.assign(i,a)}if(Object.assign(n,i),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const u=s[a],c=u.nodeName.toLowerCase();c==="source"?n.sources.push(Ss(u)):c==="track"&&n.tracks.push(Ss(u))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Xn.names.forEach(function(t){const e=Xn[t];Ft.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Ft.prototype.crossorigin=Ft.prototype.crossOrigin;Ft.players={};const Vu=W.navigator;Ft.prototype.options_={techOrder:tt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Vu&&(Vu.languages&&Vu.languages[0]||Vu.userLanguage||Vu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Ft.prototype[t]=function(){return this.techGet_(t)}});Bx.forEach(function(t){Ft.prototype[`handleTech${tn(t)}_`]=function(){return this.trigger(t)}});ye.registerComponent("Player",Ft);const Ud="plugin",Po="activePlugins_",vo={},jd=t=>vo.hasOwnProperty(t),rd=t=>jd(t)?vo[t]:void 0,Fx=(t,e)=>{t[Po]=t[Po]||{},t[Po][e]=!0},$d=(t,e,n)=>{const i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},u5=function(t,e){const n=function(){$d(this,{name:t,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return Fx(this,t),$d(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){n[i]=e[i]}),n},lb=(t,e)=>(e.prototype.name=t,function(...n){$d(this,{name:t,plugin:e,instance:null},!0);const i=new e(this,...n);return this[t]=()=>i,$d(this,i.getEventHash()),i});class hi{constructor(e){if(this.constructor===hi)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),a0(this),delete this.trigger,nx(this,this.constructor.defaultState),Fx(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return cu(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Po][e]=!1,this.player=this.state=null,n[e]=lb(e,vo[e])}static isBasic(e){const n=typeof e=="string"?rd(e):e;return typeof n=="function"&&!hi.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(jd(e))ct.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Ft.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return vo[e]=n,e!==Ud&&(hi.isBasic(n)?Ft.prototype[e]=u5(e,n):Ft.prototype[e]=lb(e,n)),n}static deregisterPlugin(e){if(e===Ud)throw new Error("Cannot de-register base plugin.");jd(e)&&(delete vo[e],delete Ft.prototype[e])}static getPlugins(e=Object.keys(vo)){let n;return e.forEach(i=>{const r=rd(i);r&&(n=n||{},n[i]=r)}),n}static getPluginVersion(e){const n=rd(e);return n&&n.VERSION||""}}hi.getPlugin=rd;hi.BASE_PLUGIN_NAME=Ud;hi.registerPlugin(Ud,hi);Ft.prototype.usingPlugin=function(t){return!!this[Po]&&this[Po][t]===!0};Ft.prototype.hasPlugin=function(t){return!!jd(t)};function l5(t,e){let n=!1;return function(...i){return n||ct.warn(t),n=!0,e.apply(this,i)}}function or(t,e,n,i){return l5(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,i)}const Ux=t=>t.indexOf("#")===0?t.slice(1):t;function fe(t,e,n){let i=fe.getPlayer(t);if(i)return e&&ct.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&i.ready(n),i;const r=typeof t=="string"?Ns("#"+Ux(t)):t;if(!lu(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in r?r.getRootNode()instanceof W.ShadowRoot:!1)?r.getRootNode():r.ownerDocument.body;(!r.ownerDocument.defaultView||!a.contains(r))&&ct.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),Rs("beforesetup").forEach(u=>{const c=u(r,Mt(e));if(!Lr(c)||Array.isArray(c)){ct.error("please return an object in beforesetup hooks");return}e=Mt(e,c)});const o=ye.getComponent("Player");return i=new o(r,e,n),Rs("setup").forEach(u=>u(i)),i}fe.hooks_=Gr;fe.hooks=Rs;fe.hook=q8;fe.hookOnce=V8;fe.removeHook=DE;if(W.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&uu()){let t=Ns(".vjs-styles-defaults");if(!t){t=QE("vjs-styles-defaults");const e=Ns("head");e&&e.insertBefore(t,e.firstChild),JE(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}vg(1,fe);fe.VERSION=AE;fe.options=Ft.prototype.options_;fe.getPlayers=()=>Ft.players;fe.getPlayer=t=>{const e=Ft.players;let n;if(typeof t=="string"){const i=Ux(t),r=e[i];if(r)return r;n=Ns("#"+i)}else n=t;if(lu(n)){const{player:i,playerId:r}=n;if(i||e[r])return i||e[r]}};fe.getAllPlayers=()=>Object.keys(Ft.players).map(t=>Ft.players[t]).filter(Boolean);fe.players=Ft.players;fe.getComponent=ye.getComponent;fe.registerComponent=(t,e)=>(tt.isTech(e)&&ct.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),ye.registerComponent.call(ye,t,e));fe.getTech=tt.getTech;fe.registerTech=tt.registerTech;fe.use=vM;Object.defineProperty(fe,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(fe.middleware,"TERMINATOR",{value:Bd,writeable:!1,enumerable:!0});fe.browser=K8;fe.obj=G8;fe.mergeOptions=or(9,"videojs.mergeOptions","videojs.obj.merge",Mt);fe.defineLazyProperty=or(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Lf);fe.bind=or(9,"videojs.bind","native Function.prototype.bind",Bt);fe.registerPlugin=hi.registerPlugin;fe.deregisterPlugin=hi.deregisterPlugin;fe.plugin=(t,e)=>(ct.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),hi.registerPlugin(t,e));fe.getPlugins=hi.getPlugins;fe.getPlugin=hi.getPlugin;fe.getPluginVersion=hi.getPluginVersion;fe.addLanguage=function(t,e){return t=(""+t).toLowerCase(),fe.options.languages=Mt(fe.options.languages,{[t]:e}),fe.options.languages[t]};fe.log=ct;fe.createLogger=kE;fe.time=uM;fe.createTimeRange=or(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Dr);fe.createTimeRanges=or(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Dr);fe.formatTime=or(9,"videojs.formatTime","videojs.time.formatTime",Ma);fe.setFormatTime=or(9,"videojs.setFormatTime","videojs.time.setFormatTime",sx);fe.resetFormatTime=or(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",ax);fe.parseUrl=or(9,"videojs.parseUrl","videojs.url.parseUrl",l0);fe.isCrossOrigin=or(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Hf);fe.EventTarget=zi;fe.any=s0;fe.on=Pi;fe.one=jf;fe.off=Bn;fe.trigger=cu;fe.xhr=L2;fe.TextTrack=Zl;fe.AudioTrack=cx;fe.VideoTrack=dx;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{fe[t]=function(){return ct.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),XE[t].apply(null,arguments)}});fe.computedStyle=or(9,"videojs.computedStyle","videojs.dom.computedStyle",Jo);fe.dom=XE;fe.fn=nM;fe.num=UM;fe.str=aM;fe.url=yM;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class c5{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(i){n.enabled_(i)}}),n}}class Hd extends fe.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const i=this.levels_.length;return n=new c5(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,i=this.length;n<i;n++){const r=this[n];if(r.id===e)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Hd.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in Hd.prototype.allowedEvents_)Hd.prototype["on"+t]=null;var jx="4.0.0";const d5=function(t,e){const n=t.qualityLevels,i=new Hd,r=function(){i.dispose(),t.qualityLevels=n,t.off("dispose",r)};return t.on("dispose",r),t.qualityLevels=()=>i,t.qualityLevels.VERSION=jx,i},$x=function(t){return d5(this,fe.obj.merge({},t))};fe.registerPlugin("qualityLevels",$x);$x.VERSION=jx;/*! @name @videojs/http-streaming @version 3.7.0 @license Apache-2.0 */const wi=N3,qd=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Gi=t=>fe.log.debug?fe.log.debug.bind(fe,"VHS:",`${t} >`):function(){};function Lt(...t){const e=fe.obj||fe;return(e.merge||e.mergeOptions).apply(e,t)}function Mn(...t){const e=fe.time||fe;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function f5(t){let e="";for(let n=0;n<t.length;n++){const i=t.start(n),r=t.end(n),s=r-i;e.length&&(e+=`
`),e+=`[${s}](${i} -> ${r})`}return e||"empty"}const Ms=1/30,xr=Ms*3,Hx=function(t,e){const n=[];let i;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Mn(n)},bo=function(t,e){return Hx(t,function(n,i){return n-xr<=e&&i+xr>=e})},Xc=function(t,e){return Hx(t,function(n){return n-Ms>=e})},h5=function(t){if(t.length<2)return Mn();const e=[];for(let n=1;n<t.length;n++){const i=t.end(n-1),r=t.start(n);e.push([i,r])}return Mn(e)},p5=function(t,e){let n=null,i=null,r=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Mn();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(u,c){return u.time-c.time}),o=0;o<s.length;o++)s[o].type==="start"?(r++,r===2&&(n=s[o].time)):s[o].type==="end"&&(r--,r===1&&(i=s[o].time)),n!==null&&i!==null&&(a.push([n,i]),n=null,i=null);return Mn(a)},qx=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},g5=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},Sa=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},m5=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},cb=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},A0=function(t,e){let n=0;if(!t||!t.length)return n;for(let i=0;i<t.length;i++){const r=t.start(i),s=t.end(i);if(!(e>s)){if(e>r&&e<=s){n+=s-e;continue}n+=s-r}}return n},D0=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(i){n+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(n+=t.partTargetDuration)}),n},Ag=t=>(t.segments||[]).reduce((e,n,i)=>(n.parts?n.parts.forEach(function(r,s){e.push({duration:r.duration,segmentIndex:i,partIndex:s,part:r,segment:n})}):e.push({duration:n.duration,segmentIndex:i,partIndex:null,segment:n,part:null}),e),[]),Vx=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},Wx=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let i=(n||[]).reduce((r,s)=>r+(s.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},zx=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=Vx(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},y5=function(t,e){let n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(typeof r.start<"u")return{result:r.start,precise:!0};if(typeof r.end<"u")return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=t.segments[i],typeof r.end<"u")return{result:n+r.end,precise:!0};if(n+=D0(t,r),typeof r.start<"u")return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},_5=function(t,e){let n=0,i,r=e-t.mediaSequence;for(;r<t.segments.length;r++){if(i=t.segments[r],typeof i.start<"u")return{result:i.start-n,precise:!0};if(n+=D0(t,i),typeof i.end<"u")return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},Gx=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const i=y5(t,e);if(i.precise)return i.result;const r=_5(t,e);return r.precise?r.result:i.result+n},Kx=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return W.Infinity}return Gx(t,e,n)},hl=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let s=n;s<Math.min(0,i);s++)r+=t;n=0}for(let s=n;s<i;s++)r+=e[s].duration;return r},Xx=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return Kx(t);if(e===null)return null;e=e||0;let r=Gx(t,t.mediaSequence+t.segments.length,e);return n&&(i=typeof i=="number"?i:zx(null,t),r-=i),Math.max(0,r)},v5=function(t,e,n){const r=e||0;let s=Xx(t,e,!0,n);return s===null?Mn():(s<r&&(s=r),Mn(r,s))},b5=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:s}){let a=e-r;const o=Ag(t);let u=0;for(let c=0;c<o.length;c++){const d=o[c];if(n===d.segmentIndex&&!(typeof i=="number"&&typeof d.partIndex=="number"&&i!==d.partIndex)){u=c;break}}if(a<0){if(u>0)for(let c=u-1;c>=0;c--){const d=o[c];if(a+=d.duration,s){if(a<0)continue}else if(a+Ms<=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:r-hl({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:c})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(u<0){for(let c=u;c<0;c++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};u=0}for(let c=u;c<o.length;c++){const d=o[c];if(a-=d.duration,s){if(a>0)continue}else if(a-Ms>=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:r+hl({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:c})}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},Yx=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},k0=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Wf=function(t){const e=Yx(t);return!t.disabled&&!e},T5=function(t){return t.disabled},E5=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Qx=function(t,e){return e.attributes&&e.attributes[t]},x5=function(t,e,n,i=0){return Qx("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-i*8)/e:NaN},Dg=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(i=>Wf(i)?(i.attributes.BANDWIDTH||0)<n:!1).length===0},L0=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),db=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let i=!1;for(const r in n){for(const s in n[r])if(i=e(n[r][s]),i)break;if(i)break}return!!i},ic=t=>{if(!t||!t.playlists||!t.playlists.length)return db(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],i=n.attributes&&n.attributes.CODECS;if(!(i&&i.split(",").every(s=>B2(s))||db(t,s=>L0(n,s))))return!1}return!0};var fi={liveEdgeDelay:zx,duration:Kx,seekable:v5,getMediaInfoForTime:b5,isEnabled:Wf,isDisabled:T5,isExcluded:Yx,isIncompatible:k0,playlistEnd:Xx,isAes:E5,hasAttribute:Qx,estimateSegmentRequestTime:x5,isLowestEnabledRendition:Dg,isAudioOnly:ic,playlistMatch:L0,segmentDurationWithParts:D0};const{log:Jx}=fe,I0=(t,e)=>`${t}-${e}`,S5=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,C5=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:s})=>{const a=new H3;t&&a.on("warn",t),e&&a.on("info",e),i.forEach(c=>a.addParser(c)),r.forEach(c=>a.addTagMapper(c)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(c){o.hasOwnProperty(c)&&delete o[c]}),o.segments&&o.segments.forEach(function(c){["parts","preloadHints"].forEach(function(d){c.hasOwnProperty(d)&&delete c[d]})})),!o.targetDuration){let c=10;o.segments&&o.segments.length&&(c=o.segments.reduce((d,p)=>Math.max(d,p.duration),0)),t&&t(`manifest has no targetDuration defaulting to ${c}`),o.targetDuration=c}const u=Vx(o);if(u.length&&!o.partTargetDuration){const c=u.reduce((d,p)=>Math.max(d,p.duration),0);t&&(t(`manifest has no partTargetDuration defaulting to ${c}`),Jx.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=c}return o},pu=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const i in t.mediaGroups[n])for(const r in t.mediaGroups[n][i]){const s=t.mediaGroups[n][i][r];e(s,n,i,r)}})},Zx=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},w5=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];Zx({playlist:n,id:I0(e,n.uri)}),n.resolvedUri=wi(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||Jx.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},A5=t=>{pu(t,e=>{e.uri&&(e.resolvedUri=wi(t.uri,e.uri))})},D5=(t,e)=>{const n=I0(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:W.location.href,resolvedUri:W.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[e]=i.playlists[0],i},eS=(t,e,n=S5)=>{t.uri=e;for(let r=0;r<t.playlists.length;r++)if(!t.playlists[r].uri){const s=`placeholder-uri-${r}`;t.playlists[r].uri=s}const i=ic(t);pu(t,(r,s,a,o)=>{if(!r.playlists||!r.playlists.length){if(i&&s==="AUDIO"&&!r.uri)for(let u=0;u<t.playlists.length;u++){const c=t.playlists[u];if(c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a)return}r.playlists=[Os({},r)]}r.playlists.forEach(function(u,c){const d=n(s,a,o,u),p=I0(c,d);u.uri?u.resolvedUri=u.resolvedUri||wi(t.uri,u.uri):(u.uri=c===0?d:p,u.resolvedUri=u.uri),u.id=u.id||p,u.attributes=u.attributes||{},t.playlists[u.id]=u,t.playlists[u.uri]=u})}),w5(t),A5(t)};class fb{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,i=n.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((r,s)=>(r.set(s.id,s),r),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((i,r)=>{if(!this.processedDateRanges_.has(r)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),n.push(i),!!i.class))if(e[i.class]){const s=e[i.class].push(i);i.classListIndex=s-1}else e[i.class]=[i],i.classListIndex=0});for(const i of n){const r=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&r[i.classListIndex+1]?i.endTime=r[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((i,r)=>{i.startDate.getTime()<e&&this.processedDateRanges_.delete(r)})}}const{EventTarget:k5}=fe,L5=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let r=e.mediaSequence+e.segments.length;if(i){const s=i.parts||[],a=Wx(e)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&r--}n._HLS_msn=r}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const i=new W.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(r){n.hasOwnProperty(r)&&i.searchParams.set(r,n[r])}),t=i.toString()}return t},I5=(t,e)=>{if(!t)return e;const n=Lt(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let i=0;i<e.parts.length;i++)t.parts&&t.parts[i]&&(n.parts[i]=Lt(t.parts[i],e.parts[i]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},P5=(t,e,n)=>{const i=t.slice(),r=e.slice();n=n||0;const s=[];let a;for(let o=0;o<r.length;o++){const u=i[o+n],c=r[o];u?(a=u.map||a,s.push(I5(u,c))):(a&&!c.map&&(c.map=a),s.push(c))}return s},tS=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=wi(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=wi(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=wi(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=wi(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=wi(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=wi(e,n.uri))})},nS=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let i=0;i<n.preloadHints.length;i++)if(n.preloadHints[i].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},iS=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,kg=(t,e,n=iS)=>{const i=Lt(t,{}),r=i.playlists[e.id];if(!r||n(r,e))return null;e.segments=nS(e);const s=Lt(r,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=P5(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}s.segments.forEach(a=>{tS(a,s.resolvedUri)});for(let a=0;a<i.playlists.length;a++)i.playlists[a].id===e.id&&(i.playlists[a]=s);return i.playlists[e.id]=s,i.playlists[e.uri]=s,pu(t,(a,o,u,c)=>{if(a.playlists)for(let d=0;d<a.playlists.length;d++)e.id===a.playlists[d].id&&(a.playlists[d]=s)}),i},Lg=(t,e)=>{const n=t.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],s=r&&r.duration||i&&i.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class To extends k5{constructor(e,n,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Gi("PlaylistLoader");const{withCredentials:r=!1}=i;this.src=e,this.vhs_=n,this.withCredentials=r,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new fb,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=wi(this.main.uri,e.uri);this.llhls&&(n=L5(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(i,r)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,i){const{uri:r,id:s}=n;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${r}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:n}){return C5({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${e}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${e}: ${i}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:n,url:i,id:r}){this.request=null,this.state="HAVE_METADATA";const s=n||this.parseManifest_({url:i,manifestString:e});s.lastRequest=Date.now(),Zx({playlist:s,uri:i,id:r});const a=kg(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Lg(this.media(),!!a)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),W.clearTimeout(this.mediaUpdateTimeout),W.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new fb,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(W.clearTimeout(this.finalRenditionTimeout),n){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=W.setTimeout(this.media.bind(this,e,!1),a);return}const i=this.state,r=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Lg(e,!0)),!!r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(a,o)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=qd(e.resolvedUri,o),a)return this.playlistRequestError(this.request,e,i);this.haveMetadata({playlistString:o.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=W.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=W.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=W.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,n)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=qd(this.src,n);const i=this.parseManifest_({manifestString:n.responseText,url:this.src});this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,eS(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=nS(i),i.segments.forEach(r=>{tS(r,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||W.location.href;this.main=D5(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:O5}=fe,Ig=function(t,e,n,i){const r=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},R5=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(i=>{n=i(n)}),n},N5=(t,e,n,i)=>{!t||!t.size||t.forEach(r=>{r(e,n,i)})},rS=function(){const t=function e(n,i){n=Lt({timeout:45e3},n);const r=e.beforeRequest||fe.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||fe.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||fe.Vhs.xhr._responseCallbackSet;r&&typeof r=="function"&&(fe.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(r));const o=fe.Vhs.xhr.original===!0?O5:fe.Vhs.xhr,u=R5(s,n);s.delete(r);const c=o(u||n,function(p,v){return N5(a,c,p,v),Ig(c,p,v,i)}),d=c.abort;return c.abort=function(){return c.aborted=!0,d.apply(c,arguments)},c.uri=n.uri,c.requestTime=Date.now(),c};return t.original=!0,t},M5=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=W.BigInt(t.offset)+W.BigInt(t.length)-W.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},Pg=function(t){const e={};return t.byterange&&(e.Range=M5(t.byterange)),e},B5=function(t,e){return t.start(e)+"-"+t.end(e)},F5=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},U5=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},sS=function(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];U2(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},Vd=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},aS=function(t){return t.resolvedUri},oS=t=>{const e=Array.prototype.slice.call(t),n=16;let i="",r,s;for(let a=0;a<e.length/n;a++)r=e.slice(a*n,a*n+n).map(F5).join(""),s=e.slice(a*n,a*n+n).map(U5).join(""),i+=r+" "+s+`
`;return i},j5=({bytes:t})=>oS(t),$5=t=>{let e="",n;for(n=0;n<t.length;n++)e+=B5(t,n)+" ";return e};var H5=Object.freeze({__proto__:null,createTransferableMessage:sS,initSegmentId:Vd,segmentKeyId:aS,hexDump:oS,tagDump:j5,textRanges:$5});const uS=.25,q5=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,r=e.videoTimingInfo.transmuxedPresentationStart+n,s=t-r;return new Date(e.dateTimeObject.getTime()+s*1e3)},V5=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,W5=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let u=0;u<e.segments.length-1;u++){i=e.segments[u];const c=new Date(e.segments[u+1].dateTimeObject);if(n<c)break}const r=e.segments[e.segments.length-1],s=r.dateTimeObject,a=r.videoTimingInfo?V5(r.videoTimingInfo):r.duration+r.duration*uS,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:fi.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},z5=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,i;for(let s=0;s<e.segments.length&&(i=e.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(t<=n));s++);const r=e.segments[e.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+r.duration*uS)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},G5=(t,e)=>{let n,i;try{n=new Date(t),i=new Date(e)}catch{}const r=n.getTime();return(i.getTime()-r)/1e3},K5=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},X5=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const i=z5(e,t);if(!i)return n({message:"valid programTime was not found"});if(i.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:e},s=q5(e,i.segment);return s&&(r.programDateTime=s.toISOString()),n(null,r)},lS=({programTime:t,playlist:e,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!i)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!K5(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=W5(t,e);if(!o)return a({message:`${t} was not found in the stream`});const u=o.segment,c=G5(u.dateTimeObject,t);if(o.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});i(o.estimatedStart+c),s.one("seeked",()=>{lS({programTime:t,playlist:e,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:s,callback:a})});return}const d=u.start+c,p=()=>a(null,s.currentTime());s.one("seeked",p),r&&s.pause(),i(d)},rp=(t,e)=>{if(t.readyState===4)return e()},Y5=(t,e,n)=>{let i=[],r,s=!1;const a=function(d,p,v,C){return p.abort(),s=!0,n(d,p,v,C)},o=function(d,p){if(s)return;if(d)return a(d,p,"",i);const v=p.responseText.substring(i&&i.byteLength||0,p.responseText.length);if(i=e4(i,j2(v,!0)),r=r||Ju(i),i.length<10||r&&i.length<r+2)return rp(p,()=>a(d,p,"",i));const C=Ym(i);return C==="ts"&&i.length<188?rp(p,()=>a(d,p,"",i)):!C&&i.length<376?rp(p,()=>a(d,p,"",i)):a(null,p,C,i)},c=e({uri:t,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:p,loaded:v}){return Ig(d,null,{statusCode:d.status},o)})}},function(d,p){return Ig(c,d,p,o)});return c},{EventTarget:Q5}=fe,hb=function(t,e){if(!iS(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const i=t.segments[n],r=e.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const s=i.byterange,a=r.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},J5=(t,e,n,i)=>{const r=i.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${r}`},Z5=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const s=T8(t,{manifestUri:e,clientOffset:n,sidxMapping:i,previousManifest:r});return eS(s,e,J5),s},eB=(t,e)=>{pu(t,(n,i,r,s)=>{s in e.mediaGroups[i][r]||delete t.mediaGroups[i][r][s]})},tB=(t,e,n)=>{let i=!0,r=Lt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const u=Af(a.sidx);n&&n[u]&&n[u].sidx&&Gm(a,n[u].sidx,a.sidx.resolvedUri)}const o=kg(r,a,hb);o&&(r=o,i=!1)}return pu(e,(s,a,o,u)=>{if(s.playlists&&s.playlists.length){const c=s.playlists[0].id,d=kg(r,s.playlists[0],hb);d&&(r=d,u in r.mediaGroups[a][o]||(r.mediaGroups[a][o][u]=s),r.mediaGroups[a][o][u].playlists[0]=r.playlists[c],i=!1)}}),eB(r,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:r},nB=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,pb=(t,e)=>{const n={};for(const i in t){const s=t[i].sidx;if(s){const a=Af(s);if(!e[a])break;const o=e[a].sidxInfo;nB(o,s)&&(n[a]=e[a])}}return n},iB=(t,e)=>{let i=pb(t.playlists,e);return pu(t,(r,s,a,o)=>{if(r.playlists&&r.playlists.length){const u=r.playlists;i=Lt(i,pb(u,e))}}),i};class Og extends Q5{constructor(e,n,i={},r){super(),this.mainPlaylistLoader_=r||this,r||(this.isMain_=!0);const{withCredentials:s=!1}=i;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.media().attributes.serviceLocation||this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Gi("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,n,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,n,i){const r=e.sidx&&Af(e.sidx);if(!e.sidx||!r||this.mainPlaylistLoader_.sidxMapping_[r]){this.mediaRequest_=W.setTimeout(()=>i(!1),0);return}const s=qd(e.sidx.resolvedUri),a=(o,u)=>{if(this.requestErrored_(o,u,n))return;const c=this.mainPlaylistLoader_.sidxMapping_;let d;try{d=A8(ze(u.response).subarray(8))}catch(p){this.requestErrored_(p,u,n);return}return c[r]={sidxInfo:e.sidx,sidx:d},Gm(e,d,e.sidx.resolvedUri),i(!0)};this.request=Y5(s,this.vhs_.xhr,(o,u,c,d)=>{if(o)return a(o,u);if(!c||c!=="mp4")return a({status:u.status,message:`Unsupported ${c||"unknown"} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u);const{offset:p,length:v}=e.sidx.byterange;if(d.length>=v+p)return a(o,{response:d.subarray(p,p+v),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:Pg({byterange:e.sidx.byterange})},a)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},W.clearTimeout(this.minimumUpdatePeriodTimeout_),W.clearTimeout(this.mediaRequest_),W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,r=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(W.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=W.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=W.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(n,i)=>{if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const r=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=qd(this.mainPlaylistLoader_.srcUrl,i),r){this.handleMain_(),this.syncClientServerClock_(()=>e(i,r));return}return e(i,r)})}syncClientServerClock_(e){const n=E8(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:wi(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(i,r)=>{if(!this.request)return;if(i)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let s;n.method==="HEAD"?!r.responseHeaders||!r.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(r.responseHeaders.date):s=Date.parse(r.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let n=Z5({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(n=tB(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(W.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=W.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=iB(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==n[e];if(i?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const r=()=>{this.media().endList||(this.mediaUpdateTimeout=W.setTimeout(()=>{this.trigger("mediaupdatetimeout"),r()},Lg(this.media(),!!i)))};r()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}}var vn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const rB=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},cS=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},sB=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},dS=function(t){return function(){const e=sB(t),n=cS(new Worker(e));n.objURL=e;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},n}},fS=function(t){return`var browserWorkerPolyFill = ${cS.toString()};
browserWorkerPolyFill(self);
`+t},hS=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},aB=fS(hS(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var f={};this.on=function(g,_){f[g]||(f[g]=[]),f[g]=f[g].concat(_)},this.off=function(g,_){var y;return f[g]?(y=f[g].indexOf(_),f[g]=f[g].slice(),f[g].splice(y,1),y>-1):!1},this.trigger=function(g){var _,y,T,w;if(_=f[g],!!_)if(arguments.length===2)for(T=_.length,y=0;y<T;++y)_[y].call(this,arguments[1]);else{for(w=[],y=arguments.length,y=1;y<arguments.length;++y)w.push(arguments[y]);for(T=_.length,y=0;y<T;++y)_[y].apply(this,w)}},this.dispose=function(){f={}}}};e.prototype.pipe=function(f){return this.on("data",function(g){f.push(g)}),this.on("done",function(g){f.flush(g)}),this.on("partialdone",function(g){f.partialFlush(g)}),this.on("endedtimeline",function(g){f.endTimeline(g)}),this.on("reset",function(g){f.reset(g)}),f},e.prototype.push=function(f){this.trigger("data",f)},e.prototype.flush=function(f){this.trigger("done",f)},e.prototype.partialFlush=function(f){this.trigger("partialdone",f)},e.prototype.endTimeline=function(f){this.trigger("endedtimeline",f)},e.prototype.reset=function(f){this.trigger("reset",f)};var n=e,i=Math.pow(2,32),r=function(f){var g=new DataView(f.buffer,f.byteOffset,f.byteLength),_;return g.getBigUint64?(_=g.getBigUint64(0),_<Number.MAX_SAFE_INTEGER?Number(_):_):g.getUint32(0)*i+g.getUint32(4)},s={getUint64:r,MAX_UINT32:i},a=s.MAX_UINT32,o,u,c,d,p,v,C,x,L,O,S,A,M,I,N,F,m,te,ie,Te,Y,se,J,de,$e,Le,Re,Ve,bt,Qt,Ht,xt,fn,In,yi,qt;(function(){var f;if(J={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(f in J)J.hasOwnProperty(f)&&(J[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);de=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Le=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),$e=new Uint8Array([0,0,0,1]),Re=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ve=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),bt={video:Re,audio:Ve},xt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ht=new Uint8Array([0,0,0,0,0,0,0,0]),fn=new Uint8Array([0,0,0,0,0,0,0,0]),In=fn,yi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),qt=fn,Qt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(f){var g=[],_=0,y,T,w;for(y=1;y<arguments.length;y++)g.push(arguments[y]);for(y=g.length;y--;)_+=g[y].byteLength;for(T=new Uint8Array(_+8),w=new DataView(T.buffer,T.byteOffset,T.byteLength),w.setUint32(0,T.byteLength),T.set(f,4),y=0,_=8;y<g.length;y++)T.set(g[y],_),_+=g[y].byteLength;return T},u=function(){return o(J.dinf,o(J.dref,xt))},c=function(f){return o(J.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,f.audioobjecttype<<3|f.samplingfrequencyindex>>>1,f.samplingfrequencyindex<<7|f.channelcount<<3,6,1,2]))},d=function(){return o(J.ftyp,de,$e,de,Le)},F=function(f){return o(J.hdlr,bt[f])},p=function(f){return o(J.mdat,f)},N=function(f){var g=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,f.duration>>>24&255,f.duration>>>16&255,f.duration>>>8&255,f.duration&255,85,196,0,0]);return f.samplerate&&(g[12]=f.samplerate>>>24&255,g[13]=f.samplerate>>>16&255,g[14]=f.samplerate>>>8&255,g[15]=f.samplerate&255),o(J.mdhd,g)},I=function(f){return o(J.mdia,N(f),F(f.type),C(f))},v=function(f){return o(J.mfhd,new Uint8Array([0,0,0,0,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255]))},C=function(f){return o(J.minf,f.type==="video"?o(J.vmhd,Qt):o(J.smhd,Ht),u(),te(f))},x=function(f,g){for(var _=[],y=g.length;y--;)_[y]=Te(g[y]);return o.apply(null,[J.moof,v(f)].concat(_))},L=function(f){for(var g=f.length,_=[];g--;)_[g]=A(f[g]);return o.apply(null,[J.moov,S(4294967295)].concat(_).concat(O(f)))},O=function(f){for(var g=f.length,_=[];g--;)_[g]=Y(f[g]);return o.apply(null,[J.mvex].concat(_))},S=function(f){var g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(J.mvhd,g)},m=function(f){var g=f.samples||[],_=new Uint8Array(4+g.length),y,T;for(T=0;T<g.length;T++)y=g[T].flags,_[T+4]=y.dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy;return o(J.sdtp,_)},te=function(f){return o(J.stbl,ie(f),o(J.stts,qt),o(J.stsc,In),o(J.stsz,yi),o(J.stco,fn))},function(){var f,g;ie=function(_){return o(J.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),_.type==="video"?f(_):g(_))},f=function(_){var y=_.sps||[],T=_.pps||[],w=[],U=[],j,H;for(j=0;j<y.length;j++)w.push((y[j].byteLength&65280)>>>8),w.push(y[j].byteLength&255),w=w.concat(Array.prototype.slice.call(y[j]));for(j=0;j<T.length;j++)U.push((T[j].byteLength&65280)>>>8),U.push(T[j].byteLength&255),U=U.concat(Array.prototype.slice.call(T[j]));if(H=[J.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(_.width&65280)>>8,_.width&255,(_.height&65280)>>8,_.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(J.avcC,new Uint8Array([1,_.profileIdc,_.profileCompatibility,_.levelIdc,255].concat([y.length],w,[T.length],U))),o(J.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],_.sarRatio){var G=_.sarRatio[0],Z=_.sarRatio[1];H.push(o(J.pasp,new Uint8Array([(G&4278190080)>>24,(G&16711680)>>16,(G&65280)>>8,G&255,(Z&4278190080)>>24,(Z&16711680)>>16,(Z&65280)>>8,Z&255])))}return o.apply(null,H)},g=function(_){return o(J.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(_.channelcount&65280)>>8,_.channelcount&255,(_.samplesize&65280)>>8,_.samplesize&255,0,0,0,0,(_.samplerate&65280)>>8,_.samplerate&255,0,0]),c(_))}}(),M=function(f){var g=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,0,(f.duration&4278190080)>>24,(f.duration&16711680)>>16,(f.duration&65280)>>8,f.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(f.width&65280)>>8,f.width&255,0,0,(f.height&65280)>>8,f.height&255,0,0]);return o(J.tkhd,g)},Te=function(f){var g,_,y,T,w,U,j;return g=o(J.tfhd,new Uint8Array([0,0,0,58,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),U=Math.floor(f.baseMediaDecodeTime/a),j=Math.floor(f.baseMediaDecodeTime%a),_=o(J.tfdt,new Uint8Array([1,0,0,0,U>>>24&255,U>>>16&255,U>>>8&255,U&255,j>>>24&255,j>>>16&255,j>>>8&255,j&255])),w=32+20+8+16+8+8,f.type==="audio"?(y=se(f,w),o(J.traf,g,_,y)):(T=m(f),y=se(f,T.length+w),o(J.traf,g,_,y,T))},A=function(f){return f.duration=f.duration||4294967295,o(J.trak,M(f),I(f))},Y=function(f){var g=new Uint8Array([0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return f.type!=="video"&&(g[g.length-1]=0),o(J.trex,g)},function(){var f,g,_;_=function(y,T){var w=0,U=0,j=0,H=0;return y.length&&(y[0].duration!==void 0&&(w=1),y[0].size!==void 0&&(U=2),y[0].flags!==void 0&&(j=4),y[0].compositionTimeOffset!==void 0&&(H=8)),[0,0,w|U|j|H,1,(y.length&4278190080)>>>24,(y.length&16711680)>>>16,(y.length&65280)>>>8,y.length&255,(T&4278190080)>>>24,(T&16711680)>>>16,(T&65280)>>>8,T&255]},g=function(y,T){var w,U,j,H,G,Z;for(H=y.samples||[],T+=8+12+16*H.length,j=_(H,T),U=new Uint8Array(j.length+H.length*16),U.set(j),w=j.length,Z=0;Z<H.length;Z++)G=H[Z],U[w++]=(G.duration&4278190080)>>>24,U[w++]=(G.duration&16711680)>>>16,U[w++]=(G.duration&65280)>>>8,U[w++]=G.duration&255,U[w++]=(G.size&4278190080)>>>24,U[w++]=(G.size&16711680)>>>16,U[w++]=(G.size&65280)>>>8,U[w++]=G.size&255,U[w++]=G.flags.isLeading<<2|G.flags.dependsOn,U[w++]=G.flags.isDependedOn<<6|G.flags.hasRedundancy<<4|G.flags.paddingValue<<1|G.flags.isNonSyncSample,U[w++]=G.flags.degradationPriority&61440,U[w++]=G.flags.degradationPriority&15,U[w++]=(G.compositionTimeOffset&4278190080)>>>24,U[w++]=(G.compositionTimeOffset&16711680)>>>16,U[w++]=(G.compositionTimeOffset&65280)>>>8,U[w++]=G.compositionTimeOffset&255;return o(J.trun,U)},f=function(y,T){var w,U,j,H,G,Z;for(H=y.samples||[],T+=8+12+8*H.length,j=_(H,T),w=new Uint8Array(j.length+H.length*8),w.set(j),U=j.length,Z=0;Z<H.length;Z++)G=H[Z],w[U++]=(G.duration&4278190080)>>>24,w[U++]=(G.duration&16711680)>>>16,w[U++]=(G.duration&65280)>>>8,w[U++]=G.duration&255,w[U++]=(G.size&4278190080)>>>24,w[U++]=(G.size&16711680)>>>16,w[U++]=(G.size&65280)>>>8,w[U++]=G.size&255;return o(J.trun,w)},se=function(y,T){return y.type==="audio"?f(y,T):g(y,T)}}();var _e={ftyp:d,mdat:p,moof:x,moov:L,initSegment:function(f){var g=d(),_=L(f),y;return y=new Uint8Array(g.byteLength+_.byteLength),y.set(g),y.set(_,g.byteLength),y}},Ie=function(f){var g,_,y=[],T=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,y.byteLength=0,g=0;g<f.length;g++)_=f[g],_.nalUnitType==="access_unit_delimiter_rbsp"?(y.length&&(y.duration=_.dts-y.dts,T.byteLength+=y.byteLength,T.nalCount+=y.length,T.duration+=y.duration,T.push(y)),y=[_],y.byteLength=_.data.byteLength,y.pts=_.pts,y.dts=_.dts):(_.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(y.keyFrame=!0),y.duration=_.dts-y.dts,y.byteLength+=_.data.byteLength,y.push(_));return T.length&&(!y.duration||y.duration<=0)&&(y.duration=T[T.length-1].duration),T.byteLength+=y.byteLength,T.nalCount+=y.length,T.duration+=y.duration,T.push(y),T},Ae=function(f){var g,_,y=[],T=[];for(y.byteLength=0,y.nalCount=0,y.duration=0,y.pts=f[0].pts,y.dts=f[0].dts,T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=f[0].pts,T.dts=f[0].dts,g=0;g<f.length;g++)_=f[g],_.keyFrame?(y.length&&(T.push(y),T.byteLength+=y.byteLength,T.nalCount+=y.nalCount,T.duration+=y.duration),y=[_],y.nalCount=_.length,y.byteLength=_.byteLength,y.pts=_.pts,y.dts=_.dts,y.duration=_.duration):(y.duration+=_.duration,y.nalCount+=_.length,y.byteLength+=_.byteLength,y.push(_));return T.length&&y.duration<=0&&(y.duration=T[T.length-1].duration),T.byteLength+=y.byteLength,T.nalCount+=y.nalCount,T.duration+=y.duration,T.push(y),T},Pe=function(f){var g;return!f[0][0].keyFrame&&f.length>1&&(g=f.shift(),f.byteLength-=g.byteLength,f.nalCount-=g.nalCount,f[0][0].dts=g.dts,f[0][0].pts=g.pts,f[0][0].duration+=g.duration),f},rt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},V=function(f,g){var _=rt();return _.dataOffset=g,_.compositionTimeOffset=f.pts-f.dts,_.duration=f.duration,_.size=4*f.length,_.size+=f.byteLength,f.keyFrame&&(_.flags.dependsOn=2,_.flags.isNonSyncSample=0),_},P=function(f,g){var _,y,T,w,U,j=g||0,H=[];for(_=0;_<f.length;_++)for(w=f[_],y=0;y<w.length;y++)U=w[y],T=V(U,j),j+=T.size,H.push(T);return H},B=function(f){var g,_,y,T,w,U,j=0,H=f.byteLength,G=f.nalCount,Z=H+4*G,ce=new Uint8Array(Z),Oe=new DataView(ce.buffer);for(g=0;g<f.length;g++)for(T=f[g],_=0;_<T.length;_++)for(w=T[_],y=0;y<w.length;y++)U=w[y],Oe.setUint32(j,U.data.byteLength),j+=4,ce.set(U.data,j),j+=U.data.byteLength;return ce},K=function(f,g){var _,y=g||0,T=[];return _=V(f,y),T.push(_),T},ee=function(f){var g,_,y=0,T=f.byteLength,w=f.length,U=T+4*w,j=new Uint8Array(U),H=new DataView(j.buffer);for(g=0;g<f.length;g++)_=f[g],H.setUint32(y,_.data.byteLength),y+=4,j.set(_.data,y),y+=_.data.byteLength;return j},oe={groupNalsIntoFrames:Ie,groupFramesIntoGops:Ae,extendFirstKeyFrame:Pe,generateSampleTable:P,concatenateNalData:B,generateSampleTableForFrame:K,concatenateNalDataForFrame:ee},me=[33,16,5,32,164,27],xe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ve=function(f){for(var g=[];f--;)g.push(0);return g},Se=function(f){return Object.keys(f).reduce(function(g,_){return g[_]=new Uint8Array(f[_].reduce(function(y,T){return y.concat(T)},[])),g},{})},De,ne=function(){if(!De){var f={96e3:[me,[227,64],ve(154),[56]],88200:[me,[231],ve(170),[56]],64e3:[me,[248,192],ve(240),[56]],48e3:[me,[255,192],ve(268),[55,148,128],ve(54),[112]],44100:[me,[255,192],ve(268),[55,163,128],ve(84),[112]],32e3:[me,[255,192],ve(268),[55,234],ve(226),[112]],24e3:[me,[255,192],ve(268),[55,255,128],ve(268),[111,112],ve(126),[224]],16e3:[me,[255,192],ve(268),[55,255,128],ve(268),[111,255],ve(269),[223,108],ve(195),[1,192]],12e3:[xe,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,253,128],ve(259),[56]],11025:[xe,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,255,192],ve(268),[55,175,128],ve(108),[112]],8e3:[xe,ve(268),[3,121,16],ve(47),[7]]};De=Se(f)}return De},ue=9e4,be,Be,ut,st,yt,hn,_i;be=function(f){return f*ue},Be=function(f,g){return f*g},ut=function(f){return f/ue},st=function(f,g){return f/g},yt=function(f,g){return be(st(f,g))},hn=function(f,g){return Be(ut(f),g)},_i=function(f,g,_){return ut(_?f:f-g)};var ft={ONE_SECOND_IN_TS:ue,secondsToVideoTs:be,secondsToAudioTs:Be,videoTsToSeconds:ut,audioTsToSeconds:st,audioTsToVideoTs:yt,videoTsToAudioTs:hn,metadataTsToSeconds:_i},Cn=ne,$n=ft,en=function(f){var g,_,y=0;for(g=0;g<f.length;g++)_=f[g],y+=_.data.byteLength;return y},ti=function(f,g,_,y){var T,w=0,U=0,j=0,H=0,G,Z,ce;if(g.length&&(T=$n.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),w=Math.ceil($n.ONE_SECOND_IN_TS/(f.samplerate/1024)),_&&y&&(U=T-Math.max(_,y),j=Math.floor(U/w),H=j*w),!(j<1||H>$n.ONE_SECOND_IN_TS/2))){for(G=Cn()[f.samplerate],G||(G=g[0].data),Z=0;Z<j;Z++)ce=g[0],g.splice(0,0,{data:G,dts:ce.dts-w,pts:ce.pts-w});return f.baseMediaDecodeTime-=Math.floor($n.videoTsToAudioTs(H,f.samplerate)),H}},Mr=function(f,g,_){return g.minSegmentDts>=_?f:(g.minSegmentDts=1/0,f.filter(function(y){return y.dts>=_?(g.minSegmentDts=Math.min(g.minSegmentDts,y.dts),g.minSegmentPts=g.minSegmentDts,!0):!1}))},sc=function(f){var g,_,y=[];for(g=0;g<f.length;g++)_=f[g],y.push({size:_.data.byteLength,duration:1024});return y},ac=function(f){var g,_,y=0,T=new Uint8Array(en(f));for(g=0;g<f.length;g++)_=f[g],T.set(_.data,y),y+=_.data.byteLength;return T},Gf={prefixWithSilence:ti,trimAdtsFramesByEarliestDts:Mr,generateSampleTable:sc,concatenateFrameData:ac},us=ft.ONE_SECOND_IN_TS,Hs=function(f,g){typeof g.pts=="number"&&(f.timelineStartInfo.pts===void 0&&(f.timelineStartInfo.pts=g.pts),f.minSegmentPts===void 0?f.minSegmentPts=g.pts:f.minSegmentPts=Math.min(f.minSegmentPts,g.pts),f.maxSegmentPts===void 0?f.maxSegmentPts=g.pts:f.maxSegmentPts=Math.max(f.maxSegmentPts,g.pts)),typeof g.dts=="number"&&(f.timelineStartInfo.dts===void 0&&(f.timelineStartInfo.dts=g.dts),f.minSegmentDts===void 0?f.minSegmentDts=g.dts:f.minSegmentDts=Math.min(f.minSegmentDts,g.dts),f.maxSegmentDts===void 0?f.maxSegmentDts=g.dts:f.maxSegmentDts=Math.max(f.maxSegmentDts,g.dts))},oc=function(f){delete f.minSegmentDts,delete f.maxSegmentDts,delete f.minSegmentPts,delete f.maxSegmentPts},uc=function(f,g){var _,y,T=f.minSegmentDts;return g||(T-=f.timelineStartInfo.dts),_=f.timelineStartInfo.baseMediaDecodeTime,_+=T,_=Math.max(0,_),f.type==="audio"&&(y=f.samplerate/us,_*=y,_=Math.floor(_)),_},ni={clearDtsInfo:oc,calculateTrackBaseMediaDecodeTime:uc,collectDtsInfo:Hs},wn=4,gu=128,Kf=function(f){for(var g=0,_={payloadType:-1,payloadSize:0},y=0,T=0;g<f.byteLength&&f[g]!==gu;){for(;f[g]===255;)y+=255,g++;for(y+=f[g++];f[g]===255;)T+=255,g++;if(T+=f[g++],!_.payload&&y===wn){var w=String.fromCharCode(f[g+3],f[g+4],f[g+5],f[g+6]);if(w==="GA94"){_.payloadType=y,_.payloadSize=T,_.payload=f.subarray(g,g+T);break}else _.payload=void 0}g+=T,y=0,T=0}return _},lc=function(f){return f.payload[0]!==181||(f.payload[1]<<8|f.payload[2])!==49||String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])!=="GA94"||f.payload[7]!==3?null:f.payload.subarray(8,f.payload.length-1)},cc=function(f,g){var _=[],y,T,w,U;if(!(g[0]&64))return _;for(T=g[0]&31,y=0;y<T;y++)w=y*3,U={type:g[w+2]&3,pts:f},g[w+2]&4&&(U.ccData=g[w+3]<<8|g[w+4],_.push(U));return _},ls=function(f){for(var g=f.byteLength,_=[],y=1,T,w;y<g-2;)f[y]===0&&f[y+1]===0&&f[y+2]===3?(_.push(y+2),y+=2):y++;if(_.length===0)return f;T=g-_.length,w=new Uint8Array(T);var U=0;for(y=0;y<T;U++,y++)U===_[0]&&(U++,_.shift()),w[y]=f[U];return w},Br={parseSei:Kf,parseUserData:lc,parseCaptionPackets:cc,discardEmulationPreventionBytes:ls,USER_DATA_REGISTERED_ITU_T_T35:wn},qs=n,Fr=Br,Pn=function(f){f=f||{},Pn.prototype.init.call(this),this.parse708captions_=typeof f.parse708captions=="boolean"?f.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new St(0,0),new St(0,1),new St(1,0),new St(1,1)],this.parse708captions_&&(this.cc708Stream_=new Tt({captionServices:f.captionServices})),this.reset(),this.ccStreams_.forEach(function(g){g.on("data",this.trigger.bind(this,"data")),g.on("partialdone",this.trigger.bind(this,"partialdone")),g.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Pn.prototype=new qs,Pn.prototype.push=function(f){var g,_,y;if(f.nalUnitType==="sei_rbsp"&&(g=Fr.parseSei(f.escapedRBSP),!!g.payload&&g.payloadType===Fr.USER_DATA_REGISTERED_ITU_T_T35&&(_=Fr.parseUserData(g),!!_))){if(f.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(f.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}y=Fr.parseCaptionPackets(f.pts,_),this.captionPackets_=this.captionPackets_.concat(y),this.latestDts_!==f.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=f.dts}},Pn.prototype.flushCCStreams=function(f){this.ccStreams_.forEach(function(g){return f==="flush"?g.flush():g.partialFlush()},this)},Pn.prototype.flushStream=function(f){if(!this.captionPackets_.length){this.flushCCStreams(f);return}this.captionPackets_.forEach(function(g,_){g.presortIndex=_}),this.captionPackets_.sort(function(g,_){return g.pts===_.pts?g.presortIndex-_.presortIndex:g.pts-_.pts}),this.captionPackets_.forEach(function(g){g.type<2?this.dispatchCea608Packet(g):this.dispatchCea708Packet(g)},this),this.captionPackets_.length=0,this.flushCCStreams(f)},Pn.prototype.flush=function(){return this.flushStream("flush")},Pn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Pn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(f){f.reset()})},Pn.prototype.dispatchCea608Packet=function(f){this.setsTextOrXDSActive(f)?this.activeCea608Channel_[f.type]=null:this.setsChannel1Active(f)?this.activeCea608Channel_[f.type]=0:this.setsChannel2Active(f)&&(this.activeCea608Channel_[f.type]=1),this.activeCea608Channel_[f.type]!==null&&this.ccStreams_[(f.type<<1)+this.activeCea608Channel_[f.type]].push(f)},Pn.prototype.setsChannel1Active=function(f){return(f.ccData&30720)===4096},Pn.prototype.setsChannel2Active=function(f){return(f.ccData&30720)===6144},Pn.prototype.setsTextOrXDSActive=function(f){return(f.ccData&28928)===256||(f.ccData&30974)===4138||(f.ccData&30974)===6186},Pn.prototype.dispatchCea708Packet=function(f){this.parse708captions_&&this.cc708Stream_.push(f)};var Xf={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Yf=function(f){var g=Xf[f]||f;return f&4096&&f===g?"":String.fromCharCode(g)},Vs=function(f){return 32<=f&&f<=127||160<=f&&f<=255},Ki=function(f){this.windowNum=f,this.reset()};Ki.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ki.prototype.getText=function(){return this.rows.join(`
`)},Ki.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ki.prototype.newLine=function(f){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(f),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ki.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Ki.prototype.addText=function(f){this.rows[this.rowIdx]+=f},Ki.prototype.backspace=function(){if(!this.isEmpty()){var f=this.rows[this.rowIdx];this.rows[this.rowIdx]=f.substr(0,f.length-1)}};var qa=function(f,g,_){this.serviceNum=f,this.text="",this.currentWindow=new Ki(-1),this.windows=[],this.stream=_,typeof g=="string"&&this.createTextDecoder(g)};qa.prototype.init=function(f,g){this.startPts=f;for(var _=0;_<8;_++)this.windows[_]=new Ki(_),typeof g=="function"&&(this.windows[_].beforeRowOverflow=g)},qa.prototype.setCurrentWindow=function(f){this.currentWindow=this.windows[f]},qa.prototype.createTextDecoder=function(f){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(f)}catch(g){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+f+" encoding. "+g})}};var Tt=function(f){f=f||{},Tt.prototype.init.call(this);var g=this,_=f.captionServices||{},y={},T;Object.keys(_).forEach(w=>{T=_[w],/^SERVICE/.test(w)&&(y[w]=T.encoding)}),this.serviceEncodings=y,this.current708Packet=null,this.services={},this.push=function(w){w.type===3?(g.new708Packet(),g.add708Bytes(w)):(g.current708Packet===null&&g.new708Packet(),g.add708Bytes(w))}};Tt.prototype=new qs,Tt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Tt.prototype.add708Bytes=function(f){var g=f.ccData,_=g>>>8,y=g&255;this.current708Packet.ptsVals.push(f.pts),this.current708Packet.data.push(_),this.current708Packet.data.push(y)},Tt.prototype.push708Packet=function(){var f=this.current708Packet,g=f.data,_=null,y=null,T=0,w=g[T++];for(f.seq=w>>6,f.sizeCode=w&63;T<g.length;T++)w=g[T++],_=w>>5,y=w&31,_===7&&y>0&&(w=g[T++],_=w),this.pushServiceBlock(_,T,y),y>0&&(T+=y-1)},Tt.prototype.pushServiceBlock=function(f,g,_){var y,T=g,w=this.current708Packet.data,U=this.services[f];for(U||(U=this.initService(f,T));T<g+_&&T<w.length;T++)y=w[T],Vs(y)?T=this.handleText(T,U):y===24?T=this.multiByteCharacter(T,U):y===16?T=this.extendedCommands(T,U):128<=y&&y<=135?T=this.setCurrentWindow(T,U):152<=y&&y<=159?T=this.defineWindow(T,U):y===136?T=this.clearWindows(T,U):y===140?T=this.deleteWindows(T,U):y===137?T=this.displayWindows(T,U):y===138?T=this.hideWindows(T,U):y===139?T=this.toggleWindows(T,U):y===151?T=this.setWindowAttributes(T,U):y===144?T=this.setPenAttributes(T,U):y===145?T=this.setPenColor(T,U):y===146?T=this.setPenLocation(T,U):y===143?U=this.reset(T,U):y===8?U.currentWindow.backspace():y===12?U.currentWindow.clearText():y===13?U.currentWindow.pendingNewLine=!0:y===14?U.currentWindow.clearText():y===141&&T++},Tt.prototype.extendedCommands=function(f,g){var _=this.current708Packet.data,y=_[++f];return Vs(y)&&(f=this.handleText(f,g,{isExtended:!0})),f},Tt.prototype.getPts=function(f){return this.current708Packet.ptsVals[Math.floor(f/2)]},Tt.prototype.initService=function(f,g){var y="SERVICE"+f,_=this,y,T;return y in this.serviceEncodings&&(T=this.serviceEncodings[y]),this.services[f]=new qa(f,T,_),this.services[f].init(this.getPts(g),function(w){_.flushDisplayed(w,_.services[f])}),this.services[f]},Tt.prototype.handleText=function(f,g,_){var y=_&&_.isExtended,T=_&&_.isMultiByte,w=this.current708Packet.data,U=y?4096:0,j=w[f],H=w[f+1],G=g.currentWindow,Z,ce;function Oe(Ee){return Ee.map(Ge=>("0"+(Ge&255).toString(16)).slice(-2)).join("")}if(T?(ce=[j,H],f++):ce=[j],g.textDecoder_&&!y)Z=g.textDecoder_.decode(new Uint8Array(ce));else if(T){const Ee=Oe(ce);Z=String.fromCharCode(parseInt(Ee,16))}else Z=Yf(U|j);return G.pendingNewLine&&!G.isEmpty()&&G.newLine(this.getPts(f)),G.pendingNewLine=!1,G.addText(Z),f},Tt.prototype.multiByteCharacter=function(f,g){var _=this.current708Packet.data,y=_[f+1],T=_[f+2];return Vs(y)&&Vs(T)&&(f=this.handleText(++f,g,{isMultiByte:!0})),f},Tt.prototype.setCurrentWindow=function(f,g){var _=this.current708Packet.data,y=_[f],T=y&7;return g.setCurrentWindow(T),f},Tt.prototype.defineWindow=function(f,g){var _=this.current708Packet.data,y=_[f],T=y&7;g.setCurrentWindow(T);var w=g.currentWindow;return y=_[++f],w.visible=(y&32)>>5,w.rowLock=(y&16)>>4,w.columnLock=(y&8)>>3,w.priority=y&7,y=_[++f],w.relativePositioning=(y&128)>>7,w.anchorVertical=y&127,y=_[++f],w.anchorHorizontal=y,y=_[++f],w.anchorPoint=(y&240)>>4,w.rowCount=y&15,y=_[++f],w.columnCount=y&63,y=_[++f],w.windowStyle=(y&56)>>3,w.penStyle=y&7,w.virtualRowCount=w.rowCount+1,f},Tt.prototype.setWindowAttributes=function(f,g){var _=this.current708Packet.data,y=_[f],T=g.currentWindow.winAttr;return y=_[++f],T.fillOpacity=(y&192)>>6,T.fillRed=(y&48)>>4,T.fillGreen=(y&12)>>2,T.fillBlue=y&3,y=_[++f],T.borderType=(y&192)>>6,T.borderRed=(y&48)>>4,T.borderGreen=(y&12)>>2,T.borderBlue=y&3,y=_[++f],T.borderType+=(y&128)>>5,T.wordWrap=(y&64)>>6,T.printDirection=(y&48)>>4,T.scrollDirection=(y&12)>>2,T.justify=y&3,y=_[++f],T.effectSpeed=(y&240)>>4,T.effectDirection=(y&12)>>2,T.displayEffect=y&3,f},Tt.prototype.flushDisplayed=function(f,g){for(var _=[],y=0;y<8;y++)g.windows[y].visible&&!g.windows[y].isEmpty()&&_.push(g.windows[y].getText());g.endPts=f,g.text=_.join(`

`),this.pushCaption(g),g.startPts=f},Tt.prototype.pushCaption=function(f){f.text!==""&&(this.trigger("data",{startPts:f.startPts,endPts:f.endPts,text:f.text,stream:"cc708_"+f.serviceNum}),f.text="",f.startPts=f.endPts)},Tt.prototype.displayWindows=function(f,g){var _=this.current708Packet.data,y=_[++f],T=this.getPts(f);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&(g.windows[w].visible=1);return f},Tt.prototype.hideWindows=function(f,g){var _=this.current708Packet.data,y=_[++f],T=this.getPts(f);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&(g.windows[w].visible=0);return f},Tt.prototype.toggleWindows=function(f,g){var _=this.current708Packet.data,y=_[++f],T=this.getPts(f);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&(g.windows[w].visible^=1);return f},Tt.prototype.clearWindows=function(f,g){var _=this.current708Packet.data,y=_[++f],T=this.getPts(f);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&g.windows[w].clearText();return f},Tt.prototype.deleteWindows=function(f,g){var _=this.current708Packet.data,y=_[++f],T=this.getPts(f);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&g.windows[w].reset();return f},Tt.prototype.setPenAttributes=function(f,g){var _=this.current708Packet.data,y=_[f],T=g.currentWindow.penAttr;return y=_[++f],T.textTag=(y&240)>>4,T.offset=(y&12)>>2,T.penSize=y&3,y=_[++f],T.italics=(y&128)>>7,T.underline=(y&64)>>6,T.edgeType=(y&56)>>3,T.fontStyle=y&7,f},Tt.prototype.setPenColor=function(f,g){var _=this.current708Packet.data,y=_[f],T=g.currentWindow.penColor;return y=_[++f],T.fgOpacity=(y&192)>>6,T.fgRed=(y&48)>>4,T.fgGreen=(y&12)>>2,T.fgBlue=y&3,y=_[++f],T.bgOpacity=(y&192)>>6,T.bgRed=(y&48)>>4,T.bgGreen=(y&12)>>2,T.bgBlue=y&3,y=_[++f],T.edgeRed=(y&48)>>4,T.edgeGreen=(y&12)>>2,T.edgeBlue=y&3,f},Tt.prototype.setPenLocation=function(f,g){var _=this.current708Packet.data,y=_[f],T=g.currentWindow.penLoc;return g.currentWindow.pendingNewLine=!0,y=_[++f],T.row=y&15,y=_[++f],T.column=y&63,f},Tt.prototype.reset=function(f,g){var _=this.getPts(f);return this.flushDisplayed(_,g),this.initService(g.serviceNum,f)};var Qf={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Xi=function(f){return f===null?"":(f=Qf[f]||f,String.fromCharCode(f))},Ws=14,mu=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Yi=function(){for(var f=[],g=Ws+1;g--;)f.push({text:"",indent:0,offset:0});return f},St=function(f,g){St.prototype.init.call(this),this.field_=f||0,this.dataChannel_=g||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(_){var y,T,w,U,j;if(y=_.ccData&32639,y===this.lastControlCode_){this.lastControlCode_=null;return}if((y&61440)===4096?this.lastControlCode_=y:y!==this.PADDING_&&(this.lastControlCode_=null),w=y>>>8,U=y&255,y!==this.PADDING_)if(y===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(y===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(_.pts),this.flushDisplayed(_.pts),T=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=T,this.startPts_=_.pts;else if(y===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(_.pts);else if(y===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(_.pts);else if(y===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(_.pts);else if(y===this.CARRIAGE_RETURN_)this.clearFormatting(_.pts),this.flushDisplayed(_.pts),this.shiftRowsUp_(),this.startPts_=_.pts;else if(y===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(y===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(_.pts),this.displayed_=Yi();else if(y===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Yi();else if(y===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(_.pts),this.displayed_=Yi()),this.mode_="paintOn",this.startPts_=_.pts;else if(this.isSpecialCharacter(w,U))w=(w&3)<<8,j=Xi(w|U),this[this.mode_](_.pts,j),this.column_++;else if(this.isExtCharacter(w,U))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),w=(w&3)<<8,j=Xi(w|U),this[this.mode_](_.pts,j),this.column_++;else if(this.isMidRowCode(w,U))this.clearFormatting(_.pts),this[this.mode_](_.pts," "),this.column_++,(U&14)===14&&this.addFormatting(_.pts,["i"]),(U&1)===1&&this.addFormatting(_.pts,["u"]);else if(this.isOffsetControlCode(w,U)){const G=U&3;this.nonDisplayed_[this.row_].offset=G,this.column_+=G}else if(this.isPAC(w,U)){var H=mu.indexOf(y&7968);if(this.mode_==="rollUp"&&(H-this.rollUpRows_+1<0&&(H=this.rollUpRows_-1),this.setRollUp(_.pts,H)),H!==this.row_&&(this.clearFormatting(_.pts),this.row_=H),U&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(_.pts,["u"]),(y&16)===16){const G=(y&14)>>1;this.column_=G*4,this.nonDisplayed_[this.row_].indent+=G}this.isColorPAC(U)&&(U&14)===14&&this.addFormatting(_.pts,["i"])}else this.isNormalChar(w)&&(U===0&&(U=null),j=Xi(w),j+=Xi(U),this[this.mode_](_.pts,j),this.column_+=j.length)}};St.prototype=new qs,St.prototype.flushDisplayed=function(f){const g=y=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+y+"."})},_=[];this.displayed_.forEach((y,T)=>{if(y&&y.text&&y.text.length){try{y.text=y.text.trim()}catch{g(T)}y.text.length&&_.push({text:y.text,line:T+1,position:10+Math.min(70,y.indent*10)+y.offset*2.5})}else y==null&&g(T)}),_.length&&this.trigger("data",{startPts:this.startPts_,endPts:f,content:_,stream:this.name_})},St.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Yi(),this.nonDisplayed_=Yi(),this.lastControlCode_=null,this.column_=0,this.row_=Ws,this.rollUpRows_=2,this.formatting_=[]},St.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},St.prototype.isSpecialCharacter=function(f,g){return f===this.EXT_&&g>=48&&g<=63},St.prototype.isExtCharacter=function(f,g){return(f===this.EXT_+1||f===this.EXT_+2)&&g>=32&&g<=63},St.prototype.isMidRowCode=function(f,g){return f===this.EXT_&&g>=32&&g<=47},St.prototype.isOffsetControlCode=function(f,g){return f===this.OFFSET_&&g>=33&&g<=35},St.prototype.isPAC=function(f,g){return f>=this.BASE_&&f<this.BASE_+8&&g>=64&&g<=127},St.prototype.isColorPAC=function(f){return f>=64&&f<=79||f>=96&&f<=127},St.prototype.isNormalChar=function(f){return f>=32&&f<=127},St.prototype.setRollUp=function(f,g){if(this.mode_!=="rollUp"&&(this.row_=Ws,this.mode_="rollUp",this.flushDisplayed(f),this.nonDisplayed_=Yi(),this.displayed_=Yi()),g!==void 0&&g!==this.row_)for(var _=0;_<this.rollUpRows_;_++)this.displayed_[g-_]=this.displayed_[this.row_-_],this.displayed_[this.row_-_]={text:"",indent:0,offset:0};g===void 0&&(g=this.row_),this.topRow_=g-this.rollUpRows_+1},St.prototype.addFormatting=function(f,g){this.formatting_=this.formatting_.concat(g);var _=g.reduce(function(y,T){return y+"<"+T+">"},"");this[this.mode_](f,_)},St.prototype.clearFormatting=function(f){if(this.formatting_.length){var g=this.formatting_.reverse().reduce(function(_,y){return _+"</"+y+">"},"");this.formatting_=[],this[this.mode_](f,g)}},St.prototype.popOn=function(f,g){var _=this.nonDisplayed_[this.row_].text;_+=g,this.nonDisplayed_[this.row_].text=_},St.prototype.rollUp=function(f,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_},St.prototype.shiftRowsUp_=function(){var f;for(f=0;f<this.topRow_;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.row_+1;f<Ws+1;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.topRow_;f<this.row_;f++)this.displayed_[f]=this.displayed_[f+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},St.prototype.paintOn=function(f,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_};var yu={CaptionStream:Pn,Cea608Stream:St,Cea708Stream:Tt},Va={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},zs=n,dc=8589934592,fc=4294967296,_u="shared",Wa=function(f,g){var _=1;for(f>g&&(_=-1);Math.abs(g-f)>fc;)f+=_*dc;return f},vu=function(f){var g,_;vu.prototype.init.call(this),this.type_=f||_u,this.push=function(y){this.type_!==_u&&y.type!==this.type_||(_===void 0&&(_=y.dts),y.dts=Wa(y.dts,_),y.pts=Wa(y.pts,_),g=y.dts,this.trigger("data",y))},this.flush=function(){_=g,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){_=void 0,g=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};vu.prototype=new zs;var za={TimestampRolloverStream:vu,handleRollover:Wa},Jf=(f,g,_)=>{if(!f)return-1;for(var y=_;y<f.length;y++)if(f[y]===g)return y;return-1},Zf={typedArrayIndexOf:Jf},Gs=Zf.typedArrayIndexOf,Ks={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Ga=function(f,g,_){var y,T="";for(y=g;y<_;y++)T+="%"+("00"+f[y].toString(16)).slice(-2);return T},cs=function(f,g,_){return decodeURIComponent(Ga(f,g,_))},on=function(f,g,_){return unescape(Ga(f,g,_))},Oi=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},ur={APIC:function(f){var g=1,_,y,T="-->";f.data[0]===Ks.Utf8&&(_=Gs(f.data,0,g),!(_<0)&&(f.mimeType=on(f.data,g,_),g=_+1,f.pictureType=f.data[g],g++,y=Gs(f.data,0,g),!(y<0)&&(f.description=cs(f.data,g,y),g=y+1,f.mimeType===T?f.url=on(f.data,g,f.data.length):f.pictureData=f.data.subarray(g,f.data.length))))},"T*":function(f){f.data[0]===Ks.Utf8&&(f.value=cs(f.data,1,f.data.length).replace(/\0*$/,""),f.values=f.value.split("\0"))},TXXX:function(f){var g;f.data[0]===Ks.Utf8&&(g=Gs(f.data,0,1),g!==-1&&(f.description=cs(f.data,1,g),f.value=cs(f.data,g+1,f.data.length).replace(/\0*$/,""),f.data=f.value))},"W*":function(f){f.url=on(f.data,0,f.data.length).replace(/\0.*$/,"")},WXXX:function(f){var g;f.data[0]===Ks.Utf8&&(g=Gs(f.data,0,1),g!==-1&&(f.description=cs(f.data,1,g),f.url=on(f.data,g+1,f.data.length).replace(/\0.*$/,"")))},PRIV:function(f){var g;for(g=0;g<f.data.length;g++)if(f.data[g]===0){f.owner=on(f.data,0,g);break}f.privateData=f.data.subarray(g+1),f.data=f.privateData}},eh=function(f){var g,_,y=10,T=0,w=[];if(!(f.length<10||f[0]!=="I".charCodeAt(0)||f[1]!=="D".charCodeAt(0)||f[2]!=="3".charCodeAt(0))){T=Oi(f.subarray(6,10)),T+=10;var U=f[5]&64;U&&(y+=4,y+=Oi(f.subarray(10,14)),T-=Oi(f.subarray(16,20)));do{if(g=Oi(f.subarray(y+4,y+8)),g<1)break;_=String.fromCharCode(f[y],f[y+1],f[y+2],f[y+3]);var j={id:_,data:f.subarray(y+10,y+g+10)};j.key=j.id,ur[j.id]?ur[j.id](j):j.id[0]==="T"?ur["T*"](j):j.id[0]==="W"&&ur["W*"](j),w.push(j),y+=10,y+=g}while(y<T);return w}},hc={parseId3Frames:eh,parseSyncSafeInteger:Oi,frameParsers:ur},bu=n,pc=Va,vi=hc,Xs;Xs=function(f){var g={descriptor:f&&f.descriptor},_=0,y=[],T=0,w;if(Xs.prototype.init.call(this),this.dispatchType=pc.METADATA_STREAM_TYPE.toString(16),g.descriptor)for(w=0;w<g.descriptor.length;w++)this.dispatchType+=("00"+g.descriptor[w].toString(16)).slice(-2);this.push=function(U){var j,H,G,Z,ce,Oe;if(U.type==="timed-metadata"){if(U.dataAlignmentIndicator&&(T=0,y.length=0),y.length===0&&(U.data.length<10||U.data[0]!=="I".charCodeAt(0)||U.data[1]!=="D".charCodeAt(0)||U.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(y.push(U),T+=U.data.byteLength,y.length===1&&(_=vi.parseSyncSafeInteger(U.data.subarray(6,10)),_+=10),!(T<_)){for(j={data:new Uint8Array(_),frames:[],pts:y[0].pts,dts:y[0].dts},ce=0;ce<_;)j.data.set(y[0].data.subarray(0,_-ce),ce),ce+=y[0].data.byteLength,T-=y[0].data.byteLength,y.shift();H=10,j.data[5]&64&&(H+=4,H+=vi.parseSyncSafeInteger(j.data.subarray(10,14)),_-=vi.parseSyncSafeInteger(j.data.subarray(16,20)));do{if(G=vi.parseSyncSafeInteger(j.data.subarray(H+4,H+8)),G<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Oe=String.fromCharCode(j.data[H],j.data[H+1],j.data[H+2],j.data[H+3]),Z={id:Oe,data:j.data.subarray(H+10,H+G+10)},Z.key=Z.id,vi.frameParsers[Z.id]?vi.frameParsers[Z.id](Z):Z.id[0]==="T"?vi.frameParsers["T*"](Z):Z.id[0]==="W"&&vi.frameParsers["W*"](Z),Z.owner==="com.apple.streaming.transportStreamTimestamp"){var Ee=Z.data,Ge=(Ee[3]&1)<<30|Ee[4]<<22|Ee[5]<<14|Ee[6]<<6|Ee[7]>>>2;Ge*=4,Ge+=Ee[7]&3,Z.timeStamp=Ge,j.pts===void 0&&j.dts===void 0&&(j.pts=Z.timeStamp,j.dts=Z.timeStamp),this.trigger("timestamp",Z)}j.frames.push(Z),H+=10,H+=G}while(H<_);this.trigger("data",j)}}}},Xs.prototype=new bu;var th=Xs,Tu=n,Hn=yu,ii=Va,Ys=za.TimestampRolloverStream,Ka,Qs,Ri,ri=188,Js=71;Ka=function(){var f=new Uint8Array(ri),g=0;Ka.prototype.init.call(this),this.push=function(_){var y=0,T=ri,w;for(g?(w=new Uint8Array(_.byteLength+g),w.set(f.subarray(0,g)),w.set(_,g),g=0):w=_;T<w.byteLength;){if(w[y]===Js&&w[T]===Js){this.trigger("data",w.subarray(y,T)),y+=ri,T+=ri;continue}y++,T++}y<w.byteLength&&(f.set(w.subarray(y),0),g=w.byteLength-y)},this.flush=function(){g===ri&&f[0]===Js&&(this.trigger("data",f),g=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){g=0,this.trigger("reset")}},Ka.prototype=new Tu,Qs=function(){var f,g,_,y;Qs.prototype.init.call(this),y=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,f=function(T,w){var U=0;w.payloadUnitStartIndicator&&(U+=T[U]+1),w.type==="pat"?g(T.subarray(U),w):_(T.subarray(U),w)},g=function(T,w){w.section_number=T[7],w.last_section_number=T[8],y.pmtPid=(T[10]&31)<<8|T[11],w.pmtPid=y.pmtPid},_=function(T,w){var U,j,H,G;if(T[5]&1){for(y.programMapTable={video:null,audio:null,"timed-metadata":{}},U=(T[1]&15)<<8|T[2],j=3+U-4,H=(T[10]&15)<<8|T[11],G=12+H;G<j;){var Z=T[G],ce=(T[G+1]&31)<<8|T[G+2];Z===ii.H264_STREAM_TYPE&&y.programMapTable.video===null?y.programMapTable.video=ce:Z===ii.ADTS_STREAM_TYPE&&y.programMapTable.audio===null?y.programMapTable.audio=ce:Z===ii.METADATA_STREAM_TYPE&&(y.programMapTable["timed-metadata"][ce]=Z),G+=((T[G+3]&15)<<8|T[G+4])+5}w.programMapTable=y.programMapTable}},this.push=function(T){var w={},U=4;if(w.payloadUnitStartIndicator=!!(T[1]&64),w.pid=T[1]&31,w.pid<<=8,w.pid|=T[2],(T[3]&48)>>>4>1&&(U+=T[U]+1),w.pid===0)w.type="pat",f(T.subarray(U),w),this.trigger("data",w);else if(w.pid===this.pmtPid)for(w.type="pmt",f(T.subarray(U),w),this.trigger("data",w);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([T,U,w]):this.processPes_(T,U,w)},this.processPes_=function(T,w,U){U.pid===this.programMapTable.video?U.streamType=ii.H264_STREAM_TYPE:U.pid===this.programMapTable.audio?U.streamType=ii.ADTS_STREAM_TYPE:U.streamType=this.programMapTable["timed-metadata"][U.pid],U.type="pes",U.data=T.subarray(w),this.trigger("data",U)}},Qs.prototype=new Tu,Qs.STREAM_TYPES={h264:27,adts:15},Ri=function(){var f=this,g=!1,_={data:[],size:0},y={data:[],size:0},T={data:[],size:0},w,U=function(H,G){var Z;const ce=H[0]<<16|H[1]<<8|H[2];G.data=new Uint8Array,ce===1&&(G.packetLength=6+(H[4]<<8|H[5]),G.dataAlignmentIndicator=(H[6]&4)!==0,Z=H[7],Z&192&&(G.pts=(H[9]&14)<<27|(H[10]&255)<<20|(H[11]&254)<<12|(H[12]&255)<<5|(H[13]&254)>>>3,G.pts*=4,G.pts+=(H[13]&6)>>>1,G.dts=G.pts,Z&64&&(G.dts=(H[14]&14)<<27|(H[15]&255)<<20|(H[16]&254)<<12|(H[17]&255)<<5|(H[18]&254)>>>3,G.dts*=4,G.dts+=(H[18]&6)>>>1)),G.data=H.subarray(9+H[8]))},j=function(H,G,Z){var ce=new Uint8Array(H.size),Oe={type:G},Ee=0,Ge=0,Qe=!1,pn;if(!(!H.data.length||H.size<9)){for(Oe.trackId=H.data[0].pid,Ee=0;Ee<H.data.length;Ee++)pn=H.data[Ee],ce.set(pn.data,Ge),Ge+=pn.data.byteLength;U(ce,Oe),Qe=G==="video"||Oe.packetLength<=H.size,(Z||Qe)&&(H.size=0,H.data.length=0),Qe&&f.trigger("data",Oe)}};Ri.prototype.init.call(this),this.push=function(H){({pat:function(){},pes:function(){var G,Z;switch(H.streamType){case ii.H264_STREAM_TYPE:G=_,Z="video";break;case ii.ADTS_STREAM_TYPE:G=y,Z="audio";break;case ii.METADATA_STREAM_TYPE:G=T,Z="timed-metadata";break;default:return}H.payloadUnitStartIndicator&&j(G,Z,!0),G.data.push(H),G.size+=H.data.byteLength},pmt:function(){var G={type:"metadata",tracks:[]};w=H.programMapTable,w.video!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),g=!0,f.trigger("data",G)}})[H.type]()},this.reset=function(){_.size=0,_.data.length=0,y.size=0,y.data.length=0,this.trigger("reset")},this.flushStreams_=function(){j(_,"video"),j(y,"audio"),j(T,"timed-metadata")},this.flush=function(){if(!g&&w){var H={type:"metadata",tracks:[]};w.video!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),f.trigger("data",H)}g=!1,this.flushStreams_(),this.trigger("done")}},Ri.prototype=new Tu;var gc={PAT_PID:0,MP2T_PACKET_LENGTH:ri,TransportPacketStream:Ka,TransportParseStream:Qs,ElementaryStream:Ri,TimestampRolloverStream:Ys,CaptionStream:Hn.CaptionStream,Cea608Stream:Hn.Cea608Stream,Cea708Stream:Hn.Cea708Stream,MetadataStream:th};for(var Ur in ii)ii.hasOwnProperty(Ur)&&(gc[Ur]=ii[Ur]);var mc=gc,Eu=n,yc=ft.ONE_SECOND_IN_TS,Zs,_c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Zs=function(f){var g,_=0;Zs.prototype.init.call(this),this.skipWarn_=function(y,T){this.trigger("log",{level:"warn",message:`adts skiping bytes ${y} to ${T} in frame ${_} outside syncword`})},this.push=function(y){var T=0,w,U,j,H,G;if(f||(_=0),y.type==="audio"){g&&g.length?(j=g,g=new Uint8Array(j.byteLength+y.data.byteLength),g.set(j),g.set(y.data,j.byteLength)):g=y.data;for(var Z;T+7<g.length;){if(g[T]!==255||(g[T+1]&246)!==240){typeof Z!="number"&&(Z=T),T++;continue}if(typeof Z=="number"&&(this.skipWarn_(Z,T),Z=null),U=(~g[T+1]&1)*2,w=(g[T+3]&3)<<11|g[T+4]<<3|(g[T+5]&224)>>5,H=((g[T+6]&3)+1)*1024,G=H*yc/_c[(g[T+2]&60)>>>2],g.byteLength-T<w)break;this.trigger("data",{pts:y.pts+_*G,dts:y.dts+_*G,sampleCount:H,audioobjecttype:(g[T+2]>>>6&3)+1,channelcount:(g[T+2]&1)<<2|(g[T+3]&192)>>>6,samplerate:_c[(g[T+2]&60)>>>2],samplingfrequencyindex:(g[T+2]&60)>>>2,samplesize:16,data:g.subarray(T+7+U,T+w)}),_++,T+=w}typeof Z=="number"&&(this.skipWarn_(Z,T),Z=null),g=g.subarray(T)}},this.flush=function(){_=0,this.trigger("done")},this.reset=function(){g=void 0,this.trigger("reset")},this.endTimeline=function(){g=void 0,this.trigger("endedtimeline")}},Zs.prototype=new Eu;var vc=Zs,bc;bc=function(f){var g=f.byteLength,_=0,y=0;this.length=function(){return 8*g},this.bitsAvailable=function(){return 8*g+y},this.loadWord=function(){var T=f.byteLength-g,w=new Uint8Array(4),U=Math.min(4,g);if(U===0)throw new Error("no bytes available");w.set(f.subarray(T,T+U)),_=new DataView(w.buffer).getUint32(0),y=U*8,g-=U},this.skipBits=function(T){var w;y>T?(_<<=T,y-=T):(T-=y,w=Math.floor(T/8),T-=w*8,g-=w,this.loadWord(),_<<=T,y-=T)},this.readBits=function(T){var w=Math.min(y,T),U=_>>>32-w;return y-=w,y>0?_<<=w:g>0&&this.loadWord(),w=T-w,w>0?U<<w|this.readBits(w):U},this.skipLeadingZeros=function(){var T;for(T=0;T<y;++T)if(_&2147483648>>>T)return _<<=T,y-=T,T;return this.loadWord(),T+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var T=this.skipLeadingZeros();return this.readBits(T+1)-1},this.readExpGolomb=function(){var T=this.readUnsignedExpGolomb();return 1&T?1+T>>>1:-1*(T>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var nh=bc,Xa=n,ih=nh,Ya,ea,Tc;ea=function(){var f=0,g,_;ea.prototype.init.call(this),this.push=function(y){var T;_?(T=new Uint8Array(_.byteLength+y.data.byteLength),T.set(_),T.set(y.data,_.byteLength),_=T):_=y.data;for(var w=_.byteLength;f<w-3;f++)if(_[f+2]===1){g=f+5;break}for(;g<w;)switch(_[g]){case 0:if(_[g-1]!==0){g+=2;break}else if(_[g-2]!==0){g++;break}f+3!==g-2&&this.trigger("data",_.subarray(f+3,g-2));do g++;while(_[g]!==1&&g<w);f=g-2,g+=3;break;case 1:if(_[g-1]!==0||_[g-2]!==0){g+=3;break}this.trigger("data",_.subarray(f+3,g-2)),f=g-2,g+=3;break;default:g+=3;break}_=_.subarray(f),g-=f,f=0},this.reset=function(){_=null,f=0,this.trigger("reset")},this.flush=function(){_&&_.byteLength>3&&this.trigger("data",_.subarray(f+3)),_=null,f=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ea.prototype=new Xa,Tc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Ya=function(){var f=new ea,g,_,y,T,w,U,j;Ya.prototype.init.call(this),g=this,this.push=function(H){H.type==="video"&&(_=H.trackId,y=H.pts,T=H.dts,f.push(H))},f.on("data",function(H){var G={trackId:_,pts:y,dts:T,data:H,nalUnitTypeCode:H[0]&31};switch(G.nalUnitTypeCode){case 5:G.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:G.nalUnitType="sei_rbsp",G.escapedRBSP=w(H.subarray(1));break;case 7:G.nalUnitType="seq_parameter_set_rbsp",G.escapedRBSP=w(H.subarray(1)),G.config=U(G.escapedRBSP);break;case 8:G.nalUnitType="pic_parameter_set_rbsp";break;case 9:G.nalUnitType="access_unit_delimiter_rbsp";break}g.trigger("data",G)}),f.on("done",function(){g.trigger("done")}),f.on("partialdone",function(){g.trigger("partialdone")}),f.on("reset",function(){g.trigger("reset")}),f.on("endedtimeline",function(){g.trigger("endedtimeline")}),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},j=function(H,G){var Z=8,ce=8,Oe,Ee;for(Oe=0;Oe<H;Oe++)ce!==0&&(Ee=G.readExpGolomb(),ce=(Z+Ee+256)%256),Z=ce===0?Z:ce},w=function(H){for(var G=H.byteLength,Z=[],ce=1,Oe,Ee;ce<G-2;)H[ce]===0&&H[ce+1]===0&&H[ce+2]===3?(Z.push(ce+2),ce+=2):ce++;if(Z.length===0)return H;Oe=G-Z.length,Ee=new Uint8Array(Oe);var Ge=0;for(ce=0;ce<Oe;Ge++,ce++)Ge===Z[0]&&(Ge++,Z.shift()),Ee[ce]=H[Ge];return Ee},U=function(H){var G=0,Z=0,ce=0,Oe=0,Ee,Ge,Qe,pn,Mi,oa,V0,W0,z0,Th,G0,sn=[1,1],K0,ua;if(Ee=new ih(H),Ge=Ee.readUnsignedByte(),pn=Ee.readUnsignedByte(),Qe=Ee.readUnsignedByte(),Ee.skipUnsignedExpGolomb(),Tc[Ge]&&(Mi=Ee.readUnsignedExpGolomb(),Mi===3&&Ee.skipBits(1),Ee.skipUnsignedExpGolomb(),Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),Ee.readBoolean()))for(G0=Mi!==3?8:12,ua=0;ua<G0;ua++)Ee.readBoolean()&&(ua<6?j(16,Ee):j(64,Ee));if(Ee.skipUnsignedExpGolomb(),oa=Ee.readUnsignedExpGolomb(),oa===0)Ee.readUnsignedExpGolomb();else if(oa===1)for(Ee.skipBits(1),Ee.skipExpGolomb(),Ee.skipExpGolomb(),V0=Ee.readUnsignedExpGolomb(),ua=0;ua<V0;ua++)Ee.skipExpGolomb();if(Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),W0=Ee.readUnsignedExpGolomb(),z0=Ee.readUnsignedExpGolomb(),Th=Ee.readBits(1),Th===0&&Ee.skipBits(1),Ee.skipBits(1),Ee.readBoolean()&&(G=Ee.readUnsignedExpGolomb(),Z=Ee.readUnsignedExpGolomb(),ce=Ee.readUnsignedExpGolomb(),Oe=Ee.readUnsignedExpGolomb()),Ee.readBoolean()&&Ee.readBoolean()){switch(K0=Ee.readUnsignedByte(),K0){case 1:sn=[1,1];break;case 2:sn=[12,11];break;case 3:sn=[10,11];break;case 4:sn=[16,11];break;case 5:sn=[40,33];break;case 6:sn=[24,11];break;case 7:sn=[20,11];break;case 8:sn=[32,11];break;case 9:sn=[80,33];break;case 10:sn=[18,11];break;case 11:sn=[15,11];break;case 12:sn=[64,33];break;case 13:sn=[160,99];break;case 14:sn=[4,3];break;case 15:sn=[3,2];break;case 16:sn=[2,1];break;case 255:{sn=[Ee.readUnsignedByte()<<8|Ee.readUnsignedByte(),Ee.readUnsignedByte()<<8|Ee.readUnsignedByte()];break}}sn&&sn[0]/sn[1]}return{profileIdc:Ge,levelIdc:Qe,profileCompatibility:pn,width:(W0+1)*16-G*2-Z*2,height:(2-Th)*(z0+1)*16-ce*2-Oe*2,sarRatio:sn}}},Ya.prototype=new Xa;var rh={H264Stream:Ya,NalByteStream:ea},sh=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ec=function(f,g){var _=f[g+6]<<21|f[g+7]<<14|f[g+8]<<7|f[g+9],y=f[g+5],T=(y&16)>>4;return _=_>=0?_:0,T?_+20:_+10},xu=function(f,g){return f.length-g<10||f[g]!=="I".charCodeAt(0)||f[g+1]!=="D".charCodeAt(0)||f[g+2]!=="3".charCodeAt(0)?g:(g+=Ec(f,g),xu(f,g))},Su=function(f){var g=xu(f,0);return f.length>=g+2&&(f[g]&255)===255&&(f[g+1]&240)===240&&(f[g+1]&22)===16},Cu=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},wu=function(f,g,_){var y,T="";for(y=g;y<_;y++)T+="%"+("00"+f[y].toString(16)).slice(-2);return T},xc=function(f,g,_){return unescape(wu(f,g,_))},Sc=function(f,g){var _=(f[g+5]&224)>>5,y=f[g+4]<<3,T=f[g+3]&6144;return T|y|_},Au=function(f,g){return f[g]==="I".charCodeAt(0)&&f[g+1]==="D".charCodeAt(0)&&f[g+2]==="3".charCodeAt(0)?"timed-metadata":f[g]&!0&&(f[g+1]&240)===240?"audio":null},ah=function(f){for(var g=0;g+5<f.length;){if(f[g]!==255||(f[g+1]&246)!==240){g++;continue}return sh[(f[g+2]&60)>>>2]}return null},oh=function(f){var g,_,y,T;g=10,f[5]&64&&(g+=4,g+=Cu(f.subarray(10,14)));do{if(_=Cu(f.subarray(g+4,g+8)),_<1)return null;if(T=String.fromCharCode(f[g],f[g+1],f[g+2],f[g+3]),T==="PRIV"){y=f.subarray(g+10,g+_+10);for(var w=0;w<y.byteLength;w++)if(y[w]===0){var U=xc(y,0,w);if(U==="com.apple.streaming.transportStreamTimestamp"){var j=y.subarray(w+1),H=(j[3]&1)<<30|j[4]<<22|j[5]<<14|j[6]<<6|j[7]>>>2;return H*=4,H+=j[7]&3,H}break}}g+=10,g+=_}while(g<f.byteLength);return null},Du={isLikelyAacData:Su,parseId3TagSize:Ec,parseAdtsSize:Sc,parseType:Au,parseSampleRate:ah,parseAacTimestamp:oh},ta=n,ku=Du,ds;ds=function(){var f=new Uint8Array,g=0;ds.prototype.init.call(this),this.setTimestamp=function(_){g=_},this.push=function(_){var y=0,T=0,w,U,j,H;for(f.length?(H=f.length,f=new Uint8Array(_.byteLength+H),f.set(f.subarray(0,H)),f.set(_,H)):f=_;f.length-T>=3;){if(f[T]==="I".charCodeAt(0)&&f[T+1]==="D".charCodeAt(0)&&f[T+2]==="3".charCodeAt(0)){if(f.length-T<10||(y=ku.parseId3TagSize(f,T),T+y>f.length))break;U={type:"timed-metadata",data:f.subarray(T,T+y)},this.trigger("data",U),T+=y;continue}else if((f[T]&255)===255&&(f[T+1]&240)===240){if(f.length-T<7||(y=ku.parseAdtsSize(f,T),T+y>f.length))break;j={type:"audio",data:f.subarray(T,T+y),pts:g,dts:g},this.trigger("data",j),T+=y;continue}T++}w=f.length-T,w>0?f=f.subarray(T):f=new Uint8Array},this.reset=function(){f=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){f=new Uint8Array,this.trigger("endedtimeline")}},ds.prototype=new ta;var uh=ds,lh=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ch=lh,l=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],h=l,b=n,E=_e,D=oe,k=Gf,R=ni,z=mc,q=ft,Q=vc,he=rh.H264Stream,ge=uh,ae=Du.isLikelyAacData,Ce=ft.ONE_SECOND_IN_TS,Xe=ch,ot=h,Ye,Wt,zt,mn,Ni=function(f,g){g.stream=f,this.trigger("log",g)},at=function(f,g){for(var _=Object.keys(g),y=0;y<_.length;y++){var T=_[y];T==="headOfPipeline"||!g[T].on||g[T].on("log",Ni.bind(f,T))}},lr=function(f,g){var _;if(f.length!==g.length)return!1;for(_=0;_<f.length;_++)if(f[_]!==g[_])return!1;return!0},lt=function(f,g,_,y,T,w){var U=_-g,j=y-g,H=T-_;return{start:{dts:f,pts:f+U},end:{dts:f+j,pts:f+H},prependedContentDuration:w,baseMediaDecodeTime:f}};Wt=function(f,g){var _=[],y,T=0,w=0,U=1/0;g=g||{},y=g.firstSequenceNumber||0,Wt.prototype.init.call(this),this.push=function(j){R.collectDtsInfo(f,j),f&&Xe.forEach(function(H){f[H]=j[H]}),_.push(j)},this.setEarliestDts=function(j){T=j},this.setVideoBaseMediaDecodeTime=function(j){U=j},this.setAudioAppendStart=function(j){w=j},this.flush=function(){var j,H,G,Z,ce,Oe,Ee;if(_.length===0){this.trigger("done","AudioSegmentStream");return}j=k.trimAdtsFramesByEarliestDts(_,f,T),f.baseMediaDecodeTime=R.calculateTrackBaseMediaDecodeTime(f,g.keepOriginalTimestamps),Ee=k.prefixWithSilence(f,j,w,U),f.samples=k.generateSampleTable(j),G=E.mdat(k.concatenateFrameData(j)),_=[],H=E.moof(y,[f]),Z=new Uint8Array(H.byteLength+G.byteLength),y++,Z.set(H),Z.set(G,H.byteLength),R.clearDtsInfo(f),ce=Math.ceil(Ce*1024/f.samplerate),j.length&&(Oe=j.length*ce,this.trigger("segmentTimingInfo",lt(q.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),j[0].dts,j[0].pts,j[0].dts+Oe,j[0].pts+Oe,Ee||0)),this.trigger("timingInfo",{start:j[0].pts,end:j[0].pts+Oe})),this.trigger("data",{track:f,boxes:Z}),this.trigger("done","AudioSegmentStream")},this.reset=function(){R.clearDtsInfo(f),_=[],this.trigger("reset")}},Wt.prototype=new b,Ye=function(f,g){var _,y=[],T=[],w,U;g=g||{},_=g.firstSequenceNumber||0,Ye.prototype.init.call(this),delete f.minPTS,this.gopCache_=[],this.push=function(j){R.collectDtsInfo(f,j),j.nalUnitType==="seq_parameter_set_rbsp"&&!w&&(w=j.config,f.sps=[j.data],ot.forEach(function(H){f[H]=w[H]},this)),j.nalUnitType==="pic_parameter_set_rbsp"&&!U&&(U=j.data,f.pps=[j.data]),y.push(j)},this.flush=function(){for(var j,H,G,Z,ce,Oe,Ee=0,Ge,Qe;y.length&&y[0].nalUnitType!=="access_unit_delimiter_rbsp";)y.shift();if(y.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(j=D.groupNalsIntoFrames(y),G=D.groupFramesIntoGops(j),G[0][0].keyFrame||(H=this.getGopForFusion_(y[0],f),H?(Ee=H.duration,G.unshift(H),G.byteLength+=H.byteLength,G.nalCount+=H.nalCount,G.pts=H.pts,G.dts=H.dts,G.duration+=H.duration):G=D.extendFirstKeyFrame(G)),T.length){var pn;if(g.alignGopsAtEnd?pn=this.alignGopsAtEnd_(G):pn=this.alignGopsAtStart_(G),!pn){this.gopCache_.unshift({gop:G.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),y=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}R.clearDtsInfo(f),G=pn}R.collectDtsInfo(f,G),f.samples=D.generateSampleTable(G),ce=E.mdat(D.concatenateNalData(G)),f.baseMediaDecodeTime=R.calculateTrackBaseMediaDecodeTime(f,g.keepOriginalTimestamps),this.trigger("processedGopsInfo",G.map(function(Mi){return{pts:Mi.pts,dts:Mi.dts,byteLength:Mi.byteLength}})),Ge=G[0],Qe=G[G.length-1],this.trigger("segmentTimingInfo",lt(f.baseMediaDecodeTime,Ge.dts,Ge.pts,Qe.dts+Qe.duration,Qe.pts+Qe.duration,Ee)),this.trigger("timingInfo",{start:G[0].pts,end:G[G.length-1].pts+G[G.length-1].duration}),this.gopCache_.unshift({gop:G.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),y=[],this.trigger("baseMediaDecodeTime",f.baseMediaDecodeTime),this.trigger("timelineStartInfo",f.timelineStartInfo),Z=E.moof(_,[f]),Oe=new Uint8Array(Z.byteLength+ce.byteLength),_++,Oe.set(Z),Oe.set(ce,Z.byteLength),this.trigger("data",{track:f,boxes:Oe}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),y=[],this.gopCache_.length=0,T.length=0,this.trigger("reset")},this.resetStream_=function(){R.clearDtsInfo(f),w=void 0,U=void 0},this.getGopForFusion_=function(j){var H=45e3,G=1e4,Z=1/0,ce,Oe,Ee,Ge,Qe;for(Qe=0;Qe<this.gopCache_.length;Qe++)Ge=this.gopCache_[Qe],Ee=Ge.gop,!(!(f.pps&&lr(f.pps[0],Ge.pps[0]))||!(f.sps&&lr(f.sps[0],Ge.sps[0])))&&(Ee.dts<f.timelineStartInfo.dts||(ce=j.dts-Ee.dts-Ee.duration,ce>=-G&&ce<=H&&(!Oe||Z>ce)&&(Oe=Ge,Z=ce)));return Oe?Oe.gop:null},this.alignGopsAtStart_=function(j){var H,G,Z,ce,Oe,Ee,Ge,Qe;for(Oe=j.byteLength,Ee=j.nalCount,Ge=j.duration,H=G=0;H<T.length&&G<j.length&&(Z=T[H],ce=j[G],Z.pts!==ce.pts);){if(ce.pts>Z.pts){H++;continue}G++,Oe-=ce.byteLength,Ee-=ce.nalCount,Ge-=ce.duration}return G===0?j:G===j.length?null:(Qe=j.slice(G),Qe.byteLength=Oe,Qe.duration=Ge,Qe.nalCount=Ee,Qe.pts=Qe[0].pts,Qe.dts=Qe[0].dts,Qe)},this.alignGopsAtEnd_=function(j){var H,G,Z,ce,Oe,Ee;for(H=T.length-1,G=j.length-1,Oe=null,Ee=!1;H>=0&&G>=0;){if(Z=T[H],ce=j[G],Z.pts===ce.pts){Ee=!0;break}if(Z.pts>ce.pts){H--;continue}H===T.length-1&&(Oe=G),G--}if(!Ee&&Oe===null)return null;var Ge;if(Ee?Ge=G:Ge=Oe,Ge===0)return j;var Qe=j.slice(Ge),pn=Qe.reduce(function(Mi,oa){return Mi.byteLength+=oa.byteLength,Mi.duration+=oa.duration,Mi.nalCount+=oa.nalCount,Mi},{byteLength:0,duration:0,nalCount:0});return Qe.byteLength=pn.byteLength,Qe.duration=pn.duration,Qe.nalCount=pn.nalCount,Qe.pts=Qe[0].pts,Qe.dts=Qe[0].dts,Qe},this.alignGopsWith=function(j){T=j}},Ye.prototype=new b,mn=function(f,g){this.numberOfTracks=0,this.metadataStream=g,f=f||{},typeof f.remux<"u"?this.remuxTracks=!!f.remux:this.remuxTracks=!0,typeof f.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=f.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,mn.prototype.init.call(this),this.push=function(_){if(_.content||_.text)return this.pendingCaptions.push(_);if(_.frames)return this.pendingMetadata.push(_);this.pendingTracks.push(_.track),this.pendingBytes+=_.boxes.byteLength,_.track.type==="video"&&(this.videoTrack=_.track,this.pendingBoxes.push(_.boxes)),_.track.type==="audio"&&(this.audioTrack=_.track,this.pendingBoxes.unshift(_.boxes))}},mn.prototype=new b,mn.prototype.flush=function(f){var g=0,_={captions:[],captionStreams:{},metadata:[],info:{}},y,T,w,U=0,j;if(this.pendingTracks.length<this.numberOfTracks){if(f!=="VideoSegmentStream"&&f!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(U=this.videoTrack.timelineStartInfo.pts,ot.forEach(function(H){_.info[H]=this.videoTrack[H]},this)):this.audioTrack&&(U=this.audioTrack.timelineStartInfo.pts,Xe.forEach(function(H){_.info[H]=this.audioTrack[H]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?_.type=this.pendingTracks[0].type:_.type="combined",this.emittedTracks+=this.pendingTracks.length,w=E.initSegment(this.pendingTracks),_.initSegment=new Uint8Array(w.byteLength),_.initSegment.set(w),_.data=new Uint8Array(this.pendingBytes),j=0;j<this.pendingBoxes.length;j++)_.data.set(this.pendingBoxes[j],g),g+=this.pendingBoxes[j].byteLength;for(j=0;j<this.pendingCaptions.length;j++)y=this.pendingCaptions[j],y.startTime=q.metadataTsToSeconds(y.startPts,U,this.keepOriginalTimestamps),y.endTime=q.metadataTsToSeconds(y.endPts,U,this.keepOriginalTimestamps),_.captionStreams[y.stream]=!0,_.captions.push(y);for(j=0;j<this.pendingMetadata.length;j++)T=this.pendingMetadata[j],T.cueTime=q.metadataTsToSeconds(T.pts,U,this.keepOriginalTimestamps),_.metadata.push(T);for(_.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_),j=0;j<_.captions.length;j++)y=_.captions[j],this.trigger("caption",y);for(j=0;j<_.metadata.length;j++)T=_.metadata[j],this.trigger("id3Frame",T)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},mn.prototype.setRemux=function(f){this.remuxTracks=f},zt=function(f){var g=this,_=!0,y,T;zt.prototype.init.call(this),f=f||{},this.baseMediaDecodeTime=f.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="aac",w.metadataStream=new z.MetadataStream,w.aacStream=new ge,w.audioTimestampRolloverStream=new z.TimestampRolloverStream("audio"),w.timedMetadataTimestampRolloverStream=new z.TimestampRolloverStream("timed-metadata"),w.adtsStream=new Q,w.coalesceStream=new mn(f,w.metadataStream),w.headOfPipeline=w.aacStream,w.aacStream.pipe(w.audioTimestampRolloverStream).pipe(w.adtsStream),w.aacStream.pipe(w.timedMetadataTimestampRolloverStream).pipe(w.metadataStream).pipe(w.coalesceStream),w.metadataStream.on("timestamp",function(U){w.aacStream.setTimestamp(U.timeStamp)}),w.aacStream.on("data",function(U){U.type!=="timed-metadata"&&U.type!=="audio"||w.audioSegmentStream||(T=T||{timelineStartInfo:{baseMediaDecodeTime:g.baseMediaDecodeTime},codec:"adts",type:"audio"},w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Wt(T,f),w.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream),g.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y}))}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),at(this,w)},this.setupTsPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="ts",w.metadataStream=new z.MetadataStream,w.packetStream=new z.TransportPacketStream,w.parseStream=new z.TransportParseStream,w.elementaryStream=new z.ElementaryStream,w.timestampRolloverStream=new z.TimestampRolloverStream,w.adtsStream=new Q,w.h264Stream=new he,w.captionStream=new z.CaptionStream(f),w.coalesceStream=new mn(f,w.metadataStream),w.headOfPipeline=w.packetStream,w.packetStream.pipe(w.parseStream).pipe(w.elementaryStream).pipe(w.timestampRolloverStream),w.timestampRolloverStream.pipe(w.h264Stream),w.timestampRolloverStream.pipe(w.adtsStream),w.timestampRolloverStream.pipe(w.metadataStream).pipe(w.coalesceStream),w.h264Stream.pipe(w.captionStream).pipe(w.coalesceStream),w.elementaryStream.on("data",function(U){var j;if(U.type==="metadata"){for(j=U.tracks.length;j--;)!y&&U.tracks[j].type==="video"?(y=U.tracks[j],y.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime):!T&&U.tracks[j].type==="audio"&&(T=U.tracks[j],T.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime);y&&!w.videoSegmentStream&&(w.coalesceStream.numberOfTracks++,w.videoSegmentStream=new Ye(y,f),w.videoSegmentStream.on("log",g.getLogTrigger_("videoSegmentStream")),w.videoSegmentStream.on("timelineStartInfo",function(H){T&&!f.keepOriginalTimestamps&&(T.timelineStartInfo=H,w.audioSegmentStream.setEarliestDts(H.dts-g.baseMediaDecodeTime))}),w.videoSegmentStream.on("processedGopsInfo",g.trigger.bind(g,"gopInfo")),w.videoSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"videoSegmentTimingInfo")),w.videoSegmentStream.on("baseMediaDecodeTime",function(H){T&&w.audioSegmentStream.setVideoBaseMediaDecodeTime(H)}),w.videoSegmentStream.on("timingInfo",g.trigger.bind(g,"videoTimingInfo")),w.h264Stream.pipe(w.videoSegmentStream).pipe(w.coalesceStream)),T&&!w.audioSegmentStream&&(w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Wt(T,f),w.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),w.audioSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"audioSegmentTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream)),g.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y})}}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("id3Frame",function(U){U.dispatchType=w.metadataStream.dispatchType,g.trigger("id3Frame",U)}),w.coalesceStream.on("caption",this.trigger.bind(this,"caption")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),at(this,w)},this.setBaseMediaDecodeTime=function(w){var U=this.transmuxPipeline_;f.keepOriginalTimestamps||(this.baseMediaDecodeTime=w),T&&(T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,R.clearDtsInfo(T),U.audioTimestampRolloverStream&&U.audioTimestampRolloverStream.discontinuity()),y&&(U.videoSegmentStream&&(U.videoSegmentStream.gopCache_=[]),y.timelineStartInfo.dts=void 0,y.timelineStartInfo.pts=void 0,R.clearDtsInfo(y),U.captionStream.reset()),U.timestampRolloverStream&&U.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(w){T&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(w)},this.setRemux=function(w){var U=this.transmuxPipeline_;f.remux=w,U&&U.coalesceStream&&U.coalesceStream.setRemux(w)},this.alignGopsWith=function(w){y&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(w)},this.getLogTrigger_=function(w){var U=this;return function(j){j.stream=w,U.trigger("log",j)}},this.push=function(w){if(_){var U=ae(w);U&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!U&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),_=!1}this.transmuxPipeline_.headOfPipeline.push(w)},this.flush=function(){_=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},zt.prototype=new b;var Gt={Transmuxer:zt,VideoSegmentStream:Ye,AudioSegmentStream:Wt,AUDIO_PROPERTIES:Xe,VIDEO_PROPERTIES:ot,generateSegmentTimingInfo:lt},na=function(f){return f>>>0},Lu=function(f){return("00"+f.toString(16)).slice(-2)},qn={toUnsigned:na,toHexString:Lu},ia=function(f){var g="";return g+=String.fromCharCode(f[0]),g+=String.fromCharCode(f[1]),g+=String.fromCharCode(f[2]),g+=String.fromCharCode(f[3]),g},bi=ia,cr=qn.toUnsigned,dr=bi,Vn=function(f,g){var _=[],y,T,w,U,j;if(!g.length)return null;for(y=0;y<f.byteLength;)T=cr(f[y]<<24|f[y+1]<<16|f[y+2]<<8|f[y+3]),w=dr(f.subarray(y+4,y+8)),U=T>1?y+T:f.byteLength,w===g[0]&&(g.length===1?_.push(f.subarray(y+8,U)):(j=Vn(f.subarray(y+8,U),g.slice(1)),j.length&&(_=_.concat(j)))),y=U;return _},Qa=Vn,Qi=qn.toUnsigned,Ji=s.getUint64,dh=function(f){var g={version:f[0],flags:new Uint8Array(f.subarray(1,4))};return g.version===1?g.baseMediaDecodeTime=Ji(f.subarray(4)):g.baseMediaDecodeTime=Qi(f[4]<<24|f[5]<<16|f[6]<<8|f[7]),g},Cc=dh,fh=function(f){return{isLeading:(f[0]&12)>>>2,dependsOn:f[0]&3,isDependedOn:(f[1]&192)>>>6,hasRedundancy:(f[1]&48)>>>4,paddingValue:(f[1]&14)>>>1,isNonSyncSample:f[1]&1,degradationPriority:f[2]<<8|f[3]}},_t=fh,ra=_t,Ti=function(f){var g={version:f[0],flags:new Uint8Array(f.subarray(1,4)),samples:[]},_=new DataView(f.buffer,f.byteOffset,f.byteLength),y=g.flags[2]&1,T=g.flags[2]&4,w=g.flags[1]&1,U=g.flags[1]&2,j=g.flags[1]&4,H=g.flags[1]&8,G=_.getUint32(4),Z=8,ce;for(y&&(g.dataOffset=_.getInt32(Z),Z+=4),T&&G&&(ce={flags:ra(f.subarray(Z,Z+4))},Z+=4,w&&(ce.duration=_.getUint32(Z),Z+=4),U&&(ce.size=_.getUint32(Z),Z+=4),H&&(g.version===1?ce.compositionTimeOffset=_.getInt32(Z):ce.compositionTimeOffset=_.getUint32(Z),Z+=4),g.samples.push(ce),G--);G--;)ce={},w&&(ce.duration=_.getUint32(Z),Z+=4),U&&(ce.size=_.getUint32(Z),Z+=4),j&&(ce.flags=ra(f.subarray(Z,Z+4)),Z+=4),H&&(g.version===1?ce.compositionTimeOffset=_.getInt32(Z):ce.compositionTimeOffset=_.getUint32(Z),Z+=4),g.samples.push(ce);return g},jr=Ti,hh=function(f){var g=new DataView(f.buffer,f.byteOffset,f.byteLength),_={version:f[0],flags:new Uint8Array(f.subarray(1,4)),trackId:g.getUint32(4)},y=_.flags[2]&1,T=_.flags[2]&2,w=_.flags[2]&8,U=_.flags[2]&16,j=_.flags[2]&32,H=_.flags[0]&65536,G=_.flags[0]&131072,Z;return Z=8,y&&(Z+=4,_.baseDataOffset=g.getUint32(12),Z+=4),T&&(_.sampleDescriptionIndex=g.getUint32(Z),Z+=4),w&&(_.defaultSampleDuration=g.getUint32(Z),Z+=4),U&&(_.defaultSampleSize=g.getUint32(Z),Z+=4),j&&(_.defaultSampleFlags=g.getUint32(Z)),H&&(_.durationIsEmpty=!0),!y&&G&&(_.baseDataOffsetIsMoof=!0),_},wc=hh,fs;typeof window<"u"?fs=window:typeof t<"u"?fs=t:typeof self<"u"?fs=self:fs={};var fr=fs,Iu=Br.discardEmulationPreventionBytes,hr=yu.CaptionStream,hs=Qa,sa=Cc,Ja=jr,Za=wc,eo=fr,ph=function(f,g){for(var _=f,y=0;y<g.length;y++){var T=g[y];if(_<T.size)return T;_-=T.size}return null},to=function(f,g,_){var y=new DataView(f.buffer,f.byteOffset,f.byteLength),T={logs:[],seiNals:[]},w,U,j,H;for(U=0;U+4<f.length;U+=j)if(j=y.getUint32(U),U+=4,!(j<=0))switch(f[U]&31){case 6:var G=f.subarray(U+1,U+1+j),Z=ph(U,g);if(w={nalUnitType:"sei_rbsp",size:j,data:G,escapedRBSP:Iu(G),trackId:_},Z)w.pts=Z.pts,w.dts=Z.dts,H=Z;else if(H)w.pts=H.pts,w.dts=H.dts;else{T.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+U+" for trackId "+_+". See mux.js#223."});break}T.seiNals.push(w);break}return T},Pu=function(f,g,_){var y=g,T=_.defaultSampleDuration||0,w=_.defaultSampleSize||0,U=_.trackId,j=[];return f.forEach(function(H){var G=Ja(H),Z=G.samples;Z.forEach(function(ce){ce.duration===void 0&&(ce.duration=T),ce.size===void 0&&(ce.size=w),ce.trackId=U,ce.dts=y,ce.compositionTimeOffset===void 0&&(ce.compositionTimeOffset=0),typeof y=="bigint"?(ce.pts=y+eo.BigInt(ce.compositionTimeOffset),y+=eo.BigInt(ce.duration)):(ce.pts=y+ce.compositionTimeOffset,y+=ce.duration)}),j=j.concat(Z)}),j},Ou=function(f,g){var _=hs(f,["moof","traf"]),y=hs(f,["mdat"]),T={},w=[];return y.forEach(function(U,j){var H=_[j];w.push({mdat:U,traf:H})}),w.forEach(function(U){var j=U.mdat,H=U.traf,G=hs(H,["tfhd"]),Z=Za(G[0]),ce=Z.trackId,Oe=hs(H,["tfdt"]),Ee=Oe.length>0?sa(Oe[0]).baseMediaDecodeTime:0,Ge=hs(H,["trun"]),Qe,pn;g===ce&&Ge.length>0&&(Qe=Pu(Ge,Ee,Z),pn=to(j,Qe,ce),T[ce]||(T[ce]={seiNals:[],logs:[]}),T[ce].seiNals=T[ce].seiNals.concat(pn.seiNals),T[ce].logs=T[ce].logs.concat(pn.logs))}),T},gh=function(f,g,_){var y;if(g===null)return null;y=Ou(f,g);var T=y[g]||{};return{seiNals:T.seiNals,logs:T.logs,timescale:_}},Ru=function(){var f=!1,g,_,y,T,w,U;this.isInitialized=function(){return f},this.init=function(j){g=new hr,f=!0,U=j?j.isPartial:!1,g.on("data",function(H){H.startTime=H.startPts/T,H.endTime=H.endPts/T,w.captions.push(H),w.captionStreams[H.stream]=!0}),g.on("log",function(H){w.logs.push(H)})},this.isNewInit=function(j,H){return j&&j.length===0||H&&typeof H=="object"&&Object.keys(H).length===0?!1:y!==j[0]||T!==H[y]},this.parse=function(j,H,G){var Z;if(this.isInitialized()){if(!H||!G)return null;if(this.isNewInit(H,G))y=H[0],T=G[y];else if(y===null||!T)return _.push(j),null}else return null;for(;_.length>0;){var ce=_.shift();this.parse(ce,H,G)}return Z=gh(j,y,T),Z&&Z.logs&&(w.logs=w.logs.concat(Z.logs)),Z===null||!Z.seiNals?w.logs.length?{logs:w.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Z.seiNals),this.flushStream(),w)},this.pushNals=function(j){if(!this.isInitialized()||!j||j.length===0)return null;j.forEach(function(H){g.push(H)})},this.flushStream=function(){if(!this.isInitialized())return null;U?g.partialFlush():g.flush()},this.clearParsedCaptions=function(){w.captions=[],w.captionStreams={},w.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;g.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){_=[],y=null,T=null,w?this.clearParsedCaptions():w={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Ac=Ru,$=function(f){for(var g=0,_=String.fromCharCode(f[g]),y="";_!=="\0";)y+=_,g++,_=String.fromCharCode(f[g]);return y+=_,y},X={uint8ToCString:$},re=X.uint8ToCString,le=s.getUint64,pe=function(f){var g=4,_=f[0],y,T,w,U,j,H,G,Z;if(_===0){y=re(f.subarray(g)),g+=y.length,T=re(f.subarray(g)),g+=T.length;var ce=new DataView(f.buffer);w=ce.getUint32(g),g+=4,j=ce.getUint32(g),g+=4,H=ce.getUint32(g),g+=4,G=ce.getUint32(g),g+=4}else if(_===1){var ce=new DataView(f.buffer);w=ce.getUint32(g),g+=4,U=le(f.subarray(g)),g+=8,H=ce.getUint32(g),g+=4,G=ce.getUint32(g),g+=4,y=re(f.subarray(g)),g+=y.length,T=re(f.subarray(g)),g+=T.length}Z=new Uint8Array(f.subarray(g,f.byteLength));var Oe={scheme_id_uri:y,value:T,timescale:w||1,presentation_time:U,presentation_time_delta:j,event_duration:H,id:G,message_data:Z};return Ne(_,Oe)?Oe:void 0},ke=function(f,g,_,y){return f||f===0?f/g:y+_/g},Ne=function(f,g){var _=g.scheme_id_uri!=="\0",y=f===0&&He(g.presentation_time_delta)&&_,T=f===1&&He(g.presentation_time)&&_;return!(f>1)&&y||T},He=function(f){return f!==void 0||f!==null},Me={parseEmsgBox:pe,scaleTime:ke},nt=qn.toUnsigned,We=qn.toHexString,je=Qa,Ze=bi,qe=Me,Dt=wc,On=jr,yn=Cc,si=s.getUint64,Ei,$r,_n,B0,F0,mh,U0,yh=fr,nC=hc.parseId3Frames;Ei=function(f){var g={},_=je(f,["moov","trak"]);return _.reduce(function(y,T){var w,U,j,H,G;return w=je(T,["tkhd"])[0],!w||(U=w[0],j=U===0?12:20,H=nt(w[j]<<24|w[j+1]<<16|w[j+2]<<8|w[j+3]),G=je(T,["mdia","mdhd"])[0],!G)?null:(U=G[0],j=U===0?12:20,y[H]=nt(G[j]<<24|G[j+1]<<16|G[j+2]<<8|G[j+3]),y)},g)},$r=function(f,g){var _;_=je(g,["moof","traf"]);var y=_.reduce(function(T,w){var U=je(w,["tfhd"])[0],j=nt(U[4]<<24|U[5]<<16|U[6]<<8|U[7]),H=f[j]||9e4,G=je(w,["tfdt"])[0],Z=new DataView(G.buffer,G.byteOffset,G.byteLength),ce;G[0]===1?ce=si(G.subarray(4,12)):ce=Z.getUint32(4);let Oe;return typeof ce=="bigint"?Oe=ce/yh.BigInt(H):typeof ce=="number"&&!isNaN(ce)&&(Oe=ce/H),Oe<Number.MAX_SAFE_INTEGER&&(Oe=Number(Oe)),Oe<T&&(T=Oe),T},1/0);return typeof y=="bigint"||isFinite(y)?y:0},_n=function(f,g){var _=je(g,["moof","traf"]),y=0,T=0,w;if(_&&_.length){var U=je(_[0],["tfhd"])[0],j=je(_[0],["trun"])[0],H=je(_[0],["tfdt"])[0];if(U){var G=Dt(U);w=G.trackId}if(H){var Z=yn(H);y=Z.baseMediaDecodeTime}if(j){var ce=On(j);ce.samples&&ce.samples.length&&(T=ce.samples[0].compositionTimeOffset||0)}}var Oe=f[w]||9e4;typeof y=="bigint"&&(T=yh.BigInt(T),Oe=yh.BigInt(Oe));var Ee=(y+T)/Oe;return typeof Ee=="bigint"&&Ee<Number.MAX_SAFE_INTEGER&&(Ee=Number(Ee)),Ee},B0=function(f){var g=je(f,["moov","trak"]),_=[];return g.forEach(function(y){var T=je(y,["mdia","hdlr"]),w=je(y,["tkhd"]);T.forEach(function(U,j){var H=Ze(U.subarray(8,12)),G=w[j],Z,ce,Oe;H==="vide"&&(Z=new DataView(G.buffer,G.byteOffset,G.byteLength),ce=Z.getUint8(0),Oe=ce===0?Z.getUint32(12):Z.getUint32(20),_.push(Oe))})}),_},mh=function(f){var g=f[0],_=g===0?12:20;return nt(f[_]<<24|f[_+1]<<16|f[_+2]<<8|f[_+3])},F0=function(f){var g=je(f,["moov","trak"]),_=[];return g.forEach(function(y){var T={},w=je(y,["tkhd"])[0],U,j;w&&(U=new DataView(w.buffer,w.byteOffset,w.byteLength),j=U.getUint8(0),T.id=j===0?U.getUint32(12):U.getUint32(20));var H=je(y,["mdia","hdlr"])[0];if(H){var G=Ze(H.subarray(8,12));G==="vide"?T.type="video":G==="soun"?T.type="audio":T.type=G}var Z=je(y,["mdia","minf","stbl","stsd"])[0];if(Z){var ce=Z.subarray(8);T.codec=Ze(ce.subarray(4,8));var Oe=je(ce,[T.codec])[0],Ee,Ge;Oe&&(/^[asm]vc[1-9]$/i.test(T.codec)?(Ee=Oe.subarray(78),Ge=Ze(Ee.subarray(4,8)),Ge==="avcC"&&Ee.length>11?(T.codec+=".",T.codec+=We(Ee[9]),T.codec+=We(Ee[10]),T.codec+=We(Ee[11])):T.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(T.codec)?(Ee=Oe.subarray(28),Ge=Ze(Ee.subarray(4,8)),Ge==="esds"&&Ee.length>20&&Ee[19]!==0?(T.codec+="."+We(Ee[19]),T.codec+="."+We(Ee[20]>>>2&63).replace(/^0/,"")):T.codec="mp4a.40.2"):T.codec=T.codec.toLowerCase())}var Qe=je(y,["mdia","mdhd"])[0];Qe&&(T.timescale=mh(Qe)),_.push(T)}),_},U0=function(f,g=0){var _=je(f,["emsg"]);return _.map(y=>{var T=qe.parseEmsgBox(new Uint8Array(y)),w=nC(T.message_data);return{cueTime:qe.scaleTime(T.presentation_time,T.timescale,T.presentation_time_delta,g),duration:qe.scaleTime(T.event_duration,T.timescale),frames:w}})};var _h={findBox:je,parseType:Ze,timescale:Ei,startTime:$r,compositionStartTime:_n,videoTrackIds:B0,tracks:F0,getTimescaleFromMediaHeader:mh,getEmsgID3:U0},vh=Va,j0=function(f){var g=f[1]&31;return g<<=8,g|=f[2],g},Dc=function(f){return!!(f[1]&64)},kc=function(f){var g=0;return(f[3]&48)>>>4>1&&(g+=f[4]+1),g},iC=function(f,g){var _=j0(f);return _===0?"pat":_===g?"pmt":g?"pes":null},rC=function(f){var g=Dc(f),_=4+kc(f);return g&&(_+=f[_]+1),(f[_+10]&31)<<8|f[_+11]},sC=function(f){var g={},_=Dc(f),y=4+kc(f);if(_&&(y+=f[y]+1),!!(f[y+5]&1)){var T,w,U;T=(f[y+1]&15)<<8|f[y+2],w=3+T-4,U=(f[y+10]&15)<<8|f[y+11];for(var j=12+U;j<w;){var H=y+j;g[(f[H+1]&31)<<8|f[H+2]]=f[H],j+=((f[H+3]&15)<<8|f[H+4])+5}return g}},aC=function(f,g){var _=j0(f),y=g[_];switch(y){case vh.H264_STREAM_TYPE:return"video";case vh.ADTS_STREAM_TYPE:return"audio";case vh.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},oC=function(f){var g=Dc(f);if(!g)return null;var _=4+kc(f);if(_>=f.byteLength)return null;var y=null,T;return T=f[_+7],T&192&&(y={},y.pts=(f[_+9]&14)<<27|(f[_+10]&255)<<20|(f[_+11]&254)<<12|(f[_+12]&255)<<5|(f[_+13]&254)>>>3,y.pts*=4,y.pts+=(f[_+13]&6)>>>1,y.dts=y.pts,T&64&&(y.dts=(f[_+14]&14)<<27|(f[_+15]&255)<<20|(f[_+16]&254)<<12|(f[_+17]&255)<<5|(f[_+18]&254)>>>3,y.dts*=4,y.dts+=(f[_+18]&6)>>>1)),y},bh=function(f){switch(f){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},uC=function(f){for(var g=4+kc(f),_=f.subarray(g),y=0,T=0,w=!1,U;T<_.byteLength-3;T++)if(_[T+2]===1){y=T+5;break}for(;y<_.byteLength;)switch(_[y]){case 0:if(_[y-1]!==0){y+=2;break}else if(_[y-2]!==0){y++;break}T+3!==y-2&&(U=bh(_[T+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0));do y++;while(_[y]!==1&&y<_.length);T=y-2,y+=3;break;case 1:if(_[y-1]!==0||_[y-2]!==0){y+=3;break}U=bh(_[T+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0),T=y-2,y+=3;break;default:y+=3;break}return _=_.subarray(T),y-=T,T=0,_&&_.byteLength>3&&(U=bh(_[T+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0)),w},lC={parseType:iC,parsePat:rC,parsePmt:sC,parsePayloadUnitStartIndicator:Dc,parsePesType:aC,parsePesTime:oC,videoPacketContainsKeyFrame:uC},$0=Va,no=za.handleRollover,Ct={};Ct.ts=lC,Ct.aac=Du;var aa=ft.ONE_SECOND_IN_TS,Wn=188,pr=71,cC=function(f,g){for(var _=0,y=Wn,T,w;y<f.byteLength;){if(f[_]===pr&&f[y]===pr){switch(T=f.subarray(_,y),w=Ct.ts.parseType(T,g.pid),w){case"pat":g.pid=Ct.ts.parsePat(T);break;case"pmt":var U=Ct.ts.parsePmt(T);g.table=g.table||{},Object.keys(U).forEach(function(j){g.table[j]=U[j]});break}_+=Wn,y+=Wn;continue}_++,y++}},H0=function(f,g,_){for(var y=0,T=Wn,w,U,j,H,G,Z=!1;T<=f.byteLength;){if(f[y]===pr&&(f[T]===pr||T===f.byteLength)){switch(w=f.subarray(y,T),U=Ct.ts.parseType(w,g.pid),U){case"pes":j=Ct.ts.parsePesType(w,g.table),H=Ct.ts.parsePayloadUnitStartIndicator(w),j==="audio"&&H&&(G=Ct.ts.parsePesTime(w),G&&(G.type="audio",_.audio.push(G),Z=!0));break}if(Z)break;y+=Wn,T+=Wn;continue}y++,T++}for(T=f.byteLength,y=T-Wn,Z=!1;y>=0;){if(f[y]===pr&&(f[T]===pr||T===f.byteLength)){switch(w=f.subarray(y,T),U=Ct.ts.parseType(w,g.pid),U){case"pes":j=Ct.ts.parsePesType(w,g.table),H=Ct.ts.parsePayloadUnitStartIndicator(w),j==="audio"&&H&&(G=Ct.ts.parsePesTime(w),G&&(G.type="audio",_.audio.push(G),Z=!0));break}if(Z)break;y-=Wn,T-=Wn;continue}y--,T--}},dC=function(f,g,_){for(var y=0,T=Wn,w,U,j,H,G,Z,ce,Oe,Ee=!1,Ge={data:[],size:0};T<f.byteLength;){if(f[y]===pr&&f[T]===pr){switch(w=f.subarray(y,T),U=Ct.ts.parseType(w,g.pid),U){case"pes":if(j=Ct.ts.parsePesType(w,g.table),H=Ct.ts.parsePayloadUnitStartIndicator(w),j==="video"&&(H&&!Ee&&(G=Ct.ts.parsePesTime(w),G&&(G.type="video",_.video.push(G),Ee=!0)),!_.firstKeyFrame)){if(H&&Ge.size!==0){for(Z=new Uint8Array(Ge.size),ce=0;Ge.data.length;)Oe=Ge.data.shift(),Z.set(Oe,ce),ce+=Oe.byteLength;if(Ct.ts.videoPacketContainsKeyFrame(Z)){var Qe=Ct.ts.parsePesTime(Z);Qe?(_.firstKeyFrame=Qe,_.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Ge.size=0}Ge.data.push(w),Ge.size+=w.byteLength}break}if(Ee&&_.firstKeyFrame)break;y+=Wn,T+=Wn;continue}y++,T++}for(T=f.byteLength,y=T-Wn,Ee=!1;y>=0;){if(f[y]===pr&&f[T]===pr){switch(w=f.subarray(y,T),U=Ct.ts.parseType(w,g.pid),U){case"pes":j=Ct.ts.parsePesType(w,g.table),H=Ct.ts.parsePayloadUnitStartIndicator(w),j==="video"&&H&&(G=Ct.ts.parsePesTime(w),G&&(G.type="video",_.video.push(G),Ee=!0));break}if(Ee)break;y-=Wn,T-=Wn;continue}y--,T--}},fC=function(f,g){if(f.audio&&f.audio.length){var _=g;(typeof _>"u"||isNaN(_))&&(_=f.audio[0].dts),f.audio.forEach(function(w){w.dts=no(w.dts,_),w.pts=no(w.pts,_),w.dtsTime=w.dts/aa,w.ptsTime=w.pts/aa})}if(f.video&&f.video.length){var y=g;if((typeof y>"u"||isNaN(y))&&(y=f.video[0].dts),f.video.forEach(function(w){w.dts=no(w.dts,y),w.pts=no(w.pts,y),w.dtsTime=w.dts/aa,w.ptsTime=w.pts/aa}),f.firstKeyFrame){var T=f.firstKeyFrame;T.dts=no(T.dts,y),T.pts=no(T.pts,y),T.dtsTime=T.dts/aa,T.ptsTime=T.pts/aa}}},hC=function(f){for(var g=!1,_=0,y=null,T=null,w=0,U=0,j;f.length-U>=3;){var H=Ct.aac.parseType(f,U);switch(H){case"timed-metadata":if(f.length-U<10){g=!0;break}if(w=Ct.aac.parseId3TagSize(f,U),w>f.length){g=!0;break}T===null&&(j=f.subarray(U,U+w),T=Ct.aac.parseAacTimestamp(j)),U+=w;break;case"audio":if(f.length-U<7){g=!0;break}if(w=Ct.aac.parseAdtsSize(f,U),w>f.length){g=!0;break}y===null&&(j=f.subarray(U,U+w),y=Ct.aac.parseSampleRate(j)),_++,U+=w;break;default:U++;break}if(g)return null}if(y===null||T===null)return null;var G=aa/y,Z={audio:[{type:"audio",dts:T,pts:T},{type:"audio",dts:T+_*1024*G,pts:T+_*1024*G}]};return Z},pC=function(f){var g={pid:null,table:null},_={};cC(f,g);for(var y in g.table)if(g.table.hasOwnProperty(y)){var T=g.table[y];switch(T){case $0.H264_STREAM_TYPE:_.video=[],dC(f,g,_),_.video.length===0&&delete _.video;break;case $0.ADTS_STREAM_TYPE:_.audio=[],H0(f,g,_),_.audio.length===0&&delete _.audio;break}}return _},gC=function(f,g){var _=Ct.aac.isLikelyAacData(f),y;return _?y=hC(f):y=pC(f),!y||!y.audio&&!y.video?null:(fC(y,g),y)},mC={inspect:gC,parseAudioPes_:H0};const yC=function(f,g){g.on("data",function(_){const y=_.initSegment;_.initSegment={data:y.buffer,byteOffset:y.byteOffset,byteLength:y.byteLength};const T=_.data;_.data=T.buffer,f.postMessage({action:"data",segment:_,byteOffset:T.byteOffset,byteLength:T.byteLength},[_.data])}),g.on("done",function(_){f.postMessage({action:"done"})}),g.on("gopInfo",function(_){f.postMessage({action:"gopInfo",gopInfo:_})}),g.on("videoSegmentTimingInfo",function(_){const y={start:{decode:ft.videoTsToSeconds(_.start.dts),presentation:ft.videoTsToSeconds(_.start.pts)},end:{decode:ft.videoTsToSeconds(_.end.dts),presentation:ft.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:ft.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(y.prependedContentDuration=ft.videoTsToSeconds(_.prependedContentDuration)),f.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:y})}),g.on("audioSegmentTimingInfo",function(_){const y={start:{decode:ft.videoTsToSeconds(_.start.dts),presentation:ft.videoTsToSeconds(_.start.pts)},end:{decode:ft.videoTsToSeconds(_.end.dts),presentation:ft.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:ft.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(y.prependedContentDuration=ft.videoTsToSeconds(_.prependedContentDuration)),f.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:y})}),g.on("id3Frame",function(_){f.postMessage({action:"id3Frame",id3Frame:_})}),g.on("caption",function(_){f.postMessage({action:"caption",caption:_})}),g.on("trackinfo",function(_){f.postMessage({action:"trackinfo",trackInfo:_})}),g.on("audioTimingInfo",function(_){f.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ft.videoTsToSeconds(_.start),end:ft.videoTsToSeconds(_.end)}})}),g.on("videoTimingInfo",function(_){f.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ft.videoTsToSeconds(_.start),end:ft.videoTsToSeconds(_.end)}})}),g.on("log",function(_){f.postMessage({action:"log",log:_})})};class q0{constructor(g,_){this.options=_||{},this.self=g,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Gt.Transmuxer(this.options),yC(this.self,this.transmuxer)}pushMp4Captions(g){this.captionParser||(this.captionParser=new Ac,this.captionParser.init());const _=new Uint8Array(g.data,g.byteOffset,g.byteLength),y=this.captionParser.parse(_,g.trackIds,g.timescales);this.self.postMessage({action:"mp4Captions",captions:y&&y.captions||[],logs:y&&y.logs||[],data:_.buffer},[_.buffer])}probeMp4StartTime({timescales:g,data:_}){const y=_h.startTime(g,_);this.self.postMessage({action:"probeMp4StartTime",startTime:y,data:_},[_.buffer])}probeMp4Tracks({data:g}){const _=_h.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:g},[g.buffer])}probeEmsgID3({data:g,offset:_}){const y=_h.getEmsgID3(g,_);this.self.postMessage({action:"probeEmsgID3",id3Frames:y,emsgData:g},[g.buffer])}probeTs({data:g,baseStartTime:_}){const y=typeof _=="number"&&!isNaN(_)?_*ft.ONE_SECOND_IN_TS:void 0,T=mC.inspect(g,y);let w=null;T&&(w={hasVideo:T.video&&T.video.length===2||!1,hasAudio:T.audio&&T.audio.length===2||!1},w.hasVideo&&(w.videoStart=T.video[0].ptsTime),w.hasAudio&&(w.audioStart=T.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:w,data:g},[g.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(g){const _=new Uint8Array(g.data,g.byteOffset,g.byteLength);this.transmuxer.push(_)}reset(){this.transmuxer.reset()}setTimestampOffset(g){const _=g.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ft.secondsToVideoTs(_)))}setAudioAppendStart(g){this.transmuxer.setAudioAppendStart(Math.ceil(ft.secondsToVideoTs(g.appendStart)))}setRemux(g){this.transmuxer.setRemux(g.remux)}flush(g){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(g){this.transmuxer.alignGopsWith(g.gopsToAlignWith.slice())}}self.onmessage=function(f){if(f.data.action==="init"&&f.data.options){this.messageHandlers=new q0(self,f.data.options);return}this.messageHandlers||(this.messageHandlers=new q0(self)),f.data&&f.data.action&&f.data.action!=="init"&&this.messageHandlers[f.data.action]&&this.messageHandlers[f.data.action](f.data)}}));var oB=dS(aB);const uB=(t,e,n)=>{const{type:i,initSegment:r,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:u,videoFramePtsTime:c}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const d=t.data.segment.boxes||{data:t.data.segment.data},p={type:i,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};typeof u<"u"&&(p.videoFrameDtsTime=u),typeof c<"u"&&(p.videoFramePtsTime=c),n(p)},lB=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},cB=(t,e)=>{e.gopInfo=t.data.gopInfo},pS=t=>{const{transmuxer:e,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:u,onVideoTimingInfo:c,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:p,onId3:v,onCaptions:C,onDone:x,onEndedTimeline:L,onTransmuxerLog:O,isEndOfTimeline:S}=t,A={buffer:[]};let M=S;const I=N=>{e.currentTransmux===t&&(N.data.action==="data"&&uB(N,A,a),N.data.action==="trackinfo"&&o(N.data.trackInfo),N.data.action==="gopInfo"&&cB(N,A),N.data.action==="audioTimingInfo"&&u(N.data.audioTimingInfo),N.data.action==="videoTimingInfo"&&c(N.data.videoTimingInfo),N.data.action==="videoSegmentTimingInfo"&&d(N.data.videoSegmentTimingInfo),N.data.action==="audioSegmentTimingInfo"&&p(N.data.audioSegmentTimingInfo),N.data.action==="id3Frame"&&v([N.data.id3Frame],N.data.id3Frame.dispatchType),N.data.action==="caption"&&C(N.data.caption),N.data.action==="endedtimeline"&&(M=!1,L()),N.data.action==="log"&&O(N.data.log),N.data.type==="transmuxed"&&(M||(e.onmessage=null,lB({transmuxedData:A,callback:x}),gS(e))))};if(e.onmessage=I,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const N=n instanceof ArrayBuffer?n:n.buffer,F=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:N,byteOffset:F,byteLength:n.byteLength},[N])}S&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},gS=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():pS(t.currentTransmux))},gb=(t,e)=>{t.postMessage({action:e}),gS(t)},mS=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,gb(e,t);return}e.transmuxQueue.push(gb.bind(null,e,t))},dB=t=>{mS("reset",t)},fB=t=>{mS("endTimeline",t)},yS=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,pS(t);return}t.transmuxer.transmuxQueue.push(t)},hB=t=>{const e=new oB;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var sp={reset:dB,endTimeline:fB,transmux:yS,createTransmuxer:hB};const pl=function(t){const e=t.transmuxer,n=t.endAction||t.action,i=t.callback,r=Os({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),i(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;r.byteOffset=a?0:t.data.byteOffset,r.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(r,o)}else e.postMessage(r)},Sr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Rg=t=>{t.forEach(e=>{e.abort()})},pB=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),gB=t=>{const e=t.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},P0=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Sr.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Sr.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Sr.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Sr.FAILURE,xhr:e}:null,mb=(t,e,n)=>(i,r)=>{const s=r.response,a=P0(i,r);if(a)return n(a,t);if(s.byteLength!==16)return n({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:Sr.FAILURE,xhr:r},t);const o=new DataView(s),u=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);for(let c=0;c<e.length;c++)e[c].bytes=u;return n(null,t)},_S=(t,e)=>{const n=Ym(t.map.bytes);if(n!=="mp4"){const i=t.map.resolvedUri||t.map.uri;return e({internal:!0,message:`Found unsupported ${n||"unknown"} container for initialization segment at URL: ${i}`,code:Sr.FAILURE})}pl({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:i,data:r})=>(t.map.bytes=r,i.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},mB=({segment:t,finishProcessingFn:e})=>(n,i)=>{const r=P0(n,i);if(r)return e(r,t);const s=new Uint8Array(i.response);if(t.map.key)return t.map.encryptedBytes=s,e(null,t);t.map.bytes=s,_S(t,function(a){if(a)return a.xhr=i,a.status=i.status,e(a,t);e(null,t)})},yB=({segment:t,finishProcessingFn:e,responseType:n})=>(i,r)=>{const s=P0(i,r);if(s)return e(s,t);const a=n==="arraybuffer"||!r.responseText?r.response:rB(r.responseText.substring(t.lastReachedChar||0));return t.stats=pB(r),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},_B=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v})=>{const C=t.map&&t.map.tracks||{},x=!!(C.audio&&C.video);let L=i.bind(null,t,"audio","start");const O=i.bind(null,t,"audio","end");let S=i.bind(null,t,"video","start");const A=i.bind(null,t,"video","end"),M=()=>yS({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:x,onData:I=>{I.type=I.type==="combined"?"video":I.type,d(t,I)},onTrackInfo:I=>{n&&(x&&(I.isMuxed=!0),n(t,I))},onAudioTimingInfo:I=>{L&&typeof I.start<"u"&&(L(I.start),L=null),O&&typeof I.end<"u"&&O(I.end)},onVideoTimingInfo:I=>{S&&typeof I.start<"u"&&(S(I.start),S=null),A&&typeof I.end<"u"&&A(I.end)},onVideoSegmentTimingInfo:I=>{r(I)},onAudioSegmentTimingInfo:I=>{s(I)},onId3:(I,N)=>{a(t,I,N)},onCaptions:I=>{o(t,[I])},isEndOfTimeline:u,onEndedTimeline:()=>{c()},onTransmuxerLog:v,onDone:I=>{p&&(I.type=I.type==="combined"?"video":I.type,p(null,t,I))}});pl({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:I=>{t.bytes=e=I.data;const N=I.result;N&&(n(t,{hasAudio:N.hasAudio,hasVideo:N.hasVideo,isMuxed:x}),n=null),M()}})},vS=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v})=>{let C=new Uint8Array(e);if(H8(C)){t.isFmp4=!0;const{tracks:x}=t.map,L={isFmp4:!0,hasVideo:!!x.video,hasAudio:!!x.audio};x.audio&&x.audio.codec&&x.audio.codec!=="enca"&&(L.audioCodec=x.audio.codec),x.video&&x.video.codec&&x.video.codec!=="encv"&&(L.videoCodec=x.video.codec),x.video&&x.audio&&(L.isMuxed=!0),n(t,L);const O=(S,A)=>{d(t,{data:C,type:L.hasAudio&&!L.isMuxed?"audio":"video"}),A&&A.length&&a(t,A),S&&S.length&&o(t,S),p(null,t,{})};pl({action:"probeMp4StartTime",timescales:t.map.timescales,data:C,transmuxer:t.transmuxer,callback:({data:S,startTime:A})=>{e=S.buffer,t.bytes=C=S,L.hasAudio&&!L.isMuxed&&i(t,"audio","start",A),L.hasVideo&&i(t,"video","start",A),pl({action:"probeEmsgID3",data:C,transmuxer:t.transmuxer,offset:A,callback:({emsgData:M,id3Frames:I})=>{if(e=M.buffer,t.bytes=C=M,!x.video||!M.byteLength||!t.transmuxer){O(void 0,I);return}pl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:C,timescales:t.map.timescales,trackIds:[x.video.id],callback:N=>{e=N.data.buffer,t.bytes=C=N.data,N.logs.forEach(function(F){v(Lt(F,{stream:"mp4CaptionParser"}))}),O(N.captions,I)}})}})}});return}if(!t.transmuxer){p(null,t,{});return}if(typeof t.container>"u"&&(t.container=Ym(C)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),p(null,t,{});return}_B({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v})},bS=function({id:t,key:e,encryptedBytes:n,decryptionWorker:i},r){const s=o=>{if(o.data.source===t){i.removeEventListener("message",s);const u=o.data.decrypted;r(new Uint8Array(u.bytes,u.byteOffset,u.byteLength))}};i.addEventListener("message",s);let a;e.bytes.slice?a=e.bytes.slice():a=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(sS({source:t,encrypted:n,key:a,iv:e.iv}),[n.buffer,a.buffer])},vB=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v})=>{bS({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},C=>{e.bytes=C,vS({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v})})},bB=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v})=>{let C=0,x=!1;return(L,O)=>{if(!x){if(L)return x=!0,Rg(t),p(L,O);if(C+=1,C===t.length){const S=function(){if(O.encryptedBytes)return vB({decryptionWorker:e,segment:O,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v});vS({segment:O,bytes:O.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:v})};if(O.endOfAllRequests=Date.now(),O.map&&O.map.encryptedBytes&&!O.map.bytes)return bS({decryptionWorker:e,id:O.requestId+"-init",encryptedBytes:O.map.encryptedBytes,key:O.map.key},A=>{O.map.bytes=A,_S(O,M=>{if(M)return Rg(t),p(M,O);S()})});S()}}}},TB=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},EB=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d})=>p=>{if(!p.target.aborted)return t.stats=Lt(t.stats,gB(p)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(p,t)},xB=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:i,abortFn:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:p,isEndOfTimeline:v,endedTimelineFn:C,dataFn:x,doneFn:L,onTransmuxerLog:O})=>{const S=[],A=bB({activeXhrs:S,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:p,isEndOfTimeline:v,endedTimelineFn:C,dataFn:x,doneFn:L,onTransmuxerLog:O});if(i.key&&!i.key.bytes){const m=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&m.push(i.map.key);const te=Lt(e,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),ie=mb(i,m,A),Te=t(te,ie);S.push(Te)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const Y=Lt(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),se=mb(i,[i.map.key],A),J=t(Y,se);S.push(J)}const te=Lt(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Pg(i.map)}),ie=mB({segment:i,finishProcessingFn:A}),Te=t(te,ie);S.push(Te)}const M=Lt(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Pg(i)}),I=yB({segment:i,finishProcessingFn:A,responseType:M.responseType}),N=t(M,I);N.addEventListener("progress",EB({segment:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:p,isEndOfTimeline:v,endedTimelineFn:C,dataFn:x})),S.push(N);const F={};return S.forEach(m=>{m.addEventListener("loadend",TB({loadendState:F,abortFn:r}))}),()=>Rg(S)},SB=Gi("CodecUtils"),CB=function(t){const e=t.attributes||{};if(e.CODECS)return _r(e.CODECS)},TS=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},wB=(t,e)=>{if(!TS(t,e))return!0;const n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(const r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1},Wd=function(t){const e={};return t.forEach(({mediaType:n,type:i,details:r})=>{e[n]=e[n]||[],e[n].push(M2(`${i}${r}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){SB(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},yb=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},gl=function(t,e){const n=e.attributes||{},i=Wd(CB(e)||[]);if(TS(t,e)&&!i.audio&&!wB(t,e)){const r=Wd(V3(t,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},Yc=Gi("PlaylistSelector"),_b=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},zd=function(t,e){if(!t)return"";const n=W.getComputedStyle(t);return n?n[e]:""},Oo=function(t,e){const n=t.slice();t.sort(function(i,r){const s=e(i,r);return s===0?n.indexOf(i)-n.indexOf(r):s})},O0=function(t,e){let n,i;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||W.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||W.Number.MAX_VALUE,n-i},AB=function(t,e){let n,i;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||W.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||W.Number.MAX_VALUE,n===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i};let ES=function(t,e,n,i,r,s){if(!t)return;const a={bandwidth:e,width:n,height:i,limitRenditionByPlayerDimensions:r};let o=t.playlists;fi.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let u=o.map(N=>{let F;const m=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.width,te=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.height;return F=N.attributes&&N.attributes.BANDWIDTH,F=F||W.Number.MAX_VALUE,{bandwidth:F,width:m,height:te,playlist:N}});Oo(u,(N,F)=>N.bandwidth-F.bandwidth),u=u.filter(N=>!fi.isIncompatible(N.playlist));let c=u.filter(N=>fi.isEnabled(N.playlist));c.length||(c=u.filter(N=>!fi.isDisabled(N.playlist)));const d=c.filter(N=>N.bandwidth*vn.BANDWIDTH_VARIANCE<e);let p=d[d.length-1];const v=d.filter(N=>N.bandwidth===p.bandwidth)[0];if(r===!1){const N=v||c[0]||u[0];if(N&&N.playlist){let F="sortedPlaylistReps";return v&&(F="bandwidthBestRep"),c[0]&&(F="enabledPlaylistReps"),Yc(`choosing ${_b(N)} using ${F} with options`,a),N.playlist}return Yc("could not choose a playlist with options",a),null}const C=d.filter(N=>N.width&&N.height);Oo(C,(N,F)=>N.width-F.width);const x=C.filter(N=>N.width===n&&N.height===i);p=x[x.length-1];const L=x.filter(N=>N.bandwidth===p.bandwidth)[0];let O,S,A;L||(O=C.filter(N=>N.width>n||N.height>i),S=O.filter(N=>N.width===O[0].width&&N.height===O[0].height),p=S[S.length-1],A=S.filter(N=>N.bandwidth===p.bandwidth)[0]);let M;if(s.leastPixelDiffSelector){const N=C.map(F=>(F.pixelDiff=Math.abs(F.width-n)+Math.abs(F.height-i),F));Oo(N,(F,m)=>F.pixelDiff===m.pixelDiff?m.bandwidth-F.bandwidth:F.pixelDiff-m.pixelDiff),M=N[0]}const I=M||A||L||v||c[0]||u[0];if(I&&I.playlist){let N="sortedPlaylistReps";return M?N="leastPixelDiffRep":A?N="resolutionPlusOneRep":L?N="resolutionBestRep":v?N="bandwidthBestRep":c[0]&&(N="enabledPlaylistReps"),Yc(`choosing ${_b(I)} using ${N} with options`,a),I.playlist}return Yc("could not choose a playlist with options",a),null};const vb=function(){const t=this.useDevicePixelRatio&&W.devicePixelRatio||1;return ES(this.playlists.main,this.systemBandwidth,parseInt(zd(this.tech_.el(),"width"),10)*t,parseInt(zd(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},DB=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const i=this.useDevicePixelRatio&&W.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),ES(this.playlists.main,e,parseInt(zd(this.tech_.el(),"width"),10)*i,parseInt(zd(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},kB=function(t){const{main:e,currentTime:n,bandwidth:i,duration:r,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:u}=t,c=e.playlists.filter(x=>!fi.isIncompatible(x));let d=c.filter(fi.isEnabled);d.length||(d=c.filter(x=>!fi.isDisabled(x)));const v=d.filter(fi.hasAttribute.bind(null,"BANDWIDTH")).map(x=>{const O=u.getSyncPoint(x,r,o,n)?1:2,A=fi.estimateSegmentRequestTime(s,i,x)*O-a;return{playlist:x,rebufferingImpact:A}}),C=v.filter(x=>x.rebufferingImpact<=0);return Oo(C,(x,L)=>O0(L.playlist,x.playlist)),C.length?C[0]:(Oo(v,(x,L)=>x.rebufferingImpact-L.rebufferingImpact),v[0]||null)},LB=function(){const t=this.playlists.main.playlists.filter(fi.isEnabled);return Oo(t,(n,i)=>O0(n,i)),t.filter(n=>!!gl(this.playlists.main,n).video)[0]||null},IB=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(i=>{n.set(i,e),e+=i.byteLength})),n},PB=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=e.textTracks().getTrackById(i);if(r)t[n]=r;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,o=n,u=!1;const c=s[i];c&&(a=c.label,o=c.language,u=c.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:i,default:u,label:a,language:o},!1).track}}},OB=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const i=W.WebKitDataCue||W.VTTCue;e.forEach(r=>{const s=r.stream;r.content?r.content.forEach(a=>{const o=new i(r.startTime+n,r.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new i(r.startTime+n,r.endTime+n,r.text))})},RB=function(t){Object.defineProperties(t.frame,{id:{get(){return fe.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return fe.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return fe.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},NB=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:i})=>{if(!e)return;const r=W.WebKitDataCue||W.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(d=>{const p=d.cueTime+n;typeof p!="number"||W.isNaN(p)||p<0||!(p<1/0)||!d.frames||!d.frames.length||d.frames.forEach(v=>{const C=new r(p,p,v.value||v.url||v.data||"");C.frame=v,C.value=v,RB(C),s.addCue(C)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let d=0;d<a.length;d++)a[d]&&o.push(a[d]);const u=o.reduce((d,p)=>{const v=d[p.startTime]||[];return v.push(p),d[p.startTime]=v,d},{}),c=Object.keys(u).sort((d,p)=>Number(d)-Number(p));c.forEach((d,p)=>{const v=u[d],C=isFinite(i)?i:0,x=Number(c[p+1])||C;v.forEach(L=>{L.endTime=x})})},MB={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},BB=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),FB=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const i=W.WebKitDataCue||W.VTTCue;e.forEach(r=>{for(const s of Object.keys(r)){if(BB.has(s))continue;const a=new i(r.startTime,r.endTime,"");a.id=r.id,a.type="com.apple.quicktime.HLS",a.value={key:MB[s],data:r[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}r.processDateRange()})},bb=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,fe.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},el=function(t,e,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=t&&r.endTime<=e&&n.removeCue(r)},UB=function(t){const e=t.cues;if(!e)return;const n={};for(let i=e.length-1;i>=0;i--){const r=e[i],s=`${r.startTime}-${r.endTime}-${r.text}`;n[s]?t.removeCue(r):n[s]=r}},jB=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const i=Math.ceil((e-n+3)*Id.ONE_SECOND_IN_TS);let r;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)},$B=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const i=e[0].pts;let r=0;for(r;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)},HB=(t,e,n,i)=>{const r=Math.ceil((e-i)*Id.ONE_SECOND_IN_TS),s=Math.ceil((n-i)*Id.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let u=o+1;for(;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,o-u+1),a},qB=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(s!==i[r]||t[s]!==e[s])return!1}return!0},xS=22,VB=function(t,e,n){e=e||[];const i=[];let r=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(i.push(s),r+=a.duration,r>n))return s}return i.length===0?0:i[i.length-1]},Wu=1,WB=500,Tb=t=>typeof t=="number"&&isFinite(t),Qc=1/60,zB=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,GB=(t,e,n)=>{let i=e-vn.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));const r=e-n;return Math.min(r,i)},fo=t=>{const{startOfSegment:e,duration:n,segment:i,part:r,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:u,partIndex:c,timeline:d}=t,p=o.length-1;let v="mediaIndex/partIndex increment";t.getMediaInfoForTime?v=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(v="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(v+=` with independent ${t.independent}`);const C=typeof c=="number",x=t.segment.uri?"segment":"pre-segment",L=C?Wx({preloadSegment:i})-1:0;return`${x} [${s+u}/${s+p}]`+(C?` part [${c}/${L}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(C?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${d}] selected by [${v}] playlist [${a}]`},Eb=t=>`${t}TimingInfo`,xb=(t,e)=>t.length?t.end(t.length-1):e,KB=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:i,calculateTimestampOffsetForEachSegment:r,overrideCheck:s})=>r?xb(i,n):!s&&t===e?null:t<e?n:xb(i,n),Sb=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(e===n)return!1;if(i==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(i==="main"&&r){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},XB=t=>{let e=0;return["video","audio"].forEach(function(n){const i=t[`${n}TimingInfo`];if(!i)return;const{start:r,end:s}=i;let a;typeof r=="bigint"||typeof s=="bigint"?a=W.BigInt(s)-W.BigInt(r):typeof r=="number"&&typeof s=="number"&&(a=s-r),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},Cb=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Ms:!1,YB=(t,e)=>{if(e!=="hls")return null;const n=XB({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const i=t.playlist.targetDuration,r=Cb({segmentDuration:n,maxDuration:i*2}),s=Cb({segmentDuration:n,maxDuration:i}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||s?{severity:r?"warn":"info",message:a}:null};class Ng extends fe.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.calculateTimestampOffsetForEachSegment_=e.calculateTimestampOffsetForEachSegment,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=Gi(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_(`${this.state_} -> ${i}`),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return sp.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,W.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&sp.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Mn();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:i,isMuxed:r}=e;if(i&&n&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const i=Vd(e);let r=this.initSegments_[i];return n&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e}segmentKey(e,n=!1){if(!e)return null;const i=aS(e);let r=this.keyCache_[i];this.cacheEncryptionKeys_&&n&&!r&&e.bytes&&(this.keyCache_[i]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(r||e).resolvedUri};return r&&(s.bytes=r.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e)return;const i=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(i&&(i.id?s=i.id:i.uri&&(s=i.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const u=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=u}}r&&(r.mediaIndex-=a,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&sp.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,i=()=>{},r=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&i()};(r||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,a)),(r||this.loaderType_==="main")&&(this.gopBuffer_=HB(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,a));for(const o in this.inbandTextTracks_)el(e,n,this.inbandTextTracks_[o]);el(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=W.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=W.setTimeout(this.monitorBufferTick_.bind(this),WB)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,i=this.partIndex){if(!n||!this.mediaSource_)return!1;const r=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,a=!r||!r.parts||i+1===r.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),n=cb(e)||0,i=A0(e,this.currentTime_()),r=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||r||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=VB(this.currentTimeline_,a,n);else if(this.mediaIndex!==null){const v=a[this.mediaIndex],C=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=v.end?v.end:n,v.parts&&v.parts[C+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=C+1):o.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:v,startTime:C,partIndex:x}=fi.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?n:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${n}`:`currentTime ${this.currentTime_()}`,o.mediaIndex=v,o.startOfSegment=C,o.partIndex=x}const u=a[o.mediaIndex];let c=u&&typeof o.partIndex=="number"&&u.parts&&u.parts[o.partIndex];if(!u||typeof o.partIndex=="number"&&!c)return null;typeof o.partIndex!="number"&&u.parts&&(o.partIndex=0,c=u.parts[0]);const d=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&c&&!d&&!c.independent)if(o.partIndex===0){const v=a[o.mediaIndex-1],C=v.parts&&v.parts.length&&v.parts[v.parts.length-1];C&&C.independent&&(o.mediaIndex-=1,o.partIndex=v.parts.length-1,o.independent="previous segment")}else u.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const p=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&p&&!this.seeking_()?null:this.generateSegmentInfo_(o)}generateSegmentInfo_(e){const{independent:n,playlist:i,mediaIndex:r,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:u,getMediaInfoForTime:c}=e,d=i.segments[r],p=typeof o=="number"&&d.parts[o],v={requestId:"segment-loader-"+Math.random(),uri:p&&p.resolvedUri||d.resolvedUri,mediaIndex:r,partIndex:p?o:null,isSyncRequest:a,startOfSegment:s,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:d.timeline,duration:p&&p.duration||d.duration,segment:d,part:p,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:c,independent:n},C=typeof u<"u"?u:this.isPendingTimestampOffset_;v.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:d.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),calculateTimestampOffsetForEachSegment:this.calculateTimestampOffsetForEachSegment_,overrideCheck:C});const x=cb(this.sourceUpdater_.audioBuffered());return typeof x=="number"&&(v.audioAppendStart=x-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(v.gopsToAlignWith=jB(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),v}timestampOffsetForSegment_(e){return KB(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),i=e.bandwidth,r=this.pendingSegment_.duration,s=fi.estimateSegmentRequestTime(r,i,this.playlist_,e.bytesReceived),a=g5(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=kB({main:this.vhs_.playlists.main,currentTime:n,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const c=s-a-o.rebufferingImpact;let d=.5;a<=Ms&&(d=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||c<d)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*vn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${fo(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},qB(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,n,i,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=Eb(n);s[a]=s[a]||{},s[a][i]=r,this.logger_(`timinginfo: ${n} - ${i} - ${r}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};n.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+r),o.endTime=Math.max(o.endTime,a.endTime+r),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:u,captions:c}=s[a],d=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${u} for ${a}`),PB(d,this.vhs_.tech_,a),el(o,u,d[a]),OB({captionArray:c,inbandTextTracks:d,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,i));return}this.addMetadataToTextTrack(i,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!Sb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:i,hasVideo:r,isMuxed:s}=n;return!(r&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||Sb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,n));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[Eb(n.type)].start;else{const r=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&r&&r.hasVideo;let a;s&&(a=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,n.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=this.chooseNextRequest_();if(r.mediaIndex!==i.mediaIndex||r.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:i,playlist:r}){if(i){const s=Vd(i);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i},r){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Sa(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Sa(a).join(", "));const o=s.length?s.start(0):0,u=s.length?s.end(s.length-1):0,c=a.length?a.start(0):0,d=a.length?a.end(a.length-1):0;if(u-o<=Wu&&d-c<=Wu){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${Sa(s).join(", ")}, video buffer: ${Sa(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:i}));const v=this.currentTime_()-Wu;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${v}`),this.remove(0,v,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Wu}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=W.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Wu*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:i},r){if(r){if(r.code===xS){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error(`${n} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r,bytes:s}){if(!s){const a=[r];let o=r.byteLength;i&&(a.unshift(i),o+=i.byteLength),s=IB({bytes:o,segments:a})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,i){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const r=this.pendingSegment_.segment,s=`${e}TimingInfo`;r[s]||(r[s]={}),r[s].transmuxerPrependedSeconds=i.prependedContentDuration||0,r[s].transmuxedPresentationStart=i.start.presentation,r[s].transmuxedDecodeStart=i.start.decode,r[s].transmuxedPresentationEnd=i.end.presentation,r[s].transmuxedDecodeEnd=i.end.decode,r[s].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,n){const{type:i,data:r}=n;if(!r||!r.byteLength||i==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:i,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:r})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const n=Os({},e,{forceTimestampOffset:!0});Os(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||r&&s;this.logger_(`Requesting ${fo(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=xB({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:u,stream:c})=>{this.logger_(`${fo(e)} logged from transmuxer stream ${c} as a ${u}: ${o}`)}})}trimBackBuffer_(e){const n=GB(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,i=e.part,r={resolvedUri:i?i.resolvedUri:n.resolvedUri,byterange:i?i.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===n.timeline&&(s.videoTimingInfo?r.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(r.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),n.key){const a=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(n.key),r.key.iv=a}return n.map&&(r.map=this.initSegmentForMap(n.map)),r}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<Qc){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Qc}`);return}this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,i));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Sr.ABORTED)return;if(this.pause(),e.code===Sr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),r.endOfAllRequests=n.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=$B(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:i,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:u}){if(typeof e<"u")return e;if(!a)return u.start;const c=n.segments[i-1];return i===0||!c||typeof c.start>"u"||c.end!==r+s?r:o.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:r,isMuxed:s}=n,a=this.loaderType_==="main"&&r,o=!this.audioDisabled_&&i&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=zB(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end=typeof r.end=="number"?r.end:r.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=YB(e,this.sourceType_);if(n&&(n.severity==="warn"?fe.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${fo(e)}`);return}this.logger_(`Appended ${fo(e)}`),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,r=e.part,s=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,a=r&&r.end&&this.currentTime_()-r.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${fo(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Qc){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Qc}`);return}const n=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(r-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,i=n.start,r=n.end;if(!Tb(i)||!Tb(r))return;el(i,r,this.segmentMetadataTrack_);const s=W.WebKitDataCue||W.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},o=JSON.stringify(a),u=new s(i,r,o);u.value=a,this.segmentMetadataTrack_.addCue(u)}set replaceSegmentsUntil(e){this.logger_(`Replacing currently buffered segments until ${e}`),this.replaceSegmentsUntil_=e}}function Kr(){}const SS=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},QB=["video","audio"],Mg=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},JB=(t,e)=>{for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="mediaSource")return null;if(i.type===t)return n}return null},Ro=(t,e)=>{if(e.queue.length===0)return;let n=0,i=e.queue[n];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),Ro("audio",e),Ro("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Mg(t,e))){if(i.type!==t){if(n=JB(t,e.queue),n===null)return;i=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=i,i.action(t,e),!i.doneFn){e.queuePending[t]=null,Ro(t,e);return}}},CS=(t,e)=>{const n=e[`${t}Buffer`],i=SS(t);n&&(n.removeEventListener("updateend",e[`on${i}UpdateEnd_`]),n.removeEventListener("error",e[`on${i}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},vr=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,xi={appendBuffer:(t,e,n)=>(i,r)=>{const s=r[`${i}Buffer`];if(vr(r.mediaSource,s)){r.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${i}Buffer`);try{s.appendBuffer(t)}catch(a){r.logger_(`Error with code ${a.code} `+(a.code===xS?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${i}Buffer`),r.queuePending[i]=null,n(a)}}},remove:(t,e)=>(n,i)=>{const r=i[`${n}Buffer`];if(vr(i.mediaSource,r)){i.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{r.remove(t,e)}catch{i.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const i=n[`${e}Buffer`];vr(n.mediaSource,i)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),i.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){fe.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){fe.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(vr(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(i){fe.log.warn(`Failed to abort on ${t}Buffer`,i)}}},addSourceBuffer:(t,e)=>n=>{const i=SS(t),r=Dl(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",n[`on${i}UpdateEnd_`]),s.addEventListener("error",n[`on${i}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(CS(t,e),!!vr(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(i){fe.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,i)}}},changeType:t=>(e,n)=>{const i=n[`${e}Buffer`],r=Dl(t);vr(n.mediaSource,i)&&n.codecs[e]!==t&&(n.logger_(`changing ${e}Buffer codec from ${n.codecs[e]} to ${t}`),i.changeType(r),n.codecs[e]=t)}},Si=({type:t,sourceUpdater:e,action:n,doneFn:i,name:r})=>{e.queue.push({type:t,action:n,doneFn:i,name:r}),Ro(t,e)},wb=(t,e)=>n=>{const i=e[`${t}Buffered`](),r=f5(i);if(e.logger_(`${t} source buffer update end. Buffered: 
`,r),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Ro(t,e)};class wS extends fe.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Ro("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Gi("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=wb("video",this),this.onAudioUpdateEnd_=wb("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){Si({type:"mediaSource",sourceUpdater:this,action:xi.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){Si({type:e,sourceUpdater:this,action:xi.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){fe.log.error("removeSourceBuffer is not supported!");return}Si({type:"mediaSource",sourceUpdater:this,action:xi.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!fe.browser.IS_FIREFOX&&W.MediaSource&&W.MediaSource.prototype&&typeof W.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return W.SourceBuffer&&W.SourceBuffer.prototype&&typeof W.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){fe.log.error("changeType is not supported!");return}Si({type:e,sourceUpdater:this,action:xi.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const i=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,i);this.canChangeType()&&this.changeType(n,i)})}appendBuffer(e,n){const{segmentInfo:i,type:r,bytes:s}=e;if(this.processedAppend_=!0,r==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=n;if(Si({type:r,sourceUpdater:this,action:xi.appendBuffer(s,i||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),r==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(u=>{this.appendBuffer.apply(this,u)})}}audioBuffered(){return vr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Mn()}videoBuffered(){return vr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Mn()}buffered(){const e=vr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=vr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():p5(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=Kr){Si({type:"mediaSource",sourceUpdater:this,action:xi.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=Kr){typeof e!="string"&&(e=void 0),Si({type:"mediaSource",sourceUpdater:this,action:xi.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,i=Kr){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}Si({type:"audio",sourceUpdater:this,action:xi.remove(e,n),doneFn:i,name:"remove"})}removeVideo(e,n,i=Kr){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}Si({type:"video",sourceUpdater:this,action:xi.remove(e,n),doneFn:i,name:"remove"})}updating(){return!!(Mg("audio",this)||Mg("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Si({type:"audio",sourceUpdater:this,action:xi.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Si({type:"video",sourceUpdater:this,action:xi.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Si({type:"audio",sourceUpdater:this,action:xi.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Si({type:"video",sourceUpdater:this,action:xi.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),QB.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>CS(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const Ab=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),Db=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class ZB extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class eF extends Ng{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Mn();const e=this.subtitlesTrack_.cues,n=e[0].startTime,i=e[e.length-1].startTime;return Mn([[n,i]])}initSegmentForMap(e,n=!1){if(!e)return null;const i=Vd(e);let r=this.initSegments_[i];if(n&&!r&&e.bytes){const s=Db.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(Db,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){el(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Sr.TIMEOUT&&this.handleTimeout_(),e.code===Sr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const s=r.segment;if(s.map&&(s.map.bytes=n.map.bytes),r.bytes=n.bytes,typeof W.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(r)}catch(a){this.stopForError({message:a.message});return}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,r.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new W.VTTCue(a.startTime,a.endTime,a.text):a)}),UB(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let n,i=!1;if(typeof W.WebVTT!="function")throw new ZB;typeof W.TextDecoder=="function"?n=new W.TextDecoder("utf8"):(n=W.WebVTT.StringDecoder(),i=!0);const r=new W.WebVTT.Parser(W,W.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=a=>{e.timestampmap=a},r.onparsingerror=a=>{fe.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;i&&(a=Ab(a)),r.parse(a)}let s=e.bytes;i&&(s=Ab(s)),r.parse(s),r.flush()}updateTimeMapping_(e,n,i){const r=e.segment;if(!n)return;if(!e.cues.length){r.empty=!0;return}const s=e.timestampmap,a=s.MPEGTS/Id.ONE_SECOND_IN_TS-s.LOCAL+n.mapping;if(e.cues.forEach(o=>{o.startTime+=a,o.endTime+=a}),!i.syncInfo){const o=e.cues[0].startTime,u=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(o,u-r.duration)}}}}const tF=function(t,e){const n=t.cues;for(let i=0;i<n.length;i++){const r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},nF=function(t,e,n=0){if(!t.segments)return;let i=n,r;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(r||(r=tF(e,i+a.duration/2)),r){if("cueIn"in a){r.endTime=i,r.adEndTime=i,i+=a.duration,r=null;continue}if(i<r.endTime){i+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&(r=new W.VTTCue(i,i+a.duration,a.cueOut),r.adStartTime=i,r.adEndTime=i+parseFloat(a.cueOut),e.addCue(r)),"cueOutCont"in a){const[o,u]=a.cueOutCont.split("/").map(parseFloat);r=new W.VTTCue(i,i+a.duration,""),r.adStartTime=i-o,r.adEndTime=r.adStartTime+u,e.addCue(r)}i+=a.duration}},iF=86400,kb=[{name:"VOD",run:(t,e,n,i,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(t,e,n,i,r)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=Ag(e);r=r||0;for(let u=0;u<o.length;u++){const c=e.endList||r===0?u:o.length-(u+1),d=o[c],p=d.segment,v=t.timelineToDatetimeMappings[p.timeline];if(!v||!p.dateTimeObject)continue;let x=p.dateTimeObject.getTime()/1e3+v;if(p.parts&&typeof d.partIndex=="number")for(let O=0;O<d.partIndex;O++)x+=p.parts[O].duration;const L=Math.abs(r-x);if(a!==null&&(L===0||a<L))break;a=L,s={time:x,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}return s}},{name:"Segment",run:(t,e,n,i,r)=>{let s=null,a=null;r=r||0;const o=Ag(e);for(let u=0;u<o.length;u++){const c=e.endList||r===0?u:o.length-(u+1),d=o[c],p=d.segment,v=d.part&&d.part.start||p&&p.start;if(p.timeline===i&&typeof v<"u"){const C=Math.abs(r-v);if(a!==null&&a<C)break;(!s||a===null||a>=C)&&(a=C,s={time:v,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,i,r)=>{let s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const u=e.discontinuityStarts[o],c=e.discontinuitySequence+o+1,d=t.discontinuities[c];if(d){const p=Math.abs(r-d.time);if(a!==null&&a<p)break;(!s||a===null||a>=p)&&(a=p,s={time:d.time,segmentIndex:u,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,i,r)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class rF extends fe.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=Gi("SyncController")}getSyncPoint(e,n,i,r){const s=this.runStrategies_(e,n,i,r);return s.length?this.selectSyncPoint_(s,{key:"time",value:r}):null}getExpiredTime(e,n){if(!e||!e.segments)return null;const i=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!i.length)return null;const r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+hl({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))}runStrategies_(e,n,i,r){const s=[];for(let a=0;a<kb.length;a++){const o=kb[a],u=o.run(this,e,n,i,r);u&&(u.strategy=o.name,s.push({strategy:o.name,syncPoint:u}))}return s}selectSyncPoint_(e,n){let i=e[0].syncPoint,r=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[n.key]-n.value);o<r&&(r=o,i=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+(typeof i.partIndex=="number"?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,n){const i=n.mediaSequence-e.mediaSequence;if(i>iF){fe.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);return}for(let r=i-1;r>=0;r--){const s=e.segments[r];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+r,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],i=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),r=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:r.start}));const s=r.dateTimeObject;r.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[r.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,i){const r=e.segment,s=e.part;let a=this.timelines[e.timeline],o,u;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},i&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,u=n.end+a.mapping;else if(a)o=n.start+a.mapping,u=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=u),(!r.start||o<r.start)&&(r.start=o),r.end=u,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let r=0;r<n.discontinuityStarts.length;r++){const s=n.discontinuityStarts[r],a=n.discontinuitySequence+r+1,o=s-e.mediaIndex,u=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>u){let c;o<0?c=i.start-hl({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):c=i.end+hl({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:c,accuracy:u}}}}dispose(){this.trigger("dispose"),this.off()}}class sF extends fe.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:i}){return typeof n=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:i}){return typeof n=="number"&&typeof i=="number"&&(this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const aF=fS(hS(function(){var t=function(){function L(){this.listeners={}}var O=L.prototype;return O.on=function(A,M){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(M)},O.off=function(A,M){if(!this.listeners[A])return!1;var I=this.listeners[A].indexOf(M);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(I,1),I>-1},O.trigger=function(A){var M=this.listeners[A];if(M)if(arguments.length===2)for(var I=M.length,N=0;N<I;++N)M[N].call(this,arguments[1]);else for(var F=Array.prototype.slice.call(arguments,1),m=M.length,te=0;te<m;++te)M[te].apply(this,F)},O.dispose=function(){this.listeners={}},O.pipe=function(A){this.on("data",function(M){A.push(M)})},L}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(L){return L.subarray(0,L.byteLength-L[L.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const n=function(){const L=[[[],[],[],[],[]],[[],[],[],[],[]]],O=L[0],S=L[1],A=O[4],M=S[4];let I,N,F;const m=[],te=[];let ie,Te,Y,se,J,de;for(I=0;I<256;I++)te[(m[I]=I<<1^(I>>7)*283)^I]=I;for(N=F=0;!A[N];N^=ie||1,F=te[F]||1)for(se=F^F<<1^F<<2^F<<3^F<<4,se=se>>8^se&255^99,A[N]=se,M[se]=N,Y=m[Te=m[ie=m[N]]],de=Y*16843009^Te*65537^ie*257^N*16843008,J=m[se]*257^se*16843008,I=0;I<4;I++)O[I][N]=J=J<<24^J>>>8,S[I][se]=de=de<<24^de>>>8;for(I=0;I<5;I++)O[I]=O[I].slice(0),S[I]=S[I].slice(0);return L};let i=null;class r{constructor(O){i||(i=n()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let S,A,M;const I=this._tables[0][4],N=this._tables[1],F=O.length;let m=1;if(F!==4&&F!==6&&F!==8)throw new Error("Invalid aes key size");const te=O.slice(0),ie=[];for(this._key=[te,ie],S=F;S<4*F+28;S++)M=te[S-1],(S%F===0||F===8&&S%F===4)&&(M=I[M>>>24]<<24^I[M>>16&255]<<16^I[M>>8&255]<<8^I[M&255],S%F===0&&(M=M<<8^M>>>24^m<<24,m=m<<1^(m>>7)*283)),te[S]=te[S-F]^M;for(A=0;S;A++,S--)M=te[A&3?S:S-4],S<=4||A<4?ie[A]=M:ie[A]=N[0][I[M>>>24]]^N[1][I[M>>16&255]]^N[2][I[M>>8&255]]^N[3][I[M&255]]}decrypt(O,S,A,M,I,N){const F=this._key[1];let m=O^F[0],te=M^F[1],ie=A^F[2],Te=S^F[3],Y,se,J;const de=F.length/4-2;let $e,Le=4;const Re=this._tables[1],Ve=Re[0],bt=Re[1],Qt=Re[2],Ht=Re[3],xt=Re[4];for($e=0;$e<de;$e++)Y=Ve[m>>>24]^bt[te>>16&255]^Qt[ie>>8&255]^Ht[Te&255]^F[Le],se=Ve[te>>>24]^bt[ie>>16&255]^Qt[Te>>8&255]^Ht[m&255]^F[Le+1],J=Ve[ie>>>24]^bt[Te>>16&255]^Qt[m>>8&255]^Ht[te&255]^F[Le+2],Te=Ve[Te>>>24]^bt[m>>16&255]^Qt[te>>8&255]^Ht[ie&255]^F[Le+3],Le+=4,m=Y,te=se,ie=J;for($e=0;$e<4;$e++)I[(3&-$e)+N]=xt[m>>>24]<<24^xt[te>>16&255]<<16^xt[ie>>8&255]<<8^xt[Te&255]^F[Le++],Y=m,m=te,te=ie,ie=Te,Te=Y}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(O){this.jobs.push(O),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(L){return L<<24|(L&65280)<<8|(L&16711680)>>8|L>>>24},o=function(L,O,S){const A=new Int32Array(L.buffer,L.byteOffset,L.byteLength>>2),M=new r(Array.prototype.slice.call(O)),I=new Uint8Array(L.byteLength),N=new Int32Array(I.buffer);let F,m,te,ie,Te,Y,se,J,de;for(F=S[0],m=S[1],te=S[2],ie=S[3],de=0;de<A.length;de+=4)Te=a(A[de]),Y=a(A[de+1]),se=a(A[de+2]),J=a(A[de+3]),M.decrypt(Te,Y,se,J,N,de),N[de]=a(N[de]^F),N[de+1]=a(N[de+1]^m),N[de+2]=a(N[de+2]^te),N[de+3]=a(N[de+3]^ie),F=Te,m=Y,te=se,ie=J;return I};class u{constructor(O,S,A,M){const I=u.STEP,N=new Int32Array(O.buffer),F=new Uint8Array(O.byteLength);let m=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(N.subarray(m,m+I),S,A,F)),m=I;m<N.length;m+=I)A=new Uint32Array([a(N[m-4]),a(N[m-3]),a(N[m-2]),a(N[m-1])]),this.asyncStream_.push(this.decryptChunk_(N.subarray(m,m+I),S,A,F));this.asyncStream_.push(function(){M(null,e(F))})}static get STEP(){return 32e3}decryptChunk_(O,S,A,M){return function(){const I=o(O,S,A);M.set(I,O.byteOffset)}}}var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d;typeof window<"u"?d=window:typeof c<"u"?d=c:typeof self<"u"?d=self:d={};var p=d,v=function(O){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(O):O&&O.buffer instanceof ArrayBuffer},C=p.BigInt||Number;C("0x1"),C("0x100"),C("0x10000"),C("0x1000000"),C("0x100000000"),C("0x10000000000"),C("0x1000000000000"),C("0x100000000000000"),C("0x10000000000000000"),function(){var L=new Uint16Array([65484]),O=new Uint8Array(L.buffer,L.byteOffset,L.byteLength);return O[0]===255?"big":O[0]===204?"little":"unknown"}();const x=function(L){const O={};return Object.keys(L).forEach(S=>{const A=L[S];v(A)?O[S]={bytes:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength}:O[S]=A}),O};self.onmessage=function(L){const O=L.data,S=new Uint8Array(O.encrypted.bytes,O.encrypted.byteOffset,O.encrypted.byteLength),A=new Uint32Array(O.key.bytes,O.key.byteOffset,O.key.byteLength/4),M=new Uint32Array(O.iv.bytes,O.iv.byteOffset,O.iv.byteLength/4);new u(S,A,M,function(I,N){self.postMessage(x({source:O.source,decrypted:N}),[N.buffer])})}}));var oF=dS(aF);const uF=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},AS=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Bg=(t,e)=>{e.activePlaylistLoader=t,t.load()},lF=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:r}}=e,s=r.activeTrack(),a=r.getActiveGroup(),o=r.activePlaylistLoader,u=r.lastGroup_;if(!(a&&u&&a.id===u.id)&&(r.lastGroup_=a,r.lastTrack_=s,AS(n,r),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&i.resetEverything();return}n.resyncLoader(),Bg(a.playlistLoader,r)}},cF=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:i}}=e;i.lastGroup_=null,n.abort(),n.pause()},dF=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:i,main:r},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),u=s.activePlaylistLoader,c=s.lastTrack_;if(!(c&&a&&c.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,AS(i,s),!!o)){if(o.isMainPlaylist){if(!a||!c||a.id===c.id)return;const d=e.vhs.playlistController_,p=d.selectPlaylist();if(d.media()===p)return;s.logger_(`track change. Switching main audio from ${c.id} to ${a.id}`),n.pause(),r.resetEverything(),d.fastQualityChange_(p);return}if(t==="AUDIO"){if(!o.playlistLoader){r.setAudio(!0),r.resetEverything();return}i.setAudio(!0),r.setAudio(!1)}if(u===o.playlistLoader){Bg(o.playlistLoader,s);return}i.track&&i.track(a),i.resetEverything(),Bg(o.playlistLoader,s)}},Gd={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:i}=e,r=n.activeTrack(),s=n.activeGroup(),a=(s.filter(u=>u.default)[0]||s[0]).id,o=n.tracks[a];if(r===o){i({error:{message:"Problem encountered loading the default audio track."}});return}fe.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const u in n.tracks)n.tracks[u].enabled=n.tracks[u]===o;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;fe.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},Lb={AUDIO:(t,e,n)=>{if(!e)return;const{tech:i,requestOptions:r,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,r),(!i.paused()||a.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",Gd[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,r),s.track(a.activeTrack()),(!i.paused()||o.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",Gd[t](t,n))}},fF={AUDIO:(t,e)=>{const{vhs:n,sourceType:i,segmentLoaders:{[t]:r},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:u,logger_:c}},mainPlaylistLoader:d}=e,p=ic(d.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},p&&(a[t].main.default.playlists=d.main.playlists));for(const v in a[t]){o[v]||(o[v]=[]);for(const C in a[t][v]){let x=a[t][v][C],L;if(p?(c(`AUDIO group '${v}' label '${C}' is a main playlist`),x.isMainPlaylist=!0,L=null):i==="vhs-json"&&x.playlists?L=new To(x.playlists[0],n,s):x.resolvedUri?L=new To(x.resolvedUri,n,s):x.playlists&&i==="dash"?L=new Og(x.playlists[0],n,s,d):L=null,x=Lt({id:C,playlistLoader:L},x),Lb[t](t,x.playlistLoader,e),o[v].push(x),typeof u[C]>"u"){const O=new fe.AudioTrack({id:C,kind:uF(x),enabled:!1,language:x.language,default:x.default,label:C});u[C]=O}}}r.on("error",Gd[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:u,tracks:c}},mainPlaylistLoader:d}=e;for(const p in o[t]){u[p]||(u[p]=[]);for(const v in o[t][p]){if(!i.options_.useForcedSubtitles&&o[t][p][v].forced)continue;let C=o[t][p][v],x;if(r==="hls")x=new To(C.resolvedUri,i,a);else if(r==="dash"){if(!C.playlists.filter(O=>O.excludeUntil!==1/0).length)return;x=new Og(C.playlists[0],i,a,d)}else r==="vhs-json"&&(x=new To(C.playlists?C.playlists[0]:C.resolvedUri,i,a));if(C=Lt({id:v,playlistLoader:x},C),Lb[t](t,C.playlistLoader,e),u[p].push(C),typeof c[v]>"u"){const L=n.addRemoteTextTrack({id:v,kind:"subtitles",default:C.default&&C.autoselect,language:C.language,label:v},!1).track;c[v]=L}}}s.on("error",Gd[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[t]:{groups:r,tracks:s}}}=e;for(const a in i[t]){r[a]||(r[a]=[]);for(const o in i[t][a]){const u=i[t][a][o];if(!/^(?:CC|SERVICE)/.test(u.instreamId))continue;const c=n.options_.vhs&&n.options_.vhs.captionServices||{};let d={label:o,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(c[d.instreamId]&&(d=Lt(d,c[d.instreamId])),d.default===void 0&&delete d.default,r[a].push(Lt({id:o},u)),typeof s[o]>"u"){const p=n.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;s[o]=p}}}}},DS=(t,e)=>{for(let n=0;n<t.length;n++)if(L0(e,t[n])||t[n].playlists&&DS(t[n].playlists,e))return!0;return!1},hF=(t,e)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[t]:{groups:r}}}=e,s=i.media();if(!s)return null;let a=null;s.attributes[t]&&(a=r[s.attributes[t]]);const o=Object.keys(r);if(!a)if(t==="AUDIO"&&o.length>1&&ic(e.main))for(let u=0;u<o.length;u++){const c=r[o[u]];if(DS(c,s)){a=c;break}}else r.main?a=r.main:o.length===1&&(a=r[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(u=>u.id===n.id)[0]||null},pF={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].enabled)return n[i];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].mode==="showing"||n[i].mode==="hidden")return n[i];return null}},gF=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},mF=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(c=>{fF[c](c,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(c=>{e[c].activeGroup=hF(c,t),e[c].activeTrack=pF[c](c,t),e[c].onGroupChanged=lF(c,t),e[c].onGroupChanging=cF(c,t),e[c].onTrackChanged=dF(c,t),e[c].getActiveGroup=gF(c,t)});const o=e.AUDIO.activeGroup();if(o){const c=(o.filter(p=>p.default)[0]||o[0]).id;e.AUDIO.tracks[c].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanging())});const u=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",u),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",()=>{i.audioTracks().removeEventListener("change",u),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const c in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[c])},yF=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Kr,activeTrack:Kr,getActiveGroup:Kr,onGroupChanged:Kr,onTrackChanged:Kr,lastTrack_:null,logger_:Gi(`MediaGroups[${e}]`)}}),t};class Ib{constructor(){this.priority_=[]}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=wi(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}}class _F extends fe.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new Ib,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.logger_=Gi("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const i=n.serverUri||n.serverURL;if(!i){this.logger_(`steering manifest URL is ${i}, cannot request steering manifest.`),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=this.queryBeforeStart?i:wi(e,i),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart||!1,this.proxyServerUrl_=n.proxyServerURL||null,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"),this.queryBeforeStart&&this.requestSteeringManifest(this.steeringManifest.reloadUri)}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!e&&!n)return;const i=e||this.getRequestURI(n);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:i},(r,s)=>{if(r){if(s.status===410){this.logger_(`manifest request 410 ${r}.`),this.logger_(`There will be no more content steering requests to ${i} this session.`),this.excludedSteeringManifestURLs.add(i);return}if(s.status===429){const o=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${r}.`),this.logger_(`content steering will retry in ${o} seconds.`),this.startTTLTimeout_(parseInt(o,10));return}this.logger_(`manifest failed to load ${r}.`),this.startTTLTimeout_();return}const a=JSON.parse(this.request_.responseText);this.startTTLTimeout_(),this.assignSteeringProperties_(a)})}setProxyServerUrl_(e){const n=new W.URL(e),i=new W.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const n=JSON.parse(W.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new W.URL(e),i=this.getPathway(),r=this.getBandwidth_();if(i){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,i)}if(r){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,r)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(r=>{for(const s of r)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=r=>this.excludedSteeringManifestURLs.has(r);if(this.proxyServerUrl_){const r=this.setProxyServerUrl_(e);if(!n(r))return r}const i=this.setSteeringParams_(e);return n(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=W.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){W.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new Ib}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}}const vF=10;let Wr;const bF=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],TF=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},EF=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:u}){if(!i)return fe.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${t&&t.id||"null"} -> ${i.id}`;if(!t)return u(`${c} as current playlist is not set`),!0;if(i.id===t.id)return!1;const d=!!bo(e,n).length;if(!t.endList)return!d&&typeof t.partTargetDuration=="number"?(u(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(u(`${c} as current playlist is live`),!0);const p=A0(e,n),v=o?vn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:vn.MAX_BUFFER_LOW_WATER_LINE;if(a<v)return u(`${c} as duration < max low water line (${a} < ${v})`),!0;const C=i.attributes.BANDWIDTH,x=t.attributes.BANDWIDTH;if(C<x&&(!o||p<s)){let L=`${c} as next bandwidth < current bandwidth (${C} < ${x})`;return o&&(L+=` and forwardBuffer < bufferHighWaterLine (${p} < ${s})`),u(L),!0}if((!o||C>x)&&p>=r){let L=`${c} as forwardBuffer >= bufferLowWaterLine (${p} >= ${r})`;return o&&(L+=` and next bandwidth > current bandwidth (${C} > ${x})`),u(L),!0}return u(`not ${c} as no switching criteria met`),!1};class xF extends fe.EventTarget{constructor(e){super();const{src:n,withCredentials:i,tech:r,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:u,enableLowInitialPlaylist:c,sourceType:d,cacheEncryptionKeys:p,bufferBasedABR:v,leastPixelDiffSelector:C,captionServices:x}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:L}=e;(L===null||typeof L>"u")&&(L=1/0),Wr=a,this.bufferBasedABR=!!v,this.leastPixelDiffSelector=!!C,this.withCredentials=i,this.tech_=r,this.vhs_=r.vhs,this.sourceType_=d,this.useCueTags_=o,this.playlistExclusionDuration=u,this.maxPlaylistRetries=L,this.enableLowInitialPlaylist=c,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:L,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=yF(),this.mediaSource=new W.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Mn(),this.hasPlayed_=!1,this.syncController_=new rF(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new oF,this.sourceUpdater_=new wS(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new sF;const O={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,calculateTimestampOffsetForEachSegment:e.calculateTimestampOffsetForEachSegment,captionServices:x,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:p,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Og(n,this.vhs_,Lt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new To(n,this.vhs_,Lt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Ng(Lt(O,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Ng(Lt(O,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new eF(Lt(O,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((M,I)=>{function N(){r.off("vttjserror",F),M()}function F(){r.off("vttjsloaded",N),I()}r.one("vttjsloaded",N),r.one("vttjserror",F),r.addWebVttScript_()})}),e);const S=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new _F(this.vhs_.xhr,S),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),bF.forEach(M=>{this[M+"_"]=TF.bind(this,M)}),this.logger_=Gi("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const A=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(A,()=>{const M=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-M,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,i){const r=this.media(),s=r&&(r.id||r.uri),a=e.id||e.uri;s&&s!==a&&(this.logger_(`switch media ${s} -> ${a} from ${n}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})),this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],i=n?n.activeGroup():null,r=this.contentSteeringController_.getPathway();if(i&&r){const a=(i.length?i[0].playlists:i.playlists).filter(o=>o.attributes.serviceLocation===r);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=W.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(W.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const i=e.mediaGroups.AUDIO,r=Object.keys(i);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=i.main||r.length&&i[r[0]];for(const u in o)if(o[u].default){s={label:u};break}}if(!s)return n;const a=[];for(const o in i)if(i[o][s.label]){const u=i[o][s.label];if(u.playlists&&u.playlists.length)a.push.apply(a,u.playlists);else if(u.uri)a.push(u);else if(e.playlists.length)for(let c=0;c<e.playlists.length;c++){const d=e.playlists[c];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===o&&a.push(d)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Dg(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),mF({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Dg(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const i=e.mediaGroups||{};let r=!0;const s=Object.keys(i.AUDIO);for(const a in i.AUDIO)for(const o in i.AUDIO[a])i.AUDIO[a][o].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Wr.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),r=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return EF({buffered:a,currentTime:i,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:vF}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),n=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=n,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const i=n.end(0);let r=i;if(e.start){const s=e.start.timeOffset;s<0?r=Math.max(i+s,n.start(0)):r=Math.min(i,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(r)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(e,this.duration());if(i===null)return!1;const r=Wr.Playlist.playlistEnd(e,i),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return r-s<=xr;const o=a.end(a.length-1);return o-s<=xr&&r-o<=xr}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const r=this.mainPlaylistLoader_.main.playlists,s=r.filter(Wf),a=s.length===1&&s[0]===e;if(r.length===1&&i!==1/0)return fe.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const x=this.pathwayAttribute_(e),L=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(x),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(x)},L);return}let C=!1;r.forEach(x=>{if(x===e)return;const L=x.excludeUntil;typeof L<"u"&&L!==1/0&&(C=!0,delete x.excludeUntil)}),C&&(fe.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+i*1e3,e.excludeUntil=o,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const u=this.selectPlaylist();if(!u){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const c=n.internal?this.logger_:fe.log.warn,d=n.message?" "+n.message:"";c(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${d} Switching to playlist ${u.id}.`),u.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const p=u.targetDuration/2*1e3||5*1e3,v=typeof u.lastRequest=="number"&&Date.now()-u.lastRequest<=p;return this.switchMedia_(u,"exclude",a||v)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const i=[],r=e==="all";(r||e==="main")&&i.push(this.mainPlaylistLoader_);const s=[];(r||e==="audio")&&s.push("AUDIO"),(r||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&i.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&i.push(o)}),i.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const n=bo(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Wr.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let n=this.mainPlaylistLoader_.media();if(!n)return;let i=this.syncController_.getExpiredTime(n,this.duration());if(i===null)return;const r=this.mainPlaylistLoader_.main,s=Wr.Playlist.seekable(n,i,Wr.Playlist.liveEdgeDelay(r,n));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(n,this.duration()),i===null||(e=Wr.Playlist.seekable(n,i,Wr.Playlist.liveEdgeDelay(r,n)),e.length===0)))return;let a,o;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Mn([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)&&(this.logger_(`seekable updated [${qx(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1));return}const n=this.tech_.buffered();let i=Wr.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const i in n)n[i].forEach(r=>{r.playlistLoader&&r.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=gl(this.main(),n),r={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(r.video=i.video||e.main.videoCodec||z3),e.main.isMuxed&&(r.video+=`,${i.audio||e.main.audioCodec||fv}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(r.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||fv,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!r.audio&&!r.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(c,d)=>c?td(d):Vh(d),o={};let u;if(["video","audio"].forEach(function(c){if(r.hasOwnProperty(c)&&!a(e[c].isFmp4,r[c])){const d=e[c].isFmp4?"browser":"muxer";o[d]=o[d]||[],o[d].push(r[c]),c==="audio"&&(u=d)}}),s&&u&&n.attributes.AUDIO){const c=n.attributes.AUDIO;this.main().playlists.forEach(d=>{(d.attributes&&d.attributes.AUDIO)===c&&d!==n&&(d.excludeUntil=1/0)}),this.logger_(`excluding audio group ${c} as ${u} does not support codec(s): "${r.audio}"`)}if(Object.keys(o).length){const c=Object.keys(o).reduce((d,p)=>(d&&(d+=", "),d+=`${p} does not support codec(s): "${o[p].join(",")}"`,d),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:c},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const c=[];if(["video","audio"].forEach(d=>{const p=(_r(this.sourceUpdater_.codecs[d]||"")[0]||{}).type,v=(_r(r[d]||"")[0]||{}).type;p&&v&&p.toLowerCase()!==v.toLowerCase()&&c.push(`"${this.sourceUpdater_.codecs[d]}" -> "${r[d]}"`)}),c.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${c.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return r}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(i=>{const r=e[i];if(n.indexOf(r.id)!==-1)return;n.push(r.id);const s=gl(this.main,r),a=[];s.audio&&!Vh(s.audio)&&!td(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!Vh(s.video)&&!td(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(r.excludeUntil=1/0,this.logger_(`excluding ${r.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],i=this.main().playlists,r=Wd(_r(e)),s=yb(r),a=r.video&&_r(r.video)[0]||null,o=r.audio&&_r(r.audio)[0]||null;Object.keys(i).forEach(u=>{const c=i[u];if(n.indexOf(c.id)!==-1||c.excludeUntil===1/0)return;n.push(c.id);const d=[],p=gl(this.mainPlaylistLoader_.main,c),v=yb(p);if(!(!p.audio&&!p.video)){if(v!==s&&d.push(`codec count "${v}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const C=p.video&&_r(p.video)[0]||null,x=p.audio&&_r(p.audio)[0]||null;C&&a&&C.type.toLowerCase()!==a.type.toLowerCase()&&d.push(`video codec "${C.type}" !== "${a.type}"`),x&&o&&x.type.toLowerCase()!==o.type.toLowerCase()&&d.push(`audio codec "${x.type}" !== "${o.type}"`)}d.length&&(c.excludeUntil=1/0,this.logger_(`excluding ${c.id}: ${d.join(" && ")}`))}})}updateAdCues_(e){let n=0;const i=this.seekable();i.length&&(n=i.start(0)),nF(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=vn.GOAL_BUFFER_LENGTH,i=vn.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,vn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*i,r)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=vn.BUFFER_LOW_WATER_LINE,i=vn.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,vn.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,vn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*i,this.bufferBasedABR?s:r)}bufferHighWaterLine(){return vn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){bb(this.inbandTextTracks_,"com.apple.streaming",this.tech_),FB({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,i){const r=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();bb(this.inbandTextTracks_,e,this.tech_),NB({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:r,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(!e.contentSteering)return;const n=i=>{for(const r of i.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));this.contentSteeringController_.assignTagProperties(i.uri,i.contentSteering)};n(e),this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("mediaupdatetimeout",()=>{this.mainPlaylistLoader_.refreshMedia_(this.mainPlaylistLoader_.media().id),this.contentSteeringController_.abort(),this.contentSteeringController_.clearTTLTimeout_(),this.contentSteeringController_.clearAvailablePathways(),n(this.main())}),this.contentSteeringController_.queryBeforeStart||this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;const i=this.main().playlists,r=new Set;let s=!1;Object.keys(i).forEach(a=>{const o=i[a],u=this.pathwayAttribute_(o),c=u&&e!==u;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!c&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const p=!o.excludeUntil&&o.excludeUntil!==1/0;!r.has(o.id)&&c&&p&&(r.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const u=o.activePlaylistLoader.media_;u&&u.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}}const SF=(t,e,n)=>i=>{const r=t.main.playlists[e],s=k0(r),a=Wf(r);return typeof i>"u"?a:(i?delete r.disabled:r.disabled=!0,i!==a&&!s&&(n(),i?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),i)};class CF{constructor(e,n,i){const{playlistController_:r}=e,s=r.fastQualityChange_.bind(r);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=gl(r.main(),n),this.playlist=n,this.id=i,this.enabled=SF(e.playlists,n.id,s)}}const wF=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=ic(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(i=>!k0(i)).map((i,r)=>new CF(t,i,i.id)):[]}},Pb=["seeking","seeked","pause","playing","error"];class AF{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Gi("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),r=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],u={};o.forEach(d=>{u[d]={reset:()=>this.resetSegmentDownloads_(d),updateend:()=>this.checkSegmentDownloads_(d)},a[`${d}SegmentLoader_`].on("appendsdone",u[d].updateend),a[`${d}SegmentLoader_`].on("playlistupdate",u[d].reset),this.tech_.on(["seeked","seeking"],u[d].reset)});const c=d=>{["main","audio"].forEach(p=>{a[`${p}SegmentLoader_`][d]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=()=>c("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(Pb,s),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",r),this.tech_.off(Pb,s),this.tech_.off("canplay",i),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(d=>{a[`${d}SegmentLoader_`].off("appendsdone",u[d].updateend),a[`${d}SegmentLoader_`].off("playlistupdate",u[d].reset),this.tech_.off(["seeked","seeking"],u[d].reset)}),this.checkCurrentTimeTimeout_&&W.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&W.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=W.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,i=n[`${e}SegmentLoader_`],r=i.buffered_(),s=m5(this[`${e}Buffered_`],r);if(this[`${e}Buffered_`]=r,s){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Sa(r)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+xr>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),i=this.tech_.currentTime(),r=this.afterSeekableWindow_(n,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(r&&(s=n.end(n.length-1)),this.beforeSeekableWindow_(n,i)){const x=n.start(0);s=x+(x===n.end(0)?0:xr)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${i} with seekable range ${qx(n)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),u=a.audioBuffer?a.audioBuffered():null,c=a.videoBuffer?a.videoBuffered():null,d=this.media(),p=d.partTargetDuration?d.partTargetDuration:(d.targetDuration-Ms)*2,v=[u,c];for(let x=0;x<v.length;x++){if(!v[x])continue;if(A0(v[x],i)<p)return!1}const C=Xc(o,i);return C.length===0?!1:(s=C.start(0)+xr,this.logger_(`Buffered region starts (${C.start(0)})  just beyond seek point (${i}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),i=bo(n,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=Xc(r,n);return a.length>0?(this.logger_(`Stopped at ${n} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,i,r=!1){if(!e.length)return!1;let s=e.end(e.length-1)+xr;const a=!i.endList,o=typeof i.partTargetDuration=="number";return a&&(o||r)&&(s=e.end(e.length-1)+i.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:i}){if(!e)return;let r;if(e.length&&n.length){const s=bo(e,i-3),a=bo(e,i),o=bo(n,i);o.length&&!a.length&&s.length&&(r={start:s.end(0),end:o.end(0)})}else Xc(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return r?(this.logger_(`Encountered a gap in video from ${r.start} to ${r.end}. Seeking to current time ${i}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),i=this.tech_.currentTime(),r=Xc(n,i);this.resetTimeUpdate_(),!(r.length===0||i!==e)&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+Ms),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,n){const i=h5(e);for(let r=0;r<i.length;r++){const s=i.start(r),a=i.end(r);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const DF={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},kS=function(t,e){let n=0,i=0;const r=Lt(DF,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){i&&t.currentTime(i)},a=function(d){d!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(d),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-n<r.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){fe.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),r.getSource.call(t,a)},u=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",u)},c=function(d){u(),kS(t,d)};t.on("error",o),t.on("dispose",u),t.reloadSourceOnError=c},kF=function(t){kS(this,t)};var LS="3.7.0",LF="7.0.1",IF="1.2.2",PF="7.1.0",OF="4.0.1";const Jt={PlaylistLoader:To,Playlist:fi,utils:H5,STANDARD_PLAYLIST_SELECTOR:vb,INITIAL_PLAYLIST_SELECTOR:LB,lastBandwidthSelector:vb,movingAverageBandwidthSelector:DB,comparePlaylistBandwidth:O0,comparePlaylistResolution:AB,xhr:rS()};Object.keys(vn).forEach(t=>{Object.defineProperty(Jt,t,{get(){return fe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),vn[t]},set(e){if(fe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){fe.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}vn[t]=e}})});const IS="videojs-vhs",PS=function(t,e){const n=e.media();let i=-1;for(let r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},RF=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),PS(t,e.playlists)};Jt.canPlaySource=function(){return fe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const NF=(t,e,n)=>{if(!t)return t;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=Wd(_r(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=Dl(i.video),s=Dl(i.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),r&&(a[o].videoContentType=r),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return Lt(t,a)},MF=(t,e)=>t.reduce((n,i)=>{if(!i.contentProtection)return n;const r=e.reduce((s,a)=>{const o=i.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(r).length&&n.push(r),n},[]),BF=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:i})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const r=n?i.concat([n]):i,s=MF(r,Object.keys(e)),a=[],o=[];return s.forEach(u=>{o.push(new Promise((c,d)=>{t.tech_.one("keysessioncreated",c)})),a.push(new Promise((c,d)=>{t.eme.initializeMediaKeys({keySystems:u},p=>{if(p){d(p);return}c()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},FF=({player:t,sourceKeySystems:e,media:n,audioMedia:i})=>{const r=NF(e,n,i);return r?(t.currentSource().keySystems=r,r&&!t.eme?(fe.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},OS=()=>{if(!W.localStorage)return null;const t=W.localStorage.getItem(IS);if(!t)return null;try{return JSON.parse(t)}catch{return null}},UF=t=>{if(!W.localStorage)return!1;let e=OS();e=e?Lt(e,t):t;try{W.localStorage.setItem(IS,JSON.stringify(e))}catch{return!1}return e},jF=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,RS=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},NS=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},MS=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},BS=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Jt.supportsNativeHls=function(){if(!we||!we.createElement)return!1;const t=we.createElement("video");return fe.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();Jt.supportsNativeDash=function(){return!we||!we.createElement||!fe.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(we.createElement("video").canPlayType("application/dash+xml"))}();Jt.supportsTypeNatively=t=>t==="hls"?Jt.supportsNativeHls:t==="dash"?Jt.supportsNativeDash:!1;Jt.isSupported=function(){return fe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Jt.xhr.onRequest=function(t){RS(Jt.xhr,t)};Jt.xhr.onResponse=function(t){NS(Jt.xhr,t)};Jt.xhr.offRequest=function(t){MS(Jt.xhr,t)};Jt.xhr.offResponse=function(t){BS(Jt.xhr,t)};const $F=fe.getComponent("Component");class FS extends $F{constructor(e,n,i){if(super(n,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=Gi("VhsHandler"),n.options_&&n.options_.playerId){const r=fe.getPlayer(n.options_.playerId);this.player_=r}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(we,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=>{const s=we.fullscreenElement||we.webkitFullscreenElement||we.mozFullScreenElement||we.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.calculateTimestampOffsetForEachSegment=this.options_.calculateTimestampOffsetForEachSegment||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const e=OS();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=vn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===vn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","calculateTimestampOffsetForEachSegment","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{typeof this.source_[e]<"u"&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=jF(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Jt,this.options_.sourceType=F2(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.playlistController_=new xF(this.options_);const i=Lt({liveRangeSafeTimeDelta:xr},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new AF(i),this.playlistController_.on("error",()=>{const s=fe.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const r=this.options_.bufferBasedABR?Jt.movingAverageBandwidthSelector(.55):Jt.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=Jt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=W.navigator.connection||W.navigator.mozConnection||W.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const u=a.downlink*1e3*1e3;u>=o&&s>=o?s=Math.max(s,u):s=u}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){fe.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Sa(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Sa(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&UF({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{wF(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=W.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),BF({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=FF({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{if(i.status!=="output-restricted")return;const r=this.playlistController_.main();if(!r||!r.playlists)return;const s=[];r.playlists.forEach(a=>{a&&a.attributes&&a.attributes.RESOLUTION&&a.attributes.RESOLUTION.height>=720&&(!a.excludeUntil||a.excludeUntil<1/0)&&(a.excludeUntil=1/0,s.push(a))}),s.length&&(fe.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...s),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=fe.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{RF(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{PS(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":LS,"mux.js":LF,"mpd-parser":IF,"m3u8-parser":PF,"aes-decrypter":OF}}version(){return this.constructor.version()}canChangeType(){return wS.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&W.URL.revokeObjectURL&&(W.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return X5({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,i=!0,r=2){return lS({programTime:e,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{RS(this.xhr,e)},this.xhr.onResponse=e=>{NS(this.xhr,e)},this.xhr.offRequest=e=>{MS(this.xhr,e)},this.xhr.offResponse=e=>{BS(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const Kd={name:"videojs-http-streaming",VERSION:LS,canHandleSource(t,e={}){const n=Lt(fe.options,e);return Kd.canPlayType(t.type,n)},handleSource(t,e,n={}){const i=Lt(fe.options,n);return e.vhs=new FS(t,e,i),e.vhs.xhr=rS(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=F2(t);if(!n)return"";const i=Kd.getOverrideNative(e);return!Jt.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(fe.browser.IS_ANY_SAFARI||fe.browser.IS_IOS),{overrideNative:i=n}=e;return i}},HF=()=>td("avc1.4d400d,mp4a.40.2");HF()&&fe.getTech("Html5").registerSourceHandler(Kd,0);fe.VhsHandler=FS;fe.VhsSourceHandler=Kd;fe.Vhs=Jt;fe.use||fe.registerComponent("Vhs",Jt);fe.options.vhs=fe.options.vhs||{};(!fe.getPlugin||!fe.getPlugin("reloadSourceOnError"))&&fe.registerPlugin("reloadSourceOnError",kF);function ap(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}var qF={src:{type:String,onChange:function(t,e){return t.src(e)}},width:{type:Number,onChange:function(t,e){return t.width(e)},onEvent:function(t,e){t.on(["playerresize","resize"],function(){return e(t.width())})}},height:{type:Number,onChange:function(t,e){return t.height(e)},onEvent:function(t,e){t.on(["playerresize","resize"],function(){return e(t.height())})}},preload:{type:String,onChange:function(t,e){return t.preload(e)}},loop:{type:Boolean,onChange:function(t,e){return t.loop(e)}},muted:{type:Boolean,onChange:function(t,e){return t.muted(e)},onEvent:function(t,e){return t.on("volumechange",function(){return e(t.muted())})}},poster:{type:String,onChange:function(t,e){return t.poster(e)},onEvent:function(t,e){return t.on("posterchange",function(){return e(t.poster())})}},controls:{type:Boolean,onChange:function(t,e){return t.controls(e)},onEvent:function(t,e){t.on("controlsenabled",function(){return e(!0)}),t.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(t,e){return t.autoplay(e)}},crossorigin:{type:String,onChange:function(t,e){return t.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(t,e){return t.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(t,e){return t.playsinline(e)}},playsInline:{type:Boolean,onChange:function(t,e){return t.playsinline(e)}}},VF={id:{type:String},sources:{type:Array,onChange:function(t,e){return t.src(e)}},tracks:{type:Array,onChange:function(t,e){for(var n=t.remoteTextTracks(),i=(n==null?void 0:n.length)||0;i--;)t.removeRemoteTextTrack(n[i]);t.ready(function(){e.forEach(function(r){return t.addRemoteTextTrack(r,!1)})})}},textTrackSettings:{type:Object,onChange:function(t,e){return t.textTrackSettings.options(e)}},language:{type:String,onChange:function(t,e){return t.language(e)},onEvent:function(t,e){return t.on("languagechange",function(){return e(t.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(t,e){return t.playbackRates(e??[])},onEvent:function(t,e){t.on("playbackrateschange",function(){return e(t.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(t,e){return t.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(t,e){return t.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(t,e){return t.responsive(e)}},breakpoints:{type:Object,onChange:function(t,e){return t.breakpoints(e)}},fluid:{type:Boolean,onChange:function(t,e){return t.fluid(e)}},fill:{type:Boolean,onChange:function(t,e){return t.fill(e)}},aspectRatio:{type:String,onChange:function(t,e){return t.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(t,e){return t.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},WF={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(t,e){return t.controlBar.options(e)}}},zF={html5:{type:Object}},GF={volume:{type:Number,onChange:function(t,e){return t.volume(e)},onEvent:function(t,e){return t.on("volumechange",function(){return e(t.volume())})}},playbackRate:{type:Number,onChange:function(t,e){t.playbackRate(e),t.defaultPlaybackRate(e)},onEvent:function(t,e){t.on("ratechange",function(){e(t.playbackRate())})}},options:{type:Object}},Ml=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qF),VF),WF),zF),GF),R0=Object.keys(Ml),US=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),jS=Object.keys(US);Object.values(US);var op=function(t){var e,n=t==null?void 0:t.trim().replace(/\s+/g," ");return n&&(e=n.split(" "))!==null&&e!==void 0?e:[]},up={src:{getter:function(t){return t.src()}},currentSrc:{getter:function(t){return t.currentSrc()}},currentSource:{getter:function(t){return t.currentSource()}},width:{events:["resize","playerresize"],getter:function(t){return t.width()}},height:{events:["resize","playerresize"],getter:function(t){return t.height()}},currentWidth:{events:["resize","playerresize"],getter:function(t){return t.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(t){return t.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(t){return t.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(t){return t.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(t){return t.controls()}},volume:{events:["volumechange"],getter:function(t){return t.volume()}},muted:{events:["volumechange"],getter:function(t){return t.muted()}},poster:{events:["posterchange"],getter:function(t){return t.poster()}},seeking:{events:["seeking"],getter:function(t){return t.seeking()}},paused:{events:["pause","play","playing"],getter:function(t){return t.paused()}},ended:{events:["ended","play"],getter:function(t){return t.ended()}},currentTime:{events:["timeupdate"],getter:function(t){return t.currentTime()}},duration:{events:["durationchange"],getter:function(t){return t.duration()}},playbackRate:{events:["ratechange"],getter:function(t){return t.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(t){return t.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(t){return t.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(t){return t.isInPictureInPicture()}},isLive:{getter:function(t){var e;return(e=t.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(t){return t.language()}},userActive:{events:["useractive","userinactive"],getter:function(t){return t.userActive()}},readyState:{events:["loadeddata"],getter:function(t){return t.readyState()}},networkState:{events:["loadeddata","error"],getter:function(t){return t.networkState()}},error:{events:["loadeddata","error"],getter:function(t){return t.error()}},buffered:{events:["progress"],getter:function(t){return t.buffered()}},bufferedPercent:{events:["progress"],getter:function(t){return t.bufferedPercent()}},played:{events:["timeupdate"],getter:function(t){return t.played()}},seekable:{events:["progress","seeked"],getter:function(t){return t.seekable()}},audioTracks:{getter:function(t){var e;return(e=t.audioTracks)===null||e===void 0?void 0:e.call(t)}},videoTracks:{getter:function(t){var e;return(e=t.videoTracks)===null||e===void 0?void 0:e.call(t)}},textTracks:{getter:function(t){var e;return(e=t.textTracks)===null||e===void 0?void 0:e.call(t)}}},$S=R0.filter(function(t){return!!Ml[t].onEvent}),HS=function(t){return"update:"+t},KF=jS.concat($S.map(HS)),XF=R0.reduce(function(t,e){var n,i=Ml[e],r=Array.isArray(i.type)?i.type:[i.type],s=Object.assign({},i);return r.includes(Boolean)&&(s.default=void 0),Object.assign(Object.assign({},t),((n={})[e]=s,n))},{}),sd=Fn({name:"VueVideoPlayer",props:Object.assign(Object.assign({},XF),{class:[String,Object,Array]}),emits:KF.concat(["mounted"],["unmounted"]),setup:function(t,e){var n=pt(t),i=n.class,r=ap(n,["class"]),s=ws(!1),a=ws(null),o=ws(null),u=dt(function(){return o.value?o.value.player:null}),c=Et(null),d=dt(function(){return c.value?Qg(c.value):null});return Fa(function(){var p,v=function(C){var x,L=C.props,O=C.element,S=C.className,A=C.onEvent,M=L.options;M===void 0&&(M={});var I=ap(L,["options"]),N={};Object.keys(I).forEach(function(J){var de=I[J];de!==void 0&&(N[J]=de)});var F=Object.assign(Object.assign({},N),M),m=F.volume,te=F.playbackRate,ie=ap(F,["volume","playbackRate"]),Te=Object.assign(Object.assign({},ie),{playsinline:(x=ie.playsinline)!==null&&x!==void 0?x:ie.playsInline}),Y=fe(O,Te,function(){var J=this;jS.forEach(function(de){J.on(de,function($e){A(de,$e)})}),ie.src&&!ie.sources&&this.src(ie.src),m&&Number.isFinite(m)&&this.volume(m),te&&Number.isFinite(te)&&(this.defaultPlaybackRate(te),setTimeout(function(){J.playbackRate(te)},0))});S&&op(S).map(function(J){return Y.addClass(J)});var se=function(J){var de;(de=Y.options)===null||de===void 0||de.call(Y,J??{})};return{player:Y,dispose:function(){return Y.dispose()},updateClassNames:function(J,de){op(J).map(function($e){return Y.removeClass($e)}),op(de).map(function($e){return Y.addClass($e)})},updateOptions:se,updatePropOption:function(J,de){var $e,Le,Re;se((($e={})[J]=de,$e)),(Re=(Le=Ml[J])===null||Le===void 0?void 0:Le.onChange)===null||Re===void 0||Re.call(Le,Y,de)}}}({element:a.value,props:r,onEvent:e.emit});p={player:v.player,onEvent:e.emit},$S.forEach(function(C){var x,L;(L=(x=Ml[C])===null||x===void 0?void 0:x.onEvent)===null||L===void 0||L.call(x,p.player,function(O){p.onEvent(HS(C),O)})}),gn(function(){return t.class},function(C,x){var L=Ca(x),O=Ca(C);v.updateClassNames(L,O)},{immediate:!0}),gn(function(){return t.options},function(C){return v.updateOptions(C??{})},{deep:!0}),R0.filter(function(C){return C!=="options"}).forEach(function(C){gn(function(){return t[C]},function(x){return v.updatePropOption(C,x)},{deep:!0})}),function(C,x){var L=Object.keys(up),O=L.reduce(function(A,M){var I;return Object.assign(Object.assign({},A),((I={})[M]=up[M].getter(C),I))},{playing:!1,waiting:!1}),S=function(A,M){O[A]=M,x.onUpdate(A,M,Object.assign({},O))};C.on(["pause","ended"],function(){S("playing",!1)}),C.on(["play","playing"],function(){S("playing",!0)}),C.on("waiting",function(){S("waiting",!0);var A=C.currentTime(),M=function(){A!==C.currentTime()&&(S("waiting",!1),C.off("timeupdate",M))};C.on("timeupdate",M)}),L.forEach(function(A){var M,I=up[A];C.on(["loadstart","loadedmetadata"].concat((M=I.events)!==null&&M!==void 0?M:[]),function(){S(A,I.getter(C))})}),x.onInit(Object.assign({},O))}(v.player,{onInit:function(C){c.value=C},onUpdate:function(C,x){c.value&&(c.value[C]=x)}}),o.value=v,s.value=!0,e.emit("mounted",{video:a.value,player:u.value,state:d.value})}),Hl(function(){o.value&&(o.value.dispose(),o.value=null,c.value=null,e.emit("unmounted"))}),function(){var p,v;return Ln("div",{"data-vjs-player":"",class:Ca(i)},[Ln("video",{class:["video-js","v-video-player"],ref:a}),s.value&&((v=(p=e.slots).default)===null||v===void 0?void 0:v.call(p,{video:a.value,player:u.value,state:d.value}))])}}}),YF=function(t){t.component("VideoPlayer",sd),t.component(sd.name,sd)},QF={VideoPlayer:sd,install:YF};const JF=Un(t=>{t.vueApp.use(QF)});var zf=function(){return typeof document<"u"&&typeof window<"u"},ZF=function(e,n){return new Promise(function(i,r){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");if(a.async=!0,a.src=e,a.charset="utf-8",n){var o=document.createElement("link");o.href=n,o.rel="preconnect",s.appendChild(o)}s.appendChild(a),a.onload=i,a.onerror=r})},qS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(n).forEach(function(i){e[i]=n[i]})},VS=Li({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://www.googletagmanager.com/gtag/js",preconnectOrigin:"https://www.googletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),$s=function(){return cT(VS)},WS=dt(function(){var t=$s(),e=t.property;if(e.value)return Array.isArray(e.value)?e.value.find(function(n){return n.default===!0})||e.value[0]:e.value}),e6=dt(function(){var t=$s(),e=t.property;return!!(e.value&&e.value.id!==null)}),Bl=dt(function(){var t=$s(),e=t.property;return Array.isArray(e.value)?e.value:[e.value]}),zS=dt(function(){var t=$s(),e=t.isEnabled,n=WS.value;return!!(n&&n.id&&e.value)}),rc=function(){var t;if(zf()){for(var e=$s(),n=e.globalObjectName,i=e.useDebugger,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];i.value&&console.warn("[vue-gtag] Debugger:",s),(t=window)[n.value].apply(t,s)}},N0=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Bl.value.forEach(function(i){rc.apply(void 0,["config",i.id].concat(e))})},t6=function(t){N0({custom_map:t})},n6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;zf()&&Bl.value.forEach(function(e){window["ga-disable-".concat(e.id)]=t})},Ha=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Object.assign({},e);!n.send_to&&Bl.value.length>1&&(n.send_to=Bl.value.map(function(i){return i.id})),rc("event",t,n)},i6=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ha.apply(void 0,["exception"].concat(e))},r6=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];N0.apply(void 0,["linker"].concat(e))},GS=function(t){var e={};typeof t=="string"?e={page_path:t,page_location:window.location.href}:e=t,typeof e.send_page_view>"u"&&(e.send_page_view=!0),Ha("page_view",e)},s6=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ha.apply(void 0,["purchase"].concat(e))},a6=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ha.apply(void 0,["refund"].concat(e))},KS=function(){for(var t=$s(),e=t.appName,n=t.appId,i=t.appVersion,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s[0],u={};typeof o=="string"?u={screen_name:o}:u=o,u.app_name==null&&e.value!=null&&(u.app_name=e.value),u.app_id==null&&n.value!=null&&(u.app_id=n.value),u.app_version==null&&i.value!=null&&(u.app_version=i.value),Ha("screen_view",u)},o6=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];rc.apply(void 0,["set"].concat(e))},u6=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ha.apply(void 0,["timing_complete"].concat(e))},l6=Object.freeze({__proto__:null,config:N0,customMap:t6,disable:n6,event:Ha,exception:i6,linker:r6,pageview:GS,purchase:s6,query:rc,refund:a6,screenview:KS,set:o6,time:u6}),Ob=Et(!1),Rb=Et(!1),c6=function(){var e=$s(),n=e.disableScriptLoader,i=e.preconnectOrigin,r=e.resourceURL,s=e.dataLayerName;if(!(!zf()||!e6.value||Rb.value)){if(Rb.value=!0,Bl.value.forEach(function(o){var u=Object.assign({send_page_view:!1},o.params);rc("config",o.id,u)}),n.value){Ob.value=!0;return}var a="".concat(r.value,"?id=").concat(WS.value.id,"&l=").concat(s.value);ZF(a,i.value).then(function(){Ob.value=!0})}},d6=function(){gn(function(){return zS.value},function(e){return e&&c6()},{immediate:!0})},f6=function(){if(zf()){var t=$s(),e=t.globalObjectName,n=t.dataLayerName;window[e.value]==null&&(window[n.value]=window[n.value]||[],window[e.value]=function(){window[n.value].push(arguments)}),window[e.value]("js",new Date)}},XS=Li({template:null,useScreenview:!1,skipSamePath:!0}),YS=function(){return cT(XS)},h6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=YS(),r=i.template,s=i.useScreenview,a=r.value?r.value(e,n):null;return a||(s.value?{screen_name:e.name}:{page_title:e.name,page_path:e.path,page_location:window.location.href})},Nb=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=YS(),r=i.useScreenview,s=i.skipSamePath;if(!(s.value&&e.path===n.path)){var a=h6(e,n);r.value?KS(a):GS(a)}},p6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qS(XS,n),gn(function(){return zS.value},function(i){i&&e.isReady().then(function(){Jr(function(){Nb(e.currentRoute.value)}),e.afterEach(function(r,s){Jr(function(){Nb(r,s)})})})},{immediate:!0})},g6={install:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qS(VS,n),f6(),d6(),e.config.globalProperties.$gtag=l6}};const m6=Un(t=>{t.vueApp.use(g6,{property:{id:"G-VVVWB0J9E8"}}),p6(Nr())}),y6=[zL,KL,iP,aP,oP,fP,hP,pP,gP,hN,DN,LN,ON,RN,FN,JF,m6],_6=Fn({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:e,attrs:n}){const i=Et(!1);return Fa(()=>{i.value=!0}),r=>{var u;if(i.value)return(u=e.default)==null?void 0:u.call(e);const s=e.fallback||e.placeholder;if(s)return s();const a=r.fallback||r.placeholder||"",o=r.fallbackTag||r.placeholderTag||"span";return oA(o,n,a)}}});const v6=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},b6={},T6=t=>(_w("data-v-79ff8c33"),t=t(),vw(),t),E6=T6(()=>sf("iframe",{src:"/webgl",frameborder:"0"},null,-1));function x6(t,e){const n=_6;return tr(),Tr(n,null,{default:Ao(()=>[E6]),_:1})}const S6=v6(b6,[["render",x6],["__scopeId","data-v-79ff8c33"]]),C6=(t,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var i;return((i=t.params[n.slice(1)])==null?void 0:i.toString())||""}),Fg=(t,e)=>{const n=t.route.matched.find(r=>{var s;return((s=r.components)==null?void 0:s.default)===t.Component.type}),i=e??(n==null?void 0:n.meta.key)??(n&&C6(t.route,n));return typeof i=="function"?i(t.route):i},w6=(t,e)=>({default:()=>t?Ln(Nw,t===!0?{}:t,e):e}),A6=Fn({name:"RouteProvider",props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(t){const e=t.renderKey,n=t.route,i={};for(const r in t.route)Object.defineProperty(i,r,{get:()=>e===t.renderKey?t.route[r]:n[r]});return Da(Wl,jl(i)),()=>Ln(t.vnode,{ref:t.vnodeRef})}}),QS=(t,e,n)=>(e=e===!0?{}:e,{default:()=>{var i;return e?Ln(t,e,n):(i=n.default)==null?void 0:i.call(n)}}),D6=Fn({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,expose:n}){const i=$t(),r=Et(),s=kn(Wl,null);n({pageRef:r});const a=kn(E1,null);let o;const u=i.deferHydration();return()=>Ln(M1,{name:t.name,route:t.route,...e},{default:c=>{const d=I6(s,c.route,c.Component),p=s&&s.matched.length===c.route.matched.length;if(!c.Component)return o&&!p?o:void 0;if(o&&a&&!a.isCurrent(c.route))return o;if(d&&s&&(!a||a!=null&&a.isCurrent(s)))return p?o:null;const v=Fg(c,t.pageKey),C=!!(t.transition??c.route.meta.pageTransition??Up),x=C&&L6([t.transition,c.route.meta.pageTransition,Up,{onAfterLeave:()=>{i.callHook("page:transition:finish",c.Component)}}].filter(Boolean));return o=QS(of,C&&x,w6(t.keepalive??c.route.meta.keepalive??jL,Ln(im,{suspensible:!0,onPending:()=>i.callHook("page:start",c.Component),onResolve:()=>{Jr(()=>i.callHook("page:finish",c.Component).finally(u))}},{default:()=>Ln(A6,{key:v,vnode:c.Component,route:c.route,renderKey:v,trackRootNodes:C,vnodeRef:r})}))).default(),o}})}});function k6(t){return Array.isArray(t)?t:t?[t]:[]}function L6(t){const e=t.map(n=>({...n,onAfterLeave:k6(n.onAfterLeave)}));return pm(...e)}function I6(t,e,n){if(!t)return!1;const i=e.matched.findIndex(r=>{var s;return((s=r.components)==null?void 0:s.default)===(n==null?void 0:n.type)});return!i||i===-1?!1:e.matched.slice(0,i).some((r,s)=>{var a,o,u;return((a=r.components)==null?void 0:a.default)!==((u=(o=t.matched[s])==null?void 0:o.components)==null?void 0:u.default)})||n&&Fg({route:e,Component:n})!==Fg({route:t,Component:n})}const P6=Fn({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(t,e){const n=await Ea[t.name]().then(i=>i.default||i);return()=>Ln(n,t.layoutProps,e.slots)}}),O6=Fn({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null}},setup(t,e){const n=$t(),i=kn(Wl),r=i===lf()?vm():i,s=dt(()=>kt(t.name)??r.meta.layout??"default"),a=Et();e.expose({layoutRef:a});const o=n.deferHydration();return()=>{const u=s.value&&s.value in Ea,c=r.meta.layoutTransition??UL;return QS(of,u&&c,{default:()=>Ln(im,{suspensible:!0,onResolve:()=>{Jr(o)}},{default:()=>Ln(R6,{layoutProps:KT(e.attrs,{ref:a}),key:s.value,name:s.value,shouldProvide:!t.name,hasTransition:!!c},e.slots)})}).default()}}}),R6=Fn({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,e){const n=t.name;return t.shouldProvide&&Da(E1,{isCurrent:i=>n===(i.meta.layout??"default")}),()=>{var i,r;return!n||typeof n=="string"&&!(n in Ea)?(r=(i=e.slots).default)==null?void 0:r.call(i):Ln(P6,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}}),N6=t=>Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0)),JS=(t,e)=>(n,i)=>(xL(()=>t({...N6(n),...i.attrs},i)),()=>{var r,s;return e?(s=(r=i.slots).default)==null?void 0:s.call(r):null}),ZS={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},M6=Fn({name:"Html",inheritAttrs:!1,props:{...ZS,manifest:String,version:String,xmlns:String,renderPriority:[String,Number]},setup:JS(t=>({htmlAttrs:t}),!0)}),B6=Fn({name:"Body",inheritAttrs:!1,props:{...ZS,renderPriority:[String,Number]},setup:JS(t=>({bodyAttrs:t}),!0)});function eC(t){return Kb()?(OC(t),!0):!1}function ir(t){return typeof t=="function"?t():kt(t)}const F6=typeof window<"u"&&typeof document<"u",U6=Object.prototype.toString,j6=t=>U6.call(t)==="[object Object]",Ba=()=>{};function tC(t,e){function n(...i){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(s)})}return n}function $6(t,e={}){let n,i,r=Ba;const s=o=>{clearTimeout(o),r(),r=Ba};return o=>{const u=ir(t),c=ir(e.maxWait);return n&&s(n),u<=0||c!==void 0&&c<=0?(i&&(s(i),i=null),Promise.resolve(o())):new Promise((d,p)=>{r=e.rejectOnCancel?p:d,c&&!i&&(i=setTimeout(()=>{n&&s(n),i=null,d(o())},c)),n=setTimeout(()=>{i&&s(i),i=null,d(o())},u)})}}function H6(t,e=!0,n=!0,i=!1){let r=0,s,a=!0,o=Ba,u;const c=()=>{s&&(clearTimeout(s),s=void 0,o(),o=Ba)};return p=>{const v=ir(t),C=Date.now()-r,x=()=>u=p();return c(),v<=0?(r=Date.now(),x()):(C>v&&(n||!a)?(r=Date.now(),x()):e&&(u=new Promise((L,O)=>{o=i?O:L,s=setTimeout(()=>{r=Date.now(),a=!0,L(x()),c()},Math.max(0,v-C))})),!n&&!s&&(s=setTimeout(()=>a=!0,v)),a=!1,u)}}function q6(t,e=200,n={}){return tC($6(e,n),t)}function V6(t,e=200,n=!1,i=!0,r=!1){return tC(H6(e,n,i,r),t)}function W6(t){var e;const n=ir(t);return(e=n==null?void 0:n.$el)!=null?e:n}const M0=F6?window:void 0;function Mb(...t){let e,n,i,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,r]=t,e=M0):[e,n,i,r]=t,!e)return Ba;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],a=()=>{s.forEach(d=>d()),s.length=0},o=(d,p,v,C)=>(d.addEventListener(p,v,C),()=>d.removeEventListener(p,v,C)),u=gn(()=>[W6(e),ir(r)],([d,p])=>{if(a(),!d)return;const v=j6(p)?{...p}:p;s.push(...n.flatMap(C=>i.map(x=>o(d,C,x,v))))},{immediate:!0,flush:"post"}),c=()=>{u(),a()};return eC(c),c}function z6(){const t=Et(!1);return ss()&&Fa(()=>{t.value=!0}),t}function G6(t){const e=z6();return dt(()=>(e.value,!!t()))}function Bb(t,e={}){const{window:n=M0}=e,i=G6(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=Et(!1),a=c=>{s.value=c.matches},o=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},u=bT(()=>{i.value&&(o(),r=n.matchMedia(ir(t)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),s.value=r.matches)});return eC(()=>{u(),o(),r=void 0}),s}const Fb=1;function fU(t,e={}){const{throttle:n=0,idle:i=200,onStop:r=Ba,onScroll:s=Ba,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:o={capture:!1,passive:!0},behavior:u="auto",window:c=M0}=e,d=Et(0),p=Et(0),v=dt({get(){return d.value},set(F){x(F,void 0)}}),C=dt({get(){return p.value},set(F){x(void 0,F)}});function x(F,m){var te,ie,Te;if(!c)return;const Y=ir(t);Y&&((Te=Y instanceof Document?c.document.body:Y)==null||Te.scrollTo({top:(te=ir(m))!=null?te:C.value,left:(ie=ir(F))!=null?ie:v.value,behavior:ir(u)}))}const L=Et(!1),O=Li({left:!0,right:!1,top:!0,bottom:!1}),S=Li({left:!1,right:!1,top:!1,bottom:!1}),A=F=>{L.value&&(L.value=!1,S.left=!1,S.right=!1,S.top=!1,S.bottom=!1,r(F))},M=q6(A,n+i),I=F=>{var m;if(!c)return;const te=F.document?F.document.documentElement:(m=F.documentElement)!=null?m:F,{display:ie,flexDirection:Te}=getComputedStyle(te),Y=te.scrollLeft;S.left=Y<d.value,S.right=Y>d.value;const se=Math.abs(Y)<=0+(a.left||0),J=Math.abs(Y)+te.clientWidth>=te.scrollWidth-(a.right||0)-Fb;ie==="flex"&&Te==="row-reverse"?(O.left=J,O.right=se):(O.left=se,O.right=J),d.value=Y;let de=te.scrollTop;F===c.document&&!de&&(de=c.document.body.scrollTop),S.top=de<p.value,S.bottom=de>p.value;const $e=Math.abs(de)<=0+(a.top||0),Le=Math.abs(de)+te.clientHeight>=te.scrollHeight-(a.bottom||0)-Fb;ie==="flex"&&Te==="column-reverse"?(O.top=Le,O.bottom=$e):(O.top=$e,O.bottom=Le),p.value=de},N=F=>{var m;if(!c)return;const te=(m=F.target.documentElement)!=null?m:F.target;I(te),L.value=!0,M(F),s(F)};return Mb(t,"scroll",n?V6(N,n,!0,!1):N,o),Mb(t,"scrollend",A,o),{x:v,y:C,isScrolling:L,arrivedState:O,directions:S,measure(){const F=ir(t);c&&F&&I(F)}}}const K6=t=>new Promise(e=>{setTimeout(()=>{e("done")},t)});function X6(){const t=Et(null),e=async()=>{await K6(10),t.value=Bb("(max-width: 767px)").value?"mobile":Bb("(max-width: 1023px)").value?"tablet":"desktop",document.documentElement.setAttribute("device",t.value)};return window.addEventListener("resize",e),e(),{deviceType:t}}function Y6(){const{locale:t}=su();document.documentElement.setAttribute("lang",t.value),gn(t,()=>{document.documentElement.setAttribute("lang",t.value)})}const Q6=sf("div",{class:"glow"},null,-1),J6=Fn({__name:"app",setup(t){return X6(),Y6(),(e,n)=>{const i=S6,r=D6,s=O6,a=B6,o=M6;return tr(),Tr(o,null,{default:Ao(()=>[Ut(a,null,{default:Ao(()=>[Ut(i),Ut(s,null,{default:Ao(()=>[Q6,Ut(r)]),_:1})]),_:1})]),_:1})}}});const Z6={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;(n.stack||"").split(`
`).splice(1).map(p=>({text:p.replace("webpack:/","").replace(".vue",".js").trim(),internal:p.includes("node_modules")&&!p.includes(".cache")||p.includes("internal")||p.includes("new Promise")})).map(p=>`<span class="stack${p.internal?" internal":""}">${p.text}</span>`).join(`
`);const i=Number(n.statusCode||500),r=i===404,s=n.statusMessage??(r?"Page Not Found":"Internal Server Error"),a=n.message||n.toString(),o=void 0,d=r?oy(()=>li(()=>import("./error-404.cf26a28e.js"),["./error-404.cf26a28e.js","./nuxt-link.304f5191.js","./error-404.17db6bbf.css"],import.meta.url).then(p=>p.default||p)):oy(()=>li(()=>import("./error-500.f0eed82a.js"),["./error-500.f0eed82a.js","./error-500.ff959f66.css"],import.meta.url).then(p=>p.default||p));return(p,v)=>(tr(),Tr(kt(d),kC(zT({statusCode:kt(i),statusMessage:kt(s),description:kt(a),stack:kt(o)})),null,16))}},eU=Z6,tU={__name:"nuxt-root",setup(t){const e=()=>null,n=$t(),i=n.deferHydration(),r=!1;Da(Wl,lf()),n.hooks.callHookWith(o=>o.map(u=>u()),"vue:setup");const s=cf();kT((o,u,c)=>{if(n.hooks.callHook("vue:error",o,u,c).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),NL(o)&&(o.fatal||o.unhandled))return n.runWithContext(()=>mo(o)),!1});const a=!1;return(o,u)=>(tr(),Tr(im,{onResolve:kt(i)},{default:Ao(()=>[kt(s)?(tr(),Tr(kt(eU),{key:0,error:kt(s)},null,8,["error"])):kt(a)?(tr(),Tr(kt(e),{key:1,context:kt(a)},null,8,["context"])):kt(r)?(tr(),Tr(Hw(kt(r)),{key:2})):(tr(),Tr(kt(J6),{key:3}))]),_:1},8,["onResolve"]))}},Ub=tU;globalThis.$fetch||(globalThis.$fetch=BD.create({baseURL:fk()}));let jb;{let t;jb=async function(){var s,a;if(t)return t;const i=!!((s=window.__NUXT__)!=null&&s.serverRendered||((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?VA(Ub):qA(Ub),r=Ck({vueApp:i});try{await Ak(r,y6)}catch(o){await r.callHook("app:error",o),r.payload.error=r.payload.error||o}try{await r.hooks.callHook("app:created",i),await r.hooks.callHook("app:beforeMount",i),i.mount($L),await r.hooks.callHook("app:mounted",i),await Jr()}catch(o){await r.callHook("app:error",o),r.payload.error=r.payload.error||o}return i},t=jb().catch(e=>{console.error("Error while mounting app:",e)})}export{nk as $,dT as A,ss as B,Bw as C,am as D,gn as E,Rn as F,$t as G,gm as H,dt as I,xd as J,AN as K,Ln as L,dU as M,Nr as N,Cl as O,$R as P,aU as Q,mm as R,fU as S,Is as T,Xy as U,Hl as V,cU as W,ql as X,KD as Y,Ap as Z,v6 as _,sf as a,OL as a0,Ut as b,oA as c,GT as d,vw as e,Fn as f,su as g,oU as h,Fa as i,ML as j,kt as k,Li as l,Et as m,Ca as n,tr as o,_w as p,iU as q,sU as r,rU as s,nU as t,xL as u,lU as v,Ao as w,Tr as x,lf as y,uU as z};
