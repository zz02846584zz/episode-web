function Og(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const qt={},vo=[],tr=()=>{},aC=()=>!1,oC=/^on[^a-z]/,Ml=t=>oC.test(t),Rg=t=>t.startsWith("onUpdate:"),dn=Object.assign,Ng=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},uC=Object.prototype.hasOwnProperty,gt=(t,e)=>uC.call(t,e),Ke=Array.isArray,bo=t=>Bl(t)==="[object Map]",Ib=t=>Bl(t)==="[object Set]",lC=t=>Bl(t)==="[object RegExp]",Je=t=>typeof t=="function",Zt=t=>typeof t=="string",Mg=t=>typeof t=="symbol",Ut=t=>t!==null&&typeof t=="object",Bg=t=>Ut(t)&&Je(t.then)&&Je(t.catch),Pb=Object.prototype.toString,Bl=t=>Pb.call(t),cC=t=>Bl(t).slice(8,-1),Ob=t=>Bl(t)==="[object Object]",Fg=t=>Zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ju=Og(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},dC=/-(\w)/g,Ar=Kd(t=>t.replace(dC,(e,n)=>n?n.toUpperCase():"")),fC=/\B([A-Z])/g,Qo=Kd(t=>t.replace(fC,"-$1").toLowerCase()),Xd=Kd(t=>t.charAt(0).toUpperCase()+t.slice(1)),bh=Kd(t=>t?`on${Xd(t)}`:""),pl=(t,e)=>!Object.is(t,e),To=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rd=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ap=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Rb=t=>{const e=Zt(t)?Number(t):NaN;return isNaN(e)?t:e};let H0;const op=()=>H0||(H0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yd(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Zt(i)?mC(i):Yd(i);if(r)for(const s in r)e[s]=r[s]}return e}else{if(Zt(t))return t;if(Ut(t))return t}}const hC=/;(?![^(]*\))/g,pC=/:([^]+)/,gC=/\/\*[^]*?\*\//g;function mC(t){const e={};return t.replace(gC,"").split(hC).forEach(n=>{if(n){const i=n.split(pC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Sa(t){let e="";if(Zt(t))e=t;else if(Ke(t))for(let n=0;n<t.length;n++){const i=Sa(t[n]);i&&(e+=i+" ")}else if(Ut(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function yC(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Zt(e)&&(t.class=Sa(e)),n&&(t.style=Yd(n)),t}const _C="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vC=Og(_C);function Nb(t){return!!t||t===""}const YF=t=>Zt(t)?t:t==null?"":Ke(t)||Ut(t)&&(t.toString===Pb||!Je(t.toString))?JSON.stringify(t,Mb,2):String(t),Mb=(t,e)=>e&&e.__v_isRef?Mb(t,e.value):bo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Ib(e)?{[`Set(${e.size})`]:[...e.values()]}:Ut(e)&&!Ke(e)&&!Ob(e)?String(e):e;let Ci;class Bb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ci,!e&&Ci&&(this.index=(Ci.scopes||(Ci.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ci;try{return Ci=this,e()}finally{Ci=n}}}on(){Ci=this}off(){Ci=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Ug(t){return new Bb(t)}function bC(t,e=Ci){e&&e.active&&e.effects.push(t)}function Fb(){return Ci}function TC(t){Ci&&Ci.cleanups.push(t)}const jg=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Ub=t=>(t.w&Ls)>0,jb=t=>(t.n&Ls)>0,xC=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ls},EC=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];Ub(r)&&!jb(r)?r.delete(t):e[n++]=r,r.w&=~Ls,r.n&=~Ls}e.length=n}},sd=new WeakMap;let qu=0,Ls=1;const up=30;let Zi;const Ca=Symbol(""),lp=Symbol("");class $g{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,bC(this,i)}run(){if(!this.active)return this.fn();let e=Zi,n=ws;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Zi,Zi=this,ws=!0,Ls=1<<++qu,qu<=up?xC(this):q0(this),this.fn()}finally{qu<=up&&EC(this),Ls=1<<--qu,Zi=this.parent,ws=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Zi===this?this.deferStop=!0:this.active&&(q0(this),this.onStop&&this.onStop(),this.active=!1)}}function q0(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ws=!0;const $b=[];function Jo(){$b.push(ws),ws=!1}function Zo(){const t=$b.pop();ws=t===void 0?!0:t}function pi(t,e,n){if(ws&&Zi){let i=sd.get(t);i||sd.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=jg()),Hb(r)}}function Hb(t,e){let n=!1;qu<=up?jb(t)||(t.n|=Ls,n=!Ub(t)):n=!t.has(Zi),n&&(t.add(Zi),Zi.deps.push(t))}function Yr(t,e,n,i,r,s){const a=sd.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&Ke(t)){const u=Number(i);a.forEach((c,f)=>{(f==="length"||f>=u)&&o.push(c)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":Ke(t)?Fg(n)&&o.push(a.get("length")):(o.push(a.get(Ca)),bo(t)&&o.push(a.get(lp)));break;case"delete":Ke(t)||(o.push(a.get(Ca)),bo(t)&&o.push(a.get(lp)));break;case"set":bo(t)&&o.push(a.get(Ca));break}if(o.length===1)o[0]&&cp(o[0]);else{const u=[];for(const c of o)c&&u.push(...c);cp(jg(u))}}function cp(t,e){const n=Ke(t)?t:[...t];for(const i of n)i.computed&&V0(i);for(const i of n)i.computed||V0(i)}function V0(t,e){(t!==Zi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function SC(t,e){var n;return(n=sd.get(t))==null?void 0:n.get(e)}const CC=Og("__proto__,__v_isRef,__isVue"),qb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mg)),wC=Hg(),AC=Hg(!1,!0),DC=Hg(!0),W0=kC();function kC(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=pt(this);for(let s=0,a=this.length;s<a;s++)pi(i,"get",s+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(pt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Jo();const i=pt(this)[e].apply(this,n);return Zo(),i}}),t}function LC(t){const e=pt(this);return pi(e,"has",t),e.hasOwnProperty(t)}function Hg(t=!1,e=!1){return function(i,r,s){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&s===(t?e?zC:Kb:e?Gb:zb).get(i))return i;const a=Ke(i);if(!t){if(a&&gt(W0,r))return Reflect.get(W0,r,s);if(r==="hasOwnProperty")return LC}const o=Reflect.get(i,r,s);return(Mg(r)?qb.has(r):CC(r))||(t||pi(i,"get",r),e)?o:Yt(o)?a&&Fg(r)?o:o.value:Ut(o)?t?Wg(o):ir(o):o}}const IC=Vb(),PC=Vb(!0);function Vb(t=!1){return function(n,i,r,s){let a=n[i];if(Pa(a)&&Yt(a)&&!Yt(r))return!1;if(!t&&(!ad(r)&&!Pa(r)&&(a=pt(a),r=pt(r)),!Ke(n)&&Yt(a)&&!Yt(r)))return a.value=r,!0;const o=Ke(n)&&Fg(i)?Number(i)<n.length:gt(n,i),u=Reflect.set(n,i,r,s);return n===pt(s)&&(o?pl(r,a)&&Yr(n,"set",i,r):Yr(n,"add",i,r)),u}}function OC(t,e){const n=gt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Yr(t,"delete",e,void 0),i}function RC(t,e){const n=Reflect.has(t,e);return(!Mg(e)||!qb.has(e))&&pi(t,"has",e),n}function NC(t){return pi(t,"iterate",Ke(t)?"length":Ca),Reflect.ownKeys(t)}const Wb={get:wC,set:IC,deleteProperty:OC,has:RC,ownKeys:NC},MC={get:DC,set(t,e){return!0},deleteProperty(t,e){return!0}},BC=dn({},Wb,{get:AC,set:PC}),qg=t=>t,Qd=t=>Reflect.getPrototypeOf(t);function Dc(t,e,n=!1,i=!1){t=t.__v_raw;const r=pt(t),s=pt(e);n||(e!==s&&pi(r,"get",e),pi(r,"get",s));const{has:a}=Qd(r),o=i?qg:n?Kg:gl;if(a.call(r,e))return o(t.get(e));if(a.call(r,s))return o(t.get(s));t!==r&&t.get(e)}function kc(t,e=!1){const n=this.__v_raw,i=pt(n),r=pt(t);return e||(t!==r&&pi(i,"has",t),pi(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Lc(t,e=!1){return t=t.__v_raw,!e&&pi(pt(t),"iterate",Ca),Reflect.get(t,"size",t)}function z0(t){t=pt(t);const e=pt(this);return Qd(e).has.call(e,t)||(e.add(t),Yr(e,"add",t,t)),this}function G0(t,e){e=pt(e);const n=pt(this),{has:i,get:r}=Qd(n);let s=i.call(n,t);s||(t=pt(t),s=i.call(n,t));const a=r.call(n,t);return n.set(t,e),s?pl(e,a)&&Yr(n,"set",t,e):Yr(n,"add",t,e),this}function K0(t){const e=pt(this),{has:n,get:i}=Qd(e);let r=n.call(e,t);r||(t=pt(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&Yr(e,"delete",t,void 0),s}function X0(){const t=pt(this),e=t.size!==0,n=t.clear();return e&&Yr(t,"clear",void 0,void 0),n}function Ic(t,e){return function(i,r){const s=this,a=s.__v_raw,o=pt(a),u=e?qg:t?Kg:gl;return!t&&pi(o,"iterate",Ca),a.forEach((c,f)=>i.call(r,u(c),u(f),s))}}function Pc(t,e,n){return function(...i){const r=this.__v_raw,s=pt(r),a=bo(s),o=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,c=r[t](...i),f=n?qg:e?Kg:gl;return!e&&pi(s,"iterate",u?lp:Ca),{next(){const{value:p,done:b}=c.next();return b?{value:p,done:b}:{value:o?[f(p[0]),f(p[1])]:f(p),done:b}},[Symbol.iterator](){return this}}}}function gs(t){return function(...e){return t==="delete"?!1:this}}function FC(){const t={get(s){return Dc(this,s)},get size(){return Lc(this)},has:kc,add:z0,set:G0,delete:K0,clear:X0,forEach:Ic(!1,!1)},e={get(s){return Dc(this,s,!1,!0)},get size(){return Lc(this)},has:kc,add:z0,set:G0,delete:K0,clear:X0,forEach:Ic(!1,!0)},n={get(s){return Dc(this,s,!0)},get size(){return Lc(this,!0)},has(s){return kc.call(this,s,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:Ic(!0,!1)},i={get(s){return Dc(this,s,!0,!0)},get size(){return Lc(this,!0)},has(s){return kc.call(this,s,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:Ic(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Pc(s,!1,!1),n[s]=Pc(s,!0,!1),e[s]=Pc(s,!1,!0),i[s]=Pc(s,!0,!0)}),[t,n,e,i]}const[UC,jC,$C,HC]=FC();function Vg(t,e){const n=e?t?HC:$C:t?jC:UC;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(gt(n,r)&&r in i?n:i,r,s)}const qC={get:Vg(!1,!1)},VC={get:Vg(!1,!0)},WC={get:Vg(!0,!1)},zb=new WeakMap,Gb=new WeakMap,Kb=new WeakMap,zC=new WeakMap;function GC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KC(t){return t.__v_skip||!Object.isExtensible(t)?0:GC(cC(t))}function ir(t){return Pa(t)?t:zg(t,!1,Wb,qC,zb)}function Fl(t){return zg(t,!1,BC,VC,Gb)}function Wg(t){return zg(t,!0,MC,WC,Kb)}function zg(t,e,n,i,r){if(!Ut(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const a=KC(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return r.set(t,o),o}function xo(t){return Pa(t)?xo(t.__v_raw):!!(t&&t.__v_isReactive)}function Pa(t){return!!(t&&t.__v_isReadonly)}function ad(t){return!!(t&&t.__v_isShallow)}function Xb(t){return xo(t)||Pa(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Gg(t){return rd(t,"__v_skip",!0),t}const gl=t=>Ut(t)?ir(t):t,Kg=t=>Ut(t)?Wg(t):t;function Yb(t){ws&&Zi&&(t=pt(t),Hb(t.dep||(t.dep=jg())))}function Qb(t,e){t=pt(t);const n=t.dep;n&&cp(n)}function Yt(t){return!!(t&&t.__v_isRef===!0)}function Mt(t){return Jb(t,!1)}function As(t){return Jb(t,!0)}function Jb(t,e){return Yt(t)?t:new XC(t,e)}class XC{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:pt(e),this._value=n?e:gl(e)}get value(){return Yb(this),this._value}set value(e){const n=this.__v_isShallow||ad(e)||Pa(e);e=n?e:pt(e),pl(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:gl(e),Qb(this))}}function Dt(t){return Yt(t)?t.value:t}const YC={get:(t,e,n)=>Dt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Yt(r)&&!Yt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function Zb(t){return xo(t)?t:new Proxy(t,YC)}function eT(t){const e=Ke(t)?new Array(t.length):{};for(const n in t)e[n]=nT(t,n);return e}class QC{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return SC(pt(this._object),this._key)}}class JC{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function tT(t,e,n){return Yt(t)?t:Je(t)?new JC(t):Ut(t)&&arguments.length>1?nT(t,e,n):Mt(t)}function nT(t,e,n){const i=t[e];return Yt(i)?i:new QC(t,e,n)}class ZC{constructor(e,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new $g(e,()=>{this._dirty||(this._dirty=!0,Qb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=pt(this);return Yb(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ew(t,e,n=!1){let i,r;const s=Je(t);return s?(i=t,r=tr):(i=t.get,r=t.set),new ZC(i,r,s||!r,n)}function Ds(t,e,n,i){let r;try{r=i?t(...i):t()}catch(s){eu(s,e,n)}return r}function $i(t,e,n,i){if(Je(t)){const s=Ds(t,e,n,i);return s&&Bg(s)&&s.catch(a=>{eu(a,e,n)}),s}const r=[];for(let s=0;s<t.length;s++)r.push($i(t[s],e,n,i));return r}function eu(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=n;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,a,o)===!1)return}s=s.parent}const u=e.appContext.config.errorHandler;if(u){Ds(u,null,10,[t,a,o]);return}}tw(t,n,r,i)}function tw(t,e,n,i=!0){console.error(t)}let ml=!1,dp=!1;const Nn=[];let _r=0;const Eo=[];let Vr=null,ya=0;const iT=Promise.resolve();let Xg=null;function Qr(t){const e=Xg||iT;return t?e.then(this?t.bind(this):t):e}function nw(t){let e=_r+1,n=Nn.length;for(;e<n;){const i=e+n>>>1;yl(Nn[i])<t?e=i+1:n=i}return e}function Jd(t){(!Nn.length||!Nn.includes(t,ml&&t.allowRecurse?_r+1:_r))&&(t.id==null?Nn.push(t):Nn.splice(nw(t.id),0,t),rT())}function rT(){!ml&&!dp&&(dp=!0,Xg=iT.then(aT))}function iw(t){const e=Nn.indexOf(t);e>_r&&Nn.splice(e,1)}function sT(t){Ke(t)?Eo.push(...t):(!Vr||!Vr.includes(t,t.allowRecurse?ya+1:ya))&&Eo.push(t),rT()}function Y0(t,e=ml?_r+1:0){for(;e<Nn.length;e++){const n=Nn[e];n&&n.pre&&(Nn.splice(e,1),e--,n())}}function od(t){if(Eo.length){const e=[...new Set(Eo)];if(Eo.length=0,Vr){Vr.push(...e);return}for(Vr=e,Vr.sort((n,i)=>yl(n)-yl(i)),ya=0;ya<Vr.length;ya++)Vr[ya]();Vr=null,ya=0}}const yl=t=>t.id==null?1/0:t.id,rw=(t,e)=>{const n=yl(t)-yl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function aT(t){dp=!1,ml=!0,Nn.sort(rw);const e=tr;try{for(_r=0;_r<Nn.length;_r++){const n=Nn[_r];n&&n.active!==!1&&Ds(n,null,14)}}finally{_r=0,Nn.length=0,od(),ml=!1,Xg=null,(Nn.length||Eo.length)&&aT()}}function sw(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||qt;let r=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:b}=i[f]||qt;b&&(r=n.map(C=>Zt(C)?C.trim():C)),p&&(r=n.map(ap))}let o,u=i[o=bh(e)]||i[o=bh(Ar(e))];!u&&s&&(u=i[o=bh(Qo(e))]),u&&$i(u,t,6,r);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,$i(c,t,6,r)}}function oT(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let a={},o=!1;if(!Je(t)){const u=c=>{const f=oT(c,e,!0);f&&(o=!0,dn(a,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!o?(Ut(t)&&i.set(t,null),null):(Ke(s)?s.forEach(u=>a[u]=null):dn(a,s),Ut(t)&&i.set(t,a),a)}function Zd(t,e){return!t||!Ml(e)?!1:(e=e.slice(2).replace(/Once$/,""),gt(t,e[0].toLowerCase()+e.slice(1))||gt(t,Qo(e))||gt(t,e))}let Tn=null,ef=null;function ud(t){const e=Tn;return Tn=t,ef=t&&t.type.__scopeId||null,e}function QF(t){ef=t}function JF(){ef=null}function Zu(t,e=Tn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&cy(-1);const s=ud(e);let a;try{a=t(...r)}finally{ud(s),i._d&&cy(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Th(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[a],slots:o,attrs:u,emit:c,render:f,renderCache:p,data:b,setupState:C,ctx:E,inheritAttrs:L}=t;let R,S;const A=ud(t);try{if(n.shapeFlag&4){const I=r||i;R=Ui(f.call(I,I,p,s,C,b,E)),S=u}else{const I=e;R=Ui(I.length>1?I(s,{attrs:u,slots:o,emit:c}):I(s,null)),S=e.props?u:ow(u)}}catch(I){tl.length=0,eu(I,t,1),R=Vt(Jn)}let M=R;if(S&&L!==!1){const I=Object.keys(S),{shapeFlag:N}=M;I.length&&N&7&&(a&&I.some(Rg)&&(S=uw(S,a)),M=Jr(M,S))}return n.dirs&&(M=Jr(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),R=M,ud(A),R}function aw(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(Po(i)){if(i.type!==Jn||i.children==="v-if"){if(e)return;e=i}}else return}return e}const ow=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ml(n))&&((e||(e={}))[n]=t[n]);return e},uw=(t,e)=>{const n={};for(const i in t)(!Rg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function lw(t,e,n){const{props:i,children:r,component:s}=t,{props:a,children:o,patchFlag:u}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?Q0(i,a,c):!!a;if(u&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const b=f[p];if(a[b]!==i[b]&&!Zd(c,b))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?Q0(i,a,c):!0:!!a;return!1}function Q0(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Zd(n,s))return!0}return!1}function Yg({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const uT=t=>t.__isSuspense,cw={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,a,o,u,c){t==null?dw(e,n,i,r,s,a,o,u,c):fw(t,e,n,i,r,a,o,u,c)},hydrate:hw,create:Jg,normalize:pw},Qg=cw;function _l(t,e){const n=t.props&&t.props[e];Je(n)&&n()}function dw(t,e,n,i,r,s,a,o,u){const{p:c,o:{createElement:f}}=u,p=f("div"),b=t.suspense=Jg(t,r,i,e,p,n,s,a,o,u);c(null,b.pendingBranch=t.ssContent,p,null,i,b,s,a),b.deps>0?(_l(t,"onPending"),_l(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,s,a),So(b,t.ssFallback)):b.resolve(!1,!0)}function fw(t,e,n,i,r,s,a,o,{p:u,um:c,o:{createElement:f}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const b=e.ssContent,C=e.ssFallback,{activeBranch:E,pendingBranch:L,isInFallback:R,isHydrating:S}=p;if(L)p.pendingBranch=b,er(b,L)?(u(L,b,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0?p.resolve():R&&(u(E,C,n,i,r,null,s,a,o),So(p,C))):(p.pendingId++,S?(p.isHydrating=!1,p.activeBranch=L):c(L,r,p),p.deps=0,p.effects.length=0,p.hiddenContainer=f("div"),R?(u(null,b,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0?p.resolve():(u(E,C,n,i,r,null,s,a,o),So(p,C))):E&&er(b,E)?(u(E,b,n,i,r,p,s,a,o),p.resolve(!0)):(u(null,b,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0&&p.resolve()));else if(E&&er(b,E))u(E,b,n,i,r,p,s,a,o),So(p,b);else if(_l(e,"onPending"),p.pendingBranch=b,p.pendingId++,u(null,b,p.hiddenContainer,null,r,p,s,a,o),p.deps<=0)p.resolve();else{const{timeout:A,pendingId:M}=p;A>0?setTimeout(()=>{p.pendingId===M&&p.fallback(C)},A):A===0&&p.fallback(C)}}function Jg(t,e,n,i,r,s,a,o,u,c,f=!1){const{p,m:b,um:C,n:E,o:{parentNode:L,remove:R}}=c;let S;const A=gw(t);A&&e!=null&&e.pendingBranch&&(S=e.pendingId,e.deps++);const M=t.props?Rb(t.props.timeout):void 0,I={vnode:t,parent:e,parentComponent:n,isSVG:a,container:i,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(N=!1,j=!1){const{vnode:m,activeBranch:ne,pendingBranch:re,pendingId:xe,effects:Z,parentComponent:ae,container:Q}=I;if(I.isHydrating)I.isHydrating=!1;else if(!N){const Le=ne&&re.transition&&re.transition.mode==="out-in";Le&&(ne.transition.afterLeave=()=>{xe===I.pendingId&&b(re,Q,Re,0)});let{anchor:Re}=I;ne&&(Re=E(ne),C(ne,ae,I,!0)),Le||b(re,Q,Re,0)}So(I,re),I.pendingBranch=null,I.isInFallback=!1;let he=I.parent,He=!1;for(;he;){if(he.pendingBranch){he.effects.push(...Z),He=!0;break}he=he.parent}He||sT(Z),I.effects=[],A&&e&&e.pendingBranch&&S===e.pendingId&&(e.deps--,e.deps===0&&!j&&e.resolve()),_l(m,"onResolve")},fallback(N){if(!I.pendingBranch)return;const{vnode:j,activeBranch:m,parentComponent:ne,container:re,isSVG:xe}=I;_l(j,"onFallback");const Z=E(m),ae=()=>{I.isInFallback&&(p(null,N,re,Z,ne,null,xe,o,u),So(I,N))},Q=N.transition&&N.transition.mode==="out-in";Q&&(m.transition.afterLeave=ae),I.isInFallback=!0,C(m,ne,null,!0),Q||ae()},move(N,j,m){I.activeBranch&&b(I.activeBranch,N,j,m),I.container=N},next(){return I.activeBranch&&E(I.activeBranch)},registerDep(N,j){const m=!!I.pendingBranch;m&&I.deps++;const ne=N.vnode.el;N.asyncDep.catch(re=>{eu(re,N,0)}).then(re=>{if(N.isUnmounted||I.isUnmounted||I.pendingId!==N.suspenseId)return;N.asyncResolved=!0;const{vnode:xe}=N;yp(N,re,!1),ne&&(xe.el=ne);const Z=!ne&&N.subTree.el;j(N,xe,L(ne||N.subTree.el),ne?null:E(N.subTree),I,a,u),Z&&R(Z),Yg(N,xe.el),m&&--I.deps===0&&I.resolve()})},unmount(N,j){I.isUnmounted=!0,I.activeBranch&&C(I.activeBranch,n,N,j),I.pendingBranch&&C(I.pendingBranch,n,N,j)}};return I}function hw(t,e,n,i,r,s,a,o,u){const c=e.suspense=Jg(e,i,n,t.parentNode,document.createElement("div"),null,r,s,a,o,!0),f=u(t,c.pendingBranch=e.ssContent,n,c,s,a);return c.deps===0&&c.resolve(!1,!0),f}function pw(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=J0(i?n.default:n),t.ssFallback=i?J0(n.fallback):Vt(Jn)}function J0(t){let e;if(Je(t)){const n=Io&&t._c;n&&(t._d=!1,vr()),t=t(),n&&(t._d=!0,e=ji,OT())}return Ke(t)&&(t=aw(t)),t=Ui(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function lT(t,e){e&&e.pendingBranch?Ke(t)?e.effects.push(...t):e.effects.push(t):sT(t)}function So(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,r=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=r,Yg(i,r))}function gw(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function cT(t,e){return Zg(t,null,e)}const Oc={};function xn(t,e,n){return Zg(t,e,n)}function Zg(t,e,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:a}=qt){var o;const u=Fb()===((o=cn)==null?void 0:o.scope)?cn:null;let c,f=!1,p=!1;if(Yt(t)?(c=()=>t.value,f=ad(t)):xo(t)?(c=()=>t,i=!0):Ke(t)?(p=!0,f=t.some(I=>xo(I)||ad(I)),c=()=>t.map(I=>{if(Yt(I))return I.value;if(xo(I))return ba(I);if(Je(I))return Ds(I,u,2)})):Je(t)?e?c=()=>Ds(t,u,2):c=()=>{if(!(u&&u.isUnmounted))return b&&b(),$i(t,u,3,[C])}:c=tr,e&&i){const I=c;c=()=>ba(I())}let b,C=I=>{b=A.onStop=()=>{Ds(I,u,4)}},E;if(Oo)if(C=tr,e?n&&$i(e,u,3,[c(),p?[]:void 0,C]):c(),r==="sync"){const I=iA();E=I.__watcherHandles||(I.__watcherHandles=[])}else return tr;let L=p?new Array(t.length).fill(Oc):Oc;const R=()=>{if(A.active)if(e){const I=A.run();(i||f||(p?I.some((N,j)=>pl(N,L[j])):pl(I,L)))&&(b&&b(),$i(e,u,3,[I,L===Oc?void 0:p&&L[0]===Oc?[]:L,C]),L=I)}else A.run()};R.allowRecurse=!!e;let S;r==="sync"?S=R:r==="post"?S=()=>An(R,u&&u.suspense):(R.pre=!0,u&&(R.id=u.uid),S=()=>Jd(R));const A=new $g(c,S);e?n?R():L=A.run():r==="post"?An(A.run.bind(A),u&&u.suspense):A.run();const M=()=>{A.stop(),u&&u.scope&&Ng(u.scope.effects,A)};return E&&E.push(M),M}function mw(t,e,n){const i=this.proxy,r=Zt(t)?t.includes(".")?dT(i,t):()=>i[t]:t.bind(i,i);let s;Je(e)?s=e:(s=e.handler,n=e);const a=cn;Is(this);const o=Zg(r,s.bind(i),n);return a?Is(a):ks(),o}function dT(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function ba(t,e){if(!Ut(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Yt(t))ba(t.value,e);else if(Ke(t))for(let n=0;n<t.length;n++)ba(t[n],e);else if(Ib(t)||bo(t))t.forEach(n=>{ba(n,e)});else if(Ob(t))for(const n in t)ba(t[n],e);return t}function ZF(t,e){const n=Tn;if(n===null)return t;const i=rf(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,u,c=qt]=e[s];a&&(Je(a)&&(a={mounted:a,updated:a}),a.deep&&ba(o),r.push({dir:a,instance:i,value:o,oldValue:void 0,arg:u,modifiers:c}))}return t}function gr(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let u=o.dir[i];u&&(Jo(),$i(u,n,8,[t.el,o,t,e]),Zo())}}function yw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tu(()=>{t.isMounted=!0}),jl(()=>{t.isUnmounting=!0}),t}const Mi=[Function,Array],fT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mi,onEnter:Mi,onAfterEnter:Mi,onEnterCancelled:Mi,onBeforeLeave:Mi,onLeave:Mi,onAfterLeave:Mi,onLeaveCancelled:Mi,onBeforeAppear:Mi,onAppear:Mi,onAfterAppear:Mi,onAppearCancelled:Mi},_w={name:"BaseTransition",props:fT,setup(t,{slots:e}){const n=as(),i=yw();let r;return()=>{const s=e.default&&pT(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const L of s)if(L.type!==Jn){a=L;break}}const o=pt(t),{mode:u}=o;if(i.isLeaving)return xh(a);const c=Z0(a);if(!c)return xh(a);const f=fp(c,o,i,n);ld(c,f);const p=n.subTree,b=p&&Z0(p);let C=!1;const{getTransitionKey:E}=c.type;if(E){const L=E();r===void 0?r=L:L!==r&&(r=L,C=!0)}if(b&&b.type!==Jn&&(!er(c,b)||C)){const L=fp(b,o,i,n);if(ld(b,L),u==="out-in")return i.isLeaving=!0,L.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},xh(a);u==="in-out"&&c.type!==Jn&&(L.delayLeave=(R,S,A)=>{const M=hT(i,b);M[String(b.key)]=b,R._leaveCb=()=>{S(),R._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=A})}return a}}},vw=_w;function hT(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function fp(t,e,n,i){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:p,onLeave:b,onAfterLeave:C,onLeaveCancelled:E,onBeforeAppear:L,onAppear:R,onAfterAppear:S,onAppearCancelled:A}=e,M=String(t.key),I=hT(n,t),N=(ne,re)=>{ne&&$i(ne,i,9,re)},j=(ne,re)=>{const xe=re[1];N(ne,re),Ke(ne)?ne.every(Z=>Z.length<=1)&&xe():ne.length<=1&&xe()},m={mode:s,persisted:a,beforeEnter(ne){let re=o;if(!n.isMounted)if(r)re=L||o;else return;ne._leaveCb&&ne._leaveCb(!0);const xe=I[M];xe&&er(t,xe)&&xe.el._leaveCb&&xe.el._leaveCb(),N(re,[ne])},enter(ne){let re=u,xe=c,Z=f;if(!n.isMounted)if(r)re=R||u,xe=S||c,Z=A||f;else return;let ae=!1;const Q=ne._enterCb=he=>{ae||(ae=!0,he?N(Z,[ne]):N(xe,[ne]),m.delayedLeave&&m.delayedLeave(),ne._enterCb=void 0)};re?j(re,[ne,Q]):Q()},leave(ne,re){const xe=String(t.key);if(ne._enterCb&&ne._enterCb(!0),n.isUnmounting)return re();N(p,[ne]);let Z=!1;const ae=ne._leaveCb=Q=>{Z||(Z=!0,re(),Q?N(E,[ne]):N(C,[ne]),ne._leaveCb=void 0,I[xe]===t&&delete I[xe])};I[xe]=t,b?j(b,[ne,ae]):ae()},clone(ne){return fp(ne,e,n,i)}};return m}function xh(t){if(Ul(t))return t=Jr(t),t.children=null,t}function Z0(t){return Ul(t)?t.children?t.children[0]:void 0:t}function ld(t,e){t.shapeFlag&6&&t.component?ld(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function pT(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Rn?(a.patchFlag&128&&r++,i=i.concat(pT(a.children,e,o))):(e||a.type!==Jn)&&i.push(o!=null?Jr(a,{key:o}):a)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function ei(t,e){return Je(t)?(()=>dn({name:t.name},e,{setup:t}))():t}const wa=t=>!!t.type.__asyncLoader;function ey(t){Je(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,timeout:s,suspensible:a=!0,onError:o}=t;let u=null,c,f=0;const p=()=>(f++,u=null,b()),b=()=>{let C;return u||(C=u=e().catch(E=>{if(E=E instanceof Error?E:new Error(String(E)),o)return new Promise((L,R)=>{o(E,()=>L(p()),()=>R(E),f+1)});throw E}).then(E=>C!==u&&u?u:(E&&(E.__esModule||E[Symbol.toStringTag]==="Module")&&(E=E.default),c=E,E)))};return ei({name:"AsyncComponentWrapper",__asyncLoader:b,get __asyncResolved(){return c},setup(){const C=cn;if(c)return()=>Eh(c,C);const E=A=>{u=null,eu(A,C,13,!i)};if(a&&C.suspense||Oo)return b().then(A=>()=>Eh(A,C)).catch(A=>(E(A),()=>i?Vt(i,{error:A}):null));const L=Mt(!1),R=Mt(),S=Mt(!!r);return r&&setTimeout(()=>{S.value=!1},r),s!=null&&setTimeout(()=>{if(!L.value&&!R.value){const A=new Error(`Async component timed out after ${s}ms.`);E(A),R.value=A}},s),b().then(()=>{L.value=!0,C.parent&&Ul(C.parent.vnode)&&Jd(C.parent.update)}).catch(A=>{E(A),R.value=A}),()=>{if(L.value&&c)return Eh(c,C);if(R.value&&i)return Vt(i,{error:R.value});if(n&&!S.value)return Vt(n)}}})}function Eh(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,a=Vt(t,i,r);return a.ref=n,a.ce=s,delete e.vnode.ce,a}const Ul=t=>t.type.__isKeepAlive,bw={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=as(),i=n.ctx;if(!i.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const r=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:u,m:c,um:f,o:{createElement:p}}}=i,b=p("div");i.activate=(A,M,I,N,j)=>{const m=A.component;c(A,M,I,0,o),u(m.vnode,A,M,I,m,o,N,A.slotScopeIds,j),An(()=>{m.isDeactivated=!1,m.a&&To(m.a);const ne=A.props&&A.props.onVnodeMounted;ne&&ui(ne,m.parent,A)},o)},i.deactivate=A=>{const M=A.component;c(A,b,null,1,o),An(()=>{M.da&&To(M.da);const I=A.props&&A.props.onVnodeUnmounted;I&&ui(I,M.parent,A),M.isDeactivated=!0},o)};function C(A){Sh(A),f(A,n,o,!0)}function E(A){r.forEach((M,I)=>{const N=_p(M.type);N&&(!A||!A(N))&&L(I)})}function L(A){const M=r.get(A);!a||!er(M,a)?C(M):a&&Sh(a),r.delete(A),s.delete(A)}xn(()=>[t.include,t.exclude],([A,M])=>{A&&E(I=>Vu(A,I)),M&&E(I=>!Vu(M,I))},{flush:"post",deep:!0});let R=null;const S=()=>{R!=null&&r.set(R,Ch(n.subTree))};return tu(S),_T(S),jl(()=>{r.forEach(A=>{const{subTree:M,suspense:I}=n,N=Ch(M);if(A.type===N.type&&A.key===N.key){Sh(N);const j=N.component.da;j&&An(j,I);return}C(A)})}),()=>{if(R=null,!e.default)return null;const A=e.default(),M=A[0];if(A.length>1)return a=null,A;if(!Po(M)||!(M.shapeFlag&4)&&!(M.shapeFlag&128))return a=null,M;let I=Ch(M);const N=I.type,j=_p(wa(I)?I.type.__asyncResolved||{}:N),{include:m,exclude:ne,max:re}=t;if(m&&(!j||!Vu(m,j))||ne&&j&&Vu(ne,j))return a=I,M;const xe=I.key==null?N:I.key,Z=r.get(xe);return I.el&&(I=Jr(I),M.shapeFlag&128&&(M.ssContent=I)),R=xe,Z?(I.el=Z.el,I.component=Z.component,I.transition&&ld(I,I.transition),I.shapeFlag|=512,s.delete(xe),s.add(xe)):(s.add(xe),re&&s.size>parseInt(re,10)&&L(s.values().next().value)),I.shapeFlag|=256,a=I,uT(M.type)?M:I}}},Tw=bw;function Vu(t,e){return Ke(t)?t.some(n=>Vu(n,e)):Zt(t)?t.split(",").includes(e):lC(t)?t.test(e):!1}function gT(t,e){yT(t,"a",e)}function mT(t,e){yT(t,"da",e)}function yT(t,e,n=cn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(tf(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Ul(r.parent.vnode)&&xw(i,e,n,r),r=r.parent}}function xw(t,e,n,i){const r=tf(e,t,i,!0);em(()=>{Ng(i[e],r)},n)}function Sh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ch(t){return t.shapeFlag&128?t.ssContent:t}function tf(t,e,n=cn,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Jo(),Is(n);const o=$i(e,n,t,a);return ks(),Zo(),o});return i?r.unshift(s):r.push(s),s}}const ss=t=>(e,n=cn)=>(!Oo||t==="sp")&&tf(t,(...i)=>e(...i),n),Ew=ss("bm"),tu=ss("m"),Sw=ss("bu"),_T=ss("u"),jl=ss("bum"),em=ss("um"),Cw=ss("sp"),ww=ss("rtg"),Aw=ss("rtc");function vT(t,e=cn){tf("ec",t,e)}const tm="components";function e6(t,e){return TT(tm,t,!0,e)||t}const bT=Symbol.for("v-ndc");function Dw(t){return Zt(t)?TT(tm,t,!1)||t:t||bT}function TT(t,e,n=!0,i=!1){const r=Tn||cn;if(r){const s=r.type;if(t===tm){const o=_p(s,!1);if(o&&(o===e||o===Ar(e)||o===Xd(Ar(e))))return s}const a=ty(r[t]||s[t],e)||ty(r.appContext[t],e);return!a&&i?s:a}}function ty(t,e){return t&&(t[e]||t[Ar(e)]||t[Xd(Ar(e))])}function t6(t,e,n,i){let r;const s=n&&n[i];if(Ke(t)||Zt(t)){r=new Array(t.length);for(let a=0,o=t.length;a<o;a++)r[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(Ut(t))if(t[Symbol.iterator])r=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);r=new Array(a.length);for(let o=0,u=a.length;o<u;o++){const c=a[o];r[o]=e(t[c],c,o,s&&s[o])}}else r=[];return n&&(n[i]=r),r}function n6(t,e,n={},i,r){if(Tn.isCE||Tn.parent&&wa(Tn.parent)&&Tn.parent.isCE)return e!=="default"&&(n.name=e),Vt("slot",n,i&&i());let s=t[e];s&&s._c&&(s._d=!1),vr();const a=s&&xT(s(n)),o=Wr(Rn,{key:n.key||a&&a.key||`_${e}`},a||(i?i():[]),a&&t._===1?64:-2);return!r&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function xT(t){return t.some(e=>Po(e)?!(e.type===Jn||e.type===Rn&&!xT(e.children)):!0)?t:null}const hp=t=>t?UT(t)?rf(t)||t.proxy:hp(t.parent):null,el=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hp(t.parent),$root:t=>hp(t.root),$emit:t=>t.emit,$options:t=>nm(t),$forceUpdate:t=>t.f||(t.f=()=>Jd(t.update)),$nextTick:t=>t.n||(t.n=Qr.bind(t.proxy)),$watch:t=>mw.bind(t)}),wh=(t,e)=>t!==qt&&!t.__isScriptSetup&&gt(t,e),kw={get({_:t},e){const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:u}=t;let c;if(e[0]!=="$"){const C=a[e];if(C!==void 0)switch(C){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(wh(i,e))return a[e]=1,i[e];if(r!==qt&&gt(r,e))return a[e]=2,r[e];if((c=t.propsOptions[0])&&gt(c,e))return a[e]=3,s[e];if(n!==qt&&gt(n,e))return a[e]=4,n[e];pp&&(a[e]=0)}}const f=el[e];let p,b;if(f)return e==="$attrs"&&pi(t,"get",e),f(t);if((p=o.__cssModules)&&(p=p[e]))return p;if(n!==qt&&gt(n,e))return a[e]=4,n[e];if(b=u.config.globalProperties,gt(b,e))return b[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return wh(r,e)?(r[e]=n,!0):i!==qt&&gt(i,e)?(i[e]=n,!0):gt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let o;return!!n[a]||t!==qt&&gt(t,a)||wh(e,a)||(o=s[0])&&gt(o,a)||gt(i,a)||gt(el,a)||gt(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:gt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ny(t){return Ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function i6(t){const e=as();let n=t();return ks(),Bg(n)&&(n=n.catch(i=>{throw Is(e),i})),[n,()=>Is(e)]}let pp=!0;function Lw(t){const e=nm(t),n=t.proxy,i=t.ctx;pp=!1,e.beforeCreate&&iy(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:a,watch:o,provide:u,inject:c,created:f,beforeMount:p,mounted:b,beforeUpdate:C,updated:E,activated:L,deactivated:R,beforeDestroy:S,beforeUnmount:A,destroyed:M,unmounted:I,render:N,renderTracked:j,renderTriggered:m,errorCaptured:ne,serverPrefetch:re,expose:xe,inheritAttrs:Z,components:ae,directives:Q,filters:he}=e;if(c&&Iw(c,i,null),a)for(const Re in a){const Ve=a[Re];Je(Ve)&&(i[Re]=Ve.bind(n))}if(r){const Re=r.call(n,n);Ut(Re)&&(t.data=ir(Re))}if(pp=!0,s)for(const Re in s){const Ve=s[Re],bt=Je(Ve)?Ve.bind(n,n):Je(Ve.get)?Ve.get.bind(n,n):tr,Qt=!Je(Ve)&&Je(Ve.set)?Ve.set.bind(n):tr,$t=ht({get:bt,set:Qt});Object.defineProperty(i,Re,{enumerable:!0,configurable:!0,get:()=>$t.value,set:xt=>$t.value=xt})}if(o)for(const Re in o)ET(o[Re],i,n,Re);if(u){const Re=Je(u)?u.call(n):u;Reflect.ownKeys(Re).forEach(Ve=>{Aa(Ve,Re[Ve])})}f&&iy(f,t,"c");function Le(Re,Ve){Ke(Ve)?Ve.forEach(bt=>Re(bt.bind(n))):Ve&&Re(Ve.bind(n))}if(Le(Ew,p),Le(tu,b),Le(Sw,C),Le(_T,E),Le(gT,L),Le(mT,R),Le(vT,ne),Le(Aw,j),Le(ww,m),Le(jl,A),Le(em,I),Le(Cw,re),Ke(xe))if(xe.length){const Re=t.exposed||(t.exposed={});xe.forEach(Ve=>{Object.defineProperty(Re,Ve,{get:()=>n[Ve],set:bt=>n[Ve]=bt})})}else t.exposed||(t.exposed={});N&&t.render===tr&&(t.render=N),Z!=null&&(t.inheritAttrs=Z),ae&&(t.components=ae),Q&&(t.directives=Q)}function Iw(t,e,n=tr){Ke(t)&&(t=gp(t));for(const i in t){const r=t[i];let s;Ut(r)?"default"in r?s=kn(r.from||i,r.default,!0):s=kn(r.from||i):s=kn(r),Yt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function iy(t,e,n){$i(Ke(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function ET(t,e,n,i){const r=i.includes(".")?dT(n,i):()=>n[i];if(Zt(t)){const s=e[t];Je(s)&&xn(r,s)}else if(Je(t))xn(r,t.bind(n));else if(Ut(t))if(Ke(t))t.forEach(s=>ET(s,e,n,i));else{const s=Je(t.handler)?t.handler.bind(n):e[t.handler];Je(s)&&xn(r,s,t)}}function nm(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let u;return o?u=o:!r.length&&!n&&!i?u=e:(u={},r.length&&r.forEach(c=>cd(u,c,a,!0)),cd(u,e,a)),Ut(e)&&s.set(e,u),u}function cd(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&cd(t,s,n,!0),r&&r.forEach(a=>cd(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=Pw[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const Pw={data:ry,props:sy,emits:sy,methods:Wu,computed:Wu,beforeCreate:zn,created:zn,beforeMount:zn,mounted:zn,beforeUpdate:zn,updated:zn,beforeDestroy:zn,beforeUnmount:zn,destroyed:zn,unmounted:zn,activated:zn,deactivated:zn,errorCaptured:zn,serverPrefetch:zn,components:Wu,directives:Wu,watch:Rw,provide:ry,inject:Ow};function ry(t,e){return e?t?function(){return dn(Je(t)?t.call(this,this):t,Je(e)?e.call(this,this):e)}:e:t}function Ow(t,e){return Wu(gp(t),gp(e))}function gp(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zn(t,e){return t?[...new Set([].concat(t,e))]:e}function Wu(t,e){return t?dn(Object.create(null),t,e):e}function sy(t,e){return t?Ke(t)&&Ke(e)?[...new Set([...t,...e])]:dn(Object.create(null),ny(t),ny(e??{})):e}function Rw(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const i in e)n[i]=zn(t[i],e[i]);return n}function ST(){return{app:null,config:{isNativeTag:aC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nw=0;function Mw(t,e){return function(i,r=null){Je(i)||(i=dn({},i)),r!=null&&!Ut(r)&&(r=null);const s=ST(),a=new Set;let o=!1;const u=s.app={_uid:Nw++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:$T,get config(){return s.config},set config(c){},use(c,...f){return a.has(c)||(c&&Je(c.install)?(a.add(c),c.install(u,...f)):Je(c)&&(a.add(c),c(u,...f))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,f){return f?(s.components[c]=f,u):s.components[c]},directive(c,f){return f?(s.directives[c]=f,u):s.directives[c]},mount(c,f,p){if(!o){const b=Vt(i,r);return b.appContext=s,f&&e?e(b,c):t(b,c,p),o=!0,u._container=c,c.__vue_app__=u,rf(b.component)||b.component.proxy}},unmount(){o&&(t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return s.provides[c]=f,u},runWithContext(c){vl=u;try{return c()}finally{vl=null}}};return u}}let vl=null;function Aa(t,e){if(cn){let n=cn.provides;const i=cn.parent&&cn.parent.provides;i===n&&(n=cn.provides=Object.create(i)),n[t]=e}}function kn(t,e,n=!1){const i=cn||Tn;if(i||vl){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:vl._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Je(e)?e.call(i&&i.proxy):e}}function CT(){return!!(cn||Tn||vl)}function Bw(t,e,n,i=!1){const r={},s={};rd(s,nf,1),t.propsDefaults=Object.create(null),wT(t,e,r,s);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=i?r:Fl(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function Fw(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=t,o=pt(r),[u]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let b=f[p];if(Zd(t.emitsOptions,b))continue;const C=e[b];if(u)if(gt(s,b))C!==s[b]&&(s[b]=C,c=!0);else{const E=Ar(b);r[E]=mp(u,o,E,C,t,!1)}else C!==s[b]&&(s[b]=C,c=!0)}}}else{wT(t,e,r,s)&&(c=!0);let f;for(const p in o)(!e||!gt(e,p)&&((f=Qo(p))===p||!gt(e,f)))&&(u?n&&(n[p]!==void 0||n[f]!==void 0)&&(r[p]=mp(u,o,p,void 0,t,!0)):delete r[p]);if(s!==o)for(const p in s)(!e||!gt(e,p))&&(delete s[p],c=!0)}c&&Yr(t,"set","$attrs")}function wT(t,e,n,i){const[r,s]=t.propsOptions;let a=!1,o;if(e)for(let u in e){if(Ju(u))continue;const c=e[u];let f;r&&gt(r,f=Ar(u))?!s||!s.includes(f)?n[f]=c:(o||(o={}))[f]=c:Zd(t.emitsOptions,u)||(!(u in i)||c!==i[u])&&(i[u]=c,a=!0)}if(s){const u=pt(n),c=o||qt;for(let f=0;f<s.length;f++){const p=s[f];n[p]=mp(r,u,p,c[p],t,!gt(c,p))}}return a}function mp(t,e,n,i,r,s){const a=t[n];if(a!=null){const o=gt(a,"default");if(o&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Je(u)){const{propsDefaults:c}=r;n in c?i=c[n]:(Is(r),i=c[n]=u.call(null,e),ks())}else i=u}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===Qo(n))&&(i=!0))}return i}function AT(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const s=t.props,a={},o=[];let u=!1;if(!Je(t)){const f=p=>{u=!0;const[b,C]=AT(p,e,!0);dn(a,b),C&&o.push(...C)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!u)return Ut(t)&&i.set(t,vo),vo;if(Ke(s))for(let f=0;f<s.length;f++){const p=Ar(s[f]);ay(p)&&(a[p]=qt)}else if(s)for(const f in s){const p=Ar(f);if(ay(p)){const b=s[f],C=a[p]=Ke(b)||Je(b)?{type:b}:dn({},b);if(C){const E=ly(Boolean,C.type),L=ly(String,C.type);C[0]=E>-1,C[1]=L<0||E<L,(E>-1||gt(C,"default"))&&o.push(p)}}}const c=[a,o];return Ut(t)&&i.set(t,c),c}function ay(t){return t[0]!=="$"}function oy(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function uy(t,e){return oy(t)===oy(e)}function ly(t,e){return Ke(e)?e.findIndex(n=>uy(n,t)):Je(e)&&uy(e,t)?0:-1}const DT=t=>t[0]==="_"||t==="$stable",im=t=>Ke(t)?t.map(Ui):[Ui(t)],Uw=(t,e,n)=>{if(e._n)return e;const i=Zu((...r)=>im(e(...r)),n);return i._c=!1,i},kT=(t,e,n)=>{const i=t._ctx;for(const r in t){if(DT(r))continue;const s=t[r];if(Je(s))e[r]=Uw(r,s,i);else if(s!=null){const a=im(s);e[r]=()=>a}}},LT=(t,e)=>{const n=im(e);t.slots.default=()=>n},jw=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=pt(e),rd(e,"_",n)):kT(e,t.slots={})}else t.slots={},e&&LT(t,e);rd(t.slots,nf,1)},$w=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,a=qt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(dn(r,e),!n&&o===1&&delete r._):(s=!e.$stable,kT(e,r)),a=e}else e&&(LT(t,e),a={default:1});if(s)for(const o in r)!DT(o)&&!(o in a)&&delete r[o]};function dd(t,e,n,i,r=!1){if(Ke(t)){t.forEach((b,C)=>dd(b,e&&(Ke(e)?e[C]:e),n,i,r));return}if(wa(i)&&!r)return;const s=i.shapeFlag&4?rf(i.component)||i.component.proxy:i.el,a=r?null:s,{i:o,r:u}=t,c=e&&e.r,f=o.refs===qt?o.refs={}:o.refs,p=o.setupState;if(c!=null&&c!==u&&(Zt(c)?(f[c]=null,gt(p,c)&&(p[c]=null)):Yt(c)&&(c.value=null)),Je(u))Ds(u,o,12,[a,f]);else{const b=Zt(u),C=Yt(u);if(b||C){const E=()=>{if(t.f){const L=b?gt(p,u)?p[u]:f[u]:u.value;r?Ke(L)&&Ng(L,s):Ke(L)?L.includes(s)||L.push(s):b?(f[u]=[s],gt(p,u)&&(p[u]=f[u])):(u.value=[s],t.k&&(f[t.k]=u.value))}else b?(f[u]=a,gt(p,u)&&(p[u]=a)):C&&(u.value=a,t.k&&(f[t.k]=a))};a?(E.id=-1,An(E,n)):E()}}}let ms=!1;const Rc=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Nc=t=>t.nodeType===8;function Hw(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:a,remove:o,insert:u,createComment:c}}=t,f=(S,A)=>{if(!A.hasChildNodes()){n(null,S,A),od(),A._vnode=S;return}ms=!1,p(A.firstChild,S,null,null,null),od(),A._vnode=S,ms&&console.error("Hydration completed but contains mismatches.")},p=(S,A,M,I,N,j=!1)=>{const m=Nc(S)&&S.data==="[",ne=()=>L(S,A,M,I,N,m),{type:re,ref:xe,shapeFlag:Z,patchFlag:ae}=A;let Q=S.nodeType;A.el=S,ae===-2&&(j=!1,A.dynamicChildren=null);let he=null;switch(re){case Oa:Q!==3?A.children===""?(u(A.el=r(""),a(S),S),he=S):he=ne():(S.data!==A.children&&(ms=!0,S.data=A.children),he=s(S));break;case Jn:Q!==8||m?he=ne():he=s(S);break;case Yc:if(m&&(S=s(S),Q=S.nodeType),Q===1||Q===3){he=S;const He=!A.children.length;for(let Le=0;Le<A.staticCount;Le++)He&&(A.children+=he.nodeType===1?he.outerHTML:he.data),Le===A.staticCount-1&&(A.anchor=he),he=s(he);return m?s(he):he}else ne();break;case Rn:m?he=E(S,A,M,I,N,j):he=ne();break;default:if(Z&1)Q!==1||A.type.toLowerCase()!==S.tagName.toLowerCase()?he=ne():he=b(S,A,M,I,N,j);else if(Z&6){A.slotScopeIds=N;const He=a(S);if(e(A,He,null,M,I,Rc(He),j),he=m?R(S):s(S),he&&Nc(he)&&he.data==="teleport end"&&(he=s(he)),wa(A)){let Le;m?(Le=Vt(Rn),Le.anchor=he?he.previousSibling:He.lastChild):Le=S.nodeType===3?BT(""):Vt("div"),Le.el=S,A.component.subTree=Le}}else Z&64?Q!==8?he=ne():he=A.type.hydrate(S,A,M,I,N,j,t,C):Z&128&&(he=A.type.hydrate(S,A,M,I,Rc(a(S)),N,j,t,p))}return xe!=null&&dd(xe,null,I,A),he},b=(S,A,M,I,N,j)=>{j=j||!!A.dynamicChildren;const{type:m,props:ne,patchFlag:re,shapeFlag:xe,dirs:Z}=A,ae=m==="input"&&Z||m==="option";if(ae||re!==-1){if(Z&&gr(A,null,M,"created"),ne)if(ae||!j||re&48)for(const he in ne)(ae&&he.endsWith("value")||Ml(he)&&!Ju(he))&&i(S,he,null,ne[he],!1,void 0,M);else ne.onClick&&i(S,"onClick",null,ne.onClick,!1,void 0,M);let Q;if((Q=ne&&ne.onVnodeBeforeMount)&&ui(Q,M,A),Z&&gr(A,null,M,"beforeMount"),((Q=ne&&ne.onVnodeMounted)||Z)&&lT(()=>{Q&&ui(Q,M,A),Z&&gr(A,null,M,"mounted")},I),xe&16&&!(ne&&(ne.innerHTML||ne.textContent))){let he=C(S.firstChild,A,S,M,I,N,j);for(;he;){ms=!0;const He=he;he=he.nextSibling,o(He)}}else xe&8&&S.textContent!==A.children&&(ms=!0,S.textContent=A.children)}return S.nextSibling},C=(S,A,M,I,N,j,m)=>{m=m||!!A.dynamicChildren;const ne=A.children,re=ne.length;for(let xe=0;xe<re;xe++){const Z=m?ne[xe]:ne[xe]=Ui(ne[xe]);if(S)S=p(S,Z,I,N,j,m);else{if(Z.type===Oa&&!Z.children)continue;ms=!0,n(null,Z,M,null,I,N,Rc(M),j)}}return S},E=(S,A,M,I,N,j)=>{const{slotScopeIds:m}=A;m&&(N=N?N.concat(m):m);const ne=a(S),re=C(s(S),A,ne,M,I,N,j);return re&&Nc(re)&&re.data==="]"?s(A.anchor=re):(ms=!0,u(A.anchor=c("]"),ne,re),re)},L=(S,A,M,I,N,j)=>{if(ms=!0,A.el=null,j){const re=R(S);for(;;){const xe=s(S);if(xe&&xe!==re)o(xe);else break}}const m=s(S),ne=a(S);return o(S),n(null,A,ne,m,M,I,Rc(ne),N),m},R=S=>{let A=0;for(;S;)if(S=s(S),S&&Nc(S)&&(S.data==="["&&A++,S.data==="]")){if(A===0)return s(S);A--}return S};return[f,p]}const An=lT;function qw(t){return IT(t)}function Vw(t){return IT(t,Hw)}function IT(t,e){const n=op();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:o,createComment:u,setText:c,setElementText:f,parentNode:p,nextSibling:b,setScopeId:C=tr,insertStaticContent:E}=t,L=(V,P,B,K=null,ee=null,oe=null,me=!1,Ee=null,ve=!!P.dynamicChildren)=>{if(V===P)return;V&&!er(V,P)&&(K=_e(V),xt(V,ee,oe,!0),V=null),P.patchFlag===-2&&(ve=!1,P.dynamicChildren=null);const{type:Se,ref:De,shapeFlag:te}=P;switch(Se){case Oa:R(V,P,B,K);break;case Jn:S(V,P,B,K);break;case Yc:V==null&&A(P,B,K,me);break;case Rn:ae(V,P,B,K,ee,oe,me,Ee,ve);break;default:te&1?N(V,P,B,K,ee,oe,me,Ee,ve):te&6?Q(V,P,B,K,ee,oe,me,Ee,ve):(te&64||te&128)&&Se.process(V,P,B,K,ee,oe,me,Ee,ve,Ae)}De!=null&&ee&&dd(De,V&&V.ref,oe,P||V,!P)},R=(V,P,B,K)=>{if(V==null)i(P.el=o(P.children),B,K);else{const ee=P.el=V.el;P.children!==V.children&&c(ee,P.children)}},S=(V,P,B,K)=>{V==null?i(P.el=u(P.children||""),B,K):P.el=V.el},A=(V,P,B,K)=>{[V.el,V.anchor]=E(V.children,P,B,K,V.el,V.anchor)},M=({el:V,anchor:P},B,K)=>{let ee;for(;V&&V!==P;)ee=b(V),i(V,B,K),V=ee;i(P,B,K)},I=({el:V,anchor:P})=>{let B;for(;V&&V!==P;)B=b(V),r(V),V=B;r(P)},N=(V,P,B,K,ee,oe,me,Ee,ve)=>{me=me||P.type==="svg",V==null?j(P,B,K,ee,oe,me,Ee,ve):re(V,P,ee,oe,me,Ee,ve)},j=(V,P,B,K,ee,oe,me,Ee)=>{let ve,Se;const{type:De,props:te,shapeFlag:ue,transition:be,dirs:Be}=V;if(ve=V.el=a(V.type,oe,te&&te.is,te),ue&8?f(ve,V.children):ue&16&&ne(V.children,ve,null,K,ee,oe&&De!=="foreignObject",me,Ee),Be&&gr(V,null,K,"created"),m(ve,V,V.scopeId,me,K),te){for(const st in te)st!=="value"&&!Ju(st)&&s(ve,st,null,te[st],oe,V.children,K,ee,Ht);"value"in te&&s(ve,"value",null,te.value),(Se=te.onVnodeBeforeMount)&&ui(Se,K,V)}Be&&gr(V,null,K,"beforeMount");const ut=(!ee||ee&&!ee.pendingBranch)&&be&&!be.persisted;ut&&be.beforeEnter(ve),i(ve,P,B),((Se=te&&te.onVnodeMounted)||ut||Be)&&An(()=>{Se&&ui(Se,K,V),ut&&be.enter(ve),Be&&gr(V,null,K,"mounted")},ee)},m=(V,P,B,K,ee)=>{if(B&&C(V,B),K)for(let oe=0;oe<K.length;oe++)C(V,K[oe]);if(ee){let oe=ee.subTree;if(P===oe){const me=ee.vnode;m(V,me,me.scopeId,me.slotScopeIds,ee.parent)}}},ne=(V,P,B,K,ee,oe,me,Ee,ve=0)=>{for(let Se=ve;Se<V.length;Se++){const De=V[Se]=Ee?Es(V[Se]):Ui(V[Se]);L(null,De,P,B,K,ee,oe,me,Ee)}},re=(V,P,B,K,ee,oe,me)=>{const Ee=P.el=V.el;let{patchFlag:ve,dynamicChildren:Se,dirs:De}=P;ve|=V.patchFlag&16;const te=V.props||qt,ue=P.props||qt;let be;B&&ua(B,!1),(be=ue.onVnodeBeforeUpdate)&&ui(be,B,P,V),De&&gr(P,V,B,"beforeUpdate"),B&&ua(B,!0);const Be=ee&&P.type!=="foreignObject";if(Se?xe(V.dynamicChildren,Se,Ee,B,K,Be,oe):me||Ve(V,P,Ee,null,B,K,Be,oe,!1),ve>0){if(ve&16)Z(Ee,P,te,ue,B,K,ee);else if(ve&2&&te.class!==ue.class&&s(Ee,"class",null,ue.class,ee),ve&4&&s(Ee,"style",te.style,ue.style,ee),ve&8){const ut=P.dynamicProps;for(let st=0;st<ut.length;st++){const yt=ut[st],hn=te[yt],_i=ue[yt];(_i!==hn||yt==="value")&&s(Ee,yt,hn,_i,ee,V.children,B,K,Ht)}}ve&1&&V.children!==P.children&&f(Ee,P.children)}else!me&&Se==null&&Z(Ee,P,te,ue,B,K,ee);((be=ue.onVnodeUpdated)||De)&&An(()=>{be&&ui(be,B,P,V),De&&gr(P,V,B,"updated")},K)},xe=(V,P,B,K,ee,oe,me)=>{for(let Ee=0;Ee<P.length;Ee++){const ve=V[Ee],Se=P[Ee],De=ve.el&&(ve.type===Rn||!er(ve,Se)||ve.shapeFlag&70)?p(ve.el):B;L(ve,Se,De,null,K,ee,oe,me,!0)}},Z=(V,P,B,K,ee,oe,me)=>{if(B!==K){if(B!==qt)for(const Ee in B)!Ju(Ee)&&!(Ee in K)&&s(V,Ee,B[Ee],null,me,P.children,ee,oe,Ht);for(const Ee in K){if(Ju(Ee))continue;const ve=K[Ee],Se=B[Ee];ve!==Se&&Ee!=="value"&&s(V,Ee,Se,ve,me,P.children,ee,oe,Ht)}"value"in K&&s(V,"value",B.value,K.value)}},ae=(V,P,B,K,ee,oe,me,Ee,ve)=>{const Se=P.el=V?V.el:o(""),De=P.anchor=V?V.anchor:o("");let{patchFlag:te,dynamicChildren:ue,slotScopeIds:be}=P;be&&(Ee=Ee?Ee.concat(be):be),V==null?(i(Se,B,K),i(De,B,K),ne(P.children,B,De,ee,oe,me,Ee,ve)):te>0&&te&64&&ue&&V.dynamicChildren?(xe(V.dynamicChildren,ue,B,ee,oe,me,Ee),(P.key!=null||ee&&P===ee.subTree)&&PT(V,P,!0)):Ve(V,P,B,De,ee,oe,me,Ee,ve)},Q=(V,P,B,K,ee,oe,me,Ee,ve)=>{P.slotScopeIds=Ee,V==null?P.shapeFlag&512?ee.ctx.activate(P,B,K,me,ve):he(P,B,K,ee,oe,me,ve):He(V,P,ve)},he=(V,P,B,K,ee,oe,me)=>{const Ee=V.component=Yw(V,K,ee);if(Ul(V)&&(Ee.ctx.renderer=Ae),Qw(Ee),Ee.asyncDep){if(ee&&ee.registerDep(Ee,Le),!V.el){const ve=Ee.subTree=Vt(Jn);S(null,ve,P,B)}return}Le(Ee,V,P,B,ee,oe,me)},He=(V,P,B)=>{const K=P.component=V.component;if(lw(V,P,B))if(K.asyncDep&&!K.asyncResolved){Re(K,P,B);return}else K.next=P,iw(K.update),K.update();else P.el=V.el,K.vnode=P},Le=(V,P,B,K,ee,oe,me)=>{const Ee=()=>{if(V.isMounted){let{next:De,bu:te,u:ue,parent:be,vnode:Be}=V,ut=De,st;ua(V,!1),De?(De.el=Be.el,Re(V,De,me)):De=Be,te&&To(te),(st=De.props&&De.props.onVnodeBeforeUpdate)&&ui(st,be,De,Be),ua(V,!0);const yt=Th(V),hn=V.subTree;V.subTree=yt,L(hn,yt,p(hn.el),_e(hn),V,ee,oe),De.el=yt.el,ut===null&&Yg(V,yt.el),ue&&An(ue,ee),(st=De.props&&De.props.onVnodeUpdated)&&An(()=>ui(st,be,De,Be),ee)}else{let De;const{el:te,props:ue}=P,{bm:be,m:Be,parent:ut}=V,st=wa(P);if(ua(V,!1),be&&To(be),!st&&(De=ue&&ue.onVnodeBeforeMount)&&ui(De,ut,P),ua(V,!0),te&&rt){const yt=()=>{V.subTree=Th(V),rt(te,V.subTree,V,ee,null)};st?P.type.__asyncLoader().then(()=>!V.isUnmounted&&yt()):yt()}else{const yt=V.subTree=Th(V);L(null,yt,B,K,V,ee,oe),P.el=yt.el}if(Be&&An(Be,ee),!st&&(De=ue&&ue.onVnodeMounted)){const yt=P;An(()=>ui(De,ut,yt),ee)}(P.shapeFlag&256||ut&&wa(ut.vnode)&&ut.vnode.shapeFlag&256)&&V.a&&An(V.a,ee),V.isMounted=!0,P=B=K=null}},ve=V.effect=new $g(Ee,()=>Jd(Se),V.scope),Se=V.update=()=>ve.run();Se.id=V.uid,ua(V,!0),Se()},Re=(V,P,B)=>{P.component=V;const K=V.vnode.props;V.vnode=P,V.next=null,Fw(V,P.props,K,B),$w(V,P.children,B),Jo(),Y0(),Zo()},Ve=(V,P,B,K,ee,oe,me,Ee,ve=!1)=>{const Se=V&&V.children,De=V?V.shapeFlag:0,te=P.children,{patchFlag:ue,shapeFlag:be}=P;if(ue>0){if(ue&128){Qt(Se,te,B,K,ee,oe,me,Ee,ve);return}else if(ue&256){bt(Se,te,B,K,ee,oe,me,Ee,ve);return}}be&8?(De&16&&Ht(Se,ee,oe),te!==Se&&f(B,te)):De&16?be&16?Qt(Se,te,B,K,ee,oe,me,Ee,ve):Ht(Se,ee,oe,!0):(De&8&&f(B,""),be&16&&ne(te,B,K,ee,oe,me,Ee,ve))},bt=(V,P,B,K,ee,oe,me,Ee,ve)=>{V=V||vo,P=P||vo;const Se=V.length,De=P.length,te=Math.min(Se,De);let ue;for(ue=0;ue<te;ue++){const be=P[ue]=ve?Es(P[ue]):Ui(P[ue]);L(V[ue],be,B,null,ee,oe,me,Ee,ve)}Se>De?Ht(V,ee,oe,!0,!1,te):ne(P,B,K,ee,oe,me,Ee,ve,te)},Qt=(V,P,B,K,ee,oe,me,Ee,ve)=>{let Se=0;const De=P.length;let te=V.length-1,ue=De-1;for(;Se<=te&&Se<=ue;){const be=V[Se],Be=P[Se]=ve?Es(P[Se]):Ui(P[Se]);if(er(be,Be))L(be,Be,B,null,ee,oe,me,Ee,ve);else break;Se++}for(;Se<=te&&Se<=ue;){const be=V[te],Be=P[ue]=ve?Es(P[ue]):Ui(P[ue]);if(er(be,Be))L(be,Be,B,null,ee,oe,me,Ee,ve);else break;te--,ue--}if(Se>te){if(Se<=ue){const be=ue+1,Be=be<De?P[be].el:K;for(;Se<=ue;)L(null,P[Se]=ve?Es(P[Se]):Ui(P[Se]),B,Be,ee,oe,me,Ee,ve),Se++}}else if(Se>ue)for(;Se<=te;)xt(V[Se],ee,oe,!0),Se++;else{const be=Se,Be=Se,ut=new Map;for(Se=Be;Se<=ue;Se++){const en=P[Se]=ve?Es(P[Se]):Ui(P[Se]);en.key!=null&&ut.set(en.key,Se)}let st,yt=0;const hn=ue-Be+1;let _i=!1,dt=0;const Cn=new Array(hn);for(Se=0;Se<hn;Se++)Cn[Se]=0;for(Se=be;Se<=te;Se++){const en=V[Se];if(yt>=hn){xt(en,ee,oe,!0);continue}let ti;if(en.key!=null)ti=ut.get(en.key);else for(st=Be;st<=ue;st++)if(Cn[st-Be]===0&&er(en,P[st])){ti=st;break}ti===void 0?xt(en,ee,oe,!0):(Cn[ti-Be]=Se+1,ti>=dt?dt=ti:_i=!0,L(en,P[ti],B,null,ee,oe,me,Ee,ve),yt++)}const jn=_i?Ww(Cn):vo;for(st=jn.length-1,Se=hn-1;Se>=0;Se--){const en=Be+Se,ti=P[en],Rr=en+1<De?P[en+1].el:K;Cn[Se]===0?L(null,ti,B,Rr,ee,oe,me,Ee,ve):_i&&(st<0||Se!==jn[st]?$t(ti,B,Rr,2):st--)}}},$t=(V,P,B,K,ee=null)=>{const{el:oe,type:me,transition:Ee,children:ve,shapeFlag:Se}=V;if(Se&6){$t(V.component.subTree,P,B,K);return}if(Se&128){V.suspense.move(P,B,K);return}if(Se&64){me.move(V,P,B,Ae);return}if(me===Rn){i(oe,P,B);for(let te=0;te<ve.length;te++)$t(ve[te],P,B,K);i(V.anchor,P,B);return}if(me===Yc){M(V,P,B);return}if(K!==2&&Se&1&&Ee)if(K===0)Ee.beforeEnter(oe),i(oe,P,B),An(()=>Ee.enter(oe),ee);else{const{leave:te,delayLeave:ue,afterLeave:be}=Ee,Be=()=>i(oe,P,B),ut=()=>{te(oe,()=>{Be(),be&&be()})};ue?ue(oe,Be,ut):ut()}else i(oe,P,B)},xt=(V,P,B,K=!1,ee=!1)=>{const{type:oe,props:me,ref:Ee,children:ve,dynamicChildren:Se,shapeFlag:De,patchFlag:te,dirs:ue}=V;if(Ee!=null&&dd(Ee,null,B,V,!0),De&256){P.ctx.deactivate(V);return}const be=De&1&&ue,Be=!wa(V);let ut;if(Be&&(ut=me&&me.onVnodeBeforeUnmount)&&ui(ut,P,V),De&6)yi(V.component,B,K);else{if(De&128){V.suspense.unmount(B,K);return}be&&gr(V,null,P,"beforeUnmount"),De&64?V.type.remove(V,P,B,ee,Ae,K):Se&&(oe!==Rn||te>0&&te&64)?Ht(Se,P,B,!1,!0):(oe===Rn&&te&384||!ee&&De&16)&&Ht(ve,P,B),K&&fn(V)}(Be&&(ut=me&&me.onVnodeUnmounted)||be)&&An(()=>{ut&&ui(ut,P,V),be&&gr(V,null,P,"unmounted")},B)},fn=V=>{const{type:P,el:B,anchor:K,transition:ee}=V;if(P===Rn){In(B,K);return}if(P===Yc){I(V);return}const oe=()=>{r(B),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(V.shapeFlag&1&&ee&&!ee.persisted){const{leave:me,delayLeave:Ee}=ee,ve=()=>me(B,oe);Ee?Ee(V.el,oe,ve):ve()}else oe()},In=(V,P)=>{let B;for(;V!==P;)B=b(V),r(V),V=B;r(P)},yi=(V,P,B)=>{const{bum:K,scope:ee,update:oe,subTree:me,um:Ee}=V;K&&To(K),ee.stop(),oe&&(oe.active=!1,xt(me,V,P,B)),Ee&&An(Ee,P),An(()=>{V.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Ht=(V,P,B,K=!1,ee=!1,oe=0)=>{for(let me=oe;me<V.length;me++)xt(V[me],P,B,K,ee)},_e=V=>V.shapeFlag&6?_e(V.component.subTree):V.shapeFlag&128?V.suspense.next():b(V.anchor||V.el),Ie=(V,P,B)=>{V==null?P._vnode&&xt(P._vnode,null,null,!0):L(P._vnode||null,V,P,null,null,null,B),Y0(),od(),P._vnode=V},Ae={p:L,um:xt,m:$t,r:fn,mt:he,mc:ne,pc:Ve,pbc:xe,n:_e,o:t};let Pe,rt;return e&&([Pe,rt]=e(Ae)),{render:Ie,hydrate:Pe,createApp:Mw(Ie,Pe)}}function ua({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function PT(t,e,n=!1){const i=t.children,r=e.children;if(Ke(i)&&Ke(r))for(let s=0;s<i.length;s++){const a=i[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=Es(r[s]),o.el=a.el),n||PT(a,o)),o.type===Oa&&(o.el=a.el)}}function Ww(t){const e=t.slice(),n=[0];let i,r,s,a,o;const u=t.length;for(i=0;i<u;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<c?s=o+1:a=o;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const zw=t=>t.__isTeleport,Rn=Symbol.for("v-fgt"),Oa=Symbol.for("v-txt"),Jn=Symbol.for("v-cmt"),Yc=Symbol.for("v-stc"),tl=[];let ji=null;function vr(t=!1){tl.push(ji=t?null:[])}function OT(){tl.pop(),ji=tl[tl.length-1]||null}let Io=1;function cy(t){Io+=t}function RT(t){return t.dynamicChildren=Io>0?ji||vo:null,OT(),Io>0&&ji&&ji.push(t),t}function r6(t,e,n,i,r,s){return RT(rm(t,e,n,i,r,s,!0))}function Wr(t,e,n,i,r){return RT(Vt(t,e,n,i,r,!0))}function Po(t){return t?t.__v_isVNode===!0:!1}function er(t,e){return t.type===e.type&&t.key===e.key}const nf="__vInternal",NT=({key:t})=>t??null,Qc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Zt(t)||Yt(t)||Je(t)?{i:Tn,r:t,k:e,f:!!n}:t:null);function rm(t,e=null,n=null,i=0,r=null,s=t===Rn?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&NT(e),ref:e&&Qc(e),scopeId:ef,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Tn};return o?(sm(u,n),s&128&&t.normalize(u)):n&&(u.shapeFlag|=Zt(n)?8:16),Io>0&&!a&&ji&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&ji.push(u),u}const Vt=Gw;function Gw(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===bT)&&(t=Jn),Po(t)){const o=Jr(t,e,!0);return n&&sm(o,n),Io>0&&!s&&ji&&(o.shapeFlag&6?ji[ji.indexOf(t)]=o:ji.push(o)),o.patchFlag|=-2,o}if(tA(t)&&(t=t.__vccOpts),e){e=MT(e);let{class:o,style:u}=e;o&&!Zt(o)&&(e.class=Sa(o)),Ut(u)&&(Xb(u)&&!Ke(u)&&(u=dn({},u)),e.style=Yd(u))}const a=Zt(t)?1:uT(t)?128:zw(t)?64:Ut(t)?4:Je(t)?2:0;return rm(t,e,n,i,r,a,s,!0)}function MT(t){return t?Xb(t)||nf in t?dn({},t):t:null}function Jr(t,e,n=!1){const{props:i,ref:r,patchFlag:s,children:a}=t,o=e?FT(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&NT(o),ref:e&&e.ref?n&&r?Ke(r)?r.concat(Qc(e)):[r,Qc(e)]:Qc(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jr(t.ssContent),ssFallback:t.ssFallback&&Jr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function BT(t=" ",e=0){return Vt(Oa,null,t,e)}function s6(t="",e=!1){return e?(vr(),Wr(Jn,null,t)):Vt(Jn,null,t)}function Ui(t){return t==null||typeof t=="boolean"?Vt(Jn):Ke(t)?Vt(Rn,null,t.slice()):typeof t=="object"?Es(t):Vt(Oa,null,String(t))}function Es(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Jr(t)}function sm(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ke(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),sm(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(nf in e)?e._ctx=Tn:r===3&&Tn&&(Tn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Je(e)?(e={default:e,_ctx:Tn},n=32):(e=String(e),i&64?(n=16,e=[BT(e)]):n=8);t.children=e,t.shapeFlag|=n}function FT(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Sa([e.class,i.class]));else if(r==="style")e.style=Yd([e.style,i.style]);else if(Ml(r)){const s=e[r],a=i[r];a&&s!==a&&!(Ke(s)&&s.includes(a))&&(e[r]=s?[].concat(s,a):a)}else r!==""&&(e[r]=i[r])}return e}function ui(t,e,n,i=null){$i(t,e,7,[n,i])}const Kw=ST();let Xw=0;function Yw(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Kw,s={uid:Xw++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:AT(i,r),emitsOptions:oT(i,r),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:i.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=sw.bind(null,s),t.ce&&t.ce(s),s}let cn=null;const as=()=>cn||Tn;let am,eo,dy="__VUE_INSTANCE_SETTERS__";(eo=op()[dy])||(eo=op()[dy]=[]),eo.push(t=>cn=t),am=t=>{eo.length>1?eo.forEach(e=>e(t)):eo[0](t)};const Is=t=>{am(t),t.scope.on()},ks=()=>{cn&&cn.scope.off(),am(null)};function UT(t){return t.vnode.shapeFlag&4}let Oo=!1;function Qw(t,e=!1){Oo=e;const{props:n,children:i}=t.vnode,r=UT(t);Bw(t,n,r,e),jw(t,i);const s=r?Jw(t,e):void 0;return Oo=!1,s}function Jw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Gg(new Proxy(t.ctx,kw));const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?eA(t):null;Is(t),Jo();const s=Ds(i,t,0,[t.props,r]);if(Zo(),ks(),Bg(s)){if(s.then(ks,ks),e)return s.then(a=>{yp(t,a,e)}).catch(a=>{eu(a,t,0)});t.asyncDep=s}else yp(t,s,e)}else jT(t,e)}function yp(t,e,n){Je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ut(e)&&(t.setupState=Zb(e)),jT(t,n)}let fy;function jT(t,e,n){const i=t.type;if(!t.render){if(!e&&fy&&!i.render){const r=i.template||nm(t).template;if(r){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:u}=i,c=dn(dn({isCustomElement:s,delimiters:o},a),u);i.render=fy(r,c)}}t.render=i.render||tr}Is(t),Jo(),Lw(t),Zo(),ks()}function Zw(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return pi(t,"get","$attrs"),e[n]}}))}function eA(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Zw(t)},slots:t.slots,emit:t.emit,expose:e}}function rf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Zb(Gg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in el)return el[n](t)},has(e,n){return n in e||n in el}}))}function _p(t,e=!0){return Je(t)?t.displayName||t.name:t.name||e&&t.__name}function tA(t){return Je(t)&&"__vccOpts"in t}const ht=(t,e)=>ew(t,e,Oo);function Ln(t,e,n){const i=arguments.length;return i===2?Ut(e)&&!Ke(e)?Po(e)?Vt(t,null,[e]):Vt(t,e):Vt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Po(n)&&(n=[n]),Vt(t,e,n))}const nA=Symbol.for("v-scx"),iA=()=>kn(nA),$T="3.3.4",rA="http://www.w3.org/2000/svg",_a=typeof document<"u"?document:null,hy=_a&&_a.createElement("template"),sA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?_a.createElementNS(rA,t):_a.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>_a.createTextNode(t),createComment:t=>_a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const a=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{hy.innerHTML=i?`<svg>${t}</svg>`:t;const o=hy.content;if(i){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function aA(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function oA(t,e,n){const i=t.style,r=Zt(n);if(n&&!r){if(e&&!Zt(e))for(const s in e)n[s]==null&&vp(i,s,"");for(const s in n)vp(i,s,n[s])}else{const s=i.display;r?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=s)}}const py=/\s*!important$/;function vp(t,e,n){if(Ke(n))n.forEach(i=>vp(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=uA(t,e);py.test(n)?t.setProperty(Qo(i),n.replace(py,""),"important"):t[i]=n}}const gy=["Webkit","Moz","ms"],Ah={};function uA(t,e){const n=Ah[e];if(n)return n;let i=Ar(e);if(i!=="filter"&&i in t)return Ah[e]=i;i=Xd(i);for(let r=0;r<gy.length;r++){const s=gy[r]+i;if(s in t)return Ah[e]=s}return e}const my="http://www.w3.org/1999/xlink";function lA(t,e,n,i,r){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(my,e.slice(6,e.length)):t.setAttributeNS(my,e,n);else{const s=vC(e);n==null||s&&!Nb(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function cA(t,e,n,i,r,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,r,s),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=n;const c=o==="OPTION"?t.getAttribute("value"):t.value,f=n??"";c!==f&&(t.value=f),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Nb(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function lo(t,e,n,i){t.addEventListener(e,n,i)}function dA(t,e,n,i){t.removeEventListener(e,n,i)}function fA(t,e,n,i,r=null){const s=t._vei||(t._vei={}),a=s[e];if(i&&a)a.value=i;else{const[o,u]=hA(e);if(i){const c=s[e]=mA(i,r);lo(t,o,c,u)}else a&&(dA(t,o,a,u),s[e]=void 0)}}const yy=/(?:Once|Passive|Capture)$/;function hA(t){let e;if(yy.test(t)){e={};let i;for(;i=t.match(yy);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qo(t.slice(2)),e]}let Dh=0;const pA=Promise.resolve(),gA=()=>Dh||(pA.then(()=>Dh=0),Dh=Date.now());function mA(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;$i(yA(i,n.value),e,5,[i])};return n.value=t,n.attached=gA(),n}function yA(t,e){if(Ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const _y=/^on[a-z]/,_A=(t,e,n,i,r=!1,s,a,o,u)=>{e==="class"?aA(t,i,r):e==="style"?oA(t,n,i):Ml(e)?Rg(e)||fA(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vA(t,e,i,r))?cA(t,e,i,s,a,o,u):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),lA(t,e,i,r))};function vA(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&_y.test(e)&&Je(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||_y.test(e)&&Zt(n)?!1:e in t}const ys="transition",Pu="animation",sf=(t,{slots:e})=>Ln(vw,bA(t),e);sf.displayName="Transition";const HT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};sf.props=dn({},fT,HT);const la=(t,e=[])=>{Ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},vy=t=>t?Ke(t)?t.some(e=>e.length>1):t.length>1:!1;function bA(t){const e={};for(const ae in t)ae in HT||(e[ae]=t[ae]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:f=o,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:b=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=t,E=TA(r),L=E&&E[0],R=E&&E[1],{onBeforeEnter:S,onEnter:A,onEnterCancelled:M,onLeave:I,onLeaveCancelled:N,onBeforeAppear:j=S,onAppear:m=A,onAppearCancelled:ne=M}=e,re=(ae,Q,he)=>{ca(ae,Q?f:o),ca(ae,Q?c:a),he&&he()},xe=(ae,Q)=>{ae._isLeaving=!1,ca(ae,p),ca(ae,C),ca(ae,b),Q&&Q()},Z=ae=>(Q,he)=>{const He=ae?m:A,Le=()=>re(Q,ae,he);la(He,[Q,Le]),by(()=>{ca(Q,ae?u:s),_s(Q,ae?f:o),vy(He)||Ty(Q,i,L,Le)})};return dn(e,{onBeforeEnter(ae){la(S,[ae]),_s(ae,s),_s(ae,a)},onBeforeAppear(ae){la(j,[ae]),_s(ae,u),_s(ae,c)},onEnter:Z(!1),onAppear:Z(!0),onLeave(ae,Q){ae._isLeaving=!0;const he=()=>xe(ae,Q);_s(ae,p),SA(),_s(ae,b),by(()=>{ae._isLeaving&&(ca(ae,p),_s(ae,C),vy(I)||Ty(ae,i,R,he))}),la(I,[ae,he])},onEnterCancelled(ae){re(ae,!1),la(M,[ae])},onAppearCancelled(ae){re(ae,!0),la(ne,[ae])},onLeaveCancelled(ae){xe(ae),la(N,[ae])}})}function TA(t){if(t==null)return null;if(Ut(t))return[kh(t.enter),kh(t.leave)];{const e=kh(t);return[e,e]}}function kh(t){return Rb(t)}function _s(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ca(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function by(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let xA=0;function Ty(t,e,n,i){const r=t._endId=++xA,s=()=>{r===t._endId&&i()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:u}=EA(t,e);if(!a)return i();const c=a+"end";let f=0;const p=()=>{t.removeEventListener(c,b),s()},b=C=>{C.target===t&&++f>=u&&p()};setTimeout(()=>{f<u&&p()},o+1),t.addEventListener(c,b)}function EA(t,e){const n=window.getComputedStyle(t),i=E=>(n[E]||"").split(", "),r=i(`${ys}Delay`),s=i(`${ys}Duration`),a=xy(r,s),o=i(`${Pu}Delay`),u=i(`${Pu}Duration`),c=xy(o,u);let f=null,p=0,b=0;e===ys?a>0&&(f=ys,p=a,b=s.length):e===Pu?c>0&&(f=Pu,p=c,b=u.length):(p=Math.max(a,c),f=p>0?a>c?ys:Pu:null,b=f?f===ys?s.length:u.length:0);const C=f===ys&&/\b(transform|all)(,|$)/.test(i(`${ys}Property`).toString());return{type:f,timeout:p,propCount:b,hasTransform:C}}function xy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Ey(n)+Ey(t[i])))}function Ey(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function SA(){return document.body.offsetHeight}const Sy=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ke(e)?n=>To(e,n):e};function CA(t){t.target.composing=!0}function Cy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const a6={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t._assign=Sy(r);const s=i||r.props&&r.props.type==="number";lo(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=ap(o)),t._assign(o)}),n&&lo(t,"change",()=>{t.value=t.value.trim()}),e||(lo(t,"compositionstart",CA),lo(t,"compositionend",Cy),lo(t,"change",Cy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},s){if(t._assign=Sy(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(r||t.type==="number")&&ap(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},qT=dn({patchProp:_A},sA);let nl,wy=!1;function wA(){return nl||(nl=qw(qT))}function AA(){return nl=wy?nl:Vw(qT),wy=!0,nl}const DA=(...t)=>{const e=wA().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=VT(i);if(!r)return;const s=e._component;!Je(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e},kA=(...t)=>{const e=AA().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=VT(i);if(r)return n(r,!0,r instanceof SVGElement)},e};function VT(t){return Zt(t)?document.querySelector(t):t}const LA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,IA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,PA=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function OA(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){RA(t);return}return e}function RA(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function fd(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t[t.length-1]==='"')return n.slice(1,-1);if(n.length<=9){const i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!PA.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(LA.test(t)||IA.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,OA)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}const WT=/#/g,zT=/&/g,NA=/\//g,MA=/=/g,BA=/\?/g,af=/\+/g,FA=/%5e/gi,UA=/%60/gi,jA=/%7c/gi,$A=/%20/gi,HA=/%252f/gi;function GT(t){return encodeURI(""+t).replace(jA,"|")}function bp(t){return GT(typeof t=="string"?t:JSON.stringify(t)).replace(af,"%2B").replace($A,"+").replace(WT,"%23").replace(zT,"%26").replace(UA,"`").replace(FA,"^")}function Lh(t){return bp(t).replace(MA,"%3D")}function KT(t){return GT(t).replace(WT,"%23").replace(BA,"%3F").replace(HA,"%2F").replace(zT,"%26").replace(af,"%2B")}function Ay(t){return KT(t).replace(NA,"%2F")}function hd(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function qA(t){return hd(t.replace(af," "))}function VA(t){return hd(t.replace(af," "))}function WA(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const i=n.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const r=qA(i[1]);if(r==="__proto__"||r==="constructor")continue;const s=VA(i[2]||"");e[r]===void 0?e[r]=s:Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]}return e}function zA(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Lh(t)}=${bp(n)}`).join("&"):`${Lh(t)}=${bp(e)}`:Lh(t)}function GA(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>zA(e,t[e])).filter(Boolean).join("&")}const KA=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,XT=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,XA=/^([/\\]\s*){2,}[^/\\]/;function Zr(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?KA.test(t):XT.test(t)||(e.acceptRelative?XA.test(t):!1)}const YA=/^[\s\0]*(blob|data|javascript|vbscript):$/i;function QA(t){return!!t&&YA.test(t)}const JA=/\/$|\/\?/;function Tp(t="",e=!1){return e?JA.test(t):t.endsWith("/")}function YT(t="",e=!1){if(!e)return(Tp(t)?t.slice(0,-1):t)||"/";if(!Tp(t,!0))return t||"/";const[n,...i]=t.split("?");return(n.slice(0,-1)||"/")+(i.length>0?`?${i.join("?")}`:"")}function xp(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(Tp(t,!0))return t||"/";const[n,...i]=t.split("?");return n+"/"+(i.length>0?`?${i.join("?")}`:"")}function ZA(t=""){return t.startsWith("/")}function Ep(t=""){return ZA(t)?t:"/"+t}function eD(t,e){if(JT(e)||Zr(t))return t;const n=YT(e);return t.startsWith(n)?t:es(n,t)}function Dy(t,e){if(JT(e))return t;const n=YT(e);if(!t.startsWith(n))return t;const i=t.slice(n.length);return i[0]==="/"?i:"/"+i}function QT(t,e){const n=$l(t),i={...WA(n.search),...e};return n.search=GA(i),sD(n)}function JT(t){return!t||t==="/"}function tD(t){return t&&t!=="/"}const nD=/^\.?\//;function es(t,...e){let n=t||"";for(const i of e.filter(r=>tD(r)))if(n){const r=i.replace(nD,"");n=xp(n)+r}else n=i;return n}function iD(t){return rD(t,"https://")}function rD(t,e){const n=t.match(XT);return n?e+t.slice(n[0].length):e+t}function Sp(t,e,n={}){return n.trailingSlash||(t=xp(t),e=xp(e)),n.leadingSlash||(t=Ep(t),e=Ep(e)),n.encoding||(t=hd(t),e=hd(e)),t===e}function $l(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/);if(n){const[,p,b=""]=n;return{protocol:p,pathname:b,href:p+b,auth:"",host:"",search:"",hash:""}}if(!Zr(t,{acceptRelative:!0}))return e?$l(e+t):ky(t);const[,i="",r,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:u,search:c,hash:f}=ky(o.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i,auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:a,pathname:u,search:c,hash:f}}function ky(t=""){const[e="",n="",i=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:i}}function sD(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",i=t.hash||"",r=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol?t.protocol+"//":"")+r+s+e+n+i}class aD extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function oD(t){var u,c,f,p,b;const e=((u=t.error)==null?void 0:u.message)||((c=t.error)==null?void 0:c.toString())||"",n=((f=t.request)==null?void 0:f.method)||((p=t.options)==null?void 0:p.method)||"GET",i=((b=t.request)==null?void 0:b.url)||String(t.request)||"/",r=`[${n}] ${JSON.stringify(i)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${r}: ${s}${e?` ${e}`:""}`,o=new aD(a,t.error?{cause:t.error}:void 0);for(const C of["request","options","response"])Object.defineProperty(o,C,{get(){return t[C]}});for(const[C,E]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,C,{get(){return t.response&&t.response[E]}});return o}const uD=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ly(t="GET"){return uD.has(t.toUpperCase())}function lD(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const cD=new Set(["image/svg","application/xml","application/xhtml","application/html"]),dD=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function fD(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return dD.test(e)?"json":cD.has(e)||e.startsWith("text/")?"text":"blob"}function hD(t,e,n=globalThis.Headers){const i={...e,...t};if(e!=null&&e.params&&(t!=null&&t.params)&&(i.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&(t!=null&&t.query)&&(i.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&(t!=null&&t.headers)){i.headers=new n((e==null?void 0:e.headers)||{});for(const[r,s]of new n((t==null?void 0:t.headers)||{}))i.headers.set(r,s)}return i}const pD=new Set([408,409,425,429,500,502,503,504]),gD=new Set([101,204,205,304]);function ZT(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:i=globalThis.AbortController}=t;async function r(o){const u=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!u){let f;typeof o.options.retry=="number"?f=o.options.retry:f=Ly(o.options.method)?0:1;const p=o.response&&o.response.status||500;if(f>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(p):pD.has(p))){const b=o.options.retryDelay||0;return b>0&&await new Promise(C=>setTimeout(C,b)),s(o.request,{...o.options,retry:f-1,timeout:o.options.timeout})}}const c=oD(o);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(u,c={}){var b;const f={request:u,options:hD(c,t.defaults,n),response:void 0,error:void 0};if(f.options.method=(b=f.options.method)==null?void 0:b.toUpperCase(),f.options.onRequest&&await f.options.onRequest(f),typeof f.request=="string"&&(f.options.baseURL&&(f.request=eD(f.request,f.options.baseURL)),(f.options.query||f.options.params)&&(f.request=QT(f.request,{...f.options.params,...f.options.query}))),f.options.body&&Ly(f.options.method)&&(lD(f.options.body)?(f.options.body=typeof f.options.body=="string"?f.options.body:JSON.stringify(f.options.body),f.options.headers=new n(f.options.headers||{}),f.options.headers.has("content-type")||f.options.headers.set("content-type","application/json"),f.options.headers.has("accept")||f.options.headers.set("accept","application/json")):("pipeTo"in f.options.body&&typeof f.options.body.pipeTo=="function"||typeof f.options.body.pipe=="function")&&("duplex"in f.options||(f.options.duplex="half"))),!f.options.signal&&f.options.timeout){const C=new i;setTimeout(()=>C.abort(),f.options.timeout),f.options.signal=C.signal}try{f.response=await e(f.request,f.options)}catch(C){return f.error=C,f.options.onRequestError&&await f.options.onRequestError(f),await r(f)}if(f.response.body&&!gD.has(f.response.status)&&f.options.method!=="HEAD"){const C=(f.options.parseResponse?"json":f.options.responseType)||fD(f.response.headers.get("content-type")||"");switch(C){case"json":{const E=await f.response.text(),L=f.options.parseResponse||fd;f.response._data=L(E);break}case"stream":{f.response._data=f.response.body;break}default:f.response._data=await f.response[C]()}}return f.options.onResponse&&await f.options.onResponse(f),!f.options.ignoreResponseError&&f.response.status>=400&&f.response.status<600?(f.options.onResponseError&&await f.options.onResponseError(f),await r(f)):f.response},a=async function(u,c){return(await s(u,c))._data};return a.raw=s,a.native=(...o)=>e(...o),a.create=(o={})=>ZT({...t,defaults:{...t.defaults,...o}}),a}const om=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),mD=om.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),yD=om.Headers,_D=om.AbortController,vD=ZT({fetch:mD,Headers:yD,AbortController:_D}),bD=vD,TD=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},pd=TD().app,xD=()=>pd.baseURL,ED=()=>pd.buildAssetsDir,SD=(...t)=>es(e1(),ED(),...t),e1=(...t)=>{const e=pd.cdnURL||pd.baseURL;return t.length?es(e,...t):e};globalThis.__buildAssetsURL=SD,globalThis.__publicAssetsURL=e1;function Cp(t,e={},n){for(const i in t){const r=t[i],s=n?`${n}:${i}`:i;typeof r=="object"&&r!==null?Cp(r,e,s):typeof r=="function"&&(e[s]=r)}return e}const CD={run:t=>t()},wD=()=>CD,t1=typeof console.createTask<"u"?console.createTask:wD;function AD(t,e){const n=e.shift(),i=t1(n);return t.reduce((r,s)=>r.then(()=>i.run(()=>s(...e))),Promise.resolve())}function DD(t,e){const n=e.shift(),i=t1(n);return Promise.all(t.map(r=>i.run(()=>r(...e))))}function Ih(t,e){for(const n of[...t])n(e)}class kD{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,i={}){if(!e||typeof n!="function")return()=>{};const r=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!i.allowDeprecated){let a=s.message;a||(a=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let i,r=(...s)=>(typeof i=="function"&&i(),i=void 0,r=void 0,n(...s));return i=this.hook(e,r),i}removeHook(e,n){if(this._hooks[e]){const i=this._hooks[e].indexOf(n);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const i=this._hooks[e]||[];delete this._hooks[e];for(const r of i)this.hook(e,r)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Cp(e),i=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of i.splice(0,i.length))r()}}removeHooks(e){const n=Cp(e);for(const i in n)this.removeHook(i,n[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(AD,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(DD,e,...n)}callHookWith(e,n,...i){const r=this._before||this._after?{name:n,args:i,context:{}}:void 0;this._before&&Ih(this._before,r);const s=e(n in this._hooks?[...this._hooks[n]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&r&&Ih(this._after,r)}):(this._after&&r&&Ih(this._after,r),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function n1(){return new kD}function LD(t={}){let e,n=!1;const i=a=>{if(e&&e!==a)throw new Error("Context conflict")};let r;if(t.asyncContext){const a=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;a?r=new a:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(r&&e===void 0){const a=r.getStore();if(a!==void 0)return a}return e};return{use:()=>{const a=s();if(a===void 0)throw new Error("Context is not available");return a},tryUse:()=>s(),set:(a,o)=>{o||i(a),e=a,n=!0},unset:()=>{e=void 0,n=!1},call:(a,o)=>{i(a),e=a;try{return r?r.run(a,o):o()}finally{n||(e=void 0)}},async callAsync(a,o){e=a;const u=()=>{e=a},c=()=>e===a?u:void 0;wp.add(c);try{const f=r?r.run(a,o):o();return n||(e=void 0),await f}finally{wp.delete(c)}}}}function ID(t={}){const e={};return{get(n,i={}){return e[n]||(e[n]=LD({...t,...i})),e[n],e[n]}}}const gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Iy="__unctx__",PD=gd[Iy]||(gd[Iy]=ID()),OD=(t,e={})=>PD.get(t,e),Py="__unctx_async_handlers__",wp=gd[Py]||(gd[Py]=new Set);function Da(t){const e=[];for(const r of wp){const s=r();s&&e.push(s)}const n=()=>{for(const r of e)r()};let i=t();return i&&typeof i=="object"&&"catch"in i&&(i=i.catch(r=>{throw n(),r})),[i,n]}const i1=OD("nuxt-app",{asyncContext:!1}),RD="__nuxt_plugin";function ND(t){let e=0;const n={provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.7.4"},get vue(){return n.vueApp.version}},payload:ir({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:r=>FD(n,r),isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let r=!1;return()=>{if(!r&&(r=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...t};n.hooks=n1(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(r,s)=>{const a="$"+r;Mc(n,a,s),Mc(n.vueApp.config.globalProperties,a,s)},Mc(n.vueApp,"$nuxt",n),Mc(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener("nuxt.preloadError",s=>{n.callHook("app:chunkError",{error:s.payload})}),window.useNuxtApp=window.useNuxtApp||jt;const r=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",r)}const i=ir(n.payload.config);return n.provide("config",i),n}async function MD(t,e){if(e.hooks&&t.hooks.addHooks(e.hooks),typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const i in n)t.provide(i,n[i])}}async function BD(t,e){const n=[],i=[];for(const r of e){const s=MD(t,r);r.parallel?n.push(s.catch(a=>i.push(a))):await s}if(await Promise.all(n),i.length)throw i[0]}/*! @__NO_SIDE_EFFECTS__ */function Fn(t){return typeof t=="function"?t:(delete t.name,Object.assign(t.setup||(()=>{}),t,{[RD]:!0}))}function FD(t,e,n){const i=()=>n?e(...n):e();return i1.set(t),t.vueApp.runWithContext(i)}/*! @__NO_SIDE_EFFECTS__ */function jt(){var e;let t;if(CT()&&(t=(e=as())==null?void 0:e.appContext.app.$nuxt),t=t||i1.tryUse(),!t)throw new Error("[nuxt] instance unavailable");return t}/*! @__NO_SIDE_EFFECTS__ */function Hl(){return jt().$config}function Mc(t,e,n){Object.defineProperty(t,e,{get:()=>n})}const UD="modulepreload",jD=function(t,e){return t[0]==="."?new URL(t,e).href:t},Oy={},$D=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=jD(s,i),s in Oy)return;Oy[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!i)for(let f=r.length-1;f>=0;f--){const p=r[f];if(p.href===s&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":UD,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((f,p)=>{c.addEventListener("load",f),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},li=(...t)=>$D(...t).catch(e=>{const n=new Event("nuxt.preloadError");throw n.payload=e,window.dispatchEvent(n),e}),HD=-1,qD=-2,VD=-3,WD=-4,zD=-5,GD=-6;function KD(t,e){return XD(JSON.parse(t),e)}function XD(t,e){if(typeof t=="number")return r(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,i=Array(n.length);function r(s,a=!1){if(s===HD)return;if(s===VD)return NaN;if(s===WD)return 1/0;if(s===zD)return-1/0;if(s===GD)return-0;if(a)throw new Error("Invalid input");if(s in i)return i[s];const o=n[s];if(!o||typeof o!="object")i[s]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const u=o[0],c=e==null?void 0:e[u];if(c)return i[s]=c(r(o[1]));switch(u){case"Date":i[s]=new Date(o[1]);break;case"Set":const f=new Set;i[s]=f;for(let C=1;C<o.length;C+=1)f.add(r(o[C]));break;case"Map":const p=new Map;i[s]=p;for(let C=1;C<o.length;C+=2)p.set(r(o[C]),r(o[C+1]));break;case"RegExp":i[s]=new RegExp(o[1],o[2]);break;case"Object":i[s]=Object(o[1]);break;case"BigInt":i[s]=BigInt(o[1]);break;case"null":const b=Object.create(null);i[s]=b;for(let C=1;C<o.length;C+=2)b[o[C]]=r(o[C+1]);break;default:throw new Error(`Unknown type ${u}`)}}else{const u=new Array(o.length);i[s]=u;for(let c=0;c<o.length;c+=1){const f=o[c];f!==qD&&(u[c]=r(f))}}else{const u={};i[s]=u;for(const c in o){const f=o[c];u[c]=r(f)}}return i[s]}return r(0)}function YD(t){return Array.isArray(t)?t:[t]}const QD=["title","titleTemplate","script","style","noscript"],Jc=["base","meta","link","style","script","noscript"],JD=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],ZD=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],r1=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"],ek=typeof window<"u";function s1(t){let e=9;for(let n=0;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Ry(t){return t._h||s1(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,n])=>`${e}:${String(n)}`).join(",")}`)}function a1(t,e){const{props:n,tag:i}=t;if(ZD.includes(i))return i;if(i==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const r=["id"];i==="meta"&&r.push("name","property","http-equiv");for(const s of r)if(typeof n[s]<"u"){const a=String(n[s]);return e&&!e(a)?!1:`${i}:${s}:${a}`}return!1}function Ny(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function tk(t,e,n){const i={tag:t,props:await o1(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return r1.forEach(r=>{const s=typeof i.props[r]<"u"?i.props[r]:n[r];typeof s<"u"&&((!["innerHTML","textContent"].includes(r)||QD.includes(i.tag))&&(i[r]=s),delete i.props[r])}),i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.props.children&&(i.innerHTML=i.props.children,delete i.props.children),i.tag==="script"&&(typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),i.innerHTML&&["application/ld+json","application/json"].includes(i.props.type)&&(i.innerHTML=i.innerHTML.replace(/</g,"\\u003C"))),Array.isArray(i.props.content)?i.props.content.map(r=>({...i,props:{...i.props,content:r}})):i}function nk(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(e=>t[e])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(e=>e.trim()).filter(Boolean).join(" ")}async function o1(t,e){for(const n of Object.keys(t)){if(n==="class"){t[n]=nk(t[n]);continue}if(t[n]instanceof Promise&&(t[n]=await t[n]),!e&&!r1.includes(n)){const i=String(t[n]),r=n.startsWith("data-");i==="true"||i===""?t[n]=r?"true":!0:t[n]||(r&&i==="false"?t[n]="false":delete t[n])}}return t}const ik=10;async function rk(t){const e=[];return Object.entries(t.resolvedInput).filter(([n,i])=>typeof i<"u"&&JD.includes(n)).forEach(([n,i])=>{const r=YD(i);e.push(...r.map(s=>tk(n,s,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((n,i)=>(n._e=t._i,t.mode&&(n._m=t.mode),n._p=(t._i<<ik)+i,n))}const My={base:-10,title:10},By={critical:-80,high:-10,low:20};function md(t){let e=100;const n=t.tagPriority;return typeof n=="number"?n:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in My&&(e=My[t.tag]),typeof n=="string"&&n in By?e+By[n]:e)}const sk=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],vs="%separator";function pa(t,e,n){if(typeof t!="string"||!t.includes("%"))return t;function i(a){let o;return["s","pageTitle"].includes(a)?o=e.pageTitle:a.includes(".")?o=a.split(".").reduce((u,c)=>u&&u[c]||void 0,e):o=e[a],typeof o<"u"?(o||"").replace(/"/g,'\\"'):!1}let r=t;try{r=decodeURI(t)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const o=i(a.slice(1));typeof o=="string"&&(t=t.replace(new RegExp(`\\${a}(\\W|$)`,"g"),(u,c)=>`${o}${c}`).trim())}),t.includes(vs)&&(t.endsWith(vs)&&(t=t.slice(0,-vs.length).trim()),t.startsWith(vs)&&(t=t.slice(vs.length).trim()),t=t.replace(new RegExp(`\\${vs}\\s*\\${vs}`,"g"),vs),t=pa(t,{separator:n},n)),t}async function ak(t){const e={tag:t.tagName.toLowerCase(),props:await o1(t.getAttributeNames().reduce((n,i)=>({...n,[i]:t.getAttribute(i)}),{})),innerHTML:t.innerHTML};return e._d=a1(e),e}async function u1(t,e={}){var f;const n=e.document||t.resolvedOptions.document;if(!n)return;const i={shouldRender:t.dirty,tags:[]};if(await t.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const r=(await t.resolveTags()).map(p=>({tag:p,id:Jc.includes(p.tag)?Ry(p):p.tag,shouldRender:!0}));let s=t._dom;if(!s){s={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};for(const p of["body","head"]){const b=(f=n==null?void 0:n[p])==null?void 0:f.children;for(const C of[...b].filter(E=>Jc.includes(E.tagName.toLowerCase())))s.elMap[C.getAttribute("data-hid")||Ry(await ak(C))]=C}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function a(p,b,C){const E=`${p}:${b}`;s.sideEffects[E]=C,delete s.pendingSideEffects[E]}function o({id:p,$el:b,tag:C}){const E=C.tag.endsWith("Attrs");s.elMap[p]=b,E||(["textContent","innerHTML"].forEach(L=>{C[L]&&C[L]!==b[L]&&(b[L]=C[L])}),a(p,"el",()=>{s.elMap[p].remove(),delete s.elMap[p]})),Object.entries(C.props).forEach(([L,R])=>{const S=`attr:${L}`;if(L==="class")for(const A of(R||"").split(" ").filter(Boolean))E&&a(p,`${S}:${A}`,()=>b.classList.remove(A)),!b.classList.contains(A)&&b.classList.add(A);else b.getAttribute(L)!==R&&b.setAttribute(L,R===!0?"":String(R)),E&&a(p,S,()=>b.removeAttribute(L))})}const u=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const p of r){const{tag:b,shouldRender:C,id:E}=p;if(C){if(b.tag==="title"){n.title=b.textContent;continue}p.$el=p.$el||s.elMap[E],p.$el?o(p):Jc.includes(b.tag)&&u.push(p)}}for(const p of u){const b=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),o(p),c[b]=c[b]||n.createDocumentFragment(),c[b].appendChild(p.$el)}for(const p of r)await t.hooks.callHook("dom:renderTag",p,n,a);c.head&&n.head.appendChild(c.head),c.bodyOpen&&n.body.insertBefore(c.bodyOpen,n.body.firstChild),c.bodyClose&&n.body.appendChild(c.bodyClose),Object.values(s.pendingSideEffects).forEach(p=>p()),t._dom=s,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:r})}async function ok(t,e={}){const n=e.delayFn||(i=>setTimeout(i,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(i=>n(async()=>{await u1(t,e),delete t._domUpdatePromise,i()}))}function uk(t){return e=>{var i,r;const n=((r=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return n&&e.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":function(s){ok(s,t)}}}}}const lk=["templateParams","htmlAttrs","bodyAttrs"],ck={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(i=>{t.props[i]&&(t.key=t.props[i],delete t.props[i])});const n=a1(t)||(t.key?`${t.tag}:${t.key}`:!1);n&&(t._d=n)},"tags:resolve":function(t){const e={};t.tags.forEach(i=>{const r=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,s=e[r];if(s){let o=i==null?void 0:i.tagDuplicateStrategy;if(!o&&lk.includes(i.tag)&&(o="merge"),o==="merge"){const u=s.props;["class","style"].forEach(c=>{i.props[c]&&u[c]&&(c==="style"&&!u[c].endsWith(";")&&(u[c]+=";"),i.props[c]=`${u[c]} ${i.props[c]}`)}),e[r].props={...u,...i.props};return}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);return}else if(md(i)>md(s))return}const a=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(Jc.includes(i.tag)&&a===0){delete e[r];return}e[r]=i});const n=[];Object.values(e).forEach(i=>{const r=i._duped;delete i._duped,n.push(i),r&&n.push(...r)}),t.tags=n,t.tags=t.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},dk={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(n=>["titleTemplate","templateParams","title"].includes(n.tag)&&n._m==="server").forEach(n=>{e[n.tag]=n.tag.startsWith("title")?n.textContent:n.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},Fy=["script","link","bodyAttrs"];function Uy(t){const e={},n={};return Object.entries(t.props).forEach(([i,r])=>{i.startsWith("on")&&typeof r=="function"?n[i]=r:e[i]=r}),{props:e,eventHandlers:n}}const fk={hooks:{"ssr:render":function(t){t.tags=t.tags.map(e=>(!Fy.includes(e.tag)||!Object.entries(e.props).find(([n,i])=>n.startsWith("on")&&typeof i=="function")||(e.props=Uy(e).props),e))},"tags:resolve":function(t){t.tags=t.tags.map(e=>{if(!Fy.includes(e.tag))return e;const{props:n,eventHandlers:i}=Uy(e);return Object.keys(i).length&&(e.props=n,e._eventHandlers=i),e})},"dom:renderTag":function(t,e,n){if(!t.tag._eventHandlers)return;const i=t.tag.tag==="bodyAttrs"?e.defaultView:t.$el;Object.entries(t.tag._eventHandlers).forEach(([r,s])=>{const a=`${t.tag._d||t.tag._p}:${r}`,o=r.slice(2).toLowerCase(),u=`data-h-${o}`;if(n(t.id,a,()=>{}),t.$el.hasAttribute(u))return;const c=s;t.$el.setAttribute(u,""),i.addEventListener(o,c),t.entry&&n(t.id,a,()=>{i.removeEventListener(o,c),t.$el.removeAttribute(u)})})}}},hk=["link","style","script","noscript"],pk={hooks:{"tag:normalise":({tag:t})=>{t.key&&hk.includes(t.tag)&&(t.props["data-hid"]=t._h=s1(t.key))}}},gk={hooks:{"tags:resolve":t=>{const e=n=>{var i;return(i=t.tags.find(r=>r._d===n))==null?void 0:i._p};for(const{prefix:n,offset:i}of sk)for(const r of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(n))){const s=e(r.tagPriority.replace(n,""));typeof s<"u"&&(r._p=s+i)}t.tags.sort((n,i)=>n._p-i._p).sort((n,i)=>md(n)-md(i))}}},mk={hooks:{"tags:resolve":t=>{var a;const{tags:e}=t,n=(a=e.find(o=>o.tag==="title"))==null?void 0:a.textContent,i=e.findIndex(o=>o.tag==="templateParams"),r=i!==-1?e[i].props:{},s=r.separator||"|";delete r.separator,r.pageTitle=pa(r.pageTitle||n||"",r,s);for(const o of e)o.processTemplateParams!==!1&&(["titleTemplate","title"].includes(o.tag)&&typeof o.textContent=="string"?o.textContent=pa(o.textContent,r,s):o.tag==="meta"&&typeof o.props.content=="string"?o.props.content=pa(o.props.content,r,s):o.tag==="link"&&typeof o.props.href=="string"?o.props.href=pa(o.props.href,r,s):o.processTemplateParams===!0&&(o.innerHTML?o.innerHTML=pa(o.innerHTML,r,s):o.textContent&&(o.textContent=pa(o.textContent,r,s))));t.tags=e.filter(o=>o.tag!=="templateParams")}}},yk={hooks:{"tags:resolve":t=>{const{tags:e}=t;let n=e.findIndex(r=>r.tag==="titleTemplate");const i=e.findIndex(r=>r.tag==="title");if(i!==-1&&n!==-1){const r=Ny(e[n].textContent,e[i].textContent);r!==null?e[i].textContent=r||e[i].textContent:delete e[i]}else if(n!==-1){const r=Ny(e[n].textContent);r!==null&&(e[n].textContent=r,e[n].tag="title",n=-1)}n!==-1&&delete e[n],t.tags=e.filter(Boolean)}}};let l1;function _k(t={}){const e=vk(t);return e.use(uk()),l1=e}function jy(t,e){return!t||t==="server"&&e||t==="client"&&!e}function vk(t={}){const e=n1();e.addHooks(t.hooks||{}),t.document=t.document||(ek?document:void 0);const n=!t.document;t.plugins=[ck,dk,fk,pk,gk,mk,yk,...(t==null?void 0:t.plugins)||[]];const i=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let r=0,s=[];const a={dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(o){const u=typeof o=="function"?o(a):o;jy(u.mode,n)&&e.addHooks(u.hooks||{})},push(o,u){u==null||delete u.head;const c={_i:r++,input:o,...u};return jy(c.mode,n)&&(s.push(c),i()),{dispose(){s=s.filter(f=>f._i!==c._i),e.callHook("entries:updated",a),i()},patch(f){s=s.map(p=>(p._i===c._i&&(p.input=c.input=f),p)),i()}}},async resolveTags(){const o={tags:[],entries:[...s]};await e.callHook("entries:resolve",o);for(const u of o.entries){const c=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(c):c),u.resolvedInput)for(const f of await rk(u)){const p={tag:f,entry:u,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",p),o.tags.push(p.tag)}}return await e.callHook("tags:beforeResolve",o),await e.callHook("tags:resolve",o),o.tags},ssr:n};return t.plugins.forEach(o=>a.use(o)),a.hooks.callHook("init",a),a}function bk(){return l1}const Tk=$T.startsWith("3");function xk(t){return typeof t=="function"?t():Dt(t)}function yd(t,e=""){if(t instanceof Promise)return t;const n=xk(t);return!t||!n?n:Array.isArray(n)?n.map(i=>yd(i,e)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([i,r])=>i==="titleTemplate"||i.startsWith("on")?[i,Dt(r)]:[i,yd(r,i)])):n}const Ek={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=yd(e.input)}}},c1="usehead";function Sk(t){return{install(n){Tk&&(n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(c1,t))}}.install}function Ck(t={}){t.domDelayFn=t.domDelayFn||(n=>Qr(()=>setTimeout(()=>n(),0)));const e=_k(t);return e.use(Ek),e.install=Sk(e),e}const Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dp="__unhead_injection_handler__";function wk(t){Ap[Dp]=t}function Ak(){if(Dp in Ap)return Ap[Dp]();const t=kn(c1);return t||bk()}function Dk(t,e={}){const n=e.head||Ak();if(n)return n.ssr?n.push(t,e):kk(n,t,e)}function kk(t,e,n={}){const i=Mt(!1),r=Mt({});cT(()=>{r.value=i.value?{}:yd(e)});const s=t.push(r.value,n);return xn(r,o=>{s.patch(o)}),as()&&(jl(()=>{s.dispose()}),mT(()=>{i.value=!0}),gT(()=>{i.value=!1})),s}function Ph(t){return t!==null&&typeof t=="object"}function kp(t,e,n=".",i){if(!Ph(e))return kp(t,{},n,i);const r=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const a=t[s];a!=null&&(i&&i(r,s,a,n)||(Array.isArray(a)&&Array.isArray(r[s])?r[s]=[...a,...r[s]]:Ph(a)&&Ph(r[s])?r[s]=kp(a,r[s],(n?`${n}.`:"")+s.toString(),i):r[s]=a))}return r}function Lk(t){return(...e)=>e.reduce((n,i)=>kp(n,i,"",t),{})}const um=Lk();function Ik(t,e){try{return e in t}catch{return!1}}var Pk=Object.defineProperty,Ok=(t,e,n)=>e in t?Pk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ga=(t,e,n)=>(Ok(t,typeof e!="symbol"?e+"":e,n),n);class Lp extends Error{constructor(e,n={}){super(e,n),ga(this,"statusCode",500),ga(this,"fatal",!1),ga(this,"unhandled",!1),ga(this,"statusMessage"),ga(this,"data"),ga(this,"cause"),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Pp(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=d1(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}ga(Lp,"__h3_error__",!0);function Ip(t){if(typeof t=="string")return new Lp(t);if(Rk(t))return t;const e=new Lp(t.message??t.statusMessage??"",{cause:t.cause||t});if(Ik(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Pp(t.statusCode,e.statusCode):t.status&&(e.statusCode=Pp(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;d1(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function Rk(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const Nk=/[^\u0009\u0020-\u007E]/g;function d1(t=""){return t.replace(Nk,"")}function Pp(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const f1=Symbol("layout-meta"),ql=Symbol("route"),Or=()=>{var t;return(t=jt())==null?void 0:t.$router},of=()=>CT()?kn(ql,jt()._route):jt()._route;/*! @__NO_SIDE_EFFECTS__ */const Mk=(t,e,n={})=>{const i=jt(),r=n.global||typeof t!="string",s=typeof t!="string"?t:e;if(!s){console.warn("[nuxt] No route middleware passed to `addRouteMiddleware`.",t);return}r?i._middleware.global.push(s):i._middleware.named[t]=s},Bk=()=>{try{if(jt()._processingMiddleware)return!0}catch{return!0}return!1},Fk=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:QT(t.path||"/",t.query||{})+(t.hash||"");if(e!=null&&e.open){{const{target:o="_blank",windowFeatures:u={}}=e.open,c=Object.entries(u).filter(([f,p])=>p!==void 0).map(([f,p])=>`${f.toLowerCase()}=${p}`).join(", ");open(n,o,c)}return Promise.resolve()}const i=(e==null?void 0:e.external)||Zr(n,{acceptRelative:!0});if(i){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const o=$l(n).protocol;if(o&&QA(o))throw new Error(`Cannot navigate to a URL with '${o}' protocol.`)}const r=Bk();if(!i&&r)return t;const s=Or(),a=jt();return i?(e!=null&&e.replace?location.replace(n):location.href=n,r?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?s.replace(t):s.push(t)},uf=()=>tT(jt().payload,"error"),ho=t=>{const e=lm(t);try{const n=jt(),i=uf();n.hooks.callHook("app:error",e),i.value=i.value||e}catch{throw e}return e},Uk=async(t={})=>{const e=jt(),n=uf();e.callHook("app:error:cleared",t),t.redirect&&await Or().replace(t.redirect),n.value=null},jk=t=>!!(t&&typeof t=="object"&&"__nuxt_error"in t),lm=t=>{const e=Ip(t);return e.__nuxt_error=!0,e},$y=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),o6=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),$k=t=>{const e=jt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{$y(t)}):$y(t)},Hk="$s";function cm(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,i]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(i!==void 0&&typeof i!="function")throw new Error("[nuxt] [useState] init must be a function: "+i);const r=Hk+n,s=jt(),a=tT(s.payload.state,r);if(a.value===void 0&&i){const o=i();if(Yt(o))return s.payload.state[r]=o,o;a.value=o}return a}function qk(t={}){const e=t.path||window.location.pathname;let n={};try{n=fd(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:jt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const Vk=!1,Op=!1,Wk=!1,zk="#__nuxt";function Hy(t,e={}){const n=Gk(t,e),i=jt(),r=i._payloadCache=i._payloadCache||{};return n in r||(r[n]=Kk().then(s=>s?h1(n).then(a=>a||(delete r[n],null)):(r[n]=null,null))),r[n]}const qy="json";function Gk(t,e={}){const n=new URL(t,"http://localhost");if(n.search)throw new Error("Payload URL cannot contain search params: "+t);if(n.host!=="localhost"||Zr(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const i=e.hash||(e.fresh?Date.now():"");return es(Hl().app.baseURL,n.pathname,i?`_payload.${i}.${qy}`:`_payload.${qy}`)}async function h1(t){const e=fetch(t).then(n=>n.text().then(p1));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function Kk(t=of().path){return!!jt().payload.prerenderedAt}let Bc=null;async function Xk(){if(Bc)return Bc;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=p1(t.textContent||""),n=t.dataset.src?await h1(t.dataset.src):void 0;return Bc={...e,...n,...window.__NUXT__},Bc}function p1(t){return KD(t,jt()._payloadRevivers)}function Yk(t,e){jt()._payloadRevivers[t]=e}const Vy={NuxtError:t=>lm(t),EmptyShallowRef:t=>As(t==="_"?void 0:t==="0n"?BigInt(0):fd(t)),EmptyRef:t=>Mt(t==="_"?void 0:t==="0n"?BigInt(0):fd(t)),ShallowRef:t=>As(t),ShallowReactive:t=>Fl(t),Ref:t=>Mt(t),Reactive:t=>ir(t)},Qk=Fn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const i in Vy)Yk(i,Vy[i]);Object.assign(t.payload,([e,n]=Da(()=>t.runWithContext(Xk)),e=await e,n(),e)),window.__NUXT__=t.payload}}),Jk=[],Zk=Fn({name:"nuxt:head",enforce:"pre",setup(t){const e=Ck({plugins:Jk});wk(()=>jt().vueApp._context.provides.usehead),t.vueApp.use(e);{let n=!0;const i=async()=>{n=!1,await u1(e)};e.hooks.hook("dom:beforeRender",r=>{r.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||i()}),t.hooks.hook("app:error",i),t.hooks.hook("app:suspense:resolve",i)}}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const co=typeof window<"u";function eL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ct=Object.assign;function Oh(t,e){const n={};for(const i in e){const r=e[i];n[i]=rr(r)?r.map(t):t(r)}return n}const il=()=>{},rr=Array.isArray,tL=/\/$/,nL=t=>t.replace(tL,"");function Rh(t,e,n="/"){let i,r={},s="",a="";const o=e.indexOf("#");let u=e.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(i=e.slice(0,u),s=e.slice(u+1,o>-1?o:e.length),r=t(s)),o>-1&&(i=i||e.slice(0,o),a=e.slice(o,e.length)),i=aL(i??e,n),{fullPath:i+(s&&"?")+s+a,path:i,query:r,hash:a}}function iL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Wy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function rL(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Ro(e.matched[i],n.matched[r])&&g1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ro(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function g1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!sL(t[n],e[n]))return!1;return!0}function sL(t,e){return rr(t)?zy(t,e):rr(e)?zy(e,t):t===e}function zy(t,e){return rr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function aL(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var bl;(function(t){t.pop="pop",t.push="push"})(bl||(bl={}));var rl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rl||(rl={}));function oL(t){if(!t)if(co){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),nL(t)}const uL=/^[^#]+#/;function lL(t,e){return t.replace(uL,"#")+e}function cL(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const lf=()=>({left:window.pageXOffset,top:window.pageYOffset});function dL(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=cL(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Gy(t,e){return(history.state?history.state.position-e:-1)+t}const Rp=new Map;function fL(t,e){Rp.set(t,e)}function hL(t){const e=Rp.get(t);return Rp.delete(t),e}let pL=()=>location.protocol+"//"+location.host;function m1(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let o=r.includes(t.slice(s))?t.slice(s).length:1,u=r.slice(o);return u[0]!=="/"&&(u="/"+u),Wy(u,"")}return Wy(n,t)+i+r}function gL(t,e,n,i){let r=[],s=[],a=null;const o=({state:b})=>{const C=m1(t,location),E=n.value,L=e.value;let R=0;if(b){if(n.value=C,e.value=b,a&&a===E){a=null;return}R=L?b.position-L.position:0}else i(C);r.forEach(S=>{S(n.value,E,{delta:R,type:bl.pop,direction:R?R>0?rl.forward:rl.back:rl.unknown})})};function u(){a=n.value}function c(b){r.push(b);const C=()=>{const E=r.indexOf(b);E>-1&&r.splice(E,1)};return s.push(C),C}function f(){const{history:b}=window;b.state&&b.replaceState(Ct({},b.state,{scroll:lf()}),"")}function p(){for(const b of s)b();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:c,destroy:p}}function Ky(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?lf():null}}function mL(t){const{history:e,location:n}=window,i={value:m1(t,n)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(u,c,f){const p=t.indexOf("#"),b=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+u:pL()+t+u;try{e[f?"replaceState":"pushState"](c,"",b),r.value=c}catch(C){console.error(C),n[f?"replace":"assign"](b)}}function a(u,c){const f=Ct({},e.state,Ky(r.value.back,u,r.value.forward,!0),c,{position:r.value.position});s(u,f,!0),i.value=u}function o(u,c){const f=Ct({},r.value,e.state,{forward:u,scroll:lf()});s(f.current,f,!0);const p=Ct({},Ky(i.value,u,null),{position:f.position+1},c);s(u,p,!1),i.value=u}return{location:i,state:r,push:o,replace:a}}function y1(t){t=oL(t);const e=mL(t),n=gL(t,e.state,e.location,e.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const r=Ct({location:"",base:t,go:i,createHref:lL.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function yL(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),y1(t)}function _L(t){return typeof t=="string"||t&&typeof t=="object"}function _1(t){return typeof t=="string"||typeof t=="symbol"}const pr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},v1=Symbol("");var Xy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Xy||(Xy={}));function No(t,e){return Ct(new Error,{type:t,[v1]:!0},e)}function jr(t,e){return t instanceof Error&&v1 in t&&(e==null||!!(t.type&e))}const Yy="[^/]+?",vL={sensitive:!1,strict:!1,start:!0,end:!0},bL=/[.+*?^${}()[\]/\\]/g;function TL(t,e){const n=Ct({},vL,e),i=[];let r=n.start?"^":"";const s=[];for(const c of t){const f=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let p=0;p<c.length;p++){const b=c[p];let C=40+(n.sensitive?.25:0);if(b.type===0)p||(r+="/"),r+=b.value.replace(bL,"\\$&"),C+=40;else if(b.type===1){const{value:E,repeatable:L,optional:R,regexp:S}=b;s.push({name:E,repeatable:L,optional:R});const A=S||Yy;if(A!==Yy){C+=10;try{new RegExp(`(${A})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${E}" (${A}): `+I.message)}}let M=L?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;p||(M=R&&c.length<2?`(?:/${M})`:"/"+M),R&&(M+="?"),r+=M,C+=20,R&&(C+=-8),L&&(C+=-20),A===".*"&&(C+=-50)}f.push(C)}i.push(f)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function o(c){const f=c.match(a),p={};if(!f)return null;for(let b=1;b<f.length;b++){const C=f[b]||"",E=s[b-1];p[E.name]=C&&E.repeatable?C.split("/"):C}return p}function u(c){let f="",p=!1;for(const b of t){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const C of b)if(C.type===0)f+=C.value;else if(C.type===1){const{value:E,repeatable:L,optional:R}=C,S=E in c?c[E]:"";if(rr(S)&&!L)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const A=rr(S)?S.join("/"):S;if(!A)if(R)b.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${E}"`);f+=A}}return f||"/"}return{re:a,score:i,keys:s,parse:o,stringify:u}}function xL(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function EL(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=xL(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(Qy(i))return 1;if(Qy(r))return-1}return r.length-i.length}function Qy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const SL={type:0,value:""},CL=/[a-zA-Z0-9_]/;function wL(t){if(!t)return[[]];if(t==="/")return[[SL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(C){throw new Error(`ERR (${n})/"${c}": ${C}`)}let n=0,i=n;const r=[];let s;function a(){s&&r.push(s),s=[]}let o=0,u,c="",f="";function p(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function b(){c+=u}for(;o<t.length;){if(u=t[o++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(c&&p(),a()):u===":"?(p(),n=1):b();break;case 4:b(),n=i;break;case 1:u==="("?n=2:CL.test(u)?b():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),p(),a(),r}function AL(t,e,n){const i=TL(wL(t.path),n),r=Ct(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function DL(t,e){const n=[],i=new Map;e=e_({strict:!1,end:!0,sensitive:!1},e);function r(f){return i.get(f)}function s(f,p,b){const C=!b,E=kL(f);E.aliasOf=b&&b.record;const L=e_(e,f),R=[E];if("alias"in f){const M=typeof f.alias=="string"?[f.alias]:f.alias;for(const I of M)R.push(Ct({},E,{components:b?b.record.components:E.components,path:I,aliasOf:b?b.record:E}))}let S,A;for(const M of R){const{path:I}=M;if(p&&I[0]!=="/"){const N=p.record.path,j=N[N.length-1]==="/"?"":"/";M.path=p.record.path+(I&&j+I)}if(S=AL(M,p,L),b?b.alias.push(S):(A=A||S,A!==S&&A.alias.push(S),C&&f.name&&!Zy(S)&&a(f.name)),E.children){const N=E.children;for(let j=0;j<N.length;j++)s(N[j],S,b&&b.children[j])}b=b||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&u(S)}return A?()=>{a(A)}:il}function a(f){if(_1(f)){const p=i.get(f);p&&(i.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function o(){return n}function u(f){let p=0;for(;p<n.length&&EL(f,n[p])>=0&&(f.record.path!==n[p].record.path||!b1(f,n[p]));)p++;n.splice(p,0,f),f.record.name&&!Zy(f)&&i.set(f.record.name,f)}function c(f,p){let b,C={},E,L;if("name"in f&&f.name){if(b=i.get(f.name),!b)throw No(1,{location:f});L=b.record.name,C=Ct(Jy(p.params,b.keys.filter(A=>!A.optional).map(A=>A.name)),f.params&&Jy(f.params,b.keys.map(A=>A.name))),E=b.stringify(C)}else if("path"in f)E=f.path,b=n.find(A=>A.re.test(E)),b&&(C=b.parse(E),L=b.record.name);else{if(b=p.name?i.get(p.name):n.find(A=>A.re.test(p.path)),!b)throw No(1,{location:f,currentLocation:p});L=b.record.name,C=Ct({},p.params,f.params),E=b.stringify(C)}const R=[];let S=b;for(;S;)R.unshift(S.record),S=S.parent;return{name:L,path:E,params:C,matched:R,meta:IL(R)}}return t.forEach(f=>s(f)),{addRoute:s,resolve:c,removeRoute:a,getRoutes:o,getRecordMatcher:r}}function Jy(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function kL(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:LL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function LL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function Zy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function IL(t){return t.reduce((e,n)=>Ct(e,n.meta),{})}function e_(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function b1(t,e){return e.children.some(n=>n===t||b1(t,n))}const T1=/#/g,PL=/&/g,OL=/\//g,RL=/=/g,NL=/\?/g,x1=/\+/g,ML=/%5B/g,BL=/%5D/g,E1=/%5E/g,FL=/%60/g,S1=/%7B/g,UL=/%7C/g,C1=/%7D/g,jL=/%20/g;function dm(t){return encodeURI(""+t).replace(UL,"|").replace(ML,"[").replace(BL,"]")}function $L(t){return dm(t).replace(S1,"{").replace(C1,"}").replace(E1,"^")}function Np(t){return dm(t).replace(x1,"%2B").replace(jL,"+").replace(T1,"%23").replace(PL,"%26").replace(FL,"`").replace(S1,"{").replace(C1,"}").replace(E1,"^")}function HL(t){return Np(t).replace(RL,"%3D")}function qL(t){return dm(t).replace(T1,"%23").replace(NL,"%3F")}function VL(t){return t==null?"":qL(t).replace(OL,"%2F")}function _d(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function WL(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(x1," "),a=s.indexOf("="),o=_d(a<0?s:s.slice(0,a)),u=a<0?null:_d(s.slice(a+1));if(o in e){let c=e[o];rr(c)||(c=e[o]=[c]),c.push(u)}else e[o]=u}return e}function t_(t){let e="";for(let n in t){const i=t[n];if(n=HL(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(rr(i)?i.map(s=>s&&Np(s)):[i&&Np(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function zL(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=rr(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const GL=Symbol(""),n_=Symbol(""),cf=Symbol(""),fm=Symbol(""),Mp=Symbol("");function Ou(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ss(t,e,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,o)=>{const u=p=>{p===!1?o(No(4,{from:n,to:e})):p instanceof Error?o(p):_L(p)?o(No(2,{from:e,to:p})):(s&&i.enterCallbacks[r]===s&&typeof p=="function"&&s.push(p),a())},c=t.call(i&&i.instances[r],e,n,u);let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(p=>o(p))})}function Nh(t,e,n,i){const r=[];for(const s of t)for(const a in s.components){let o=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(KL(o)){const c=(o.__vccOpts||o)[e];c&&r.push(Ss(c,n,i,s,a))}else{let u=o();r.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const f=eL(c)?c.default:c;s.components[a]=f;const b=(f.__vccOpts||f)[e];return b&&Ss(b,n,i,s,a)()}))}}return r}function KL(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function i_(t){const e=kn(cf),n=kn(fm),i=ht(()=>e.resolve(Dt(t.to))),r=ht(()=>{const{matched:u}=i.value,{length:c}=u,f=u[c-1],p=n.matched;if(!f||!p.length)return-1;const b=p.findIndex(Ro.bind(null,f));if(b>-1)return b;const C=r_(u[c-2]);return c>1&&r_(f)===C&&p[p.length-1].path!==C?p.findIndex(Ro.bind(null,u[c-2])):b}),s=ht(()=>r.value>-1&&JL(n.params,i.value.params)),a=ht(()=>r.value>-1&&r.value===n.matched.length-1&&g1(n.params,i.value.params));function o(u={}){return QL(u)?e[Dt(t.replace)?"replace":"push"](Dt(t.to)).catch(il):Promise.resolve()}return{route:i,href:ht(()=>i.value.href),isActive:s,isExactActive:a,navigate:o}}const XL=ei({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:i_,setup(t,{slots:e}){const n=ir(i_(t)),{options:i}=kn(cf),r=ht(()=>({[s_(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[s_(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Ln("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),YL=XL;function QL(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function JL(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!rr(r)||r.length!==i.length||i.some((s,a)=>s!==r[a]))return!1}return!0}function r_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const s_=(t,e,n)=>t??e??n,ZL=ei({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=kn(Mp),r=ht(()=>t.route||i.value),s=kn(n_,0),a=ht(()=>{let c=Dt(s);const{matched:f}=r.value;let p;for(;(p=f[c])&&!p.components;)c++;return c}),o=ht(()=>r.value.matched[a.value]);Aa(n_,ht(()=>a.value+1)),Aa(GL,o),Aa(Mp,r);const u=Mt();return xn(()=>[u.value,o.value,t.name],([c,f,p],[b,C,E])=>{f&&(f.instances[p]=c,C&&C!==f&&c&&c===b&&(f.leaveGuards.size||(f.leaveGuards=C.leaveGuards),f.updateGuards.size||(f.updateGuards=C.updateGuards))),c&&f&&(!C||!Ro(f,C)||!b)&&(f.enterCallbacks[p]||[]).forEach(L=>L(c))},{flush:"post"}),()=>{const c=r.value,f=t.name,p=o.value,b=p&&p.components[f];if(!b)return a_(n.default,{Component:b,route:c});const C=p.props[f],E=C?C===!0?c.params:typeof C=="function"?C(c):C:null,R=Ln(b,Ct({},E,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(p.instances[f]=null)},ref:u}));return a_(n.default,{Component:R,route:c})||R}}});function a_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const w1=ZL;function eI(t){const e=DL(t.routes,t),n=t.parseQuery||WL,i=t.stringifyQuery||t_,r=t.history,s=Ou(),a=Ou(),o=Ou(),u=As(pr);let c=pr;co&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Oh.bind(null,_e=>""+_e),p=Oh.bind(null,VL),b=Oh.bind(null,_d);function C(_e,Ie){let Ae,Pe;return _1(_e)?(Ae=e.getRecordMatcher(_e),Pe=Ie):Pe=_e,e.addRoute(Pe,Ae)}function E(_e){const Ie=e.getRecordMatcher(_e);Ie&&e.removeRoute(Ie)}function L(){return e.getRoutes().map(_e=>_e.record)}function R(_e){return!!e.getRecordMatcher(_e)}function S(_e,Ie){if(Ie=Ct({},Ie||u.value),typeof _e=="string"){const B=Rh(n,_e,Ie.path),K=e.resolve({path:B.path},Ie),ee=r.createHref(B.fullPath);return Ct(B,K,{params:b(K.params),hash:_d(B.hash),redirectedFrom:void 0,href:ee})}let Ae;if("path"in _e)Ae=Ct({},_e,{path:Rh(n,_e.path,Ie.path).path});else{const B=Ct({},_e.params);for(const K in B)B[K]==null&&delete B[K];Ae=Ct({},_e,{params:p(B)}),Ie.params=p(Ie.params)}const Pe=e.resolve(Ae,Ie),rt=_e.hash||"";Pe.params=f(b(Pe.params));const V=iL(i,Ct({},_e,{hash:$L(rt),path:Pe.path})),P=r.createHref(V);return Ct({fullPath:V,hash:rt,query:i===t_?zL(_e.query):_e.query||{}},Pe,{redirectedFrom:void 0,href:P})}function A(_e){return typeof _e=="string"?Rh(n,_e,u.value.path):Ct({},_e)}function M(_e,Ie){if(c!==_e)return No(8,{from:Ie,to:_e})}function I(_e){return m(_e)}function N(_e){return I(Ct(A(_e),{replace:!0}))}function j(_e){const Ie=_e.matched[_e.matched.length-1];if(Ie&&Ie.redirect){const{redirect:Ae}=Ie;let Pe=typeof Ae=="function"?Ae(_e):Ae;return typeof Pe=="string"&&(Pe=Pe.includes("?")||Pe.includes("#")?Pe=A(Pe):{path:Pe},Pe.params={}),Ct({query:_e.query,hash:_e.hash,params:"path"in Pe?{}:_e.params},Pe)}}function m(_e,Ie){const Ae=c=S(_e),Pe=u.value,rt=_e.state,V=_e.force,P=_e.replace===!0,B=j(Ae);if(B)return m(Ct(A(B),{state:typeof B=="object"?Ct({},rt,B.state):rt,force:V,replace:P}),Ie||Ae);const K=Ae;K.redirectedFrom=Ie;let ee;return!V&&rL(i,Pe,Ae)&&(ee=No(16,{to:K,from:Pe}),$t(Pe,Pe,!0,!1)),(ee?Promise.resolve(ee):xe(K,Pe)).catch(oe=>jr(oe)?jr(oe,2)?oe:Qt(oe):Ve(oe,K,Pe)).then(oe=>{if(oe){if(jr(oe,2))return m(Ct({replace:P},A(oe.to),{state:typeof oe.to=="object"?Ct({},rt,oe.to.state):rt,force:V}),Ie||K)}else oe=ae(K,Pe,!0,P,rt);return Z(K,Pe,oe),oe})}function ne(_e,Ie){const Ae=M(_e,Ie);return Ae?Promise.reject(Ae):Promise.resolve()}function re(_e){const Ie=In.values().next().value;return Ie&&typeof Ie.runWithContext=="function"?Ie.runWithContext(_e):_e()}function xe(_e,Ie){let Ae;const[Pe,rt,V]=tI(_e,Ie);Ae=Nh(Pe.reverse(),"beforeRouteLeave",_e,Ie);for(const B of Pe)B.leaveGuards.forEach(K=>{Ae.push(Ss(K,_e,Ie))});const P=ne.bind(null,_e,Ie);return Ae.push(P),Ht(Ae).then(()=>{Ae=[];for(const B of s.list())Ae.push(Ss(B,_e,Ie));return Ae.push(P),Ht(Ae)}).then(()=>{Ae=Nh(rt,"beforeRouteUpdate",_e,Ie);for(const B of rt)B.updateGuards.forEach(K=>{Ae.push(Ss(K,_e,Ie))});return Ae.push(P),Ht(Ae)}).then(()=>{Ae=[];for(const B of V)if(B.beforeEnter)if(rr(B.beforeEnter))for(const K of B.beforeEnter)Ae.push(Ss(K,_e,Ie));else Ae.push(Ss(B.beforeEnter,_e,Ie));return Ae.push(P),Ht(Ae)}).then(()=>(_e.matched.forEach(B=>B.enterCallbacks={}),Ae=Nh(V,"beforeRouteEnter",_e,Ie),Ae.push(P),Ht(Ae))).then(()=>{Ae=[];for(const B of a.list())Ae.push(Ss(B,_e,Ie));return Ae.push(P),Ht(Ae)}).catch(B=>jr(B,8)?B:Promise.reject(B))}function Z(_e,Ie,Ae){o.list().forEach(Pe=>re(()=>Pe(_e,Ie,Ae)))}function ae(_e,Ie,Ae,Pe,rt){const V=M(_e,Ie);if(V)return V;const P=Ie===pr,B=co?history.state:{};Ae&&(Pe||P?r.replace(_e.fullPath,Ct({scroll:P&&B&&B.scroll},rt)):r.push(_e.fullPath,rt)),u.value=_e,$t(_e,Ie,Ae,P),Qt()}let Q;function he(){Q||(Q=r.listen((_e,Ie,Ae)=>{if(!yi.listening)return;const Pe=S(_e),rt=j(Pe);if(rt){m(Ct(rt,{replace:!0}),Pe).catch(il);return}c=Pe;const V=u.value;co&&fL(Gy(V.fullPath,Ae.delta),lf()),xe(Pe,V).catch(P=>jr(P,12)?P:jr(P,2)?(m(P.to,Pe).then(B=>{jr(B,20)&&!Ae.delta&&Ae.type===bl.pop&&r.go(-1,!1)}).catch(il),Promise.reject()):(Ae.delta&&r.go(-Ae.delta,!1),Ve(P,Pe,V))).then(P=>{P=P||ae(Pe,V,!1),P&&(Ae.delta&&!jr(P,8)?r.go(-Ae.delta,!1):Ae.type===bl.pop&&jr(P,20)&&r.go(-1,!1)),Z(Pe,V,P)}).catch(il)}))}let He=Ou(),Le=Ou(),Re;function Ve(_e,Ie,Ae){Qt(_e);const Pe=Le.list();return Pe.length?Pe.forEach(rt=>rt(_e,Ie,Ae)):console.error(_e),Promise.reject(_e)}function bt(){return Re&&u.value!==pr?Promise.resolve():new Promise((_e,Ie)=>{He.add([_e,Ie])})}function Qt(_e){return Re||(Re=!_e,he(),He.list().forEach(([Ie,Ae])=>_e?Ae(_e):Ie()),He.reset()),_e}function $t(_e,Ie,Ae,Pe){const{scrollBehavior:rt}=t;if(!co||!rt)return Promise.resolve();const V=!Ae&&hL(Gy(_e.fullPath,0))||(Pe||!Ae)&&history.state&&history.state.scroll||null;return Qr().then(()=>rt(_e,Ie,V)).then(P=>P&&dL(P)).catch(P=>Ve(P,_e,Ie))}const xt=_e=>r.go(_e);let fn;const In=new Set,yi={currentRoute:u,listening:!0,addRoute:C,removeRoute:E,hasRoute:R,getRoutes:L,resolve:S,options:t,push:I,replace:N,go:xt,back:()=>xt(-1),forward:()=>xt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:Le.add,isReady:bt,install(_e){const Ie=this;_e.component("RouterLink",YL),_e.component("RouterView",w1),_e.config.globalProperties.$router=Ie,Object.defineProperty(_e.config.globalProperties,"$route",{enumerable:!0,get:()=>Dt(u)}),co&&!fn&&u.value===pr&&(fn=!0,I(r.location).catch(rt=>{}));const Ae={};for(const rt in pr)Object.defineProperty(Ae,rt,{get:()=>u.value[rt],enumerable:!0});_e.provide(cf,Ie),_e.provide(fm,Fl(Ae)),_e.provide(Mp,u);const Pe=_e.unmount;In.add(_e),_e.unmount=function(){In.delete(_e),In.size<1&&(c=pr,Q&&Q(),Q=null,u.value=pr,fn=!1,Re=!1),Pe()}}};function Ht(_e){return _e.reduce((Ie,Ae)=>Ie.then(()=>re(Ae)),Promise.resolve())}return yi}function tI(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(c=>Ro(c,o))?i.push(o):n.push(o));const u=t.matched[a];u&&(e.matched.find(c=>Ro(c,u))||r.push(u))}return[n,i,r]}function A1(){return kn(cf)}function hm(){return kn(fm)}const Lt={key:t=>t.name.split("_")[0]},It={key:t=>t.name.split("_")[0]},Pt={key:t=>t.name.split("_")[0]},Ot={key:t=>t.name.split("_")[0]},Rt={key:t=>t.name.split("_")[0]},o_=[{name:(Lt==null?void 0:Lt.name)??"about___en",path:(Lt==null?void 0:Lt.path)??"/en/about",meta:Lt||{},alias:(Lt==null?void 0:Lt.alias)||[],redirect:(Lt==null?void 0:Lt.redirect)||void 0,component:()=>li(()=>import("./about.c9dd625a.js"),["./about.c9dd625a.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./about.95eb4a30.css"],import.meta.url).then(t=>t.default||t)},{name:(Lt==null?void 0:Lt.name)??"about___zh-Hant",path:(Lt==null?void 0:Lt.path)??"/about",meta:Lt||{},alias:(Lt==null?void 0:Lt.alias)||[],redirect:(Lt==null?void 0:Lt.redirect)||void 0,component:()=>li(()=>import("./about.c9dd625a.js"),["./about.c9dd625a.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./about.95eb4a30.css"],import.meta.url).then(t=>t.default||t)},{name:(It==null?void 0:It.name)??"contact___en",path:(It==null?void 0:It.path)??"/en/contact",meta:It||{},alias:(It==null?void 0:It.alias)||[],redirect:(It==null?void 0:It.redirect)||void 0,component:()=>li(()=>import("./contact.e6df2610.js"),["./contact.e6df2610.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./contact.951b66c1.css"],import.meta.url).then(t=>t.default||t)},{name:(It==null?void 0:It.name)??"contact___zh-Hant",path:(It==null?void 0:It.path)??"/contact",meta:It||{},alias:(It==null?void 0:It.alias)||[],redirect:(It==null?void 0:It.redirect)||void 0,component:()=>li(()=>import("./contact.e6df2610.js"),["./contact.e6df2610.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./contact.951b66c1.css"],import.meta.url).then(t=>t.default||t)},{name:(Pt==null?void 0:Pt.name)??"film-assist___en",path:(Pt==null?void 0:Pt.path)??"/en/film-assist",meta:Pt||{},alias:(Pt==null?void 0:Pt.alias)||[],redirect:(Pt==null?void 0:Pt.redirect)||void 0,component:()=>li(()=>import("./film-assist.308546a3.js"),["./film-assist.308546a3.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./film-assist.5f143dbc.css"],import.meta.url).then(t=>t.default||t)},{name:(Pt==null?void 0:Pt.name)??"film-assist___zh-Hant",path:(Pt==null?void 0:Pt.path)??"/film-assist",meta:Pt||{},alias:(Pt==null?void 0:Pt.alias)||[],redirect:(Pt==null?void 0:Pt.redirect)||void 0,component:()=>li(()=>import("./film-assist.308546a3.js"),["./film-assist.308546a3.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./film-assist.5f143dbc.css"],import.meta.url).then(t=>t.default||t)},{name:(Ot==null?void 0:Ot.name)??"index___en",path:(Ot==null?void 0:Ot.path)??"/en",meta:Ot||{},alias:(Ot==null?void 0:Ot.alias)||[],redirect:(Ot==null?void 0:Ot.redirect)||void 0,component:()=>li(()=>import("./index.4006f323.js"),["./index.4006f323.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./index.d4b90ea0.css"],import.meta.url).then(t=>t.default||t)},{name:(Ot==null?void 0:Ot.name)??"index___zh-Hant",path:(Ot==null?void 0:Ot.path)??"/",meta:Ot||{},alias:(Ot==null?void 0:Ot.alias)||[],redirect:(Ot==null?void 0:Ot.redirect)||void 0,component:()=>li(()=>import("./index.4006f323.js"),["./index.4006f323.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./index.d4b90ea0.css"],import.meta.url).then(t=>t.default||t)},{name:(Rt==null?void 0:Rt.name)??"project-slug___en",path:(Rt==null?void 0:Rt.path)??"/en/project/:slug()",meta:Rt||{},alias:(Rt==null?void 0:Rt.alias)||[],redirect:(Rt==null?void 0:Rt.redirect)||void 0,component:()=>li(()=>import("./_slug_.4c8bf0d8.js"),["./_slug_.4c8bf0d8.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./_slug_.8163d1ca.css"],import.meta.url).then(t=>t.default||t)},{name:(Rt==null?void 0:Rt.name)??"project-slug___zh-Hant",path:(Rt==null?void 0:Rt.path)??"/project/:slug()",meta:Rt||{},alias:(Rt==null?void 0:Rt.alias)||[],redirect:(Rt==null?void 0:Rt.redirect)||void 0,component:()=>li(()=>import("./_slug_.4c8bf0d8.js"),["./_slug_.4c8bf0d8.js","./useHttp.2f997d61.js","./_plugin-vue_export-helper.c27b6911.js","./nuxt-link.6bf5c458.js","./useHttp.f77e12c1.css","./CTA.26ddbfeb.js","./CTA.4a93019b.css","./_slug_.8163d1ca.css"],import.meta.url).then(t=>t.default||t)}],nI={scrollBehavior(t,e,n){var c;const i=jt(),r=((c=Or().options)==null?void 0:c.scrollBehaviorType)??"auto";let s=n||void 0;const a=typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop;if(!s&&e&&t&&a!==!1&&iI(e,t)&&(s={left:0,top:0}),t.path===e.path){if(e.hash&&!t.hash)return{left:0,top:0};if(t.hash)return{el:t.hash,top:u_(t.hash),behavior:r}}const o=f=>!!(f.meta.pageTransition??Op),u=o(e)&&o(t)?"page:transition:finish":"page:finish";return new Promise(f=>{i.hooks.hookOnce(u,async()=>{await Qr(),t.hash&&(s={el:t.hash,top:u_(t.hash),behavior:r}),f(s)})})}};function u_(t){try{const e=document.querySelector(t);if(e)return parseFloat(getComputedStyle(e).scrollMarginTop)}catch{}return 0}function iI(t,e){return e.path!==t.path||JSON.stringify(t.params)!==JSON.stringify(e.params)}const rI={},ai={...rI,...nI},sI=async t=>{var u;let e,n;if(!((u=t.meta)!=null&&u.validate))return;const i=jt(),r=Or();if(([e,n]=Da(()=>Promise.resolve(t.meta.validate(t))),e=await e,n(),e)===!0)return;const a=lm({statusCode:404,statusMessage:`Page Not Found: ${t.fullPath}`}),o=r.beforeResolve(c=>{if(o(),c===t){const f=r.afterEach(async()=>{f(),await i.runWithContext(()=>ho(a)),window.history.pushState({},"",t.fullPath)});return!1}})},aI=[sI],sl={};function oI(t,e,n){const{pathname:i,search:r,hash:s}=e,a=t.indexOf("#");if(a>-1){const c=s.includes(t.slice(a))?t.slice(a).length:1;let f=s.slice(c);return f[0]!=="/"&&(f="/"+f),Dy(f,"")}const o=Dy(i,t),u=!n||Sp(o,n,{trailingSlash:!0})?o:n;return u+(u.includes("?")?"":r)+s}const uI=Fn({name:"nuxt:router",enforce:"pre",async setup(t){var L,R;let e,n,i=Hl().app.baseURL;ai.hashMode&&!i.includes("#")&&(i+="#");const r=((L=ai.history)==null?void 0:L.call(ai,i))??(ai.hashMode?yL(i):y1(i)),s=((R=ai.routes)==null?void 0:R.call(ai,o_))??o_;let a;const o=oI(i,window.location,t.payload.path),u=eI({...ai,scrollBehavior:(S,A,M)=>{var I;if(A===pr){a=M;return}return u.options.scrollBehavior=ai.scrollBehavior,(I=ai.scrollBehavior)==null?void 0:I.call(ai,S,pr,a||M)},history:r,routes:s});t.vueApp.use(u);const c=As(u.currentRoute.value);u.afterEach((S,A)=>{c.value=A}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const f=As(u.resolve(o)),p=()=>{f.value=u.currentRoute.value};t.hook("page:finish",p),u.afterEach((S,A)=>{var M,I,N,j;((I=(M=S.matched[0])==null?void 0:M.components)==null?void 0:I.default)===((j=(N=A.matched[0])==null?void 0:N.components)==null?void 0:j.default)&&p()});const b={};for(const S in f.value)Object.defineProperty(b,S,{get:()=>f.value[S]});t._route=Fl(b),t._middleware=t._middleware||{global:[],named:{}};const C=uf();try{[e,n]=Da(()=>u.isReady()),await e,n()}catch(S){[e,n]=Da(()=>t.runWithContext(()=>ho(S))),await e,n()}const E=t.payload.state._layout;return u.beforeEach(async(S,A)=>{var M;S.meta=ir(S.meta),t.isHydrating&&E&&!Pa(S.meta.layout)&&(S.meta.layout=E),t._processingMiddleware=!0;{const I=new Set([...aI,...t._middleware.global]);for(const N of S.matched){const j=N.meta.middleware;if(j)if(Array.isArray(j))for(const m of j)I.add(m);else I.add(j)}for(const N of I){const j=typeof N=="string"?t._middleware.named[N]||await((M=sl[N])==null?void 0:M.call(sl).then(ne=>ne.default||ne)):N;if(!j)throw new Error(`Unknown route middleware: '${N}'.`);const m=await t.runWithContext(()=>j(S,A));if(!t.payload.serverRendered&&t.isHydrating&&(m===!1||m instanceof Error)){const ne=m||Ip({statusCode:404,statusMessage:`Page Not Found: ${o}`});return await t.runWithContext(()=>ho(ne)),!1}if(m!==!0&&(m||m===!1))return m}}}),u.onError(()=>{delete t._processingMiddleware}),u.afterEach(async(S,A,M)=>{delete t._processingMiddleware,!t.isHydrating&&C.value&&await t.runWithContext(Uk),S.matched.length===0&&await t.runWithContext(()=>ho(Ip({statusCode:404,fatal:!1,statusMessage:`Page not found: ${S.fullPath}`})))}),t.hooks.hookOnce("app:created",async()=>{try{await u.replace({...u.resolve(o),name:void 0,force:!0}),u.options.scrollBehavior=ai.scrollBehavior}catch(S){await t.runWithContext(()=>ho(S))}}),{provide:{router:u}}}});function lI(t){const e=(t==null?void 0:t.debug)||!1,n=[];function i(s){var o;if(!s||typeof s!="object"||Object.keys(s).length===0)return;if(!s._context&&e){let u=(o=new Error("tmp").stack)==null?void 0:o.split(`
`)[2].split(" ")[5];u!=null&&u.includes("/")&&(u="anonymous"),s._context=u}const a={};for(const u in s){const c=s[u];typeof c<"u"&&c!==""&&(a[u]=c)}Object.keys(a).filter(u=>!u.startsWith("_")).length>0&&n.push(a)}function r(){var a;const s={_context:{}};for(const o in n.sort((u,c)=>(u._priority||0)-(c._priority||0)))for(const u in n[o]){const c=u,f=n[o][u];u.startsWith("_")||(s[u]=f,s._context[c]=((a=n[o]._context)==null?void 0:a[c])||n[o]._context||"anonymous")}return cI(s)}return{stack:n,push:i,get:r}}function cI(t){typeof t.indexable<"u"&&(t.indexable=String(t.indexable)!=="false"),typeof t.trailingSlash<"u"&&(t.trailingSlash=String(t.trailingSlash)!=="false"),t.url&&!Zr(t.url,{acceptRelative:!0,strict:!1})&&(t.url=iD(t.url));const e=Object.keys(t).sort((i,r)=>i.localeCompare(r)),n={};for(const i of e)n[i]=t[i];return n}const dI=Fn({name:"nuxt-site-config",enforce:"pre",async setup(t){const e=Hl()["nuxt-site-config"]||{debug:!1};let n;n||(n=lI({debug:e.debug}));{n.push({_context:"window",url:window.location.origin});const i=cm("site-config");i.value&&n.push(i.value)}return{provide:{nuxtSiteConfig:n}}}}),fI=Fn({name:"nuxt:payload",setup(t){Or().beforeResolve(async(e,n)=>{if(e.path===n.path)return;const i=await Hy(e.path);i&&Object.assign(t.static.data,i.data)}),$k(()=>{t.hooks.hook("link:prefetch",async e=>{$l(e).protocol||await Hy(e)})})}}),hI=!1,pI=!0;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const gI=Symbol();var l_;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(l_||(l_={}));function mI(){const t=Ug(!0),e=t.run(()=>Mt({}));let n=[],i=[];const r=Gg({install(s){r._a=s,s.provide(gI,r),s.config.globalProperties.$pinia=r,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!hI?i.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const yI=Fn(t=>{const e=mI();return t.vueApp.use(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}),_I=Fn({name:"nuxt:global-components"}),Ta={},vI=Fn({name:"nuxt:prefetch",setup(t){const e=Or();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var r;const i=(r=n==null?void 0:n.meta)==null?void 0:r.layout;i&&typeof Ta[i]=="function"&&await Ta[i]()})}),t.hooks.hook("link:prefetch",n=>{var a,o,u,c;if(Zr(n))return;const i=e.resolve(n);if(!i)return;const r=(a=i==null?void 0:i.meta)==null?void 0:a.layout;let s=Array.isArray((o=i==null?void 0:i.meta)==null?void 0:o.middleware)?(u=i==null?void 0:i.meta)==null?void 0:u.middleware:[(c=i==null?void 0:i.meta)==null?void 0:c.middleware];s=s.filter(f=>typeof f=="string");for(const f of s)typeof sl[f]=="function"&&sl[f]();r&&typeof Ta[r]=="function"&&Ta[r]()})}}),bI=Fn(()=>{});/*!
  * shared v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const Bp=typeof window<"u",Ms=(t,e=!1)=>e?Symbol.for(t):Symbol(t),TI=(t,e,n)=>xI({l:t,k:e,s:n}),xI=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),vn=t=>typeof t=="number"&&isFinite(t),EI=t=>k1(t)==="[object Date]",vd=t=>k1(t)==="[object RegExp]",df=t=>ft(t)&&Object.keys(t).length===0,En=Object.assign;let c_;const pm=()=>c_||(c_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function d_(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const SI=Object.prototype.hasOwnProperty;function gm(t,e){return SI.call(t,e)}const rn=Array.isArray,ln=t=>typeof t=="function",Ue=t=>typeof t=="string",nn=t=>typeof t=="boolean",mt=t=>t!==null&&typeof t=="object",D1=Object.prototype.toString,k1=t=>D1.call(t),ft=t=>{if(!mt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},CI=t=>t==null?"":rn(t)||ft(t)&&t.toString===D1?JSON.stringify(t,null,2):String(t);function mm(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function ym(t){let e=t;return()=>++e}function wI(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}/*!
  * message-compiler v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function AI(t,e,n){return{line:t,column:e,offset:n}}function Fp(t,e,n){const i={start:t,end:e};return n!=null&&(i.source=n),i}const vt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17};function ff(t,e,n={}){const{domain:i,messages:r,args:s}=n,a=t,o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=i,o}function DI(t){throw t}const $r=" ",kI="\r",Gn=`
`,LI=String.fromCharCode(8232),II=String.fromCharCode(8233);function PI(t){const e=t;let n=0,i=1,r=1,s=0;const a=m=>e[m]===kI&&e[m+1]===Gn,o=m=>e[m]===Gn,u=m=>e[m]===II,c=m=>e[m]===LI,f=m=>a(m)||o(m)||u(m)||c(m),p=()=>n,b=()=>i,C=()=>r,E=()=>s,L=m=>a(m)||u(m)||c(m)?Gn:e[m],R=()=>L(n),S=()=>L(n+s);function A(){return s=0,f(n)&&(i++,r=0),a(n)&&n++,n++,r++,e[n]}function M(){return a(n+s)&&s++,s++,e[n+s]}function I(){n=0,i=1,r=1,s=0}function N(m=0){s=m}function j(){const m=n+s;for(;m!==n;)A();s=0}return{index:p,line:b,column:C,peekOffset:E,charAt:L,currentChar:R,currentPeek:S,next:A,peek:M,reset:I,resetPeek:N,skipToPeek:j}}const bs=void 0,OI=".",f_="'",RI="tokenizer";function NI(t,e={}){const n=e.location!==!1,i=PI(t),r=()=>i.index(),s=()=>AI(i.line(),i.column(),i.index()),a=s(),o=r(),u={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>u,{onError:f}=e;function p(P,B,K,...ee){const oe=c();if(B.column+=K,B.offset+=K,f){const me=n?Fp(oe.startLoc,B):null,Ee=ff(P,me,{domain:RI,args:ee});f(Ee)}}function b(P,B,K){P.endLoc=s(),P.currentType=B;const ee={type:B};return n&&(ee.loc=Fp(P.startLoc,P.endLoc)),K!=null&&(ee.value=K),ee}const C=P=>b(P,14);function E(P,B){return P.currentChar()===B?(P.next(),B):(p(vt.EXPECTED_TOKEN,s(),0,B),"")}function L(P){let B="";for(;P.currentPeek()===$r||P.currentPeek()===Gn;)B+=P.currentPeek(),P.peek();return B}function R(P){const B=L(P);return P.skipToPeek(),B}function S(P){if(P===bs)return!1;const B=P.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B===95}function A(P){if(P===bs)return!1;const B=P.charCodeAt(0);return B>=48&&B<=57}function M(P,B){const{currentType:K}=B;if(K!==2)return!1;L(P);const ee=S(P.currentPeek());return P.resetPeek(),ee}function I(P,B){const{currentType:K}=B;if(K!==2)return!1;L(P);const ee=P.currentPeek()==="-"?P.peek():P.currentPeek(),oe=A(ee);return P.resetPeek(),oe}function N(P,B){const{currentType:K}=B;if(K!==2)return!1;L(P);const ee=P.currentPeek()===f_;return P.resetPeek(),ee}function j(P,B){const{currentType:K}=B;if(K!==8)return!1;L(P);const ee=P.currentPeek()===".";return P.resetPeek(),ee}function m(P,B){const{currentType:K}=B;if(K!==9)return!1;L(P);const ee=S(P.currentPeek());return P.resetPeek(),ee}function ne(P,B){const{currentType:K}=B;if(!(K===8||K===12))return!1;L(P);const ee=P.currentPeek()===":";return P.resetPeek(),ee}function re(P,B){const{currentType:K}=B;if(K!==10)return!1;const ee=()=>{const me=P.currentPeek();return me==="{"?S(P.peek()):me==="@"||me==="%"||me==="|"||me===":"||me==="."||me===$r||!me?!1:me===Gn?(P.peek(),ee()):S(me)},oe=ee();return P.resetPeek(),oe}function xe(P){L(P);const B=P.currentPeek()==="|";return P.resetPeek(),B}function Z(P){const B=L(P),K=P.currentPeek()==="%"&&P.peek()==="{";return P.resetPeek(),{isModulo:K,hasSpace:B.length>0}}function ae(P,B=!0){const K=(oe=!1,me="",Ee=!1)=>{const ve=P.currentPeek();return ve==="{"?me==="%"?!1:oe:ve==="@"||!ve?me==="%"?!0:oe:ve==="%"?(P.peek(),K(oe,"%",!0)):ve==="|"?me==="%"||Ee?!0:!(me===$r||me===Gn):ve===$r?(P.peek(),K(!0,$r,Ee)):ve===Gn?(P.peek(),K(!0,Gn,Ee)):!0},ee=K();return B&&P.resetPeek(),ee}function Q(P,B){const K=P.currentChar();return K===bs?bs:B(K)?(P.next(),K):null}function he(P){return Q(P,K=>{const ee=K.charCodeAt(0);return ee>=97&&ee<=122||ee>=65&&ee<=90||ee>=48&&ee<=57||ee===95||ee===36})}function He(P){return Q(P,K=>{const ee=K.charCodeAt(0);return ee>=48&&ee<=57})}function Le(P){return Q(P,K=>{const ee=K.charCodeAt(0);return ee>=48&&ee<=57||ee>=65&&ee<=70||ee>=97&&ee<=102})}function Re(P){let B="",K="";for(;B=He(P);)K+=B;return K}function Ve(P){R(P);const B=P.currentChar();return B!=="%"&&p(vt.EXPECTED_TOKEN,s(),0,B),P.next(),"%"}function bt(P){let B="";for(;;){const K=P.currentChar();if(K==="{"||K==="}"||K==="@"||K==="|"||!K)break;if(K==="%")if(ae(P))B+=K,P.next();else break;else if(K===$r||K===Gn)if(ae(P))B+=K,P.next();else{if(xe(P))break;B+=K,P.next()}else B+=K,P.next()}return B}function Qt(P){R(P);let B="",K="";for(;B=he(P);)K+=B;return P.currentChar()===bs&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),K}function $t(P){R(P);let B="";return P.currentChar()==="-"?(P.next(),B+=`-${Re(P)}`):B+=Re(P),P.currentChar()===bs&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),B}function xt(P){R(P),E(P,"'");let B="",K="";const ee=me=>me!==f_&&me!==Gn;for(;B=Q(P,ee);)B==="\\"?K+=fn(P):K+=B;const oe=P.currentChar();return oe===Gn||oe===bs?(p(vt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),oe===Gn&&(P.next(),E(P,"'")),K):(E(P,"'"),K)}function fn(P){const B=P.currentChar();switch(B){case"\\":case"'":return P.next(),`\\${B}`;case"u":return In(P,B,4);case"U":return In(P,B,6);default:return p(vt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,B),""}}function In(P,B,K){E(P,B);let ee="";for(let oe=0;oe<K;oe++){const me=Le(P);if(!me){p(vt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${B}${ee}${P.currentChar()}`);break}ee+=me}return`\\${B}${ee}`}function yi(P){R(P);let B="",K="";const ee=oe=>oe!=="{"&&oe!=="}"&&oe!==$r&&oe!==Gn;for(;B=Q(P,ee);)K+=B;return K}function Ht(P){let B="",K="";for(;B=he(P);)K+=B;return K}function _e(P){const B=(K=!1,ee)=>{const oe=P.currentChar();return oe==="{"||oe==="%"||oe==="@"||oe==="|"||oe==="("||oe===")"||!oe||oe===$r?ee:oe===Gn||oe===OI?(ee+=oe,P.next(),B(K,ee)):(ee+=oe,P.next(),B(!0,ee))};return B(!1,"")}function Ie(P){R(P);const B=E(P,"|");return R(P),B}function Ae(P,B){let K=null;switch(P.currentChar()){case"{":return B.braceNest>=1&&p(vt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),P.next(),K=b(B,2,"{"),R(P),B.braceNest++,K;case"}":return B.braceNest>0&&B.currentType===2&&p(vt.EMPTY_PLACEHOLDER,s(),0),P.next(),K=b(B,3,"}"),B.braceNest--,B.braceNest>0&&R(P),B.inLinked&&B.braceNest===0&&(B.inLinked=!1),K;case"@":return B.braceNest>0&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),K=Pe(P,B)||C(B),B.braceNest=0,K;default:let oe=!0,me=!0,Ee=!0;if(xe(P))return B.braceNest>0&&p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),K=b(B,1,Ie(P)),B.braceNest=0,B.inLinked=!1,K;if(B.braceNest>0&&(B.currentType===5||B.currentType===6||B.currentType===7))return p(vt.UNTERMINATED_CLOSING_BRACE,s(),0),B.braceNest=0,rt(P,B);if(oe=M(P,B))return K=b(B,5,Qt(P)),R(P),K;if(me=I(P,B))return K=b(B,6,$t(P)),R(P),K;if(Ee=N(P,B))return K=b(B,7,xt(P)),R(P),K;if(!oe&&!me&&!Ee)return K=b(B,13,yi(P)),p(vt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,K.value),R(P),K;break}return K}function Pe(P,B){const{currentType:K}=B;let ee=null;const oe=P.currentChar();switch((K===8||K===9||K===12||K===10)&&(oe===Gn||oe===$r)&&p(vt.INVALID_LINKED_FORMAT,s(),0),oe){case"@":return P.next(),ee=b(B,8,"@"),B.inLinked=!0,ee;case".":return R(P),P.next(),b(B,9,".");case":":return R(P),P.next(),b(B,10,":");default:return xe(P)?(ee=b(B,1,Ie(P)),B.braceNest=0,B.inLinked=!1,ee):j(P,B)||ne(P,B)?(R(P),Pe(P,B)):m(P,B)?(R(P),b(B,12,Ht(P))):re(P,B)?(R(P),oe==="{"?Ae(P,B)||ee:b(B,11,_e(P))):(K===8&&p(vt.INVALID_LINKED_FORMAT,s(),0),B.braceNest=0,B.inLinked=!1,rt(P,B))}}function rt(P,B){let K={type:14};if(B.braceNest>0)return Ae(P,B)||C(B);if(B.inLinked)return Pe(P,B)||C(B);switch(P.currentChar()){case"{":return Ae(P,B)||C(B);case"}":return p(vt.UNBALANCED_CLOSING_BRACE,s(),0),P.next(),b(B,3,"}");case"@":return Pe(P,B)||C(B);default:if(xe(P))return K=b(B,1,Ie(P)),B.braceNest=0,B.inLinked=!1,K;const{isModulo:oe,hasSpace:me}=Z(P);if(oe)return me?b(B,0,bt(P)):b(B,4,Ve(P));if(ae(P))return b(B,0,bt(P));break}return K}function V(){const{currentType:P,offset:B,startLoc:K,endLoc:ee}=u;return u.lastType=P,u.lastOffset=B,u.lastStartLoc=K,u.lastEndLoc=ee,u.offset=r(),u.startLoc=s(),i.currentChar()===bs?b(u,14):rt(i,u)}return{nextToken:V,currentOffset:r,currentPosition:s,context:c}}const MI="parser",BI=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function FI(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"�"}}}function UI(t={}){const e=t.location!==!1,{onError:n}=t;function i(S,A,M,I,...N){const j=S.currentPosition();if(j.offset+=I,j.column+=I,n){const m=e?Fp(M,j):null,ne=ff(A,m,{domain:MI,args:N});n(ne)}}function r(S,A,M){const I={type:S};return e&&(I.start=A,I.end=A,I.loc={start:M,end:M}),I}function s(S,A,M,I){I&&(S.type=I),e&&(S.end=A,S.loc&&(S.loc.end=M))}function a(S,A){const M=S.context(),I=r(3,M.offset,M.startLoc);return I.value=A,s(I,S.currentOffset(),S.currentPosition()),I}function o(S,A){const M=S.context(),{lastOffset:I,lastStartLoc:N}=M,j=r(5,I,N);return j.index=parseInt(A,10),S.nextToken(),s(j,S.currentOffset(),S.currentPosition()),j}function u(S,A){const M=S.context(),{lastOffset:I,lastStartLoc:N}=M,j=r(4,I,N);return j.key=A,S.nextToken(),s(j,S.currentOffset(),S.currentPosition()),j}function c(S,A){const M=S.context(),{lastOffset:I,lastStartLoc:N}=M,j=r(9,I,N);return j.value=A.replace(BI,FI),S.nextToken(),s(j,S.currentOffset(),S.currentPosition()),j}function f(S){const A=S.nextToken(),M=S.context(),{lastOffset:I,lastStartLoc:N}=M,j=r(8,I,N);return A.type!==12?(i(S,vt.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),j.value="",s(j,I,N),{nextConsumeToken:A,node:j}):(A.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,hr(A)),j.value=A.value||"",s(j,S.currentOffset(),S.currentPosition()),{node:j})}function p(S,A){const M=S.context(),I=r(7,M.offset,M.startLoc);return I.value=A,s(I,S.currentOffset(),S.currentPosition()),I}function b(S){const A=S.context(),M=r(6,A.offset,A.startLoc);let I=S.nextToken();if(I.type===9){const N=f(S);M.modifier=N.node,I=N.nextConsumeToken||S.nextToken()}switch(I.type!==10&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(I)),I=S.nextToken(),I.type===2&&(I=S.nextToken()),I.type){case 11:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(I)),M.key=p(S,I.value||"");break;case 5:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(I)),M.key=u(S,I.value||"");break;case 6:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(I)),M.key=o(S,I.value||"");break;case 7:I.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(I)),M.key=c(S,I.value||"");break;default:i(S,vt.UNEXPECTED_EMPTY_LINKED_KEY,A.lastStartLoc,0);const N=S.context(),j=r(7,N.offset,N.startLoc);return j.value="",s(j,N.offset,N.startLoc),M.key=j,s(M,N.offset,N.startLoc),{nextConsumeToken:I,node:M}}return s(M,S.currentOffset(),S.currentPosition()),{node:M}}function C(S){const A=S.context(),M=A.currentType===1?S.currentOffset():A.offset,I=A.currentType===1?A.endLoc:A.startLoc,N=r(2,M,I);N.items=[];let j=null;do{const re=j||S.nextToken();switch(j=null,re.type){case 0:re.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(re)),N.items.push(a(S,re.value||""));break;case 6:re.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(re)),N.items.push(o(S,re.value||""));break;case 5:re.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(re)),N.items.push(u(S,re.value||""));break;case 7:re.value==null&&i(S,vt.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,hr(re)),N.items.push(c(S,re.value||""));break;case 8:const xe=b(S);N.items.push(xe.node),j=xe.nextConsumeToken||null;break}}while(A.currentType!==14&&A.currentType!==1);const m=A.currentType===1?A.lastOffset:S.currentOffset(),ne=A.currentType===1?A.lastEndLoc:S.currentPosition();return s(N,m,ne),N}function E(S,A,M,I){const N=S.context();let j=I.items.length===0;const m=r(1,A,M);m.cases=[],m.cases.push(I);do{const ne=C(S);j||(j=ne.items.length===0),m.cases.push(ne)}while(N.currentType!==14);return j&&i(S,vt.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),s(m,S.currentOffset(),S.currentPosition()),m}function L(S){const A=S.context(),{offset:M,startLoc:I}=A,N=C(S);return A.currentType===14?N:E(S,M,I,N)}function R(S){const A=NI(S,En({},t)),M=A.context(),I=r(0,M.offset,M.startLoc);return e&&I.loc&&(I.loc.source=S),I.body=L(A),t.onCacheKey&&(I.cacheKey=t.onCacheKey(S)),M.currentType!==14&&i(A,vt.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,S[M.offset]||""),s(I,A.currentOffset(),A.currentPosition()),I}return{parse:R}}function hr(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function jI(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function h_(t,e){for(let n=0;n<t.length;n++)_m(t[n],e)}function _m(t,e){switch(t.type){case 1:h_(t.cases,e),e.helper("plural");break;case 2:h_(t.items,e);break;case 6:_m(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function $I(t,e={}){const n=jI(t);n.helper("normalize"),t.body&&_m(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function HI(t){const e=t.body;return e.type===2?p_(e):e.cases.forEach(n=>p_(n)),t}function p_(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=mm(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}function fo(t){switch(t.t=t.type,t.type){case 0:const e=t;fo(e.body),e.b=e.body,delete e.body;break;case 1:const n=t,i=n.cases;for(let f=0;f<i.length;f++)fo(i[f]);n.c=i,delete n.cases;break;case 2:const r=t,s=r.items;for(let f=0;f<s.length;f++)fo(s[f]);r.i=s,delete r.items,r.static&&(r.s=r.static,delete r.static);break;case 3:case 9:case 8:case 7:const a=t;a.value&&(a.v=a.value,delete a.value);break;case 6:const o=t;fo(o.key),o.k=o.key,delete o.key,o.modifier&&(fo(o.modifier),o.m=o.modifier,delete o.modifier);break;case 5:const u=t;u.i=u.index,delete u.index;break;case 4:const c=t;c.k=c.key,delete c.key;break}delete t.type}function qI(t,e){const{sourceMap:n,filename:i,breakLineCode:r,needIndent:s}=e,a=e.location!==!1,o={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const u=()=>o;function c(R,S){o.code+=R}function f(R,S=!0){const A=S?r:"";c(s?A+"  ".repeat(R):A)}function p(R=!0){const S=++o.indentLevel;R&&f(S)}function b(R=!0){const S=--o.indentLevel;R&&f(S)}function C(){f(o.indentLevel)}return{context:u,push:c,indent:p,deindent:b,newline:C,helper:R=>`_${R}`,needIndent:()=>o.needIndent}}function VI(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Mo(t,e.key),e.modifier?(t.push(", "),Mo(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function WI(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(Mo(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function zI(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(Mo(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function GI(t,e){e.body?Mo(t,e.body):t.push("null")}function Mo(t,e){const{helper:n}=t;switch(e.type){case 0:GI(t,e);break;case 1:zI(t,e);break;case 2:WI(t,e);break;case 6:VI(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const KI=(t,e={})=>{const n=Ue(e.mode)?e.mode:"normal",i=Ue(e.filename)?e.filename:"message.intl",r=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],u=qI(t,{mode:n,filename:i,sourceMap:r,breakLineCode:s,needIndent:a});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(a),o.length>0&&(u.push(`const { ${mm(o.map(p=>`${p}: _${p}`),", ")} } = ctx`),u.newline()),u.push("return "),Mo(u,t),u.deindent(a),u.push("}"),delete t.helpers;const{code:c,map:f}=u.context();return{ast:t,code:c,map:f?f.toJSON():void 0}};function XI(t,e={}){const n=En({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=UI(n).parse(t);return i?(s&&HI(o),r&&fo(o),{ast:o,code:""}):($I(o,n),KI(o,n))}/*!
  * devtools-if v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const L1={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function YI(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(pm().__INTLIFY_PROD_DEVTOOLS__=!1)}const Bs=[];Bs[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bs[1]={w:[1],".":[2],"[":[4],o:[7]};Bs[2]={w:[2],i:[3,0],0:[3,0]};Bs[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bs[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bs[5]={"'":[4,0],o:8,l:[5,0]};Bs[6]={'"':[4,0],o:8,l:[6,0]};const QI=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function JI(t){return QI.test(t)}function ZI(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function eP(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function tP(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:JI(e)?ZI(e):"*"+e}function nP(t){const e=[];let n=-1,i=0,r=0,s,a,o,u,c,f,p;const b=[];b[0]=()=>{a===void 0?a=o:a+=o},b[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},b[2]=()=>{b[0](),r++},b[3]=()=>{if(r>0)r--,i=4,b[0]();else{if(r=0,a===void 0||(a=tP(a),a===!1))return!1;b[1]()}};function C(){const E=t[n+1];if(i===5&&E==="'"||i===6&&E==='"')return n++,o="\\"+E,b[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&C())){if(u=eP(s),p=Bs[i],c=p[u]||p.l||8,c===8||(i=c[0],c[1]!==void 0&&(f=b[c[1]],f&&(o=s,f()===!1))))return;if(i===7)return e}}const g_=new Map;function iP(t,e){return mt(t)?t[e]:null}function rP(t,e){if(!mt(t))return null;let n=g_.get(e);if(n||(n=nP(e),n&&g_.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const a=r[n[s]];if(a===void 0)return null;r=a,s++}return r}const sP=t=>t,aP=t=>"",oP="text",uP=t=>t.length===0?"":mm(t),lP=CI;function m_(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function cP(t){const e=vn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(vn(t.named.count)||vn(t.named.n))?vn(t.named.count)?t.named.count:vn(t.named.n)?t.named.n:e:e}function dP(t,e){e.count||(e.count=t),e.n||(e.n=t)}function fP(t={}){const e=t.locale,n=cP(t),i=mt(t.pluralRules)&&Ue(e)&&ln(t.pluralRules[e])?t.pluralRules[e]:m_,r=mt(t.pluralRules)&&Ue(e)&&ln(t.pluralRules[e])?m_:void 0,s=S=>S[i(n,S.length,r)],a=t.list||[],o=S=>a[S],u=t.named||{};vn(t.pluralIndex)&&dP(n,u);const c=S=>u[S];function f(S){const A=ln(t.messages)?t.messages(S):mt(t.messages)?t.messages[S]:!1;return A||(t.parent?t.parent.message(S):aP)}const p=S=>t.modifiers?t.modifiers[S]:sP,b=ft(t.processor)&&ln(t.processor.normalize)?t.processor.normalize:uP,C=ft(t.processor)&&ln(t.processor.interpolate)?t.processor.interpolate:lP,E=ft(t.processor)&&Ue(t.processor.type)?t.processor.type:oP,R={list:o,named:c,plural:s,linked:(S,...A)=>{const[M,I]=A;let N="text",j="";A.length===1?mt(M)?(j=M.modifier||j,N=M.type||N):Ue(M)&&(j=M||j):A.length===2&&(Ue(M)&&(j=M||j),Ue(I)&&(N=I||N));const m=f(S)(R),ne=N==="vnode"&&rn(m)&&j?m[0]:m;return j?p(j)(ne,N):ne},message:f,type:E,interpolate:C,normalize:b,values:En({},a,u)};return R}let Tl=null;function hP(t){Tl=t}function pP(t,e,n){Tl&&Tl.emit(L1.I18nInit,{timestamp:Date.now(),i18n:t,version:e,meta:n})}const gP=mP(L1.FunctionTranslate);function mP(t){return e=>Tl&&Tl.emit(t,e)}const yP={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function _P(t,e,n){return[...new Set([n,...rn(e)?e:mt(e)?Object.keys(e):Ue(e)?[e]:[n]])]}function I1(t,e,n){const i=Ue(n)?n:vm,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let a=[n];for(;rn(a);)a=y_(s,a,e);const o=rn(e)||!ft(e)?e:e.default?e.default:null;a=Ue(o)?[o]:o,rn(a)&&y_(s,a,!1),r.__localeChainCache.set(i,s)}return s}function y_(t,e,n){let i=!0;for(let r=0;r<e.length&&nn(i);r++){const s=e[r];Ue(s)&&(i=vP(t,e[r],n))}return i}function vP(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=bP(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function bP(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(rn(n)||ft(n))&&n[r]&&(i=n[r])}return i}const TP="9.3.0-beta.27",hf=-1,vm="en-US",__="",v_=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function xP(){return{upper:(t,e)=>e==="text"&&Ue(t)?t.toUpperCase():e==="vnode"&&mt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ue(t)?t.toLowerCase():e==="vnode"&&mt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ue(t)?v_(t):e==="vnode"&&mt(t)&&"__v_isVNode"in t?v_(t.children):t}}let P1;function EP(t){P1=t}let O1;function SP(t){O1=t}let R1;function CP(t){R1=t}let N1=null;const b_=t=>{N1=t},wP=()=>N1;let M1=null;const T_=t=>{M1=t},AP=()=>M1;let x_=0;function DP(t={}){const e=ln(t.onWarn)?t.onWarn:wI,n=Ue(t.version)?t.version:TP,i=Ue(t.locale)?t.locale:vm,r=rn(t.fallbackLocale)||ft(t.fallbackLocale)||Ue(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,s=ft(t.messages)?t.messages:{[i]:{}},a=ft(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},o=ft(t.numberFormats)?t.numberFormats:{[i]:{}},u=En({},t.modifiers||{},xP()),c=t.pluralRules||{},f=ln(t.missing)?t.missing:null,p=nn(t.missingWarn)||vd(t.missingWarn)?t.missingWarn:!0,b=nn(t.fallbackWarn)||vd(t.fallbackWarn)?t.fallbackWarn:!0,C=!!t.fallbackFormat,E=!!t.unresolving,L=ln(t.postTranslation)?t.postTranslation:null,R=ft(t.processor)?t.processor:null,S=nn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,A=!!t.escapeParameter,M=ln(t.messageCompiler)?t.messageCompiler:P1,I=ln(t.messageResolver)?t.messageResolver:O1||iP,N=ln(t.localeFallbacker)?t.localeFallbacker:R1||_P,j=mt(t.fallbackContext)?t.fallbackContext:void 0,m=t,ne=mt(m.__datetimeFormatters)?m.__datetimeFormatters:new Map,re=mt(m.__numberFormatters)?m.__numberFormatters:new Map,xe=mt(m.__meta)?m.__meta:{};x_++;const Z={version:n,cid:x_,locale:i,fallbackLocale:r,messages:s,modifiers:u,pluralRules:c,missing:f,missingWarn:p,fallbackWarn:b,fallbackFormat:C,unresolving:E,postTranslation:L,processor:R,warnHtmlMessage:S,escapeParameter:A,messageCompiler:M,messageResolver:I,localeFallbacker:N,fallbackContext:j,onWarn:e,__meta:xe};return Z.datetimeFormats=a,Z.numberFormats=o,Z.__datetimeFormatters=ne,Z.__numberFormatters=re,__INTLIFY_PROD_DEVTOOLS__&&pP(Z,n,xe),Z}function bm(t,e,n,i,r){const{missing:s,onWarn:a}=t;if(s!==null){const o=s(t,n,e,r);return Ue(o)?o:e}else return e}function Ru(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function Mh(t){return n=>kP(n,t)}function kP(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const i=n,r=i.c||i.cases;return t.plural(r.reduce((s,a)=>[...s,E_(t,a)],[]))}else return E_(t,n)}function E_(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const i=(e.i||e.items).reduce((r,s)=>[...r,Up(t,s)],[]);return t.normalize(i)}}function Up(t,e){const n=e.t||e.type;switch(n){case 3:const i=e;return i.v||i.value;case 9:const r=e;return r.v||r.value;case 4:const s=e;return t.interpolate(t.named(s.k||s.key));case 5:const a=e;return t.interpolate(t.list(a.i||a.index));case 6:const o=e,u=o.m||o.modifier;return t.linked(Up(t,o.k||o.key),u?Up(t,u):void 0,t.type);case 7:const c=e;return c.v||c.value;case 8:const f=e;return f.v||f.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const B1=vt.__EXTEND_POINT__,Fc=ym(B1),xa={INVALID_ARGUMENT:B1,INVALID_DATE_ARGUMENT:Fc(),INVALID_ISO_DATE_ARGUMENT:Fc(),NOT_SUPPORT_NON_STRING_MESSAGE:Fc(),__EXTEND_POINT__:Fc()};function po(t){return ff(t,null,void 0)}const LP=t=>t;let Uc=Object.create(null);const xl=t=>mt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function IP(t,e={}){let n=!1;const i=e.onError||DI;return e.onError=r=>{n=!0,i(r)},{...XI(t,e),detectError:n}}function PP(t,e){if(Ue(t)){nn(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||LP)(t),r=Uc[i];if(r)return r;const{ast:s,detectError:a}=IP(t,{...e,location:!1,jit:!0}),o=Mh(s);return a?o:Uc[i]=o}else{const n=t.cacheKey;if(n){const i=Uc[n];return i||(Uc[n]=Mh(t))}else return Mh(t)}}const S_=()=>"",Ji=t=>ln(t);function C_(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:a,messages:o}=t,[u,c]=jp(...e),f=nn(c.missingWarn)?c.missingWarn:t.missingWarn,p=nn(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,b=nn(c.escapeParameter)?c.escapeParameter:t.escapeParameter,C=!!c.resolvedMessage,E=Ue(c.default)||nn(c.default)?nn(c.default)?s?u:()=>u:c.default:n?s?u:()=>u:"",L=n||E!=="",R=Ue(c.locale)?c.locale:t.locale;b&&OP(c);let[S,A,M]=C?[u,R,o[R]||{}]:F1(t,u,R,a,p,f),I=S,N=u;if(!C&&!(Ue(I)||xl(I)||Ji(I))&&L&&(I=E,N=I),!C&&(!(Ue(I)||xl(I)||Ji(I))||!Ue(A)))return r?hf:u;let j=!1;const m=()=>{j=!0},ne=Ji(I)?I:U1(t,u,A,I,N,m);if(j)return I;const re=MP(t,A,M,c),xe=fP(re),Z=RP(t,ne,xe),ae=i?i(Z,u):Z;if(__INTLIFY_PROD_DEVTOOLS__){const Q={timestamp:Date.now(),key:Ue(u)?u:Ji(I)?I.key:"",locale:A||(Ji(I)?I.locale:""),format:Ue(I)?I:Ji(I)?I.source:"",message:ae};Q.meta=En({},t.__meta,wP()||{}),gP(Q)}return ae}function OP(t){rn(t.list)?t.list=t.list.map(e=>Ue(e)?d_(e):e):mt(t.named)&&Object.keys(t.named).forEach(e=>{Ue(t.named[e])&&(t.named[e]=d_(t.named[e]))})}function F1(t,e,n,i,r,s){const{messages:a,onWarn:o,messageResolver:u,localeFallbacker:c}=t,f=c(t,i,n);let p={},b,C=null;const E="translate";for(let L=0;L<f.length&&(b=f[L],p=a[b]||{},(C=u(p,e))===null&&(C=p[e]),!(Ue(C)||xl(C)||Ji(C)));L++){const R=bm(t,e,b,s,E);R!==e&&(C=R)}return[C,b,p]}function U1(t,e,n,i,r,s){const{messageCompiler:a,warnHtmlMessage:o}=t;if(Ji(i)){const c=i;return c.locale=c.locale||n,c.key=c.key||e,c}if(a==null){const c=()=>i;return c.locale=n,c.key=e,c}const u=a(i,NP(t,n,r,i,o,s));return u.locale=n,u.key=e,u.source=i,u}function RP(t,e,n){return e(n)}function jp(...t){const[e,n,i]=t,r={};if(!Ue(e)&&!vn(e)&&!Ji(e)&&!xl(e))throw po(xa.INVALID_ARGUMENT);const s=vn(e)?String(e):(Ji(e),e);return vn(n)?r.plural=n:Ue(n)?r.default=n:ft(n)&&!df(n)?r.named=n:rn(n)&&(r.list=n),vn(i)?r.plural=i:Ue(i)?r.default=i:ft(i)&&En(r,i),[s,r]}function NP(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:a=>{throw s&&s(a),a},onCacheKey:a=>TI(e,n,a)}}function MP(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:u,missingWarn:c,fallbackContext:f}=t,b={locale:e,modifiers:r,pluralRules:s,messages:C=>{let E=a(n,C);if(E==null&&f){const[,,L]=F1(f,C,e,o,u,c);E=a(L,C)}if(Ue(E)||xl(E)){let L=!1;const S=U1(t,C,e,E,C,()=>{L=!0});return L?S_:S}else return Ji(E)?E:S_}};return t.processor&&(b.processor=t.processor),i.list&&(b.list=i.list),i.named&&(b.named=i.named),vn(i.plural)&&(b.pluralIndex=i.plural),b}function w_(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:o}=t,[u,c,f,p]=$p(...e),b=nn(f.missingWarn)?f.missingWarn:t.missingWarn;nn(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const C=!!f.part,E=Ue(f.locale)?f.locale:t.locale,L=a(t,r,E);if(!Ue(u)||u==="")return new Intl.DateTimeFormat(E,p).format(c);let R={},S,A=null;const M="datetime format";for(let j=0;j<L.length&&(S=L[j],R=n[S]||{},A=R[u],!ft(A));j++)bm(t,u,S,b,M);if(!ft(A)||!Ue(S))return i?hf:u;let I=`${S}__${u}`;df(p)||(I=`${I}__${JSON.stringify(p)}`);let N=o.get(I);return N||(N=new Intl.DateTimeFormat(S,En({},A,p)),o.set(I,N)),C?N.formatToParts(c):N.format(c)}const j1=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function $p(...t){const[e,n,i,r]=t,s={};let a={},o;if(Ue(e)){const u=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw po(xa.INVALID_ISO_DATE_ARGUMENT);const c=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();o=new Date(c);try{o.toISOString()}catch{throw po(xa.INVALID_ISO_DATE_ARGUMENT)}}else if(EI(e)){if(isNaN(e.getTime()))throw po(xa.INVALID_DATE_ARGUMENT);o=e}else if(vn(e))o=e;else throw po(xa.INVALID_ARGUMENT);return Ue(n)?s.key=n:ft(n)&&Object.keys(n).forEach(u=>{j1.includes(u)?a[u]=n[u]:s[u]=n[u]}),Ue(i)?s.locale=i:ft(i)&&(a=i),ft(r)&&(a=r),[s.key||"",o,s,a]}function A_(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function D_(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:o}=t,[u,c,f,p]=Hp(...e),b=nn(f.missingWarn)?f.missingWarn:t.missingWarn;nn(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const C=!!f.part,E=Ue(f.locale)?f.locale:t.locale,L=a(t,r,E);if(!Ue(u)||u==="")return new Intl.NumberFormat(E,p).format(c);let R={},S,A=null;const M="number format";for(let j=0;j<L.length&&(S=L[j],R=n[S]||{},A=R[u],!ft(A));j++)bm(t,u,S,b,M);if(!ft(A)||!Ue(S))return i?hf:u;let I=`${S}__${u}`;df(p)||(I=`${I}__${JSON.stringify(p)}`);let N=o.get(I);return N||(N=new Intl.NumberFormat(S,En({},A,p)),o.set(I,N)),C?N.formatToParts(c):N.format(c)}const $1=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Hp(...t){const[e,n,i,r]=t,s={};let a={};if(!vn(e))throw po(xa.INVALID_ARGUMENT);const o=e;return Ue(n)?s.key=n:ft(n)&&Object.keys(n).forEach(u=>{$1.includes(u)?a[u]=n[u]:s[u]=n[u]}),Ue(i)?s.locale=i:ft(i)&&(a=i),ft(r)&&(a=r),[s.key||"",o,s,a]}function k_(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}YI();/*!
  * vue-i18n v9.3.0-beta.27
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const BP="9.3.0-beta.27";function FP(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(pm().__INTLIFY_PROD_DEVTOOLS__=!1)}const H1=yP.__EXTEND_POINT__,Ts=ym(H1);Ts(),Ts(),Ts(),Ts(),Ts(),Ts(),Ts(),Ts();const q1=xa.__EXTEND_POINT__,oi=ym(q1),Li={UNEXPECTED_RETURN_TYPE:q1,INVALID_ARGUMENT:oi(),MUST_BE_CALL_SETUP_TOP:oi(),NOT_INSTALLED:oi(),NOT_AVAILABLE_IN_LEGACY_MODE:oi(),REQUIRED_VALUE:oi(),INVALID_VALUE:oi(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:oi(),NOT_INSTALLED_WITH_PROVIDE:oi(),UNEXPECTED_ERROR:oi(),NOT_COMPATIBLE_LEGACY_VUE_I18N:oi(),BRIDGE_SUPPORT_VUE_2_ONLY:oi(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:oi(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:oi(),__EXTEND_POINT__:oi()};function qi(t,...e){return ff(t,null,void 0)}const qp=Ms("__translateVNode"),Vp=Ms("__datetimeParts"),Wp=Ms("__numberParts"),UP=Ms("__setPluralRules"),jP=Ms("__injectWithOption"),zp=Ms("__dispose");function Gp(t){if(!mt(t))return t;for(const e in t)if(gm(t,e))if(!e.includes("."))mt(t[e])&&Gp(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let a=0;a<i;a++){if(n[a]in r||(r[n[a]]={}),!mt(r[n[a]])){s=!0;break}r=r[n[a]]}s||(r[n[i]]=t[e],delete t[e]),mt(r[n[i]])&&Gp(r[n[i]])}return t}function V1(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,a=ft(n)?n:rn(i)?{}:{[t]:{}};if(rn(i)&&i.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:u,resource:c}=o;u?(a[u]=a[u]||{},al(c,a[u])):al(c,a)}else Ue(o)&&al(JSON.parse(o),a)}),r==null&&s)for(const o in a)gm(a,o)&&Gp(a[o]);return a}const jc=t=>!mt(t)||rn(t);function al(t,e){if(jc(t)||jc(e))throw qi(Li.INVALID_VALUE);for(const n in t)gm(t,n)&&(jc(t[n])||jc(e[n])?e[n]=t[n]:al(t[n],e[n]))}function W1(t){return t.type}function $P(t,e,n){let i=mt(e.messages)?e.messages:{};"__i18nGlobal"in n&&(i=V1(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(mt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(mt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function L_(t){return Vt(Oa,null,t,0)}const I_="__INTLIFY_META__";let P_=0;function O_(t){return(e,n,i,r)=>t(n,i,as()||void 0,r)}const HP=()=>{const t=as();let e=null;return t&&(e=W1(t)[I_])?{[I_]:e}:null};function z1(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0;let s=nn(t.inheritLocale)?t.inheritLocale:!0;const a=Mt(n&&s?n.locale.value:Ue(t.locale)?t.locale:vm),o=Mt(n&&s?n.fallbackLocale.value:Ue(t.fallbackLocale)||rn(t.fallbackLocale)||ft(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),u=Mt(V1(a.value,t)),c=Mt(ft(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),f=Mt(ft(t.numberFormats)?t.numberFormats:{[a.value]:{}});let p=n?n.missingWarn:nn(t.missingWarn)||vd(t.missingWarn)?t.missingWarn:!0,b=n?n.fallbackWarn:nn(t.fallbackWarn)||vd(t.fallbackWarn)?t.fallbackWarn:!0,C=n?n.fallbackRoot:nn(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,L=ln(t.missing)?t.missing:null,R=ln(t.missing)?O_(t.missing):null,S=ln(t.postTranslation)?t.postTranslation:null,A=n?n.warnHtmlMessage:nn(t.warnHtmlMessage)?t.warnHtmlMessage:!0,M=!!t.escapeParameter;const I=n?n.modifiers:ft(t.modifiers)?t.modifiers:{};let N=t.pluralRules||n&&n.pluralRules,j;j=(()=>{r&&T_(null);const te={version:BP,locale:a.value,fallbackLocale:o.value,messages:u.value,modifiers:I,pluralRules:N,missing:R===null?void 0:R,missingWarn:p,fallbackWarn:b,fallbackFormat:E,unresolving:!0,postTranslation:S===null?void 0:S,warnHtmlMessage:A,escapeParameter:M,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};te.datetimeFormats=c.value,te.numberFormats=f.value,te.__datetimeFormatters=ft(j)?j.__datetimeFormatters:void 0,te.__numberFormatters=ft(j)?j.__numberFormatters:void 0;const ue=DP(te);return r&&T_(ue),ue})(),Ru(j,a.value,o.value);function ne(){return[a.value,o.value,u.value,c.value,f.value]}const re=ht({get:()=>a.value,set:te=>{a.value=te,j.locale=a.value}}),xe=ht({get:()=>o.value,set:te=>{o.value=te,j.fallbackLocale=o.value,Ru(j,a.value,te)}}),Z=ht(()=>u.value),ae=ht(()=>c.value),Q=ht(()=>f.value);function he(){return ln(S)?S:null}function He(te){S=te,j.postTranslation=te}function Le(){return L}function Re(te){te!==null&&(R=O_(te)),L=te,j.missing=R}const Ve=(te,ue,be,Be,ut,st)=>{ne();let yt;try{__INTLIFY_PROD_DEVTOOLS__&&b_(HP()),r||(j.fallbackContext=n?AP():void 0),yt=te(j)}finally{__INTLIFY_PROD_DEVTOOLS__&&b_(null),r||(j.fallbackContext=void 0)}if(vn(yt)&&yt===hf){const[hn,_i]=ue();return n&&C?Be(n):ut(hn)}else{if(st(yt))return yt;throw qi(Li.UNEXPECTED_RETURN_TYPE)}};function bt(...te){return Ve(ue=>Reflect.apply(C_,null,[ue,...te]),()=>jp(...te),"translate",ue=>Reflect.apply(ue.t,ue,[...te]),ue=>ue,ue=>Ue(ue))}function Qt(...te){const[ue,be,Be]=te;if(Be&&!mt(Be))throw qi(Li.INVALID_ARGUMENT);return bt(ue,be,En({resolvedMessage:!0},Be||{}))}function $t(...te){return Ve(ue=>Reflect.apply(w_,null,[ue,...te]),()=>$p(...te),"datetime format",ue=>Reflect.apply(ue.d,ue,[...te]),()=>__,ue=>Ue(ue))}function xt(...te){return Ve(ue=>Reflect.apply(D_,null,[ue,...te]),()=>Hp(...te),"number format",ue=>Reflect.apply(ue.n,ue,[...te]),()=>__,ue=>Ue(ue))}function fn(te){return te.map(ue=>Ue(ue)||vn(ue)||nn(ue)?L_(String(ue)):ue)}const yi={normalize:fn,interpolate:te=>te,type:"vnode"};function Ht(...te){return Ve(ue=>{let be;const Be=ue;try{Be.processor=yi,be=Reflect.apply(C_,null,[Be,...te])}finally{Be.processor=null}return be},()=>jp(...te),"translate",ue=>ue[qp](...te),ue=>[L_(ue)],ue=>rn(ue))}function _e(...te){return Ve(ue=>Reflect.apply(D_,null,[ue,...te]),()=>Hp(...te),"number format",ue=>ue[Wp](...te),()=>[],ue=>Ue(ue)||rn(ue))}function Ie(...te){return Ve(ue=>Reflect.apply(w_,null,[ue,...te]),()=>$p(...te),"datetime format",ue=>ue[Vp](...te),()=>[],ue=>Ue(ue)||rn(ue))}function Ae(te){N=te,j.pluralRules=N}function Pe(te,ue){const be=Ue(ue)?ue:a.value,Be=P(be);return j.messageResolver(Be,te)!==null}function rt(te){let ue=null;const be=I1(j,o.value,a.value);for(let Be=0;Be<be.length;Be++){const ut=u.value[be[Be]]||{},st=j.messageResolver(ut,te);if(st!=null){ue=st;break}}return ue}function V(te){const ue=rt(te);return ue??(n?n.tm(te)||{}:{})}function P(te){return u.value[te]||{}}function B(te,ue){u.value[te]=ue,j.messages=u.value}function K(te,ue){u.value[te]=u.value[te]||{},al(ue,u.value[te]),j.messages=u.value}function ee(te){return c.value[te]||{}}function oe(te,ue){c.value[te]=ue,j.datetimeFormats=c.value,A_(j,te,ue)}function me(te,ue){c.value[te]=En(c.value[te]||{},ue),j.datetimeFormats=c.value,A_(j,te,ue)}function Ee(te){return f.value[te]||{}}function ve(te,ue){f.value[te]=ue,j.numberFormats=f.value,k_(j,te,ue)}function Se(te,ue){f.value[te]=En(f.value[te]||{},ue),j.numberFormats=f.value,k_(j,te,ue)}P_++,n&&Bp&&(xn(n.locale,te=>{s&&(a.value=te,j.locale=te,Ru(j,a.value,o.value))}),xn(n.fallbackLocale,te=>{s&&(o.value=te,j.fallbackLocale=te,Ru(j,a.value,o.value))}));const De={id:P_,locale:re,fallbackLocale:xe,get inheritLocale(){return s},set inheritLocale(te){s=te,te&&n&&(a.value=n.locale.value,o.value=n.fallbackLocale.value,Ru(j,a.value,o.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:Z,get modifiers(){return I},get pluralRules(){return N||{}},get isGlobal(){return r},get missingWarn(){return p},set missingWarn(te){p=te,j.missingWarn=p},get fallbackWarn(){return b},set fallbackWarn(te){b=te,j.fallbackWarn=b},get fallbackRoot(){return C},set fallbackRoot(te){C=te},get fallbackFormat(){return E},set fallbackFormat(te){E=te,j.fallbackFormat=E},get warnHtmlMessage(){return A},set warnHtmlMessage(te){A=te,j.warnHtmlMessage=te},get escapeParameter(){return M},set escapeParameter(te){M=te,j.escapeParameter=te},t:bt,getLocaleMessage:P,setLocaleMessage:B,mergeLocaleMessage:K,getPostTranslationHandler:he,setPostTranslationHandler:He,getMissingHandler:Le,setMissingHandler:Re,[UP]:Ae};return De.datetimeFormats=ae,De.numberFormats=Q,De.rt=Qt,De.te=Pe,De.tm=V,De.d=$t,De.n=xt,De.getDateTimeFormat=ee,De.setDateTimeFormat=oe,De.mergeDateTimeFormat=me,De.getNumberFormat=Ee,De.setNumberFormat=ve,De.mergeNumberFormat=Se,De[jP]=i,De[qp]=Ht,De[Vp]=Ie,De[Wp]=_e,De}const Tm={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function qP({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((i,r)=>[...i,...r.type===Rn?r.children:[r]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},{})}function G1(t){return Rn}const VP=ei({name:"i18n-t",props:En({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>vn(t)||!isNaN(t)}},Tm),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||nu({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(p=>p!=="_"),a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Ue(t.plural)?+t.plural:t.plural);const o=qP(e,s),u=r[qp](t.keypath,o,a),c=En({},i),f=Ue(t.tag)||mt(t.tag)?t.tag:G1();return Ln(f,c,u)}}}),R_=VP;function WP(t){return rn(t)&&!Ue(t[0])}function K1(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),Ue(t.format)?a.key=t.format:mt(t.format)&&(Ue(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((b,C)=>n.includes(C)?En({},b,{[C]:t.format[C]}):b,{}));const u=i(t.value,a,o);let c=[a.key];rn(u)?c=u.map((b,C)=>{const E=r[b.type],L=E?E({[b.type]:b.value,index:C,parts:u}):[b.value];return WP(L)&&(L[0].key=`${b.type}-${C}`),L}):Ue(u)&&(c=[u]);const f=En({},s),p=Ue(t.tag)||mt(t.tag)?t.tag:G1();return Ln(p,f,c)}}const zP=ei({name:"i18n-n",props:En({value:{type:Number,required:!0},format:{type:[String,Object]}},Tm),setup(t,e){const n=t.i18n||nu({useScope:"parent",__useComponent:!0});return K1(t,e,$1,(...i)=>n[Wp](...i))}}),N_=zP,GP=ei({name:"i18n-d",props:En({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Tm),setup(t,e){const n=t.i18n||nu({useScope:"parent",__useComponent:!0});return K1(t,e,j1,(...i)=>n[Vp](...i))}}),M_=GP;function KP(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function XP(t){const e=a=>{const{instance:o,modifiers:u,value:c}=a;if(!o||!o.$)throw qi(Li.UNEXPECTED_ERROR);const f=KP(t,o.$),p=B_(c);return[Reflect.apply(f.t,f,[...F_(p)]),f]};return{created:(a,o)=>{const[u,c]=e(o);Bp&&t.global===c&&(a.__i18nWatcher=xn(c.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=c,a.textContent=u},unmounted:a=>{Bp&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const u=a.__composer,c=B_(o);a.textContent=Reflect.apply(u.t,u,[...F_(c)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function B_(t){if(Ue(t))return{path:t};if(ft(t)){if(!("path"in t))throw qi(Li.REQUIRED_VALUE,"path");return t}else throw qi(Li.INVALID_VALUE)}function F_(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,a={},o=i||{};return Ue(n)&&(a.locale=n),vn(r)&&(a.plural=r),vn(s)&&(a.plural=s),[e,o,a]}function YP(t,e,...n){const i=ft(n[0])?n[0]:{},r=!!i.useI18nComponentName;(nn(i.globalInstall)?i.globalInstall:!0)&&([r?"i18n":R_.name,"I18nT"].forEach(a=>t.component(a,R_)),[N_.name,"I18nN"].forEach(a=>t.component(a,N_)),[M_.name,"I18nD"].forEach(a=>t.component(a,M_))),t.directive("t",XP(e))}const QP=Ms("global-vue-i18n");function JP(t={},e){const n=nn(t.globalInjection)?t.globalInjection:!0,i=!0,r=new Map,[s,a]=ZP(t),o=Ms("");function u(p){return r.get(p)||null}function c(p,b){r.set(p,b)}function f(p){r.delete(p)}{const p={get mode(){return"composition"},get allowComposition(){return i},async install(b,...C){if(b.__VUE_I18N_SYMBOL__=o,b.provide(b.__VUE_I18N_SYMBOL__,p),ft(C[0])){const R=C[0];p.__composerExtend=R.__composerExtend,p.__vueI18nExtend=R.__vueI18nExtend}let E=null;n&&(E=oO(b,p.global)),YP(b,p,...C);const L=b.unmount;b.unmount=()=>{E&&E(),p.dispose(),L()}},get global(){return a},dispose(){s.stop()},__instances:r,__getInstance:u,__setInstance:c,__deleteInstance:f};return p}}function nu(t={}){const e=as();if(e==null)throw qi(Li.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw qi(Li.NOT_INSTALLED);const n=eO(e),i=nO(n),r=W1(e),s=tO(t,r);if(s==="global")return $P(i,t,r),i;if(s==="parent"){let u=iO(n,e,t.__useComponent);return u==null&&(u=i),u}const a=n;let o=a.__getInstance(e);if(o==null){const u=En({},t);"__i18n"in r&&(u.__i18n=r.__i18n),i&&(u.__root=i),o=z1(u),a.__composerExtend&&(o[zp]=a.__composerExtend(o)),sO(a,e,o),a.__setInstance(e,o)}return o}function ZP(t,e,n){const i=Ug();{const r=i.run(()=>z1(t));if(r==null)throw qi(Li.UNEXPECTED_ERROR);return[i,r]}}function eO(t){{const e=kn(t.isCE?QP:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw qi(t.isCE?Li.NOT_INSTALLED_WITH_PROVIDE:Li.UNEXPECTED_ERROR);return e}}function tO(t,e){return df(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function nO(t){return t.mode==="composition"?t.global:t.global.__composer}function iO(t,e,n=!1){let i=null;const r=e.root;let s=rO(e,n);for(;s!=null;){const a=t;if(t.mode==="composition"&&(i=a.__getInstance(s)),i!=null||r===s)break;s=s.parent}return i}function rO(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function sO(t,e,n){tu(()=>{},e),em(()=>{const i=n;t.__deleteInstance(e);const r=i[zp];r&&(r(),delete i[zp])},e)}const aO=["locale","fallbackLocale","availableLocales"],U_=["t","rt","d","n","tm","te"];function oO(t,e){const n=Object.create(null);return aO.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s)throw qi(Li.UNEXPECTED_ERROR);const a=Yt(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,r,a)}),t.config.globalProperties.$i18n=n,U_.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s||!s.value)throw qi(Li.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,s)}),()=>{delete t.config.globalProperties.$i18n,U_.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}FP();EP(PP);SP(rP);CP(I1);if(__INTLIFY_PROD_DEVTOOLS__){const t=pm();t.__INTLIFY__=!0,hP(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const X1={PREFIX:"prefix",PREFIX_EXCEPT_DEFAULT:"prefix_except_default",PREFIX_AND_DEFAULT:"prefix_and_default",NO_PREFIX:"no_prefix"},uO="",lO=X1.PREFIX_EXCEPT_DEFAULT,cO=!1,dO="___",fO="default",hO="ltr",pO="",Y1="";/*!
  * shared v9.3.0-beta.26
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const gO=(t,e=!1)=>e?Symbol.for(t):Symbol(t),pf=Object.assign,Q1=Array.isArray,Kp=t=>typeof t=="function",Bo=t=>typeof t=="string",mO=t=>typeof t=="symbol",xm=t=>t!==null&&typeof t=="object",yO=/\/$|\/\?/;function Xp(t="",e=!1){return e?yO.test(t):t.endsWith("/")}function _O(t="",e=!1){if(!e)return(Xp(t)?t.slice(0,-1):t)||"/";if(!Xp(t,!0))return t||"/";const[n,...i]=t.split("?");return(n.slice(0,-1)||"/")+(i.length>0?`?${i.join("?")}`:"")}function vO(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(Xp(t,!0))return t||"/";const[n,...i]=t.split("?");return n+"/"+(i.length>0?`?${i.join("?")}`:"")}const bO=typeof window<"u";function J1(t,e){typeof console<"u"&&(console.warn("[vue-i18n-routing] "+t),e&&console.warn(e.stack))}function TO(t){t=t||[];const e=[];for(const n of t)Bo(n)?e.push({code:n}):e.push(n);return e}function Ma(t){return t!=null&&"global"in t&&"mode"in t}function iu(t){return t!=null&&!("__composer"in t)&&Yt(t.locale)}function Ba(t){return t!=null&&"__composer"in t}function Vl(t){return t!=null&&!("__composer"in t)&&!Yt(t.locale)}function gf(t){return t!=null&&("__VUE_I18N_BRIDGE__"in t||"_sync"in t)}function El(t){return Ma(t)?iu(t.global)?t.global:t.global.__composer:Ba(t)?t.__composer:t}function mf(t){const e=Ma(t)?t.global:t;return iu(e)?e.locale.value:(Vl(e)||Ba(e)||gf(e),e.locale)}function xO(t){const e=Ma(t)?t.global:t;return iu(e)?e.locales.value:(Vl(e)||Ba(e)||gf(e),e.locales)}function EO(t){const e=Ma(t)?t.global:t;return iu(e)?e.localeCodes.value:(Vl(e)||Ba(e)||gf(e),e.localeCodes)}function Z1(t,e){const n=Ma(t)?t.global:t;if(iu(n))n.locale.value=e;else if(Vl(n)||Ba(n)||gf(n))n.locale=e;else throw new Error("TODO:")}function e2(t){return Bo(t)?t:mO(t)?t.toString():"(null)"}function j_(t,e,{defaultLocale:n,strategy:i,routesNameSeparator:r,defaultLocaleRouteNameSuffix:s}){let a=e2(t)+(i==="no_prefix"?"":r+e);return e===n&&i==="prefix_and_default"&&(a+=r+s),a}function $_(t,e){return Kp(t)?t(e):t}function SO(t,e){const n=[];for(const[i,r]of e.entries()){const s=t.find(a=>a.iso.toLowerCase()===r.toLowerCase());if(s){n.push({code:s.code,score:1-i/e.length});break}}for(const[i,r]of e.entries()){const s=r.split("-")[0].toLowerCase(),a=t.find(o=>o.iso.split("-")[0].toLowerCase()===s);if(a){n.push({code:a.code,score:.999-i/e.length});break}}return n}const CO=SO;function wO(t,e){return t.score===e.score?e.code.length-t.code.length:e.score-t.score}const AO=wO;function DO(t,e,{matcher:n=CO,comparer:i=AO}={}){const r=[];for(const a of t){const{code:o}=a,u=a.iso||o;r.push({code:o,iso:u})}const s=n(r,e);return s.length>1&&s.sort(i),s.length?s[0].code:""}function da(t){return function(){return Reflect.apply(t,{getRouteBaseName:this.getRouteBaseName,localePath:this.localePath,localeRoute:this.localeRoute,localeLocation:this.localeLocation,resolveRoute:this.resolveRoute,switchLocalePath:this.switchLocalePath,localeHead:this.localeHead,i18n:this.$i18n,route:this.$route,router:this.$router},arguments)}}function kO(t,{locales:e=[],localeCodes:n=[],baseUrl:i=pO,hooks:r={},context:s={}}={}){const a=Ug(),o=t.install;return t.install=(u,...c)=>{const f=PO(c[0])?pf({},c[0]):{inject:!0};f.inject==null&&(f.inject=!0);const p=f.__composerExtend;if(f.__composerExtend=L=>{const R=El(t);L.locales=ht(()=>R.locales.value),L.localeCodes=ht(()=>R.localeCodes.value),L.baseUrl=ht(()=>R.baseUrl.value);let S;return Kp(p)&&(S=Reflect.apply(p,f,[L])),()=>{S&&S()}},t.mode==="legacy"){const L=f.__vueI18nExtend;f.__vueI18nExtend=R=>{H_(R,r.onExtendVueI18n);let S;return Kp(L)&&(S=Reflect.apply(L,f,[R])),()=>{S&&S()}}}c[0]=f,Reflect.apply(o,t,[u,...c]);const b=El(t);a.run(()=>{LO(b,{locales:e,localeCodes:n,baseUrl:i,hooks:r,context:s}),t.mode==="legacy"&&Ba(t.global)&&H_(t.global,r.onExtendVueI18n)});const C=u,E=t.mode==="composition"?C.config.globalProperties.$i18n:null;if(E&&IO(E,b,r.onExtendExportedGlobal),f.inject&&u.mixin({methods:{resolveRoute:da(_f),localePath:da(yf),localeRoute:da(Em),localeLocation:da(jO),switchLocalePath:da(Sl),getRouteBaseName:da(Fo),localeHead:da(r2)}}),C.unmount){const L=C.unmount;C.unmount=()=>{a.stop(),L()}}},a}function LO(t,e){const{locales:n,localeCodes:i,baseUrl:r,context:s}=e,a=Mt(n),o=Mt(i),u=Mt("");t.locales=ht(()=>a.value),t.localeCodes=ht(()=>o.value),t.baseUrl=ht(()=>u.value),bO?xn(t.locale,()=>{u.value=$_(r,s)},{immediate:!0}):u.value=$_(r,s),e.hooks&&e.hooks.onExtendComposer&&e.hooks.onExtendComposer(t)}function t2(t,e,n){const i=[{locales:{get(){return t.locales.value}},localeCodes:{get(){return t.localeCodes.value}},baseUrl:{get(){return t.baseUrl.value}}}];n&&i.push(n(t));for(const r of i)for(const[s,a]of Object.entries(r))Object.defineProperty(e,s,a)}function IO(t,e,n){t2(e,t,n)}function H_(t,e){const n=El(t);t2(n,t,e)}function PO(t){return xm(t)&&("inject"in t||"__composerExtend"in t||"__vueI18nExtend"in t)}const Yp=gO("vue-i18n-routing-gor");function OO(t,e){t[Yp]?J1("already registered global options"):t[Yp]=e}function RO(t){return t[Yp]??{}}function Qp(t){return new RegExp(`^/(${t.join("|")})(?:/|$)`,"i")}function NO(t,e,n){const i=`(${t.join("|")})`,r=`(?:${e}${n})?`,s=new RegExp(`${e}${i}${r}$`,"i"),a=Qp(t);return u=>{if(xm(u)){if(u.name){const f=(Bo(u.name)?u.name:u.name.toString()).match(s);if(f&&f.length>1)return f[1]}else if(u.path){const c=u.path.match(a);if(c&&c.length>1)return c[1]}}else if(Bo(u)){const c=u.match(a);if(c&&c.length>1)return c[1]}return""}}function Wl(t,e,{defaultLocale:n=uO,defaultDirection:i=hO,defaultLocaleRouteNameSuffix:r=fO,routesNameSeparator:s=dO,strategy:a=lO,trailingSlash:o=cO,localeCodes:u=[],prefixable:c=n2,switchLocalePathIntercepter:f=i2,dynamicRouteParamsKey:p=Y1}={}){const b=RO(t);return{defaultLocale:e.defaultLocale||b.defaultLocale||n,defaultDirection:e.defaultDirection||b.defaultDirection||i,defaultLocaleRouteNameSuffix:e.defaultLocaleRouteNameSuffix||b.defaultLocaleRouteNameSuffix||r,routesNameSeparator:e.routesNameSeparator||b.routesNameSeparator||s,strategy:e.strategy||b.strategy||a,trailingSlash:e.trailingSlash||b.trailingSlash||o,localeCodes:e.localeCodes||b.localeCodes||u,prefixable:e.prefixable||b.prefixable||c,switchLocalePathIntercepter:e.switchLocalePathIntercepter||b.switchLocalePathIntercepter||f,dynamicRouteParamsKey:e.dynamicRouteParamsKey||b.dynamicRouteParamsKey||p}}function MO(t,e){return[t.slice(0,e),t.slice(e)]}function BO(t,e,n,i){if(n==="prefix"){if(Q1(e.matched)&&e.matched.length>0)return e.matched[0];const[r,s]=MO(e.path,1),a=`${r}${i}${s===""?s:`/${s}`}`,o=t.options.routes.find(u=>u.path===a);if(o==null)return e;{const u=pf({},e,o);return u.path=a,t.resolve(u)}}else return t.resolve(e)}const FO=new Set(["prefix_and_default","prefix_except_default"]);function UO(t){const{currentLocale:e,defaultLocale:n,strategy:i}=t;return!(e===n&&FO.has(i))&&i!=="no_prefix"}const n2=UO;function Fo(t){const e=this.router,{routesNameSeparator:n}=Wl(e,this),i=t!=null?Yt(t)?Dt(t):t:this.route;return i==null||!i.name?void 0:e2(i.name).split(n)[0]}function yf(t,e){const n=_f.call(this,t,e);return n==null?"":n.redirectedFrom||n.fullPath}function Em(t,e){const n=_f.call(this,t,e);return n??void 0}function jO(t,e){const n=_f.call(this,t,e);return n??void 0}function _f(t,e){const n=this.router,i=this.i18n,r=e||mf(i),{routesNameSeparator:s,defaultLocale:a,defaultLocaleRouteNameSuffix:o,strategy:u,trailingSlash:c,prefixable:f}=Wl(n,this);let p=t;if(Bo(t))if(p[0]==="/"){const[C,E]=t.split("?"),L=Object.fromEntries(new URLSearchParams(E));p={path:C,query:L}}else p={name:t};let b=pf({},p);if(b.path&&!b.name){let C=null;try{C=BO(n,b,u,r)}catch{}const E=C,L=Fo.call(this,E);Bo(L)?(b={name:j_(L,r,{defaultLocale:a,strategy:u,routesNameSeparator:s,defaultLocaleRouteNameSuffix:o}),params:E.params,query:E.query,hash:E.hash},b.state=E.state):(f({currentLocale:r,defaultLocale:a,strategy:u})&&(b.path=`/${r}${b.path}`),b.path=c?vO(b.path,!0):_O(b.path,!0))}else!b.name&&!b.path&&(b.name=Fo.call(this,this.route)),b.name=j_(b.name,r,{defaultLocale:a,strategy:u,routesNameSeparator:s,defaultLocaleRouteNameSuffix:o});try{const C=n.resolve(b);return(pI?C.name:C.route.name)?C:n.resolve(t)}catch(C){if(C.type===1)return null}}const i2=t=>t;function $O(t,e){const n={};if(e===Y1)return n;const i=t.meta;return Yt(i)?i.value[e]||n:i[e]||n}function Sl(t){const e=this.route,n=Fo.call(this,e);if(!n)return"";const{switchLocalePathIntercepter:i,dynamicRouteParamsKey:r}=Wl(this.router,this),{params:s,...a}=e,o=$O(e,r)[t]||{},u={name:n,params:{...s,...o}},c=pf({},a,u);let f=yf.call(this,c,t);return f=i(f,t),f}function r2({addDirAttribute:t=!1,addSeoAttributes:e=!1,identifierAttribute:n="hid"}={}){const i=this.router,r=this.i18n,{defaultDirection:s}=Wl(i,this),a={htmlAttrs:{},link:[],meta:[]};if(r.locales==null||r.baseUrl==null)return a;const o=mf(r),u=xO(r),c=TO(u).find(b=>b.code===o)||{code:o},f=c.iso,p=c.dir||s;return t&&(a.htmlAttrs.dir=p),e&&o&&r.locales&&(f&&(a.htmlAttrs.lang=f),HO.call(this,u,Dt(r.baseUrl),a.link,n),qO.call(this,Dt(r.baseUrl),a.link,a.meta,n,e),VO(c,f,a.meta,n),WO(u,f,a.meta,n)),a}function HO(t,e,n,i){const r=this.router,{defaultLocale:s,strategy:a}=Wl(r,this);if(a===X1.NO_PREFIX)return;const o=new Map;for(const u of t){const c=u.iso;if(!c){J1("Locale ISO code is required to generate alternate link");continue}const[f,p]=c.split("-");f&&p&&(u.isCatchallLocale||!o.has(f))&&o.set(f,u),o.set(c,u)}for(const[u,c]of o.entries()){const f=Sl.call(this,c.code);f&&n.push({[i]:`i18n-alt-${u}`,rel:"alternate",href:Jp(f,e),hreflang:u})}if(s){const u=Sl.call(this,s);u&&n.push({[i]:"i18n-xd",rel:"alternate",href:Jp(u,e),hreflang:"x-default"})}}function qO(t,e,n,i,r){const s=this.route,a=Em.call(this,{...s,name:Fo.call(this,s)});if(a){let o=Jp(a.path,t);const u=xm(r)&&r.canonicalQueries||[];if(u.length){const c=a.query,f=new URLSearchParams;for(const b of u)if(b in c){const C=c[b];Q1(C)?C.forEach(E=>f.append(b,E||"")):f.append(b,C||"")}const p=f.toString();p&&(o=`${o}?${p}`)}e.push({[i]:"i18n-can",rel:"canonical",href:o}),n.push({[i]:"i18n-og-url",property:"og:url",content:o})}}function VO(t,e,n,i){t&&e&&n.push({[i]:"i18n-og",property:"og:locale",content:s2(e)})}function WO(t,e,n,i){const r=t.filter(s=>{const a=s.iso;return a&&a!==e});if(r.length){const s=r.map(a=>({[i]:`i18n-og-alt-${a.iso}`,property:"og:locale:alternate",content:s2(a.iso)}));n.push(...s)}}function s2(t){return(t||"").replace(/-/g,"_")}function Jp(t,e){return t.match(/^https?:\/\//)?t:e+t}function a2(t,e){const{router:n,route:i,i18n:r,defaultLocale:s,strategy:a,defaultLocaleRouteNameSuffix:o,trailingSlash:u,routesNameSeparator:c}=t;return function(...f){return Reflect.apply(e,{router:n,route:i,i18n:r,defaultLocale:s,strategy:a,defaultLocaleRouteNameSuffix:o,trailingSlash:u,routesNameSeparator:c},f)}}function u6({router:t=A1(),route:e=hm(),i18n:n=nu(),defaultLocale:i=void 0,defaultLocaleRouteNameSuffix:r=void 0,routesNameSeparator:s=void 0,strategy:a=void 0,trailingSlash:o=void 0}={}){return a2({router:t,route:e,i18n:n,defaultLocale:i,defaultLocaleRouteNameSuffix:r,routesNameSeparator:s,strategy:a,trailingSlash:o},yf)}function zO({router:t=A1(),route:e=hm(),i18n:n=nu(),defaultLocale:i=void 0,defaultLocaleRouteNameSuffix:r=void 0,routesNameSeparator:s=void 0,strategy:a=void 0,trailingSlash:o=void 0}={}){return a2({router:t,route:e,i18n:n,defaultLocale:i,defaultLocaleRouteNameSuffix:r,routesNameSeparator:s,strategy:a,trailingSlash:o},Sl)}const to=["en","zh-Hant"],GO={en:[{key:"../src/locales/en-US.json",load:()=>li(()=>import("./en-US.ebea1b68.js"),[],import.meta.url)}],"zh-Hant":[{key:"../src/locales/zh-Hant.json",load:()=>li(()=>import("./zh-Hant.15b96309.js"),[],import.meta.url)}]},KO=async t=>{var n;const e=Object({});return e.experimental=Object({jsTsFormatResource:!1}),e.bundle=Object({compositionOnly:!0,runtimeOnly:!1,fullInstall:!0,dropMessageCompiler:!1}),e.compilation=Object({jit:!0,strictMessage:!0,escapeHtml:!1}),e.customBlocks=Object({defaultSFCLang:"json",globalSFCScope:!1}),e.vueI18n=Object({}),(n=e.vueI18n).messages??(n.messages={}),e.locales=[Object({code:"en",files:["locales/en-US.json"],hashes:["72089bf0"],types:["static"]}),Object({code:"zh-Hant",files:["locales/zh-Hant.json"],hashes:["f4a8e93c"],types:["static"]})],e.defaultLocale="zh-Hant",e.defaultDirection="ltr",e.routesNameSeparator="___",e.trailingSlash=!1,e.defaultLocaleRouteNameSuffix="default",e.strategy="prefix_except_default",e.lazy=!0,e.langDir="locales/",e.rootRedirect=null,e.detectBrowserLanguage=Object({alwaysRedirect:!1,cookieCrossOrigin:!1,cookieDomain:null,cookieKey:"i18n_redirected",cookieSecure:!1,fallbackLocale:"",redirectOn:"root",useCookie:!0}),e.differentDomains=!1,e.baseUrl="",e.dynamicRouteParams=!1,e.customRoutes="page",e.pages=Object({}),e.skipSettingLocaleOnNavigate=!1,e.types="composition",e.debug=!1,e.parallelPlugin=!1,e.i18nModules=[],e},Ai=Object({experimental:Object({jsTsFormatResource:!1}),bundle:Object({compositionOnly:!0,runtimeOnly:!1,fullInstall:!0,dropMessageCompiler:!1}),compilation:Object({jit:!0,strictMessage:!0,escapeHtml:!1}),customBlocks:Object({defaultSFCLang:"json",globalSFCScope:!1}),vueI18n:"",locales:[],defaultLocale:"",defaultDirection:"ltr",routesNameSeparator:"___",trailingSlash:!1,defaultLocaleRouteNameSuffix:"default",strategy:"prefix_except_default",lazy:!1,langDir:null,rootRedirect:null,detectBrowserLanguage:Object({alwaysRedirect:!1,cookieCrossOrigin:!1,cookieDomain:null,cookieKey:"i18n_redirected",cookieSecure:!1,fallbackLocale:"",redirectOn:"root",useCookie:!0}),differentDomains:!1,baseUrl:"",dynamicRouteParams:!1,customRoutes:"page",pages:Object({}),skipSettingLocaleOnNavigate:!1,types:"composition",debug:!1,parallelPlugin:!1}),Zp=Object({__normalizedLocales:[Object({code:"en",files:["locales/en-US.json"],hashes:["72089bf0"],types:["static"]}),Object({code:"zh-Hant",files:["locales/zh-Hant.json"],hashes:["f4a8e93c"],types:["static"]})]}),o2="@nuxtjs/i18n",XO=!1,YO=!1;/*! js-cookie v3.0.5 | MIT */function $c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var QO={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function eg(t,e){function n(r,s,a){if(!(typeof document>"u")){a=$c({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var u in a)a[u]&&(o+="; "+u,a[u]!==!0&&(o+="="+a[u].split(";")[0]));return document.cookie=r+"="+t.write(s,r)+o}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var u=s[o].split("="),c=u.slice(1).join("=");try{var f=decodeURIComponent(u[0]);if(a[f]=t.read(c,f),r===f)break}catch{}}return r?a[r]:a}}return Object.create({set:n,get:i,remove:function(r,s){n(r,"",$c({},s,{expires:-1}))},withAttributes:function(r){return eg(this.converter,$c({},this.attributes,r))},withConverter:function(r){return eg($c({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var u2=eg(QO,{path:"/"});function bd(t){return o2+" "+t}function JO(t){return t!=null&&("__VUE_I18N_BRIDGE__"in t||"_sync"in t)}function vf(t,e,...n){const i=Ma(t)?t.global:t,[r,s]=[i,i[e]];return Reflect.apply(s,r,[...n])}function ZO(t,e){const n=Ma(t)?t.global:t;return iu(n)?n[e].value:(Vl(n)||Ba(n)||JO(n),n[e])}function q_(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function eR(t,e){return function(){return Reflect.apply(e,{i18n:t.$i18n,getRouteBaseName:t.$getRouteBaseName,localePath:t.$localePath,localeRoute:t.$localeRoute,switchLocalePath:t.$switchLocalePath,localeHead:t.$localeHead,route:t.$router.currentRoute.value,router:t.$router},arguments)}}function tg(t,e,n){for(const i in t)rn(t[i])?(rn(e[i])||(e[i]=[]),t[i].forEach((r,s)=>{if(!e[i][s]){const a={};tg(r,a,n),e[i].push(a)}})):mt(t[i])?(mt(e[i])||(e[i]={}),tg(t[i],e[i],n)):n?n(t[i],e[i])&&(e[i]=t[i]):e[i]=t[i]}const ng=new Map;async function tR(t,{key:e,load:n},i){var a,o;const r=(a=t.$config.public)==null?void 0:a.i18n;let s=null;try{const u=await n().then(c=>c.default||c);ln(u)?(o=r.experimental)!=null&&o.jsTsFormatResource?s=await u(i):console.warn(bd("JS / TS extension format is not supported by default. This can be enabled by setting `i18n.experimental.jsTsFormatResource: true` (experimental)")):(s=u,s!=null&&ng.set(e,s))}catch(u){console.error(bd("Failed locale loading: "+u.message))}return s}async function Td(t,e,n){const i=GO[e];if(i==null){console.warn(bd("Could not find messages for locale code"+e));return}const r={};for(const s of i){let a=null;ng.has(s.key)?a=ng.get(s.key):a=await tR(t,s,e),a!=null&&tg(a,r)}n(e,r)}function l2(t,e){let n;return navigator.languages&&(n=DO(t.__normalizedLocales,navigator.languages)),n}function Sm(t,{useCookie:e=Ai.detectBrowserLanguage.useCookie,cookieKey:n=Ai.detectBrowserLanguage.cookieKey,localeCodes:i=[]}={}){if(e){let r;if(r=u2.get(n),r&&i.includes(r))return r}}function nR(t,e,{useCookie:n=Ai.detectBrowserLanguage.useCookie,cookieKey:i=Ai.detectBrowserLanguage.cookieKey,cookieDomain:r=Ai.detectBrowserLanguage.cookieDomain,cookieSecure:s=Ai.detectBrowserLanguage.cookieSecure,cookieCrossOrigin:a=Ai.detectBrowserLanguage.cookieCrossOrigin}={}){if(!n)return;const o=new Date,u={expires:new Date(o.setDate(o.getDate()+365)),path:"/",sameSite:a?"none":"lax",secure:a||s};r&&(u.domain=r),u2.set(i,t,u)}const iR={locale:"",stat:!1,reason:"unknown",from:"unknown"};function rR(t,e,n,i,r,s=[],a=""){const{strategy:o}=n,{ssg:u,callType:c,firstAccess:f}=r;if(!f)return{locale:"",stat:!1,reason:"first_access_only"};const{redirectOn:p,alwaysRedirect:b,useCookie:C,fallbackLocale:E}=n.detectBrowserLanguage,L=Ue(t)?t:t.path;if(o!=="no_prefix"){if(p==="root"){if(L!=="/")return{locale:"",stat:!1,reason:"not_redirect_on_root"}}else if(p==="no prefix"&&!b&&L.match(Qp(s)))return{locale:"",stat:!1,reason:"not_redirect_on_no_prefix"}}let R="unknown",S,A;C&&(A=S=Sm(e,{...n.detectBrowserLanguage,localeCodes:s}),R="cookie"),A||(A=l2(i),R="navigator_or_header");const M=A||E;!A&&E&&(R="fallback");const I=a||n.vueI18n.locale;if(M&&(!C||b||!S)){if(o==="no_prefix")return{locale:M,stat:!0,from:R};if(c==="setup"&&M!==I)return{locale:M,stat:!0,from:R};if(b){const N=L==="/",j=p==="all",m=p==="no prefix"&&!L.match(Qp(s));if(N||j||m)return{locale:M,stat:!0,from:R}}}return u==="ssg_setup"&&M?{locale:M,stat:!0,from:R}:(R==="navigator_or_header"||R==="cookie")&&M?{locale:M,stat:!0,from:R}:{locale:"",stat:!1,reason:"not_found_match"}}function sR(){let t;return t=window.location.host,t}function aR(t){let e=sR()||"";if(e){const n=t.find(i=>i.domain===e);if(n)return n.code;e=""}return e}function c2(t,e,n){const i=e.find(r=>r.code===t);if(i&&i.domain){if(Zr(i.domain))return i.domain;let r;return r=new URL(window.location.origin).protocol,r+"://"+i.domain}console.warn(bd("Could not find domain name for locale "+t))}function oR(t,e){return vf(t,"setLocaleCookie",e)}function uR(t,e,n){return vf(t,"mergeLocaleMessage",e,n)}function lR(t,e,n,i,r){return vf(t,"onBeforeLanguageSwitch",e,n,i,r)}function cR(t,e,n){return vf(t,"onLanguageSwitched",e,n)}function d2(t,e){let n=[];if(rn(t))n=t;else if(mt(t)){const i=[...e,"default"];for(const r of i)t[r]&&(n=[...n,...t[r].filter(Boolean)])}else Ue(t)&&e.every(i=>i!==t)&&n.push(t);return n}async function dR(t,e,n){const{defaultLocale:i,initialLocale:r,localeCodes:s,fallbackLocale:a,lazy:o}=n,u=(f,p)=>{const b=e[f]||{};e[f]={...b,...p}};if(o&&a){const f=d2(a,[i,r]);await Promise.all(f.map(p=>Td(t,p,u)))}const c=o?[...new Set().add(i).add(r)]:s;return await Promise.all(c.map(f=>Td(t,f,u))),e}async function V_(t,e,n,{useCookie:i=Ai.detectBrowserLanguage.useCookie,skipSettingLocaleOnNavigate:r=Ai.skipSettingLocaleOnNavigate,differentDomains:s=Ai.differentDomains,initial:a=!1,lazy:o=!1}={}){let u=!1;const c=mf(n);if(!t)return[u,c];if(!a&&s)return[u,c];if(c===t)return[u,c];const f=await lR(n,c,t,a,e),p=EO(n);if(f&&p&&p.includes(f)){if(f===c)return[u,c];t=f}const b=ZO(n,"fallbackLocale");if(o){const C=(E,L)=>uR(n,E,L);if(b){const E=d2(b,[t]);await Promise.all(E.map(L=>Td(e,L,C)))}await Td(e,t,C)}return r?[u,c]:(i&&oR(n,t),Z1(n,t),await cR(n,c,t),u=!0,[u,c])}function W_(t,e,n,i,r,s,a,o=[]){const{strategy:u,defaultLocale:c,differentDomains:f}=i,p=ln(r)?r():r,{locale:b,stat:C,reason:E,from:L}=i.detectBrowserLanguage?rR(t,e,i,Zp,s,o,p):iR;if(E==="detect_ignore_on_ssg")return p;if((L==="navigator_or_header"||L==="cookie"||L==="fallback")&&b)return b;let R=b;return R||(f?R=aR(a):u!=="no_prefix"?R=n(t):i.detectBrowserLanguage||(R=p)),!R&&i.detectBrowserLanguage&&i.detectBrowserLanguage.useCookie&&(R=Sm(e,{...i.detectBrowserLanguage,localeCodes:o})||""),R||(R=c||""),R}function z_({route:t,context:e,targetLocale:n,routeLocaleGetter:i,nuxtI18nOptions:r,calledWithRouting:s=!1}){const{strategy:a,differentDomains:o}=r;let u="";const{fullPath:c}=t.to;if(!o&&(s||a!=="no_prefix"&&a!=="prefix_and_default")&&i(t.to)!==n){const f=e.$switchLocalePath(n)||e.$localePath(c,n);Ue(f)&&f&&!Sp(f,c)&&!f.startsWith("//")&&(u=t.from&&t.from.fullPath===f?"":f)}if((o||XO)&&i(t.to)!==n){const p=zO({i18n:El(e.$i18n),route:t.to,router:e.$router})(n);Ue(p)&&p&&!Sp(p,c)&&!p.startsWith("//")&&(u=p)}return u}function fR(t){return mt(t)&&"path"in t&&"statusCode"in t}const hR=()=>cm(o2+":redirect",()=>"");function G_(t,e){return Fk(t,{redirectCode:e})}async function K_(t,{status:e=302,rootRedirect:n=Ai.rootRedirect,differentDomains:i=Ai.differentDomains,skipSettingLocaleOnNavigate:r=Ai.skipSettingLocaleOnNavigate,enableNavigate:s=!1}={}){const{i18n:a,locale:o,route:u}=t;let{redirectPath:c}=t;if(u.path==="/"&&n)return Ue(n)?c="/"+n:fR(n)&&(c="/"+n.path,e=n.statusCode),G_(c,e);if(!(r&&(a.__pendingLocale=o,a.__pendingLocalePromise=new Promise(f=>{a.__resolvePendingLocalePromise=f}),!s))){if(i){const f=hR();f.value&&f.value!==c&&(f.value="",window.location.assign(c))}else if(c)return G_(c,e)}}function pR(t,e){q_(t,"$i18n",e.global);for(const n of[["getRouteBaseName",Fo],["localePath",yf],["localeRoute",Em],["switchLocalePath",Sl],["localeHead",r2]])q_(t,"$"+n[0],eR(t,n[1]))}function gR(t){return e=>n2(e)&&!t}function mR(t,e,n){return(i,r)=>{if(t){const s=c2(r,e);return s?es(s,i):i}else return i2(i)}}function yR(t,e){return n=>{var u,c;if(ln(t))return t(n);const{differentDomains:i,localeCodeLoader:r,normalizedLocales:s}=e,a=ln(r)?r():r;if(i&&a){const f=c2(a,s,e.nuxt);if(f)return f}const o=(c=(u=n.$config)==null?void 0:u.public)==null?void 0:c.i18n;return o!=null&&o.baseUrl?o.baseUrl:t}}const _R=Fn({name:"i18n:plugin",parallel:YO,async setup(t){let e,n;const i=Or(),r=of(),{vueApp:s}=t,a=t,o=([e,n]=Da(()=>KO()),e=await e,n(),e),u=o.detectBrowserLanguage&&o.detectBrowserLanguage.useCookie,{__normalizedLocales:c}=Zp,{defaultLocale:f,differentDomains:p,skipSettingLocaleOnNavigate:b,lazy:C,routesNameSeparator:E,defaultLocaleRouteNameSuffix:L,strategy:R,rootRedirect:S}=o;o.baseUrl=yR(o.baseUrl,{differentDomains:p,nuxt:a,localeCodeLoader:f,normalizedLocales:c});const A=NO(to,E,L),M=o.vueI18n;M.messages=M.messages||{},M.fallbackLocale=M.fallbackLocale??!1,OO(i,{...o,dynamicRouteParamsKey:"nuxtI18n",switchLocalePathIntercepter:mR(p,c),prefixable:gR(p)});const I=Z=>Z||M.locale||"en-US";let N=W_(r,t.ssrContext,A,o,I(f),{ssg:"normal",callType:"setup",firstAccess:!0},c,to);M.messages=([e,n]=Da(()=>dR(a,M.messages,{...o,initialLocale:N,fallbackLocale:M.fallbackLocale,localeCodes:to})),e=await e,n(),e),N=I(N);const j=JP({...M,locale:N});let m=!0;const ne=Z=>N!==Z&&m;kO(j,{locales:o.locales,localeCodes:to,baseUrl:o.baseUrl,context:a,hooks:{onExtendComposer(Z){Z.strategy=R,Z.localeProperties=ht(()=>c.find(ae=>ae.code===Z.locale.value)||{code:Z.locale.value}),Z.setLocale=async ae=>{const Q=ne(ae),[he]=await V_(ae,a,j,{useCookie:u,differentDomains:p,initial:Q,skipSettingLocaleOnNavigate:b,lazy:C});he&&Q&&(m=!1);const He=z_({route:{to:r},context:a,targetLocale:ae,routeLocaleGetter:A,nuxtI18nOptions:o});await K_({i18n:j,redirectPath:He,locale:ae,route:r},{differentDomains:p,skipSettingLocaleOnNavigate:b,rootRedirect:S,enableNavigate:!0})},Z.differentDomains=p,Z.defaultLocale=f,Z.getBrowserLocale=()=>l2(Zp,t.ssrContext),Z.getLocaleCookie=()=>Sm(t.ssrContext,{...o.detectBrowserLanguage,localeCodes:to}),Z.setLocaleCookie=ae=>nR(ae,t.ssrContext,o.detectBrowserLanguage||void 0),Z.onBeforeLanguageSwitch=(ae,Q,he,He)=>t.callHook("i18n:beforeLocaleSwitch",{oldLocale:ae,newLocale:Q,initialSetup:he,context:He}),Z.onLanguageSwitched=(ae,Q)=>t.callHook("i18n:localeSwitched",{oldLocale:ae,newLocale:Q}),Z.finalizePendingLocaleChange=async()=>{j.__pendingLocale&&(Z1(j,j.__pendingLocale),j.__resolvePendingLocalePromise&&await j.__resolvePendingLocalePromise(),j.__pendingLocale=void 0)},Z.waitForPendingLocaleChange=async()=>{j.__pendingLocale&&j.__pendingLocalePromise&&await j.__pendingLocalePromise}},onExtendExportedGlobal(Z){return{strategy:{get(){return Z.strategy}},localeProperties:{get(){return Z.localeProperties.value}},setLocale:{get(){return async ae=>Reflect.apply(Z.setLocale,Z,[ae])}},differentDomains:{get(){return Z.differentDomains}},defaultLocale:{get(){return Z.defaultLocale}},getBrowserLocale:{get(){return()=>Reflect.apply(Z.getBrowserLocale,Z,[])}},getLocaleCookie:{get(){return()=>Reflect.apply(Z.getLocaleCookie,Z,[])}},setLocaleCookie:{get(){return ae=>Reflect.apply(Z.setLocaleCookie,Z,[ae])}},onBeforeLanguageSwitch:{get(){return(ae,Q,he,He)=>Reflect.apply(Z.onBeforeLanguageSwitch,Z,[ae,Q,he,He])}},onLanguageSwitched:{get(){return(ae,Q)=>Reflect.apply(Z.onLanguageSwitched,Z,[ae,Q])}},finalizePendingLocaleChange:{get(){return()=>Reflect.apply(Z.finalizePendingLocaleChange,Z,[])}},waitForPendingLocaleChange:{get(){return()=>Reflect.apply(Z.waitForPendingLocaleChange,Z,[])}}}},onExtendVueI18n(Z){return{strategy:{get(){return Z.strategy}},localeProperties:{get(){return Z.localeProperties.value}},setLocale:{get(){return async ae=>Reflect.apply(Z.setLocale,Z,[ae])}},differentDomains:{get(){return Z.differentDomains}},defaultLocale:{get(){return Z.defaultLocale}},getBrowserLocale:{get(){return()=>Reflect.apply(Z.getBrowserLocale,Z,[])}},getLocaleCookie:{get(){return()=>Reflect.apply(Z.getLocaleCookie,Z,[])}},setLocaleCookie:{get(){return ae=>Reflect.apply(Z.setLocaleCookie,Z,[ae])}},onBeforeLanguageSwitch:{get(){return(ae,Q,he,He)=>Reflect.apply(Z.onBeforeLanguageSwitch,Z,[ae,Q,he,He])}},onLanguageSwitched:{get(){return(ae,Q)=>Reflect.apply(Z.onLanguageSwitched,Z,[ae,Q])}},finalizePendingLocaleChange:{get(){return()=>Reflect.apply(Z.finalizePendingLocaleChange,Z,[])}},waitForPendingLocaleChange:{get(){return()=>Reflect.apply(Z.waitForPendingLocaleChange,Z,[])}}}}}});const re={__composerExtend:Z=>{const ae=El(j);return Z.strategy=ae.strategy,Z.localeProperties=ht(()=>ae.localeProperties.value),Z.setLocale=ae.setLocale,Z.differentDomains=ae.differentDomains,Z.getBrowserLocale=ae.getBrowserLocale,Z.getLocaleCookie=ae.getLocaleCookie,Z.setLocaleCookie=ae.setLocaleCookie,Z.onBeforeLanguageSwitch=ae.onBeforeLanguageSwitch,Z.onLanguageSwitched=ae.onLanguageSwitched,Z.finalizePendingLocaleChange=ae.finalizePendingLocaleChange,Z.waitForPendingLocaleChange=ae.waitForPendingLocaleChange,()=>{}}};s.use(j,re),pR(a,j);let xe=0;Mk("locale-changing",async(Z,ae)=>{let Q,he;const He=W_(Z,t.ssrContext,A,o,()=>mf(j)||I(f),{ssg:"normal",callType:"routing",firstAccess:xe===0},c,to),Le=ne(He),[Re]=([Q,he]=Da(()=>V_(He,a,j,{useCookie:u,differentDomains:p,initial:Le,skipSettingLocaleOnNavigate:b,lazy:C})),Q=await Q,he(),Q);Re&&Le&&(m=!1);const Ve=z_({route:{to:Z,from:ae},context:a,targetLocale:He,routeLocaleGetter:A,nuxtI18nOptions:o,calledWithRouting:!0});return xe++,K_({i18n:j,redirectPath:Ve,locale:He,route:Z},{differentDomains:p,skipSettingLocaleOnNavigate:b,rootRedirect:S})},{global:!0})}});async function vR(t,e){return await bR(e).catch(i=>(console.error("Failed to get image meta for "+e,i+""),{width:0,height:0,ratio:0}))}async function bR(t){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((e,n)=>{const i=new Image;i.onload=()=>{const r={width:i.width,height:i.height,ratio:i.width/i.height};e(r)},i.onerror=r=>n(r),i.src=t})}function X_(t){return e=>e?t[e]||e:t.missingValue}function TR({formatter:t,keyMap:e,joinWith:n="/",valueMap:i}={}){t||(t=(s,a)=>`${s}=${a}`),e&&typeof e!="function"&&(e=X_(e));const r=i||{};return Object.keys(r).forEach(s=>{typeof r[s]!="function"&&(r[s]=X_(r[s]))}),(s={})=>Object.entries(s).filter(([o,u])=>typeof u<"u").map(([o,u])=>{const c=r[o];return typeof c=="function"&&(u=c(s[o])),o=typeof e=="function"?e(o):o,t(o,u)}).join(n)}function xd(t=""){if(typeof t=="number")return t;if(typeof t=="string"&&t.replace("px","").match(/^\d+$/g))return parseInt(t,10)}function xR(t){const e={options:t},n=(r,s={})=>f2(e,r,s),i=(r,s={},a={})=>n(r,{...a,modifiers:um(s,a.modifiers||{})}).url;for(const r in t.presets)i[r]=(s,a,o)=>i(s,a,{...t.presets[r],...o});return i.options=t,i.getImage=n,i.getMeta=(r,s)=>ER(e,r,s),i.getSizes=(r,s)=>wR(e,r,s),e.$img=i,i}async function ER(t,e,n){const i=f2(t,e,{...n});return typeof i.getMeta=="function"?await i.getMeta():await vR(t,i.url)}function f2(t,e,n){var c,f;if(typeof e!="string"||e==="")throw new TypeError(`input must be a string (received ${typeof e}: ${JSON.stringify(e)})`);if(e.startsWith("data:"))return{url:e};const{provider:i,defaults:r}=SR(t,n.provider||t.options.provider),s=CR(t,n.preset);if(e=Zr(e)?e:Ep(e),!i.supportsAlias)for(const p in t.options.alias)e.startsWith(p)&&(e=es(t.options.alias[p],e.substr(p.length)));if(i.validateDomains&&Zr(e)){const p=$l(e).host;if(!t.options.domains.find(b=>b===p))return{url:e}}const a=um(n,s,r);a.modifiers={...a.modifiers};const o=a.modifiers.format;(c=a.modifiers)!=null&&c.width&&(a.modifiers.width=xd(a.modifiers.width)),(f=a.modifiers)!=null&&f.height&&(a.modifiers.height=xd(a.modifiers.height));const u=i.getImage(e,a,t);return u.format=u.format||o||"",u}function SR(t,e){const n=t.options.providers[e];if(!n)throw new Error("Unknown provider: "+e);return n}function CR(t,e){if(!e)return{};if(!t.options.presets[e])throw new Error("Unknown preset: "+e);return t.options.presets[e]}function wR(t,e,n){var c,f;const i=xd((c=n.modifiers)==null?void 0:c.width),r=xd((f=n.modifiers)==null?void 0:f.height),s=i&&r?r/i:0,a=[],o={};if(typeof n.sizes=="string")for(const p of n.sizes.split(/[\s,]+/).filter(b=>b)){const b=p.split(":");b.length===2&&(o[b[0].trim()]=b[1].trim())}else Object.assign(o,n.sizes);for(const p in o){const b=t.options.screens&&t.options.screens[p]||parseInt(p);let C=String(o[p]);const E=C.endsWith("vw");if(!E&&/^\d+$/.test(C)&&(C=C+"px"),!E&&!C.endsWith("px"))continue;let L=parseInt(C);if(!b||!L)continue;E&&(L=Math.round(L/100*b));const R=s?Math.round(L*s):r;a.push({width:L,size:C,screenMaxWidth:b,media:`(max-width: ${b}px)`,src:t.$img(e,{...n.modifiers,width:L,height:R},n)})}a.sort((p,b)=>p.screenMaxWidth-b.screenMaxWidth);const u=a[a.length-1];return u&&(u.media=""),{sizes:a.map(p=>`${p.media?p.media+" ":""}${p.size}`).join(", "),srcset:a.map(p=>`${p.src} ${p.width}w`).join(", "),src:u==null?void 0:u.src}}const AR=TR({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(t,e)=>Ay(t)+"_"+Ay(e)}),DR=(t,{modifiers:e={},baseURL:n}={},i)=>{e.width&&e.height&&(e.resize=`${e.width}x${e.height}`,delete e.width,delete e.height);const r=AR(e)||"_";return n||(n=es(i.options.nuxt.baseURL,"/_ipx")),{url:es(n,r,KT(t))}},kR=!0,LR=!0,IR=Object.freeze(Object.defineProperty({__proto__:null,getImage:DR,supportsAlias:LR,validateDomains:kR},Symbol.toStringTag,{value:"Module"})),h2={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipx",domains:[],alias:{}};h2.providers={ipx:{provider:IR,defaults:void 0}};const PR=()=>{const t=Hl(),e=jt();return e.$img||e._img||(e._img=xR({...h2,nuxt:{baseURL:t.app.baseURL}}))},OR=Fn(()=>({provide:{img:PR()}}));function RR(t={}){jt().$nuxtSiteConfig.push(t)}const NR=Fn({name:"nuxt-site-config:i18n",enforce:1,setup(t){const e=t.$i18n;e&&RR({_context:"@nuxtjs/i18n",url:e.baseUrl.value,currentLocale:e.locale,description:ht(()=>e.t("nuxtSiteConfig.description")),name:ht(()=>e.t("nuxtSiteConfig.name"))})}}),MR="__NUXT_COLOR_MODE__",BR="nuxt-color-mode",Hr=window[MR],FR=Fn(t=>{const e=cm("color-mode",()=>ir({preference:Hr.preference,value:Hr.value,unknown:!1,forced:!1})).value;Or().afterEach(r=>{const s=r.meta.colorMode;s&&s!=="system"?(e.value=s,e.forced=!0):(s==="system"&&console.warn("You cannot force the colorMode to system at the page level."),e.forced=!1,e.value=e.preference==="system"?Hr.getColorScheme():e.preference)});let n;function i(){n||!window.matchMedia||(n=window.matchMedia("(prefers-color-scheme: dark)"),n.addEventListener("change",()=>{!e.forced&&e.preference==="system"&&(e.value=Hr.getColorScheme())}))}xn(()=>e.preference,r=>{var s;e.forced||(r==="system"?(e.value=Hr.getColorScheme(),i()):e.value=r,(s=window.localStorage)==null||s.setItem(BR,r))},{immediate:!0}),xn(()=>e.value,(r,s)=>{Hr.removeColorScheme(s),Hr.addColorScheme(r)}),e.preference==="system"&&i(),t.hook("app:mounted",()=>{e.unknown&&(e.preference=Hr.preference,e.value=Hr.value,e.unknown=!1)}),t.provide("colorMode",e)}),UR=Fn({name:"nuxt:chunk-reload",setup(t){const e=Or(),n=Hl(),i=new Set;e.beforeEach(()=>{i.clear()}),t.hook("app:chunkError",({error:s})=>{i.add(s)});function r(s){const o="href"in s&&s.href.startsWith("#")?n.app.baseURL+s.href:es(n.app.baseURL,s.fullPath);qk({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(r)}),e.onError((s,a)=>{i.has(s)&&r(a)})}});var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function os(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var p2={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:Cl,function(e,n){var i=[],r=Object.getPrototypeOf,s=i.slice,a=i.flat?function(l){return i.flat.call(l)}:function(l){return i.concat.apply([],l)},o=i.push,u=i.indexOf,c={},f=c.toString,p=c.hasOwnProperty,b=p.toString,C=b.call(Object),E={},L=function(h){return typeof h=="function"&&typeof h.nodeType!="number"&&typeof h.item!="function"},R=function(h){return h!=null&&h===h.window},S=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function M(l,h,v){v=v||S;var x,D,k=v.createElement("script");if(k.text=l,h)for(x in A)D=h[x]||h.getAttribute&&h.getAttribute(x),D&&k.setAttribute(x,D);v.head.appendChild(k).parentNode.removeChild(k)}function I(l){return l==null?l+"":typeof l=="object"||typeof l=="function"?c[f.call(l)]||"object":typeof l}var N="3.7.1",j=/HTML$/i,m=function(l,h){return new m.fn.init(l,h)};m.fn=m.prototype={jquery:N,constructor:m,length:0,toArray:function(){return s.call(this)},get:function(l){return l==null?s.call(this):l<0?this[l+this.length]:this[l]},pushStack:function(l){var h=m.merge(this.constructor(),l);return h.prevObject=this,h},each:function(l){return m.each(this,l)},map:function(l){return this.pushStack(m.map(this,function(h,v){return l.call(h,v,h)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(l,h){return(h+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(l,h){return h%2}))},eq:function(l){var h=this.length,v=+l+(l<0?h:0);return this.pushStack(v>=0&&v<h?[this[v]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},m.extend=m.fn.extend=function(){var l,h,v,x,D,k,O=arguments[0]||{},z=1,q=arguments.length,Y=!1;for(typeof O=="boolean"&&(Y=O,O=arguments[z]||{},z++),typeof O!="object"&&!L(O)&&(O={}),z===q&&(O=this,z--);z<q;z++)if((l=arguments[z])!=null)for(h in l)x=l[h],!(h==="__proto__"||O===x)&&(Y&&x&&(m.isPlainObject(x)||(D=Array.isArray(x)))?(v=O[h],D&&!Array.isArray(v)?k=[]:!D&&!m.isPlainObject(v)?k={}:k=v,D=!1,O[h]=m.extend(Y,k,x)):x!==void 0&&(O[h]=x));return O},m.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw new Error(l)},noop:function(){},isPlainObject:function(l){var h,v;return!l||f.call(l)!=="[object Object]"?!1:(h=r(l),h?(v=p.call(h,"constructor")&&h.constructor,typeof v=="function"&&b.call(v)===C):!0)},isEmptyObject:function(l){var h;for(h in l)return!1;return!0},globalEval:function(l,h,v){M(l,{nonce:h&&h.nonce},v)},each:function(l,h){var v,x=0;if(ne(l))for(v=l.length;x<v&&h.call(l[x],x,l[x])!==!1;x++);else for(x in l)if(h.call(l[x],x,l[x])===!1)break;return l},text:function(l){var h,v="",x=0,D=l.nodeType;if(!D)for(;h=l[x++];)v+=m.text(h);return D===1||D===11?l.textContent:D===9?l.documentElement.textContent:D===3||D===4?l.nodeValue:v},makeArray:function(l,h){var v=h||[];return l!=null&&(ne(Object(l))?m.merge(v,typeof l=="string"?[l]:l):o.call(v,l)),v},inArray:function(l,h,v){return h==null?-1:u.call(h,l,v)},isXMLDoc:function(l){var h=l&&l.namespaceURI,v=l&&(l.ownerDocument||l).documentElement;return!j.test(h||v&&v.nodeName||"HTML")},merge:function(l,h){for(var v=+h.length,x=0,D=l.length;x<v;x++)l[D++]=h[x];return l.length=D,l},grep:function(l,h,v){for(var x,D=[],k=0,O=l.length,z=!v;k<O;k++)x=!h(l[k],k),x!==z&&D.push(l[k]);return D},map:function(l,h,v){var x,D,k=0,O=[];if(ne(l))for(x=l.length;k<x;k++)D=h(l[k],k,v),D!=null&&O.push(D);else for(k in l)D=h(l[k],k,v),D!=null&&O.push(D);return a(O)},guid:1,support:E}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=i[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,h){c["[object "+h+"]"]=h.toLowerCase()});function ne(l){var h=!!l&&"length"in l&&l.length,v=I(l);return L(l)||R(l)?!1:v==="array"||h===0||typeof h=="number"&&h>0&&h-1 in l}function re(l,h){return l.nodeName&&l.nodeName.toLowerCase()===h.toLowerCase()}var xe=i.pop,Z=i.sort,ae=i.splice,Q="[\\x20\\t\\r\\n\\f]",he=new RegExp("^"+Q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Q+"+$","g");m.contains=function(l,h){var v=h&&h.parentNode;return l===v||!!(v&&v.nodeType===1&&(l.contains?l.contains(v):l.compareDocumentPosition&&l.compareDocumentPosition(v)&16))};var He=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Le(l,h){return h?l==="\0"?"�":l.slice(0,-1)+"\\"+l.charCodeAt(l.length-1).toString(16)+" ":"\\"+l}m.escapeSelector=function(l){return(l+"").replace(He,Le)};var Re=S,Ve=o;(function(){var l,h,v,x,D,k=Ve,O,z,q,Y,fe,ge=m.expando,se=0,Ce=0,Xe=ia(),ot=ia(),Ye=ia(),Wt=ia(),zt=function($,X){return $===X&&(D=!0),0},gn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ri="(?:\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",at="\\["+Q+"*("+Ri+")(?:"+Q+"*([*^$|!~]?=)"+Q+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ri+"))|)"+Q+"*\\]",or=":("+Ri+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+at+")*)|.*)\\)|)",lt=new RegExp(Q+"+","g"),Gt=new RegExp("^"+Q+"*,"+Q+"*"),ta=new RegExp("^"+Q+"*([>+~]|"+Q+")"+Q+"*"),Au=new RegExp(Q+"|>"),Hn=new RegExp(or),na=new RegExp("^"+Ri+"$"),bi={ID:new RegExp("^#("+Ri+")"),CLASS:new RegExp("^\\.("+Ri+")"),TAG:new RegExp("^("+Ri+"|[*])"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+or),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Q+"*(even|odd|(([+-]|)(\\d*)n|)"+Q+"*(?:([+-]|)"+Q+"*(\\d+)|))"+Q+"*\\)|)","i"),bool:new RegExp("^(?:"+gn+")$","i"),needsContext:new RegExp("^"+Q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Q+"*((?:-\\d)?\\d*)"+Q+"*\\)|)(?=[^-]|$)","i")},ur=/^(?:input|select|textarea|button)$/i,lr=/^h\d$/i,qn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ka=/[+~]/,Yi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\([^\\r\\n\\f])","g"),Qi=function($,X){var ie="0x"+$.slice(1)-65536;return X||(ie<0?String.fromCharCode(ie+65536):String.fromCharCode(ie>>10|55296,ie&1023|56320))},lh=function(){dr()},Ec=Ya(function($){return $.disabled===!0&&re($,"fieldset")},{dir:"parentNode",next:"legend"});function ch(){try{return O.activeElement}catch{}}try{k.apply(i=s.call(Re.childNodes),Re.childNodes),i[Re.childNodes.length].nodeType}catch{k={apply:function(X,ie){Ve.apply(X,s.call(ie))},call:function(X){Ve.apply(X,s.call(arguments,1))}}}function _t($,X,ie,le){var pe,ke,Ne,$e,Me,nt,We,je=X&&X.ownerDocument,Ze=X?X.nodeType:9;if(ie=ie||[],typeof $!="string"||!$||Ze!==1&&Ze!==9&&Ze!==11)return ie;if(!le&&(dr(X),X=X||O,q)){if(Ze!==11&&(Me=qn.exec($)))if(pe=Me[1]){if(Ze===9)if(Ne=X.getElementById(pe)){if(Ne.id===pe)return k.call(ie,Ne),ie}else return ie;else if(je&&(Ne=je.getElementById(pe))&&_t.contains(X,Ne)&&Ne.id===pe)return k.call(ie,Ne),ie}else{if(Me[2])return k.apply(ie,X.getElementsByTagName($)),ie;if((pe=Me[3])&&X.getElementsByClassName)return k.apply(ie,X.getElementsByClassName(pe)),ie}if(!Wt[$+" "]&&(!Y||!Y.test($))){if(We=$,je=X,Ze===1&&(Au.test($)||ta.test($))){for(je=Ka.test($)&&Du(X.parentNode)||X,(je!=X||!E.scope)&&(($e=X.getAttribute("id"))?$e=m.escapeSelector($e):X.setAttribute("id",$e=ge)),nt=ra($),ke=nt.length;ke--;)nt[ke]=($e?"#"+$e:":scope")+" "+Xa(nt[ke]);We=nt.join(",")}try{return k.apply(ie,je.querySelectorAll(We)),ie}catch{Wt($,!0)}finally{$e===ge&&X.removeAttribute("id")}}}return Cc($.replace(he,"$1"),X,ie,le)}function ia(){var $=[];function X(ie,le){return $.push(ie+" ")>h.cacheLength&&delete X[$.shift()],X[ie+" "]=le}return X}function Ti($){return $[ge]=!0,$}function Fr($){var X=O.createElement("fieldset");try{return!!$(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function dh($){return function(X){return re(X,"input")&&X.type===$}}function Sc($){return function(X){return(re(X,"input")||re(X,"button"))&&X.type===$}}function hs($){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===$:X.disabled===$:X.isDisabled===$||X.isDisabled!==!$&&Ec(X)===$:X.disabled===$:"label"in X?X.disabled===$:!1}}function cr($){return Ti(function(X){return X=+X,Ti(function(ie,le){for(var pe,ke=$([],ie.length,X),Ne=ke.length;Ne--;)ie[pe=ke[Ne]]&&(ie[pe]=!(le[pe]=ie[pe]))})})}function Du($){return $&&typeof $.getElementsByTagName<"u"&&$}function dr($){var X,ie=$?$.ownerDocument||$:Re;return ie==O||ie.nodeType!==9||!ie.documentElement||(O=ie,z=O.documentElement,q=!m.isXMLDoc(O),fe=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,z.msMatchesSelector&&Re!=O&&(X=O.defaultView)&&X.top!==X&&X.addEventListener("unload",lh),E.getById=Fr(function(le){return z.appendChild(le).id=m.expando,!O.getElementsByName||!O.getElementsByName(m.expando).length}),E.disconnectedMatch=Fr(function(le){return fe.call(le,"*")}),E.scope=Fr(function(){return O.querySelectorAll(":scope")}),E.cssHas=Fr(function(){try{return O.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),E.getById?(h.filter.ID=function(le){var pe=le.replace(Yi,Qi);return function(ke){return ke.getAttribute("id")===pe}},h.find.ID=function(le,pe){if(typeof pe.getElementById<"u"&&q){var ke=pe.getElementById(le);return ke?[ke]:[]}}):(h.filter.ID=function(le){var pe=le.replace(Yi,Qi);return function(ke){var Ne=typeof ke.getAttributeNode<"u"&&ke.getAttributeNode("id");return Ne&&Ne.value===pe}},h.find.ID=function(le,pe){if(typeof pe.getElementById<"u"&&q){var ke,Ne,$e,Me=pe.getElementById(le);if(Me){if(ke=Me.getAttributeNode("id"),ke&&ke.value===le)return[Me];for($e=pe.getElementsByName(le),Ne=0;Me=$e[Ne++];)if(ke=Me.getAttributeNode("id"),ke&&ke.value===le)return[Me]}return[]}}),h.find.TAG=function(le,pe){return typeof pe.getElementsByTagName<"u"?pe.getElementsByTagName(le):pe.querySelectorAll(le)},h.find.CLASS=function(le,pe){if(typeof pe.getElementsByClassName<"u"&&q)return pe.getElementsByClassName(le)},Y=[],Fr(function(le){var pe;z.appendChild(le).innerHTML="<a id='"+ge+"' href='' disabled='disabled'></a><select id='"+ge+"-\r\\' disabled='disabled'><option selected=''></option></select>",le.querySelectorAll("[selected]").length||Y.push("\\["+Q+"*(?:value|"+gn+")"),le.querySelectorAll("[id~="+ge+"-]").length||Y.push("~="),le.querySelectorAll("a#"+ge+"+*").length||Y.push(".#.+[+~]"),le.querySelectorAll(":checked").length||Y.push(":checked"),pe=O.createElement("input"),pe.setAttribute("type","hidden"),le.appendChild(pe).setAttribute("name","D"),z.appendChild(le).disabled=!0,le.querySelectorAll(":disabled").length!==2&&Y.push(":enabled",":disabled"),pe=O.createElement("input"),pe.setAttribute("name",""),le.appendChild(pe),le.querySelectorAll("[name='']").length||Y.push("\\["+Q+"*name"+Q+"*="+Q+`*(?:''|"")`)}),E.cssHas||Y.push(":has"),Y=Y.length&&new RegExp(Y.join("|")),zt=function(le,pe){if(le===pe)return D=!0,0;var ke=!le.compareDocumentPosition-!pe.compareDocumentPosition;return ke||(ke=(le.ownerDocument||le)==(pe.ownerDocument||pe)?le.compareDocumentPosition(pe):1,ke&1||!E.sortDetached&&pe.compareDocumentPosition(le)===ke?le===O||le.ownerDocument==Re&&_t.contains(Re,le)?-1:pe===O||pe.ownerDocument==Re&&_t.contains(Re,pe)?1:x?u.call(x,le)-u.call(x,pe):0:ke&4?-1:1)}),O}_t.matches=function($,X){return _t($,null,null,X)},_t.matchesSelector=function($,X){if(dr($),q&&!Wt[X+" "]&&(!Y||!Y.test(X)))try{var ie=fe.call($,X);if(ie||E.disconnectedMatch||$.document&&$.document.nodeType!==11)return ie}catch{Wt(X,!0)}return _t(X,O,null,[$]).length>0},_t.contains=function($,X){return($.ownerDocument||$)!=O&&dr($),m.contains($,X)},_t.attr=function($,X){($.ownerDocument||$)!=O&&dr($);var ie=h.attrHandle[X.toLowerCase()],le=ie&&p.call(h.attrHandle,X.toLowerCase())?ie($,X,!q):void 0;return le!==void 0?le:$.getAttribute(X)},_t.error=function($){throw new Error("Syntax error, unrecognized expression: "+$)},m.uniqueSort=function($){var X,ie=[],le=0,pe=0;if(D=!E.sortStable,x=!E.sortStable&&s.call($,0),Z.call($,zt),D){for(;X=$[pe++];)X===$[pe]&&(le=ie.push(pe));for(;le--;)ae.call($,ie[le],1)}return x=null,$},m.fn.uniqueSort=function(){return this.pushStack(m.uniqueSort(s.apply(this)))},h=m.expr={cacheLength:50,createPseudo:Ti,match:bi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function($){return $[1]=$[1].replace(Yi,Qi),$[3]=($[3]||$[4]||$[5]||"").replace(Yi,Qi),$[2]==="~="&&($[3]=" "+$[3]+" "),$.slice(0,4)},CHILD:function($){return $[1]=$[1].toLowerCase(),$[1].slice(0,3)==="nth"?($[3]||_t.error($[0]),$[4]=+($[4]?$[5]+($[6]||1):2*($[3]==="even"||$[3]==="odd")),$[5]=+($[7]+$[8]||$[3]==="odd")):$[3]&&_t.error($[0]),$},PSEUDO:function($){var X,ie=!$[6]&&$[2];return bi.CHILD.test($[0])?null:($[3]?$[2]=$[4]||$[5]||"":ie&&Hn.test(ie)&&(X=ra(ie,!0))&&(X=ie.indexOf(")",ie.length-X)-ie.length)&&($[0]=$[0].slice(0,X),$[2]=ie.slice(0,X)),$.slice(0,3))}},filter:{TAG:function($){var X=$.replace(Yi,Qi).toLowerCase();return $==="*"?function(){return!0}:function(ie){return re(ie,X)}},CLASS:function($){var X=Xe[$+" "];return X||(X=new RegExp("(^|"+Q+")"+$+"("+Q+"|$)"))&&Xe($,function(ie){return X.test(typeof ie.className=="string"&&ie.className||typeof ie.getAttribute<"u"&&ie.getAttribute("class")||"")})},ATTR:function($,X,ie){return function(le){var pe=_t.attr(le,$);return pe==null?X==="!=":X?(pe+="",X==="="?pe===ie:X==="!="?pe!==ie:X==="^="?ie&&pe.indexOf(ie)===0:X==="*="?ie&&pe.indexOf(ie)>-1:X==="$="?ie&&pe.slice(-ie.length)===ie:X==="~="?(" "+pe.replace(lt," ")+" ").indexOf(ie)>-1:X==="|="?pe===ie||pe.slice(0,ie.length+1)===ie+"-":!1):!0}},CHILD:function($,X,ie,le,pe){var ke=$.slice(0,3)!=="nth",Ne=$.slice(-4)!=="last",$e=X==="of-type";return le===1&&pe===0?function(Me){return!!Me.parentNode}:function(Me,nt,We){var je,Ze,qe,At,On,mn=ke!==Ne?"nextSibling":"previousSibling",si=Me.parentNode,xi=$e&&Me.nodeName.toLowerCase(),Ur=!We&&!$e,yn=!1;if(si){if(ke){for(;mn;){for(qe=Me;qe=qe[mn];)if($e?re(qe,xi):qe.nodeType===1)return!1;On=mn=$==="only"&&!On&&"nextSibling"}return!0}if(On=[Ne?si.firstChild:si.lastChild],Ne&&Ur){for(Ze=si[ge]||(si[ge]={}),je=Ze[$]||[],At=je[0]===se&&je[1],yn=At&&je[2],qe=At&&si.childNodes[At];qe=++At&&qe&&qe[mn]||(yn=At=0)||On.pop();)if(qe.nodeType===1&&++yn&&qe===Me){Ze[$]=[se,At,yn];break}}else if(Ur&&(Ze=Me[ge]||(Me[ge]={}),je=Ze[$]||[],At=je[0]===se&&je[1],yn=At),yn===!1)for(;(qe=++At&&qe&&qe[mn]||(yn=At=0)||On.pop())&&!(($e?re(qe,xi):qe.nodeType===1)&&++yn&&(Ur&&(Ze=qe[ge]||(qe[ge]={}),Ze[$]=[se,yn]),qe===Me)););return yn-=pe,yn===le||yn%le===0&&yn/le>=0}}},PSEUDO:function($,X){var ie,le=h.pseudos[$]||h.setFilters[$.toLowerCase()]||_t.error("unsupported pseudo: "+$);return le[ge]?le(X):le.length>1?(ie=[$,$,"",X],h.setFilters.hasOwnProperty($.toLowerCase())?Ti(function(pe,ke){for(var Ne,$e=le(pe,X),Me=$e.length;Me--;)Ne=u.call(pe,$e[Me]),pe[Ne]=!(ke[Ne]=$e[Me])}):function(pe){return le(pe,0,ie)}):le}},pseudos:{not:Ti(function($){var X=[],ie=[],le=Iu($.replace(he,"$1"));return le[ge]?Ti(function(pe,ke,Ne,$e){for(var Me,nt=le(pe,null,$e,[]),We=pe.length;We--;)(Me=nt[We])&&(pe[We]=!(ke[We]=Me))}):function(pe,ke,Ne){return X[0]=pe,le(X,null,Ne,ie),X[0]=null,!ie.pop()}}),has:Ti(function($){return function(X){return _t($,X).length>0}}),contains:Ti(function($){return $=$.replace(Yi,Qi),function(X){return(X.textContent||m.text(X)).indexOf($)>-1}}),lang:Ti(function($){return na.test($||"")||_t.error("unsupported lang: "+$),$=$.replace(Yi,Qi).toLowerCase(),function(X){var ie;do if(ie=q?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return ie=ie.toLowerCase(),ie===$||ie.indexOf($+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function($){var X=e.location&&e.location.hash;return X&&X.slice(1)===$.id},root:function($){return $===z},focus:function($){return $===ch()&&O.hasFocus()&&!!($.type||$.href||~$.tabIndex)},enabled:hs(!1),disabled:hs(!0),checked:function($){return re($,"input")&&!!$.checked||re($,"option")&&!!$.selected},selected:function($){return $.parentNode&&$.parentNode.selectedIndex,$.selected===!0},empty:function($){for($=$.firstChild;$;$=$.nextSibling)if($.nodeType<6)return!1;return!0},parent:function($){return!h.pseudos.empty($)},header:function($){return lr.test($.nodeName)},input:function($){return ur.test($.nodeName)},button:function($){return re($,"input")&&$.type==="button"||re($,"button")},text:function($){var X;return re($,"input")&&$.type==="text"&&((X=$.getAttribute("type"))==null||X.toLowerCase()==="text")},first:cr(function(){return[0]}),last:cr(function($,X){return[X-1]}),eq:cr(function($,X,ie){return[ie<0?ie+X:ie]}),even:cr(function($,X){for(var ie=0;ie<X;ie+=2)$.push(ie);return $}),odd:cr(function($,X){for(var ie=1;ie<X;ie+=2)$.push(ie);return $}),lt:cr(function($,X,ie){var le;for(ie<0?le=ie+X:ie>X?le=X:le=ie;--le>=0;)$.push(le);return $}),gt:cr(function($,X,ie){for(var le=ie<0?ie+X:ie;++le<X;)$.push(le);return $})}},h.pseudos.nth=h.pseudos.eq;for(l in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[l]=dh(l);for(l in{submit:!0,reset:!0})h.pseudos[l]=Sc(l);function ps(){}ps.prototype=h.filters=h.pseudos,h.setFilters=new ps;function ra($,X){var ie,le,pe,ke,Ne,$e,Me,nt=ot[$+" "];if(nt)return X?0:nt.slice(0);for(Ne=$,$e=[],Me=h.preFilter;Ne;){(!ie||(le=Gt.exec(Ne)))&&(le&&(Ne=Ne.slice(le[0].length)||Ne),$e.push(pe=[])),ie=!1,(le=ta.exec(Ne))&&(ie=le.shift(),pe.push({value:ie,type:le[0].replace(he," ")}),Ne=Ne.slice(ie.length));for(ke in h.filter)(le=bi[ke].exec(Ne))&&(!Me[ke]||(le=Me[ke](le)))&&(ie=le.shift(),pe.push({value:ie,type:ke,matches:le}),Ne=Ne.slice(ie.length));if(!ie)break}return X?Ne.length:Ne?_t.error($):ot($,$e).slice(0)}function Xa($){for(var X=0,ie=$.length,le="";X<ie;X++)le+=$[X].value;return le}function Ya($,X,ie){var le=X.dir,pe=X.next,ke=pe||le,Ne=ie&&ke==="parentNode",$e=Ce++;return X.first?function(Me,nt,We){for(;Me=Me[le];)if(Me.nodeType===1||Ne)return $(Me,nt,We);return!1}:function(Me,nt,We){var je,Ze,qe=[se,$e];if(We){for(;Me=Me[le];)if((Me.nodeType===1||Ne)&&$(Me,nt,We))return!0}else for(;Me=Me[le];)if(Me.nodeType===1||Ne)if(Ze=Me[ge]||(Me[ge]={}),pe&&re(Me,pe))Me=Me[le]||Me;else{if((je=Ze[ke])&&je[0]===se&&je[1]===$e)return qe[2]=je[2];if(Ze[ke]=qe,qe[2]=$(Me,nt,We))return!0}return!1}}function Qa($){return $.length>1?function(X,ie,le){for(var pe=$.length;pe--;)if(!$[pe](X,ie,le))return!1;return!0}:$[0]}function fh($,X,ie){for(var le=0,pe=X.length;le<pe;le++)_t($,X[le],ie);return ie}function Ja($,X,ie,le,pe){for(var ke,Ne=[],$e=0,Me=$.length,nt=X!=null;$e<Me;$e++)(ke=$[$e])&&(!ie||ie(ke,le,pe))&&(Ne.push(ke),nt&&X.push($e));return Ne}function ku($,X,ie,le,pe,ke){return le&&!le[ge]&&(le=ku(le)),pe&&!pe[ge]&&(pe=ku(pe,ke)),Ti(function(Ne,$e,Me,nt){var We,je,Ze,qe,At=[],On=[],mn=$e.length,si=Ne||fh(X||"*",Me.nodeType?[Me]:Me,[]),xi=$&&(Ne||!X)?Ja(si,At,$,Me,nt):si;if(ie?(qe=pe||(Ne?$:mn||le)?[]:$e,ie(xi,qe,Me,nt)):qe=xi,le)for(We=Ja(qe,On),le(We,[],Me,nt),je=We.length;je--;)(Ze=We[je])&&(qe[On[je]]=!(xi[On[je]]=Ze));if(Ne){if(pe||$){if(pe){for(We=[],je=qe.length;je--;)(Ze=qe[je])&&We.push(xi[je]=Ze);pe(null,qe=[],We,nt)}for(je=qe.length;je--;)(Ze=qe[je])&&(We=pe?u.call(Ne,Ze):At[je])>-1&&(Ne[We]=!($e[We]=Ze))}}else qe=Ja(qe===$e?qe.splice(mn,qe.length):qe),pe?pe(null,$e,qe,nt):k.apply($e,qe)})}function Lu($){for(var X,ie,le,pe=$.length,ke=h.relative[$[0].type],Ne=ke||h.relative[" "],$e=ke?1:0,Me=Ya(function(je){return je===X},Ne,!0),nt=Ya(function(je){return u.call(X,je)>-1},Ne,!0),We=[function(je,Ze,qe){var At=!ke&&(qe||Ze!=v)||((X=Ze).nodeType?Me(je,Ze,qe):nt(je,Ze,qe));return X=null,At}];$e<pe;$e++)if(ie=h.relative[$[$e].type])We=[Ya(Qa(We),ie)];else{if(ie=h.filter[$[$e].type].apply(null,$[$e].matches),ie[ge]){for(le=++$e;le<pe&&!h.relative[$[le].type];le++);return ku($e>1&&Qa(We),$e>1&&Xa($.slice(0,$e-1).concat({value:$[$e-2].type===" "?"*":""})).replace(he,"$1"),ie,$e<le&&Lu($.slice($e,le)),le<pe&&Lu($=$.slice(le)),le<pe&&Xa($))}We.push(ie)}return Qa(We)}function hh($,X){var ie=X.length>0,le=$.length>0,pe=function(ke,Ne,$e,Me,nt){var We,je,Ze,qe=0,At="0",On=ke&&[],mn=[],si=v,xi=ke||le&&h.find.TAG("*",nt),Ur=se+=si==null?1:Math.random()||.1,yn=xi.length;for(nt&&(v=Ne==O||Ne||nt);At!==yn&&(We=xi[At])!=null;At++){if(le&&We){for(je=0,!Ne&&We.ownerDocument!=O&&(dr(We),$e=!q);Ze=$[je++];)if(Ze(We,Ne||O,$e)){k.call(Me,We);break}nt&&(se=Ur)}ie&&((We=!Ze&&We)&&qe--,ke&&On.push(We))}if(qe+=At,ie&&At!==qe){for(je=0;Ze=X[je++];)Ze(On,mn,Ne,$e);if(ke){if(qe>0)for(;At--;)On[At]||mn[At]||(mn[At]=xe.call(Me));mn=Ja(mn)}k.apply(Me,mn),nt&&!ke&&mn.length>0&&qe+X.length>1&&m.uniqueSort(Me)}return nt&&(se=Ur,v=si),On};return ie?Ti(pe):pe}function Iu($,X){var ie,le=[],pe=[],ke=Ye[$+" "];if(!ke){for(X||(X=ra($)),ie=X.length;ie--;)ke=Lu(X[ie]),ke[ge]?le.push(ke):pe.push(ke);ke=Ye($,hh(pe,le)),ke.selector=$}return ke}function Cc($,X,ie,le){var pe,ke,Ne,$e,Me,nt=typeof $=="function"&&$,We=!le&&ra($=nt.selector||$);if(ie=ie||[],We.length===1){if(ke=We[0]=We[0].slice(0),ke.length>2&&(Ne=ke[0]).type==="ID"&&X.nodeType===9&&q&&h.relative[ke[1].type]){if(X=(h.find.ID(Ne.matches[0].replace(Yi,Qi),X)||[])[0],X)nt&&(X=X.parentNode);else return ie;$=$.slice(ke.shift().value.length)}for(pe=bi.needsContext.test($)?0:ke.length;pe--&&(Ne=ke[pe],!h.relative[$e=Ne.type]);)if((Me=h.find[$e])&&(le=Me(Ne.matches[0].replace(Yi,Qi),Ka.test(ke[0].type)&&Du(X.parentNode)||X))){if(ke.splice(pe,1),$=le.length&&Xa(ke),!$)return k.apply(ie,le),ie;break}}return(nt||Iu($,We))(le,X,!q,ie,!X||Ka.test($)&&Du(X.parentNode)||X),ie}E.sortStable=ge.split("").sort(zt).join("")===ge,dr(),E.sortDetached=Fr(function($){return $.compareDocumentPosition(O.createElement("fieldset"))&1}),m.find=_t,m.expr[":"]=m.expr.pseudos,m.unique=m.uniqueSort,_t.compile=Iu,_t.select=Cc,_t.setDocument=dr,_t.tokenize=ra,_t.escape=m.escapeSelector,_t.getText=m.text,_t.isXML=m.isXMLDoc,_t.selectors=m.expr,_t.support=m.support,_t.uniqueSort=m.uniqueSort})();var bt=function(l,h,v){for(var x=[],D=v!==void 0;(l=l[h])&&l.nodeType!==9;)if(l.nodeType===1){if(D&&m(l).is(v))break;x.push(l)}return x},Qt=function(l,h){for(var v=[];l;l=l.nextSibling)l.nodeType===1&&l!==h&&v.push(l);return v},$t=m.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function fn(l,h,v){return L(h)?m.grep(l,function(x,D){return!!h.call(x,D,x)!==v}):h.nodeType?m.grep(l,function(x){return x===h!==v}):typeof h!="string"?m.grep(l,function(x){return u.call(h,x)>-1!==v}):m.filter(h,l,v)}m.filter=function(l,h,v){var x=h[0];return v&&(l=":not("+l+")"),h.length===1&&x.nodeType===1?m.find.matchesSelector(x,l)?[x]:[]:m.find.matches(l,m.grep(h,function(D){return D.nodeType===1}))},m.fn.extend({find:function(l){var h,v,x=this.length,D=this;if(typeof l!="string")return this.pushStack(m(l).filter(function(){for(h=0;h<x;h++)if(m.contains(D[h],this))return!0}));for(v=this.pushStack([]),h=0;h<x;h++)m.find(l,D[h],v);return x>1?m.uniqueSort(v):v},filter:function(l){return this.pushStack(fn(this,l||[],!1))},not:function(l){return this.pushStack(fn(this,l||[],!0))},is:function(l){return!!fn(this,typeof l=="string"&&$t.test(l)?m(l):l||[],!1).length}});var In,yi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ht=m.fn.init=function(l,h,v){var x,D;if(!l)return this;if(v=v||In,typeof l=="string")if(l[0]==="<"&&l[l.length-1]===">"&&l.length>=3?x=[null,l,null]:x=yi.exec(l),x&&(x[1]||!h))if(x[1]){if(h=h instanceof m?h[0]:h,m.merge(this,m.parseHTML(x[1],h&&h.nodeType?h.ownerDocument||h:S,!0)),xt.test(x[1])&&m.isPlainObject(h))for(x in h)L(this[x])?this[x](h[x]):this.attr(x,h[x]);return this}else return D=S.getElementById(x[2]),D&&(this[0]=D,this.length=1),this;else return!h||h.jquery?(h||v).find(l):this.constructor(h).find(l);else{if(l.nodeType)return this[0]=l,this.length=1,this;if(L(l))return v.ready!==void 0?v.ready(l):l(m)}return m.makeArray(l,this)};Ht.prototype=m.fn,In=m(S);var _e=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(l){var h=m(l,this),v=h.length;return this.filter(function(){for(var x=0;x<v;x++)if(m.contains(this,h[x]))return!0})},closest:function(l,h){var v,x=0,D=this.length,k=[],O=typeof l!="string"&&m(l);if(!$t.test(l)){for(;x<D;x++)for(v=this[x];v&&v!==h;v=v.parentNode)if(v.nodeType<11&&(O?O.index(v)>-1:v.nodeType===1&&m.find.matchesSelector(v,l))){k.push(v);break}}return this.pushStack(k.length>1?m.uniqueSort(k):k)},index:function(l){return l?typeof l=="string"?u.call(m(l),this[0]):u.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(l,h){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(l,h))))},addBack:function(l){return this.add(l==null?this.prevObject:this.prevObject.filter(l))}});function Ae(l,h){for(;(l=l[h])&&l.nodeType!==1;);return l}m.each({parent:function(l){var h=l.parentNode;return h&&h.nodeType!==11?h:null},parents:function(l){return bt(l,"parentNode")},parentsUntil:function(l,h,v){return bt(l,"parentNode",v)},next:function(l){return Ae(l,"nextSibling")},prev:function(l){return Ae(l,"previousSibling")},nextAll:function(l){return bt(l,"nextSibling")},prevAll:function(l){return bt(l,"previousSibling")},nextUntil:function(l,h,v){return bt(l,"nextSibling",v)},prevUntil:function(l,h,v){return bt(l,"previousSibling",v)},siblings:function(l){return Qt((l.parentNode||{}).firstChild,l)},children:function(l){return Qt(l.firstChild)},contents:function(l){return l.contentDocument!=null&&r(l.contentDocument)?l.contentDocument:(re(l,"template")&&(l=l.content||l),m.merge([],l.childNodes))}},function(l,h){m.fn[l]=function(v,x){var D=m.map(this,h,v);return l.slice(-5)!=="Until"&&(x=v),x&&typeof x=="string"&&(D=m.filter(x,D)),this.length>1&&(Ie[l]||m.uniqueSort(D),_e.test(l)&&D.reverse()),this.pushStack(D)}});var Pe=/[^\x20\t\r\n\f]+/g;function rt(l){var h={};return m.each(l.match(Pe)||[],function(v,x){h[x]=!0}),h}m.Callbacks=function(l){l=typeof l=="string"?rt(l):m.extend({},l);var h,v,x,D,k=[],O=[],z=-1,q=function(){for(D=D||l.once,x=h=!0;O.length;z=-1)for(v=O.shift();++z<k.length;)k[z].apply(v[0],v[1])===!1&&l.stopOnFalse&&(z=k.length,v=!1);l.memory||(v=!1),h=!1,D&&(v?k=[]:k="")},Y={add:function(){return k&&(v&&!h&&(z=k.length-1,O.push(v)),function fe(ge){m.each(ge,function(se,Ce){L(Ce)?(!l.unique||!Y.has(Ce))&&k.push(Ce):Ce&&Ce.length&&I(Ce)!=="string"&&fe(Ce)})}(arguments),v&&!h&&q()),this},remove:function(){return m.each(arguments,function(fe,ge){for(var se;(se=m.inArray(ge,k,se))>-1;)k.splice(se,1),se<=z&&z--}),this},has:function(fe){return fe?m.inArray(fe,k)>-1:k.length>0},empty:function(){return k&&(k=[]),this},disable:function(){return D=O=[],k=v="",this},disabled:function(){return!k},lock:function(){return D=O=[],!v&&!h&&(k=v=""),this},locked:function(){return!!D},fireWith:function(fe,ge){return D||(ge=ge||[],ge=[fe,ge.slice?ge.slice():ge],O.push(ge),h||q()),this},fire:function(){return Y.fireWith(this,arguments),this},fired:function(){return!!x}};return Y};function V(l){return l}function P(l){throw l}function B(l,h,v,x){var D;try{l&&L(D=l.promise)?D.call(l).done(h).fail(v):l&&L(D=l.then)?D.call(l,h,v):h.apply(void 0,[l].slice(x))}catch(k){v.apply(void 0,[k])}}m.extend({Deferred:function(l){var h=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],v="pending",x={state:function(){return v},always:function(){return D.done(arguments).fail(arguments),this},catch:function(k){return x.then(null,k)},pipe:function(){var k=arguments;return m.Deferred(function(O){m.each(h,function(z,q){var Y=L(k[q[4]])&&k[q[4]];D[q[1]](function(){var fe=Y&&Y.apply(this,arguments);fe&&L(fe.promise)?fe.promise().progress(O.notify).done(O.resolve).fail(O.reject):O[q[0]+"With"](this,Y?[fe]:arguments)})}),k=null}).promise()},then:function(k,O,z){var q=0;function Y(fe,ge,se,Ce){return function(){var Xe=this,ot=arguments,Ye=function(){var zt,gn;if(!(fe<q)){if(zt=se.apply(Xe,ot),zt===ge.promise())throw new TypeError("Thenable self-resolution");gn=zt&&(typeof zt=="object"||typeof zt=="function")&&zt.then,L(gn)?Ce?gn.call(zt,Y(q,ge,V,Ce),Y(q,ge,P,Ce)):(q++,gn.call(zt,Y(q,ge,V,Ce),Y(q,ge,P,Ce),Y(q,ge,V,ge.notifyWith))):(se!==V&&(Xe=void 0,ot=[zt]),(Ce||ge.resolveWith)(Xe,ot))}},Wt=Ce?Ye:function(){try{Ye()}catch(zt){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(zt,Wt.error),fe+1>=q&&(se!==P&&(Xe=void 0,ot=[zt]),ge.rejectWith(Xe,ot))}};fe?Wt():(m.Deferred.getErrorHook?Wt.error=m.Deferred.getErrorHook():m.Deferred.getStackHook&&(Wt.error=m.Deferred.getStackHook()),e.setTimeout(Wt))}}return m.Deferred(function(fe){h[0][3].add(Y(0,fe,L(z)?z:V,fe.notifyWith)),h[1][3].add(Y(0,fe,L(k)?k:V)),h[2][3].add(Y(0,fe,L(O)?O:P))}).promise()},promise:function(k){return k!=null?m.extend(k,x):x}},D={};return m.each(h,function(k,O){var z=O[2],q=O[5];x[O[1]]=z.add,q&&z.add(function(){v=q},h[3-k][2].disable,h[3-k][3].disable,h[0][2].lock,h[0][3].lock),z.add(O[3].fire),D[O[0]]=function(){return D[O[0]+"With"](this===D?void 0:this,arguments),this},D[O[0]+"With"]=z.fireWith}),x.promise(D),l&&l.call(D,D),D},when:function(l){var h=arguments.length,v=h,x=Array(v),D=s.call(arguments),k=m.Deferred(),O=function(z){return function(q){x[z]=this,D[z]=arguments.length>1?s.call(arguments):q,--h||k.resolveWith(x,D)}};if(h<=1&&(B(l,k.done(O(v)).resolve,k.reject,!h),k.state()==="pending"||L(D[v]&&D[v].then)))return k.then();for(;v--;)B(D[v],O(v),k.reject);return k.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(l,h){e.console&&e.console.warn&&l&&K.test(l.name)&&e.console.warn("jQuery.Deferred exception: "+l.message,l.stack,h)},m.readyException=function(l){e.setTimeout(function(){throw l})};var ee=m.Deferred();m.fn.ready=function(l){return ee.then(l).catch(function(h){m.readyException(h)}),this},m.extend({isReady:!1,readyWait:1,ready:function(l){(l===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(l!==!0&&--m.readyWait>0)&&ee.resolveWith(S,[m]))}}),m.ready.then=ee.then;function oe(){S.removeEventListener("DOMContentLoaded",oe),e.removeEventListener("load",oe),m.ready()}S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?e.setTimeout(m.ready):(S.addEventListener("DOMContentLoaded",oe),e.addEventListener("load",oe));var me=function(l,h,v,x,D,k,O){var z=0,q=l.length,Y=v==null;if(I(v)==="object"){D=!0;for(z in v)me(l,h,z,v[z],!0,k,O)}else if(x!==void 0&&(D=!0,L(x)||(O=!0),Y&&(O?(h.call(l,x),h=null):(Y=h,h=function(fe,ge,se){return Y.call(m(fe),se)})),h))for(;z<q;z++)h(l[z],v,O?x:x.call(l[z],z,h(l[z],v)));return D?l:Y?h.call(l):q?h(l[0],v):k},Ee=/^-ms-/,ve=/-([a-z])/g;function Se(l,h){return h.toUpperCase()}function De(l){return l.replace(Ee,"ms-").replace(ve,Se)}var te=function(l){return l.nodeType===1||l.nodeType===9||!+l.nodeType};function ue(){this.expando=m.expando+ue.uid++}ue.uid=1,ue.prototype={cache:function(l){var h=l[this.expando];return h||(h={},te(l)&&(l.nodeType?l[this.expando]=h:Object.defineProperty(l,this.expando,{value:h,configurable:!0}))),h},set:function(l,h,v){var x,D=this.cache(l);if(typeof h=="string")D[De(h)]=v;else for(x in h)D[De(x)]=h[x];return D},get:function(l,h){return h===void 0?this.cache(l):l[this.expando]&&l[this.expando][De(h)]},access:function(l,h,v){return h===void 0||h&&typeof h=="string"&&v===void 0?this.get(l,h):(this.set(l,h,v),v!==void 0?v:h)},remove:function(l,h){var v,x=l[this.expando];if(x!==void 0){if(h!==void 0)for(Array.isArray(h)?h=h.map(De):(h=De(h),h=h in x?[h]:h.match(Pe)||[]),v=h.length;v--;)delete x[h[v]];(h===void 0||m.isEmptyObject(x))&&(l.nodeType?l[this.expando]=void 0:delete l[this.expando])}},hasData:function(l){var h=l[this.expando];return h!==void 0&&!m.isEmptyObject(h)}};var be=new ue,Be=new ue,ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,st=/[A-Z]/g;function yt(l){return l==="true"?!0:l==="false"?!1:l==="null"?null:l===+l+""?+l:ut.test(l)?JSON.parse(l):l}function hn(l,h,v){var x;if(v===void 0&&l.nodeType===1)if(x="data-"+h.replace(st,"-$&").toLowerCase(),v=l.getAttribute(x),typeof v=="string"){try{v=yt(v)}catch{}Be.set(l,h,v)}else v=void 0;return v}m.extend({hasData:function(l){return Be.hasData(l)||be.hasData(l)},data:function(l,h,v){return Be.access(l,h,v)},removeData:function(l,h){Be.remove(l,h)},_data:function(l,h,v){return be.access(l,h,v)},_removeData:function(l,h){be.remove(l,h)}}),m.fn.extend({data:function(l,h){var v,x,D,k=this[0],O=k&&k.attributes;if(l===void 0){if(this.length&&(D=Be.get(k),k.nodeType===1&&!be.get(k,"hasDataAttrs"))){for(v=O.length;v--;)O[v]&&(x=O[v].name,x.indexOf("data-")===0&&(x=De(x.slice(5)),hn(k,x,D[x])));be.set(k,"hasDataAttrs",!0)}return D}return typeof l=="object"?this.each(function(){Be.set(this,l)}):me(this,function(z){var q;if(k&&z===void 0)return q=Be.get(k,l),q!==void 0||(q=hn(k,l),q!==void 0)?q:void 0;this.each(function(){Be.set(this,l,z)})},null,h,arguments.length>1,null,!0)},removeData:function(l){return this.each(function(){Be.remove(this,l)})}}),m.extend({queue:function(l,h,v){var x;if(l)return h=(h||"fx")+"queue",x=be.get(l,h),v&&(!x||Array.isArray(v)?x=be.access(l,h,m.makeArray(v)):x.push(v)),x||[]},dequeue:function(l,h){h=h||"fx";var v=m.queue(l,h),x=v.length,D=v.shift(),k=m._queueHooks(l,h),O=function(){m.dequeue(l,h)};D==="inprogress"&&(D=v.shift(),x--),D&&(h==="fx"&&v.unshift("inprogress"),delete k.stop,D.call(l,O,k)),!x&&k&&k.empty.fire()},_queueHooks:function(l,h){var v=h+"queueHooks";return be.get(l,v)||be.access(l,v,{empty:m.Callbacks("once memory").add(function(){be.remove(l,[h+"queue",v])})})}}),m.fn.extend({queue:function(l,h){var v=2;return typeof l!="string"&&(h=l,l="fx",v--),arguments.length<v?m.queue(this[0],l):h===void 0?this:this.each(function(){var x=m.queue(this,l,h);m._queueHooks(this,l),l==="fx"&&x[0]!=="inprogress"&&m.dequeue(this,l)})},dequeue:function(l){return this.each(function(){m.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,h){var v,x=1,D=m.Deferred(),k=this,O=this.length,z=function(){--x||D.resolveWith(k,[k])};for(typeof l!="string"&&(h=l,l=void 0),l=l||"fx";O--;)v=be.get(k[O],l+"queueHooks"),v&&v.empty&&(x++,v.empty.add(z));return z(),D.promise(h)}});var _i=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=new RegExp("^(?:([+-])=|)("+_i+")([a-z%]*)$","i"),Cn=["Top","Right","Bottom","Left"],jn=S.documentElement,en=function(l){return m.contains(l.ownerDocument,l)},ti={composed:!0};jn.getRootNode&&(en=function(l){return m.contains(l.ownerDocument,l)||l.getRootNode(ti)===l.ownerDocument});var Rr=function(l,h){return l=h||l,l.style.display==="none"||l.style.display===""&&en(l)&&m.css(l,"display")==="none"};function ic(l,h,v,x){var D,k,O=20,z=x?function(){return x.cur()}:function(){return m.css(l,h,"")},q=z(),Y=v&&v[3]||(m.cssNumber[h]?"":"px"),fe=l.nodeType&&(m.cssNumber[h]||Y!=="px"&&+q)&&dt.exec(m.css(l,h));if(fe&&fe[3]!==Y){for(q=q/2,Y=Y||fe[3],fe=+q||1;O--;)m.style(l,h,fe+Y),(1-k)*(1-(k=z()/q||.5))<=0&&(O=0),fe=fe/k;fe=fe*2,m.style(l,h,fe+Y),v=v||[]}return v&&(fe=+fe||+q||0,D=v[1]?fe+(v[1]+1)*v[2]:+v[2],x&&(x.unit=Y,x.start=fe,x.end=D)),D}var rc={};function Wf(l){var h,v=l.ownerDocument,x=l.nodeName,D=rc[x];return D||(h=v.body.appendChild(v.createElement(x)),D=m.css(h,"display"),h.parentNode.removeChild(h),D==="none"&&(D="block"),rc[x]=D,D)}function ls(l,h){for(var v,x,D=[],k=0,O=l.length;k<O;k++)x=l[k],x.style&&(v=x.style.display,h?(v==="none"&&(D[k]=be.get(x,"display")||null,D[k]||(x.style.display="")),x.style.display===""&&Rr(x)&&(D[k]=Wf(x))):v!=="none"&&(D[k]="none",be.set(x,"display",v)));for(k=0;k<O;k++)D[k]!=null&&(l[k].style.display=D[k]);return l}m.fn.extend({show:function(){return ls(this,!0)},hide:function(){return ls(this)},toggle:function(l){return typeof l=="boolean"?l?this.show():this.hide():this.each(function(){Rr(this)?m(this).show():m(this).hide()})}});var $s=/^(?:checkbox|radio)$/i,sc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ac=/^$|^module$|\/(?:java|ecma)script/i;(function(){var l=S.createDocumentFragment(),h=l.appendChild(S.createElement("div")),v=S.createElement("input");v.setAttribute("type","radio"),v.setAttribute("checked","checked"),v.setAttribute("name","t"),h.appendChild(v),E.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",E.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",E.option=!!h.lastChild})();var ni={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ni.tbody=ni.tfoot=ni.colgroup=ni.caption=ni.thead,ni.th=ni.td,E.option||(ni.optgroup=ni.option=[1,"<select multiple='multiple'>","</select>"]);function wn(l,h){var v;return typeof l.getElementsByTagName<"u"?v=l.getElementsByTagName(h||"*"):typeof l.querySelectorAll<"u"?v=l.querySelectorAll(h||"*"):v=[],h===void 0||h&&re(l,h)?m.merge([l],v):v}function fu(l,h){for(var v=0,x=l.length;v<x;v++)be.set(l[v],"globalEval",!h||be.get(h[v],"globalEval"))}var zf=/<|&#?\w+;/;function oc(l,h,v,x,D){for(var k,O,z,q,Y,fe,ge=h.createDocumentFragment(),se=[],Ce=0,Xe=l.length;Ce<Xe;Ce++)if(k=l[Ce],k||k===0)if(I(k)==="object")m.merge(se,k.nodeType?[k]:k);else if(!zf.test(k))se.push(h.createTextNode(k));else{for(O=O||ge.appendChild(h.createElement("div")),z=(sc.exec(k)||["",""])[1].toLowerCase(),q=ni[z]||ni._default,O.innerHTML=q[1]+m.htmlPrefilter(k)+q[2],fe=q[0];fe--;)O=O.lastChild;m.merge(se,O.childNodes),O=ge.firstChild,O.textContent=""}for(ge.textContent="",Ce=0;k=se[Ce++];){if(x&&m.inArray(k,x)>-1){D&&D.push(k);continue}if(Y=en(k),O=wn(ge.appendChild(k),"script"),Y&&fu(O),v)for(fe=0;k=O[fe++];)ac.test(k.type||"")&&v.push(k)}return ge}var uc=/^([^.]*)(?:\.(.+)|)/;function cs(){return!0}function Nr(){return!1}function Hs(l,h,v,x,D,k){var O,z;if(typeof h=="object"){typeof v!="string"&&(x=x||v,v=void 0);for(z in h)Hs(l,z,v,x,h[z],k);return l}if(x==null&&D==null?(D=v,x=v=void 0):D==null&&(typeof v=="string"?(D=x,x=void 0):(D=x,x=v,v=void 0)),D===!1)D=Nr;else if(!D)return l;return k===1&&(O=D,D=function(q){return m().off(q),O.apply(this,arguments)},D.guid=O.guid||(O.guid=m.guid++)),l.each(function(){m.event.add(this,h,D,x,v)})}m.event={global:{},add:function(l,h,v,x,D){var k,O,z,q,Y,fe,ge,se,Ce,Xe,ot,Ye=be.get(l);if(te(l))for(v.handler&&(k=v,v=k.handler,D=k.selector),D&&m.find.matchesSelector(jn,D),v.guid||(v.guid=m.guid++),(q=Ye.events)||(q=Ye.events=Object.create(null)),(O=Ye.handle)||(O=Ye.handle=function(Wt){return typeof m<"u"&&m.event.triggered!==Wt.type?m.event.dispatch.apply(l,arguments):void 0}),h=(h||"").match(Pe)||[""],Y=h.length;Y--;)z=uc.exec(h[Y])||[],Ce=ot=z[1],Xe=(z[2]||"").split(".").sort(),Ce&&(ge=m.event.special[Ce]||{},Ce=(D?ge.delegateType:ge.bindType)||Ce,ge=m.event.special[Ce]||{},fe=m.extend({type:Ce,origType:ot,data:x,handler:v,guid:v.guid,selector:D,needsContext:D&&m.expr.match.needsContext.test(D),namespace:Xe.join(".")},k),(se=q[Ce])||(se=q[Ce]=[],se.delegateCount=0,(!ge.setup||ge.setup.call(l,x,Xe,O)===!1)&&l.addEventListener&&l.addEventListener(Ce,O)),ge.add&&(ge.add.call(l,fe),fe.handler.guid||(fe.handler.guid=v.guid)),D?se.splice(se.delegateCount++,0,fe):se.push(fe),m.event.global[Ce]=!0)},remove:function(l,h,v,x,D){var k,O,z,q,Y,fe,ge,se,Ce,Xe,ot,Ye=be.hasData(l)&&be.get(l);if(!(!Ye||!(q=Ye.events))){for(h=(h||"").match(Pe)||[""],Y=h.length;Y--;){if(z=uc.exec(h[Y])||[],Ce=ot=z[1],Xe=(z[2]||"").split(".").sort(),!Ce){for(Ce in q)m.event.remove(l,Ce+h[Y],v,x,!0);continue}for(ge=m.event.special[Ce]||{},Ce=(x?ge.delegateType:ge.bindType)||Ce,se=q[Ce]||[],z=z[2]&&new RegExp("(^|\\.)"+Xe.join("\\.(?:.*\\.|)")+"(\\.|$)"),O=k=se.length;k--;)fe=se[k],(D||ot===fe.origType)&&(!v||v.guid===fe.guid)&&(!z||z.test(fe.namespace))&&(!x||x===fe.selector||x==="**"&&fe.selector)&&(se.splice(k,1),fe.selector&&se.delegateCount--,ge.remove&&ge.remove.call(l,fe));O&&!se.length&&((!ge.teardown||ge.teardown.call(l,Xe,Ye.handle)===!1)&&m.removeEvent(l,Ce,Ye.handle),delete q[Ce])}m.isEmptyObject(q)&&be.remove(l,"handle events")}},dispatch:function(l){var h,v,x,D,k,O,z=new Array(arguments.length),q=m.event.fix(l),Y=(be.get(this,"events")||Object.create(null))[q.type]||[],fe=m.event.special[q.type]||{};for(z[0]=q,h=1;h<arguments.length;h++)z[h]=arguments[h];if(q.delegateTarget=this,!(fe.preDispatch&&fe.preDispatch.call(this,q)===!1)){for(O=m.event.handlers.call(this,q,Y),h=0;(D=O[h++])&&!q.isPropagationStopped();)for(q.currentTarget=D.elem,v=0;(k=D.handlers[v++])&&!q.isImmediatePropagationStopped();)(!q.rnamespace||k.namespace===!1||q.rnamespace.test(k.namespace))&&(q.handleObj=k,q.data=k.data,x=((m.event.special[k.origType]||{}).handle||k.handler).apply(D.elem,z),x!==void 0&&(q.result=x)===!1&&(q.preventDefault(),q.stopPropagation()));return fe.postDispatch&&fe.postDispatch.call(this,q),q.result}},handlers:function(l,h){var v,x,D,k,O,z=[],q=h.delegateCount,Y=l.target;if(q&&Y.nodeType&&!(l.type==="click"&&l.button>=1)){for(;Y!==this;Y=Y.parentNode||this)if(Y.nodeType===1&&!(l.type==="click"&&Y.disabled===!0)){for(k=[],O={},v=0;v<q;v++)x=h[v],D=x.selector+" ",O[D]===void 0&&(O[D]=x.needsContext?m(D,this).index(Y)>-1:m.find(D,this,null,[Y]).length),O[D]&&k.push(x);k.length&&z.push({elem:Y,handlers:k})}}return Y=this,q<h.length&&z.push({elem:Y,handlers:h.slice(q)}),z},addProp:function(l,h){Object.defineProperty(m.Event.prototype,l,{enumerable:!0,configurable:!0,get:L(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},set:function(v){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:v})}})},fix:function(l){return l[m.expando]?l:new m.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){var h=this||l;return $s.test(h.type)&&h.click&&re(h,"input")&&Mr(h,"click",!0),!1},trigger:function(l){var h=this||l;return $s.test(h.type)&&h.click&&re(h,"input")&&Mr(h,"click"),!0},_default:function(l){var h=l.target;return $s.test(h.type)&&h.click&&re(h,"input")&&be.get(h,"click")||re(h,"a")}},beforeunload:{postDispatch:function(l){l.result!==void 0&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}};function Mr(l,h,v){if(!v){be.get(l,h)===void 0&&m.event.add(l,h,cs);return}be.set(l,h,!1),m.event.add(l,h,{namespace:!1,handler:function(x){var D,k=be.get(this,h);if(x.isTrigger&1&&this[h]){if(k)(m.event.special[h]||{}).delegateType&&x.stopPropagation();else if(k=s.call(arguments),be.set(this,h,k),this[h](),D=be.get(this,h),be.set(this,h,!1),k!==D)return x.stopImmediatePropagation(),x.preventDefault(),D}else k&&(be.set(this,h,m.event.trigger(k[0],k.slice(1),this)),x.stopPropagation(),x.isImmediatePropagationStopped=cs)}})}m.removeEvent=function(l,h,v){l.removeEventListener&&l.removeEventListener(h,v)},m.Event=function(l,h){if(!(this instanceof m.Event))return new m.Event(l,h);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||l.defaultPrevented===void 0&&l.returnValue===!1?cs:Nr,this.target=l.target&&l.target.nodeType===3?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):this.type=l,h&&m.extend(this,h),this.timeStamp=l&&l.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:Nr,isPropagationStopped:Nr,isImmediatePropagationStopped:Nr,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=cs,l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=cs,l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=this.originalEvent;this.isImmediatePropagationStopped=cs,l&&!this.isSimulated&&l.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(l,h){function v(x){if(S.documentMode){var D=be.get(this,"handle"),k=m.event.fix(x);k.type=x.type==="focusin"?"focus":"blur",k.isSimulated=!0,D(x),k.target===k.currentTarget&&D(k)}else m.event.simulate(h,x.target,m.event.fix(x))}m.event.special[l]={setup:function(){var x;if(Mr(this,l,!0),S.documentMode)x=be.get(this,h),x||this.addEventListener(h,v),be.set(this,h,(x||0)+1);else return!1},trigger:function(){return Mr(this,l),!0},teardown:function(){var x;if(S.documentMode)x=be.get(this,h)-1,x?be.set(this,h,x):(this.removeEventListener(h,v),be.remove(this,h));else return!1},_default:function(x){return be.get(x.target,l)},delegateType:h},m.event.special[h]={setup:function(){var x=this.ownerDocument||this.document||this,D=S.documentMode?this:x,k=be.get(D,h);k||(S.documentMode?this.addEventListener(h,v):x.addEventListener(l,v,!0)),be.set(D,h,(k||0)+1)},teardown:function(){var x=this.ownerDocument||this.document||this,D=S.documentMode?this:x,k=be.get(D,h)-1;k?be.set(D,h,k):(S.documentMode?this.removeEventListener(h,v):x.removeEventListener(l,v,!0),be.remove(D,h))}}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,h){m.event.special[l]={delegateType:h,bindType:h,handle:function(v){var x,D=this,k=v.relatedTarget,O=v.handleObj;return(!k||k!==D&&!m.contains(D,k))&&(v.type=O.origType,x=O.handler.apply(this,arguments),v.type=h),x}}}),m.fn.extend({on:function(l,h,v,x){return Hs(this,l,h,v,x)},one:function(l,h,v,x){return Hs(this,l,h,v,x,1)},off:function(l,h,v){var x,D;if(l&&l.preventDefault&&l.handleObj)return x=l.handleObj,m(l.delegateTarget).off(x.namespace?x.origType+"."+x.namespace:x.origType,x.selector,x.handler),this;if(typeof l=="object"){for(D in l)this.off(D,h,l[D]);return this}return(h===!1||typeof h=="function")&&(v=h,h=void 0),v===!1&&(v=Nr),this.each(function(){m.event.remove(this,l,v,h)})}});var Pn=/<script|<style|<link/i,Gf=/checked\s*(?:[^=]|=\s*.checked.)/i,Kf=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function qs(l,h){return re(l,"table")&&re(h.nodeType!==11?h:h.firstChild,"tr")&&m(l).children("tbody")[0]||l}function Gi(l){return l.type=(l.getAttribute("type")!==null)+"/"+l.type,l}function ja(l){return(l.type||"").slice(0,5)==="true/"?l.type=l.type.slice(5):l.removeAttribute("type"),l}function Tt(l,h){var v,x,D,k,O,z,q;if(h.nodeType===1){if(be.hasData(l)&&(k=be.get(l),q=k.events,q)){be.remove(h,"handle events");for(D in q)for(v=0,x=q[D].length;v<x;v++)m.event.add(h,D,q[D][v])}Be.hasData(l)&&(O=Be.access(l),z=m.extend({},O),Be.set(h,z))}}function Xf(l,h){var v=h.nodeName.toLowerCase();v==="input"&&$s.test(l.type)?h.checked=l.checked:(v==="input"||v==="textarea")&&(h.defaultValue=l.defaultValue)}function Ki(l,h,v,x){h=a(h);var D,k,O,z,q,Y,fe=0,ge=l.length,se=ge-1,Ce=h[0],Xe=L(Ce);if(Xe||ge>1&&typeof Ce=="string"&&!E.checkClone&&Gf.test(Ce))return l.each(function(ot){var Ye=l.eq(ot);Xe&&(h[0]=Ce.call(this,ot,Ye.html())),Ki(Ye,h,v,x)});if(ge&&(D=oc(h,l[0].ownerDocument,!1,l,x),k=D.firstChild,D.childNodes.length===1&&(D=k),k||x)){for(O=m.map(wn(D,"script"),Gi),z=O.length;fe<ge;fe++)q=D,fe!==se&&(q=m.clone(q,!0,!0),z&&m.merge(O,wn(q,"script"))),v.call(l[fe],q,fe);if(z)for(Y=O[O.length-1].ownerDocument,m.map(O,ja),fe=0;fe<z;fe++)q=O[fe],ac.test(q.type||"")&&!be.access(q,"globalEval")&&m.contains(Y,q)&&(q.src&&(q.type||"").toLowerCase()!=="module"?m._evalUrl&&!q.noModule&&m._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")},Y):M(q.textContent.replace(Kf,""),q,Y))}return l}function Vs(l,h,v){for(var x,D=h?m.filter(h,l):l,k=0;(x=D[k])!=null;k++)!v&&x.nodeType===1&&m.cleanData(wn(x)),x.parentNode&&(v&&en(x)&&fu(wn(x,"script")),x.parentNode.removeChild(x));return l}m.extend({htmlPrefilter:function(l){return l},clone:function(l,h,v){var x,D,k,O,z=l.cloneNode(!0),q=en(l);if(!E.noCloneChecked&&(l.nodeType===1||l.nodeType===11)&&!m.isXMLDoc(l))for(O=wn(z),k=wn(l),x=0,D=k.length;x<D;x++)Xf(k[x],O[x]);if(h)if(v)for(k=k||wn(l),O=O||wn(z),x=0,D=k.length;x<D;x++)Tt(k[x],O[x]);else Tt(l,z);return O=wn(z,"script"),O.length>0&&fu(O,!q&&wn(l,"script")),z},cleanData:function(l){for(var h,v,x,D=m.event.special,k=0;(v=l[k])!==void 0;k++)if(te(v)){if(h=v[be.expando]){if(h.events)for(x in h.events)D[x]?m.event.remove(v,x):m.removeEvent(v,x,h.handle);v[be.expando]=void 0}v[Be.expando]&&(v[Be.expando]=void 0)}}}),m.fn.extend({detach:function(l){return Vs(this,l,!0)},remove:function(l){return Vs(this,l)},text:function(l){return me(this,function(h){return h===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=h)})},null,l,arguments.length)},append:function(){return Ki(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=qs(this,l);h.appendChild(l)}})},prepend:function(){return Ki(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=qs(this,l);h.insertBefore(l,h.firstChild)}})},before:function(){return Ki(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this)})},after:function(){return Ki(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,h=0;(l=this[h])!=null;h++)l.nodeType===1&&(m.cleanData(wn(l,!1)),l.textContent="");return this},clone:function(l,h){return l=l??!1,h=h??l,this.map(function(){return m.clone(this,l,h)})},html:function(l){return me(this,function(h){var v=this[0]||{},x=0,D=this.length;if(h===void 0&&v.nodeType===1)return v.innerHTML;if(typeof h=="string"&&!Pn.test(h)&&!ni[(sc.exec(h)||["",""])[1].toLowerCase()]){h=m.htmlPrefilter(h);try{for(;x<D;x++)v=this[x]||{},v.nodeType===1&&(m.cleanData(wn(v,!1)),v.innerHTML=h);v=0}catch{}}v&&this.empty().append(h)},null,l,arguments.length)},replaceWith:function(){var l=[];return Ki(this,arguments,function(h){var v=this.parentNode;m.inArray(this,l)<0&&(m.cleanData(wn(this)),v&&v.replaceChild(h,this))},l)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,h){m.fn[l]=function(v){for(var x,D=[],k=m(v),O=k.length-1,z=0;z<=O;z++)x=z===O?this:this.clone(!0),m(k[z])[h](x),o.apply(D,x.get());return this.pushStack(D)}});var hu=new RegExp("^("+_i+")(?!px)[a-z%]+$","i"),Xi=/^--/,Et=function(l){var h=l.ownerDocument.defaultView;return(!h||!h.opener)&&(h=e),h.getComputedStyle(l)},pu=function(l,h,v){var x,D,k={};for(D in h)k[D]=l.style[D],l.style[D]=h[D];x=v.call(l);for(D in h)l.style[D]=k[D];return x},$a=new RegExp(Cn.join("|"),"i");(function(){function l(){if(Y){q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Y.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",jn.appendChild(q).appendChild(Y);var fe=e.getComputedStyle(Y);v=fe.top!=="1%",z=h(fe.marginLeft)===12,Y.style.right="60%",k=h(fe.right)===36,x=h(fe.width)===36,Y.style.position="absolute",D=h(Y.offsetWidth/3)===12,jn.removeChild(q),Y=null}}function h(fe){return Math.round(parseFloat(fe))}var v,x,D,k,O,z,q=S.createElement("div"),Y=S.createElement("div");Y.style&&(Y.style.backgroundClip="content-box",Y.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle=Y.style.backgroundClip==="content-box",m.extend(E,{boxSizingReliable:function(){return l(),x},pixelBoxStyles:function(){return l(),k},pixelPosition:function(){return l(),v},reliableMarginLeft:function(){return l(),z},scrollboxSize:function(){return l(),D},reliableTrDimensions:function(){var fe,ge,se,Ce;return O==null&&(fe=S.createElement("table"),ge=S.createElement("tr"),se=S.createElement("div"),fe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ge.style.cssText="box-sizing:content-box;border:1px solid",ge.style.height="1px",se.style.height="9px",se.style.display="block",jn.appendChild(fe).appendChild(ge).appendChild(se),Ce=e.getComputedStyle(ge),O=parseInt(Ce.height,10)+parseInt(Ce.borderTopWidth,10)+parseInt(Ce.borderBottomWidth,10)===ge.offsetHeight,jn.removeChild(fe)),O}}))})();function Ws(l,h,v){var x,D,k,O,z=Xi.test(h),q=l.style;return v=v||Et(l),v&&(O=v.getPropertyValue(h)||v[h],z&&O&&(O=O.replace(he,"$1")||void 0),O===""&&!en(l)&&(O=m.style(l,h)),!E.pixelBoxStyles()&&hu.test(O)&&$a.test(h)&&(x=q.width,D=q.minWidth,k=q.maxWidth,q.minWidth=q.maxWidth=q.width=O,O=v.width,q.width=x,q.minWidth=D,q.maxWidth=k)),O!==void 0?O+"":O}function lc(l,h){return{get:function(){if(l()){delete this.get;return}return(this.get=h).apply(this,arguments)}}}var cc=["Webkit","Moz","ms"],gu=S.createElement("div").style,Ha={};function mu(l){for(var h=l[0].toUpperCase()+l.slice(1),v=cc.length;v--;)if(l=cc[v]+h,l in gu)return l}function qa(l){var h=m.cssProps[l]||Ha[l];return h||(l in gu?l:Ha[l]=mu(l)||l)}var Yf=/^(none|table(?!-c[ea]).+)/,Qf={position:"absolute",visibility:"hidden",display:"block"},zs={letterSpacing:"0",fontWeight:"400"};function Gs(l,h,v){var x=dt.exec(h);return x?Math.max(0,x[2]-(v||0))+(x[3]||"px"):h}function Va(l,h,v,x,D,k){var O=h==="width"?1:0,z=0,q=0,Y=0;if(v===(x?"border":"content"))return 0;for(;O<4;O+=2)v==="margin"&&(Y+=m.css(l,v+Cn[O],!0,D)),x?(v==="content"&&(q-=m.css(l,"padding"+Cn[O],!0,D)),v!=="margin"&&(q-=m.css(l,"border"+Cn[O]+"Width",!0,D))):(q+=m.css(l,"padding"+Cn[O],!0,D),v!=="padding"?q+=m.css(l,"border"+Cn[O]+"Width",!0,D):z+=m.css(l,"border"+Cn[O]+"Width",!0,D));return!x&&k>=0&&(q+=Math.max(0,Math.ceil(l["offset"+h[0].toUpperCase()+h.slice(1)]-k-q-z-.5))||0),q+Y}function ds(l,h,v){var x=Et(l),D=!E.boxSizingReliable()||v,k=D&&m.css(l,"boxSizing",!1,x)==="border-box",O=k,z=Ws(l,h,x),q="offset"+h[0].toUpperCase()+h.slice(1);if(hu.test(z)){if(!v)return z;z="auto"}return(!E.boxSizingReliable()&&k||!E.reliableTrDimensions()&&re(l,"tr")||z==="auto"||!parseFloat(z)&&m.css(l,"display",!1,x)==="inline")&&l.getClientRects().length&&(k=m.css(l,"boxSizing",!1,x)==="border-box",O=q in l,O&&(z=l[q])),z=parseFloat(z)||0,z+Va(l,h,v||(k?"border":"content"),O,x,z)+"px"}m.extend({cssHooks:{opacity:{get:function(l,h){if(h){var v=Ws(l,"opacity");return v===""?"1":v}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(l,h,v,x){if(!(!l||l.nodeType===3||l.nodeType===8||!l.style)){var D,k,O,z=De(h),q=Xi.test(h),Y=l.style;if(q||(h=qa(z)),O=m.cssHooks[h]||m.cssHooks[z],v!==void 0){if(k=typeof v,k==="string"&&(D=dt.exec(v))&&D[1]&&(v=ic(l,h,D),k="number"),v==null||v!==v)return;k==="number"&&!q&&(v+=D&&D[3]||(m.cssNumber[z]?"":"px")),!E.clearCloneStyle&&v===""&&h.indexOf("background")===0&&(Y[h]="inherit"),(!O||!("set"in O)||(v=O.set(l,v,x))!==void 0)&&(q?Y.setProperty(h,v):Y[h]=v)}else return O&&"get"in O&&(D=O.get(l,!1,x))!==void 0?D:Y[h]}},css:function(l,h,v,x){var D,k,O,z=De(h),q=Xi.test(h);return q||(h=qa(z)),O=m.cssHooks[h]||m.cssHooks[z],O&&"get"in O&&(D=O.get(l,!0,v)),D===void 0&&(D=Ws(l,h,x)),D==="normal"&&h in zs&&(D=zs[h]),v===""||v?(k=parseFloat(D),v===!0||isFinite(k)?k||0:D):D}}),m.each(["height","width"],function(l,h){m.cssHooks[h]={get:function(v,x,D){if(x)return Yf.test(m.css(v,"display"))&&(!v.getClientRects().length||!v.getBoundingClientRect().width)?pu(v,Qf,function(){return ds(v,h,D)}):ds(v,h,D)},set:function(v,x,D){var k,O=Et(v),z=!E.scrollboxSize()&&O.position==="absolute",q=z||D,Y=q&&m.css(v,"boxSizing",!1,O)==="border-box",fe=D?Va(v,h,D,Y,O):0;return Y&&z&&(fe-=Math.ceil(v["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(O[h])-Va(v,h,"border",!1,O)-.5)),fe&&(k=dt.exec(x))&&(k[3]||"px")!=="px"&&(v.style[h]=x,x=m.css(v,h)),Gs(v,x,fe)}}}),m.cssHooks.marginLeft=lc(E.reliableMarginLeft,function(l,h){if(h)return(parseFloat(Ws(l,"marginLeft"))||l.getBoundingClientRect().left-pu(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(l,h){m.cssHooks[l+h]={expand:function(v){for(var x=0,D={},k=typeof v=="string"?v.split(" "):[v];x<4;x++)D[l+Cn[x]+h]=k[x]||k[x-2]||k[0];return D}},l!=="margin"&&(m.cssHooks[l+h].set=Gs)}),m.fn.extend({css:function(l,h){return me(this,function(v,x,D){var k,O,z={},q=0;if(Array.isArray(x)){for(k=Et(v),O=x.length;q<O;q++)z[x[q]]=m.css(v,x[q],!1,k);return z}return D!==void 0?m.style(v,x,D):m.css(v,x)},l,h,arguments.length>1)}});function on(l,h,v,x,D){return new on.prototype.init(l,h,v,x,D)}m.Tween=on,on.prototype={constructor:on,init:function(l,h,v,x,D,k){this.elem=l,this.prop=v,this.easing=D||m.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=x,this.unit=k||(m.cssNumber[v]?"":"px")},cur:function(){var l=on.propHooks[this.prop];return l&&l.get?l.get(this):on.propHooks._default.get(this)},run:function(l){var h,v=on.propHooks[this.prop];return this.options.duration?this.pos=h=m.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):this.pos=h=l,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):on.propHooks._default.set(this),this}},on.prototype.init.prototype=on.prototype,on.propHooks={_default:{get:function(l){var h;return l.elem.nodeType!==1||l.elem[l.prop]!=null&&l.elem.style[l.prop]==null?l.elem[l.prop]:(h=m.css(l.elem,l.prop,""),!h||h==="auto"?0:h)},set:function(l){m.fx.step[l.prop]?m.fx.step[l.prop](l):l.elem.nodeType===1&&(m.cssHooks[l.prop]||l.elem.style[qa(l.prop)]!=null)?m.style(l.elem,l.prop,l.now+l.unit):l.elem[l.prop]=l.now}}},on.propHooks.scrollTop=on.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}},m.easing={linear:function(l){return l},swing:function(l){return .5-Math.cos(l*Math.PI)/2},_default:"swing"},m.fx=on.prototype.init,m.fx.step={};var Pi,ar,Jf=/^(?:toggle|show|hide)$/,dc=/queueHooks$/;function yu(){ar&&(S.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(yu):e.setTimeout(yu,m.fx.interval),m.fx.tick())}function fc(){return e.setTimeout(function(){Pi=void 0}),Pi=Date.now()}function vi(l,h){var v,x=0,D={height:l};for(h=h?1:0;x<4;x+=2-h)v=Cn[x],D["margin"+v]=D["padding"+v]=l;return h&&(D.opacity=D.width=l),D}function Ks(l,h,v){for(var x,D=($n.tweeners[h]||[]).concat($n.tweeners["*"]),k=0,O=D.length;k<O;k++)if(x=D[k].call(v,h,l))return x}function Zf(l,h,v){var x,D,k,O,z,q,Y,fe,ge="width"in h||"height"in h,se=this,Ce={},Xe=l.style,ot=l.nodeType&&Rr(l),Ye=be.get(l,"fxshow");v.queue||(O=m._queueHooks(l,"fx"),O.unqueued==null&&(O.unqueued=0,z=O.empty.fire,O.empty.fire=function(){O.unqueued||z()}),O.unqueued++,se.always(function(){se.always(function(){O.unqueued--,m.queue(l,"fx").length||O.empty.fire()})}));for(x in h)if(D=h[x],Jf.test(D)){if(delete h[x],k=k||D==="toggle",D===(ot?"hide":"show"))if(D==="show"&&Ye&&Ye[x]!==void 0)ot=!0;else continue;Ce[x]=Ye&&Ye[x]||m.style(l,x)}if(q=!m.isEmptyObject(h),!(!q&&m.isEmptyObject(Ce))){ge&&l.nodeType===1&&(v.overflow=[Xe.overflow,Xe.overflowX,Xe.overflowY],Y=Ye&&Ye.display,Y==null&&(Y=be.get(l,"display")),fe=m.css(l,"display"),fe==="none"&&(Y?fe=Y:(ls([l],!0),Y=l.style.display||Y,fe=m.css(l,"display"),ls([l]))),(fe==="inline"||fe==="inline-block"&&Y!=null)&&m.css(l,"float")==="none"&&(q||(se.done(function(){Xe.display=Y}),Y==null&&(fe=Xe.display,Y=fe==="none"?"":fe)),Xe.display="inline-block")),v.overflow&&(Xe.overflow="hidden",se.always(function(){Xe.overflow=v.overflow[0],Xe.overflowX=v.overflow[1],Xe.overflowY=v.overflow[2]})),q=!1;for(x in Ce)q||(Ye?"hidden"in Ye&&(ot=Ye.hidden):Ye=be.access(l,"fxshow",{display:Y}),k&&(Ye.hidden=!ot),ot&&ls([l],!0),se.done(function(){ot||ls([l]),be.remove(l,"fxshow");for(x in Ce)m.style(l,x,Ce[x])})),q=Ks(ot?Ye[x]:0,x,se),x in Ye||(Ye[x]=q.start,ot&&(q.end=q.start,q.start=0))}}function _u(l,h){var v,x,D,k,O;for(v in l)if(x=De(v),D=h[x],k=l[v],Array.isArray(k)&&(D=k[1],k=l[v]=k[0]),v!==x&&(l[x]=k,delete l[v]),O=m.cssHooks[x],O&&"expand"in O){k=O.expand(k),delete l[x];for(v in k)v in l||(l[v]=k[v],h[v]=D)}else h[x]=D}function $n(l,h,v){var x,D,k=0,O=$n.prefilters.length,z=m.Deferred().always(function(){delete q.elem}),q=function(){if(D)return!1;for(var ge=Pi||fc(),se=Math.max(0,Y.startTime+Y.duration-ge),Ce=se/Y.duration||0,Xe=1-Ce,ot=0,Ye=Y.tweens.length;ot<Ye;ot++)Y.tweens[ot].run(Xe);return z.notifyWith(l,[Y,Xe,se]),Xe<1&&Ye?se:(Ye||z.notifyWith(l,[Y,1,0]),z.resolveWith(l,[Y]),!1)},Y=z.promise({elem:l,props:m.extend({},h),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},v),originalProperties:h,originalOptions:v,startTime:Pi||fc(),duration:v.duration,tweens:[],createTween:function(ge,se){var Ce=m.Tween(l,Y.opts,ge,se,Y.opts.specialEasing[ge]||Y.opts.easing);return Y.tweens.push(Ce),Ce},stop:function(ge){var se=0,Ce=ge?Y.tweens.length:0;if(D)return this;for(D=!0;se<Ce;se++)Y.tweens[se].run(1);return ge?(z.notifyWith(l,[Y,1,0]),z.resolveWith(l,[Y,ge])):z.rejectWith(l,[Y,ge]),this}}),fe=Y.props;for(_u(fe,Y.opts.specialEasing);k<O;k++)if(x=$n.prefilters[k].call(Y,l,fe,Y.opts),x)return L(x.stop)&&(m._queueHooks(Y.elem,Y.opts.queue).stop=x.stop.bind(x)),x;return m.map(fe,Ks,Y),L(Y.opts.start)&&Y.opts.start.call(l,Y),Y.progress(Y.opts.progress).done(Y.opts.done,Y.opts.complete).fail(Y.opts.fail).always(Y.opts.always),m.fx.timer(m.extend(q,{elem:l,anim:Y,queue:Y.opts.queue})),Y}m.Animation=m.extend($n,{tweeners:{"*":[function(l,h){var v=this.createTween(l,h);return ic(v.elem,l,dt.exec(h),v),v}]},tweener:function(l,h){L(l)?(h=l,l=["*"]):l=l.match(Pe);for(var v,x=0,D=l.length;x<D;x++)v=l[x],$n.tweeners[v]=$n.tweeners[v]||[],$n.tweeners[v].unshift(h)},prefilters:[Zf],prefilter:function(l,h){h?$n.prefilters.unshift(l):$n.prefilters.push(l)}}),m.speed=function(l,h,v){var x=l&&typeof l=="object"?m.extend({},l):{complete:v||!v&&h||L(l)&&l,duration:l,easing:v&&h||h&&!L(h)&&h};return m.fx.off?x.duration=0:typeof x.duration!="number"&&(x.duration in m.fx.speeds?x.duration=m.fx.speeds[x.duration]:x.duration=m.fx.speeds._default),(x.queue==null||x.queue===!0)&&(x.queue="fx"),x.old=x.complete,x.complete=function(){L(x.old)&&x.old.call(this),x.queue&&m.dequeue(this,x.queue)},x},m.fn.extend({fadeTo:function(l,h,v,x){return this.filter(Rr).css("opacity",0).show().end().animate({opacity:h},l,v,x)},animate:function(l,h,v,x){var D=m.isEmptyObject(l),k=m.speed(h,v,x),O=function(){var z=$n(this,m.extend({},l),k);(D||be.get(this,"finish"))&&z.stop(!0)};return O.finish=O,D||k.queue===!1?this.each(O):this.queue(k.queue,O)},stop:function(l,h,v){var x=function(D){var k=D.stop;delete D.stop,k(v)};return typeof l!="string"&&(v=h,h=l,l=void 0),h&&this.queue(l||"fx",[]),this.each(function(){var D=!0,k=l!=null&&l+"queueHooks",O=m.timers,z=be.get(this);if(k)z[k]&&z[k].stop&&x(z[k]);else for(k in z)z[k]&&z[k].stop&&dc.test(k)&&x(z[k]);for(k=O.length;k--;)O[k].elem===this&&(l==null||O[k].queue===l)&&(O[k].anim.stop(v),D=!1,O.splice(k,1));(D||!v)&&m.dequeue(this,l)})},finish:function(l){return l!==!1&&(l=l||"fx"),this.each(function(){var h,v=be.get(this),x=v[l+"queue"],D=v[l+"queueHooks"],k=m.timers,O=x?x.length:0;for(v.finish=!0,m.queue(this,l,[]),D&&D.stop&&D.stop.call(this,!0),h=k.length;h--;)k[h].elem===this&&k[h].queue===l&&(k[h].anim.stop(!0),k.splice(h,1));for(h=0;h<O;h++)x[h]&&x[h].finish&&x[h].finish.call(this);delete v.finish})}}),m.each(["toggle","show","hide"],function(l,h){var v=m.fn[h];m.fn[h]=function(x,D,k){return x==null||typeof x=="boolean"?v.apply(this,arguments):this.animate(vi(h,!0),x,D,k)}}),m.each({slideDown:vi("show"),slideUp:vi("hide"),slideToggle:vi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,h){m.fn[l]=function(v,x,D){return this.animate(h,v,x,D)}}),m.timers=[],m.fx.tick=function(){var l,h=0,v=m.timers;for(Pi=Date.now();h<v.length;h++)l=v[h],!l()&&v[h]===l&&v.splice(h--,1);v.length||m.fx.stop(),Pi=void 0},m.fx.timer=function(l){m.timers.push(l),m.fx.start()},m.fx.interval=13,m.fx.start=function(){ar||(ar=!0,yu())},m.fx.stop=function(){ar=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(l,h){return l=m.fx&&m.fx.speeds[l]||l,h=h||"fx",this.queue(h,function(v,x){var D=e.setTimeout(v,l);x.stop=function(){e.clearTimeout(D)}})},function(){var l=S.createElement("input"),h=S.createElement("select"),v=h.appendChild(S.createElement("option"));l.type="checkbox",E.checkOn=l.value!=="",E.optSelected=v.selected,l=S.createElement("input"),l.value="t",l.type="radio",E.radioValue=l.value==="t"}();var ii,Xs=m.expr.attrHandle;m.fn.extend({attr:function(l,h){return me(this,m.attr,l,h,arguments.length>1)},removeAttr:function(l){return this.each(function(){m.removeAttr(this,l)})}}),m.extend({attr:function(l,h,v){var x,D,k=l.nodeType;if(!(k===3||k===8||k===2)){if(typeof l.getAttribute>"u")return m.prop(l,h,v);if((k!==1||!m.isXMLDoc(l))&&(D=m.attrHooks[h.toLowerCase()]||(m.expr.match.bool.test(h)?ii:void 0)),v!==void 0){if(v===null){m.removeAttr(l,h);return}return D&&"set"in D&&(x=D.set(l,v,h))!==void 0?x:(l.setAttribute(h,v+""),v)}return D&&"get"in D&&(x=D.get(l,h))!==null?x:(x=m.find.attr(l,h),x??void 0)}},attrHooks:{type:{set:function(l,h){if(!E.radioValue&&h==="radio"&&re(l,"input")){var v=l.value;return l.setAttribute("type",h),v&&(l.value=v),h}}}},removeAttr:function(l,h){var v,x=0,D=h&&h.match(Pe);if(D&&l.nodeType===1)for(;v=D[x++];)l.removeAttribute(v)}}),ii={set:function(l,h,v){return h===!1?m.removeAttr(l,v):l.setAttribute(v,v),v}},m.each(m.expr.match.bool.source.match(/\w+/g),function(l,h){var v=Xs[h]||m.find.attr;Xs[h]=function(x,D,k){var O,z,q=D.toLowerCase();return k||(z=Xs[q],Xs[q]=O,O=v(x,D,k)!=null?q:null,Xs[q]=z),O}});var Wa=/^(?:input|select|textarea|button)$/i,Ys=/^(?:a|area)$/i;m.fn.extend({prop:function(l,h){return me(this,m.prop,l,h,arguments.length>1)},removeProp:function(l){return this.each(function(){delete this[m.propFix[l]||l]})}}),m.extend({prop:function(l,h,v){var x,D,k=l.nodeType;if(!(k===3||k===8||k===2))return(k!==1||!m.isXMLDoc(l))&&(h=m.propFix[h]||h,D=m.propHooks[h]),v!==void 0?D&&"set"in D&&(x=D.set(l,v,h))!==void 0?x:l[h]=v:D&&"get"in D&&(x=D.get(l,h))!==null?x:l[h]},propHooks:{tabIndex:{get:function(l){var h=m.find.attr(l,"tabindex");return h?parseInt(h,10):Wa.test(l.nodeName)||Ys.test(l.nodeName)&&l.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),E.optSelected||(m.propHooks.selected={get:function(l){var h=l.parentNode;return h&&h.parentNode&&h.parentNode.selectedIndex,null},set:function(l){var h=l.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function Oi(l){var h=l.match(Pe)||[];return h.join(" ")}function ri(l){return l.getAttribute&&l.getAttribute("class")||""}function Qs(l){return Array.isArray(l)?l:typeof l=="string"?l.match(Pe)||[]:[]}m.fn.extend({addClass:function(l){var h,v,x,D,k,O;return L(l)?this.each(function(z){m(this).addClass(l.call(this,z,ri(this)))}):(h=Qs(l),h.length?this.each(function(){if(x=ri(this),v=this.nodeType===1&&" "+Oi(x)+" ",v){for(k=0;k<h.length;k++)D=h[k],v.indexOf(" "+D+" ")<0&&(v+=D+" ");O=Oi(v),x!==O&&this.setAttribute("class",O)}}):this)},removeClass:function(l){var h,v,x,D,k,O;return L(l)?this.each(function(z){m(this).removeClass(l.call(this,z,ri(this)))}):arguments.length?(h=Qs(l),h.length?this.each(function(){if(x=ri(this),v=this.nodeType===1&&" "+Oi(x)+" ",v){for(k=0;k<h.length;k++)for(D=h[k];v.indexOf(" "+D+" ")>-1;)v=v.replace(" "+D+" "," ");O=Oi(v),x!==O&&this.setAttribute("class",O)}}):this):this.attr("class","")},toggleClass:function(l,h){var v,x,D,k,O=typeof l,z=O==="string"||Array.isArray(l);return L(l)?this.each(function(q){m(this).toggleClass(l.call(this,q,ri(this),h),h)}):typeof h=="boolean"&&z?h?this.addClass(l):this.removeClass(l):(v=Qs(l),this.each(function(){if(z)for(k=m(this),D=0;D<v.length;D++)x=v[D],k.hasClass(x)?k.removeClass(x):k.addClass(x);else(l===void 0||O==="boolean")&&(x=ri(this),x&&be.set(this,"__className__",x),this.setAttribute&&this.setAttribute("class",x||l===!1?"":be.get(this,"__className__")||""))}))},hasClass:function(l){var h,v,x=0;for(h=" "+l+" ";v=this[x++];)if(v.nodeType===1&&(" "+Oi(ri(v))+" ").indexOf(h)>-1)return!0;return!1}});var hc=/\r/g;m.fn.extend({val:function(l){var h,v,x,D=this[0];return arguments.length?(x=L(l),this.each(function(k){var O;this.nodeType===1&&(x?O=l.call(this,k,m(this).val()):O=l,O==null?O="":typeof O=="number"?O+="":Array.isArray(O)&&(O=m.map(O,function(z){return z==null?"":z+""})),h=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!h||!("set"in h)||h.set(this,O,"value")===void 0)&&(this.value=O))})):D?(h=m.valHooks[D.type]||m.valHooks[D.nodeName.toLowerCase()],h&&"get"in h&&(v=h.get(D,"value"))!==void 0?v:(v=D.value,typeof v=="string"?v.replace(hc,""):v??"")):void 0}}),m.extend({valHooks:{option:{get:function(l){var h=m.find.attr(l,"value");return h??Oi(m.text(l))}},select:{get:function(l){var h,v,x,D=l.options,k=l.selectedIndex,O=l.type==="select-one",z=O?null:[],q=O?k+1:D.length;for(k<0?x=q:x=O?k:0;x<q;x++)if(v=D[x],(v.selected||x===k)&&!v.disabled&&(!v.parentNode.disabled||!re(v.parentNode,"optgroup"))){if(h=m(v).val(),O)return h;z.push(h)}return z},set:function(l,h){for(var v,x,D=l.options,k=m.makeArray(h),O=D.length;O--;)x=D[O],(x.selected=m.inArray(m.valHooks.option.get(x),k)>-1)&&(v=!0);return v||(l.selectedIndex=-1),k}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(l,h){if(Array.isArray(h))return l.checked=m.inArray(m(l).val(),h)>-1}},E.checkOn||(m.valHooks[this].get=function(l){return l.getAttribute("value")===null?"on":l.value})});var Br=e.location,pc={guid:Date.now()},vu=/\?/;m.parseXML=function(l){var h,v;if(!l||typeof l!="string")return null;try{h=new e.DOMParser().parseFromString(l,"text/xml")}catch{}return v=h&&h.getElementsByTagName("parsererror")[0],(!h||v)&&m.error("Invalid XML: "+(v?m.map(v.childNodes,function(x){return x.textContent}).join(`
`):l)),h};var gc=/^(?:focusinfocus|focusoutblur)$/,Js=function(l){l.stopPropagation()};m.extend(m.event,{trigger:function(l,h,v,x){var D,k,O,z,q,Y,fe,ge,se=[v||S],Ce=p.call(l,"type")?l.type:l,Xe=p.call(l,"namespace")?l.namespace.split("."):[];if(k=ge=O=v=v||S,!(v.nodeType===3||v.nodeType===8)&&!gc.test(Ce+m.event.triggered)&&(Ce.indexOf(".")>-1&&(Xe=Ce.split("."),Ce=Xe.shift(),Xe.sort()),q=Ce.indexOf(":")<0&&"on"+Ce,l=l[m.expando]?l:new m.Event(Ce,typeof l=="object"&&l),l.isTrigger=x?2:3,l.namespace=Xe.join("."),l.rnamespace=l.namespace?new RegExp("(^|\\.)"+Xe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l.result=void 0,l.target||(l.target=v),h=h==null?[l]:m.makeArray(h,[l]),fe=m.event.special[Ce]||{},!(!x&&fe.trigger&&fe.trigger.apply(v,h)===!1))){if(!x&&!fe.noBubble&&!R(v)){for(z=fe.delegateType||Ce,gc.test(z+Ce)||(k=k.parentNode);k;k=k.parentNode)se.push(k),O=k;O===(v.ownerDocument||S)&&se.push(O.defaultView||O.parentWindow||e)}for(D=0;(k=se[D++])&&!l.isPropagationStopped();)ge=k,l.type=D>1?z:fe.bindType||Ce,Y=(be.get(k,"events")||Object.create(null))[l.type]&&be.get(k,"handle"),Y&&Y.apply(k,h),Y=q&&k[q],Y&&Y.apply&&te(k)&&(l.result=Y.apply(k,h),l.result===!1&&l.preventDefault());return l.type=Ce,!x&&!l.isDefaultPrevented()&&(!fe._default||fe._default.apply(se.pop(),h)===!1)&&te(v)&&q&&L(v[Ce])&&!R(v)&&(O=v[q],O&&(v[q]=null),m.event.triggered=Ce,l.isPropagationStopped()&&ge.addEventListener(Ce,Js),v[Ce](),l.isPropagationStopped()&&ge.removeEventListener(Ce,Js),m.event.triggered=void 0,O&&(v[q]=O)),l.result}},simulate:function(l,h,v){var x=m.extend(new m.Event,v,{type:l,isSimulated:!0});m.event.trigger(x,null,h)}}),m.fn.extend({trigger:function(l,h){return this.each(function(){m.event.trigger(l,h,this)})},triggerHandler:function(l,h){var v=this[0];if(v)return m.event.trigger(l,h,v,!0)}});var mc=/\[\]$/,yc=/\r?\n/g,_c=/^(?:submit|button|image|reset|file)$/i,eh=/^(?:input|select|textarea|keygen)/i;function za(l,h,v,x){var D;if(Array.isArray(h))m.each(h,function(k,O){v||mc.test(l)?x(l,O):za(l+"["+(typeof O=="object"&&O!=null?k:"")+"]",O,v,x)});else if(!v&&I(h)==="object")for(D in h)za(l+"["+D+"]",h[D],v,x);else x(l,h)}m.param=function(l,h){var v,x=[],D=function(k,O){var z=L(O)?O():O;x[x.length]=encodeURIComponent(k)+"="+encodeURIComponent(z??"")};if(l==null)return"";if(Array.isArray(l)||l.jquery&&!m.isPlainObject(l))m.each(l,function(){D(this.name,this.value)});else for(v in l)za(v,l[v],h,D);return x.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=m.prop(this,"elements");return l?m.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!m(this).is(":disabled")&&eh.test(this.nodeName)&&!_c.test(l)&&(this.checked||!$s.test(l))}).map(function(l,h){var v=m(this).val();return v==null?null:Array.isArray(v)?m.map(v,function(x){return{name:h.name,value:x.replace(yc,`\r
`)}}):{name:h.name,value:v.replace(yc,`\r
`)}}).get()}});var th=/%20/g,Ga=/#.*$/,Zs=/([?&])_=[^&]*/,vc=/^(.*?):[ \t]*([^\r\n]*)$/mg,nh=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ih=/^(?:GET|HEAD)$/,bc=/^\/\//,bu={},Tu={},xu="*/".concat("*"),Eu=S.createElement("a");Eu.href=Br.href;function Tc(l){return function(h,v){typeof h!="string"&&(v=h,h="*");var x,D=0,k=h.toLowerCase().match(Pe)||[];if(L(v))for(;x=k[D++];)x[0]==="+"?(x=x.slice(1)||"*",(l[x]=l[x]||[]).unshift(v)):(l[x]=l[x]||[]).push(v)}}function xc(l,h,v,x){var D={},k=l===Tu;function O(z){var q;return D[z]=!0,m.each(l[z]||[],function(Y,fe){var ge=fe(h,v,x);if(typeof ge=="string"&&!k&&!D[ge])return h.dataTypes.unshift(ge),O(ge),!1;if(k)return!(q=ge)}),q}return O(h.dataTypes[0])||!D["*"]&&O("*")}function Su(l,h){var v,x,D=m.ajaxSettings.flatOptions||{};for(v in h)h[v]!==void 0&&((D[v]?l:x||(x={}))[v]=h[v]);return x&&m.extend(!0,l,x),l}function rh(l,h,v){for(var x,D,k,O,z=l.contents,q=l.dataTypes;q[0]==="*";)q.shift(),x===void 0&&(x=l.mimeType||h.getResponseHeader("Content-Type"));if(x){for(D in z)if(z[D]&&z[D].test(x)){q.unshift(D);break}}if(q[0]in v)k=q[0];else{for(D in v){if(!q[0]||l.converters[D+" "+q[0]]){k=D;break}O||(O=D)}k=k||O}if(k)return k!==q[0]&&q.unshift(k),v[k]}function sh(l,h,v,x){var D,k,O,z,q,Y={},fe=l.dataTypes.slice();if(fe[1])for(O in l.converters)Y[O.toLowerCase()]=l.converters[O];for(k=fe.shift();k;)if(l.responseFields[k]&&(v[l.responseFields[k]]=h),!q&&x&&l.dataFilter&&(h=l.dataFilter(h,l.dataType)),q=k,k=fe.shift(),k){if(k==="*")k=q;else if(q!=="*"&&q!==k){if(O=Y[q+" "+k]||Y["* "+k],!O){for(D in Y)if(z=D.split(" "),z[1]===k&&(O=Y[q+" "+z[0]]||Y["* "+z[0]],O)){O===!0?O=Y[D]:Y[D]!==!0&&(k=z[0],fe.unshift(z[1]));break}}if(O!==!0)if(O&&l.throws)h=O(h);else try{h=O(h)}catch(ge){return{state:"parsererror",error:O?ge:"No conversion from "+q+" to "+k}}}}return{state:"success",data:h}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Br.href,type:"GET",isLocal:nh.test(Br.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,h){return h?Su(Su(l,m.ajaxSettings),h):Su(m.ajaxSettings,l)},ajaxPrefilter:Tc(bu),ajaxTransport:Tc(Tu),ajax:function(l,h){typeof l=="object"&&(h=l,l=void 0),h=h||{};var v,x,D,k,O,z,q,Y,fe,ge,se=m.ajaxSetup({},h),Ce=se.context||se,Xe=se.context&&(Ce.nodeType||Ce.jquery)?m(Ce):m.event,ot=m.Deferred(),Ye=m.Callbacks("once memory"),Wt=se.statusCode||{},zt={},gn={},Ri="canceled",at={readyState:0,getResponseHeader:function(lt){var Gt;if(q){if(!k)for(k={};Gt=vc.exec(D);)k[Gt[1].toLowerCase()+" "]=(k[Gt[1].toLowerCase()+" "]||[]).concat(Gt[2]);Gt=k[lt.toLowerCase()+" "]}return Gt==null?null:Gt.join(", ")},getAllResponseHeaders:function(){return q?D:null},setRequestHeader:function(lt,Gt){return q==null&&(lt=gn[lt.toLowerCase()]=gn[lt.toLowerCase()]||lt,zt[lt]=Gt),this},overrideMimeType:function(lt){return q==null&&(se.mimeType=lt),this},statusCode:function(lt){var Gt;if(lt)if(q)at.always(lt[at.status]);else for(Gt in lt)Wt[Gt]=[Wt[Gt],lt[Gt]];return this},abort:function(lt){var Gt=lt||Ri;return v&&v.abort(Gt),or(0,Gt),this}};if(ot.promise(at),se.url=((l||se.url||Br.href)+"").replace(bc,Br.protocol+"//"),se.type=h.method||h.type||se.method||se.type,se.dataTypes=(se.dataType||"*").toLowerCase().match(Pe)||[""],se.crossDomain==null){z=S.createElement("a");try{z.href=se.url,z.href=z.href,se.crossDomain=Eu.protocol+"//"+Eu.host!=z.protocol+"//"+z.host}catch{se.crossDomain=!0}}if(se.data&&se.processData&&typeof se.data!="string"&&(se.data=m.param(se.data,se.traditional)),xc(bu,se,h,at),q)return at;Y=m.event&&se.global,Y&&m.active++===0&&m.event.trigger("ajaxStart"),se.type=se.type.toUpperCase(),se.hasContent=!ih.test(se.type),x=se.url.replace(Ga,""),se.hasContent?se.data&&se.processData&&(se.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(se.data=se.data.replace(th,"+")):(ge=se.url.slice(x.length),se.data&&(se.processData||typeof se.data=="string")&&(x+=(vu.test(x)?"&":"?")+se.data,delete se.data),se.cache===!1&&(x=x.replace(Zs,"$1"),ge=(vu.test(x)?"&":"?")+"_="+pc.guid+++ge),se.url=x+ge),se.ifModified&&(m.lastModified[x]&&at.setRequestHeader("If-Modified-Since",m.lastModified[x]),m.etag[x]&&at.setRequestHeader("If-None-Match",m.etag[x])),(se.data&&se.hasContent&&se.contentType!==!1||h.contentType)&&at.setRequestHeader("Content-Type",se.contentType),at.setRequestHeader("Accept",se.dataTypes[0]&&se.accepts[se.dataTypes[0]]?se.accepts[se.dataTypes[0]]+(se.dataTypes[0]!=="*"?", "+xu+"; q=0.01":""):se.accepts["*"]);for(fe in se.headers)at.setRequestHeader(fe,se.headers[fe]);if(se.beforeSend&&(se.beforeSend.call(Ce,at,se)===!1||q))return at.abort();if(Ri="abort",Ye.add(se.complete),at.done(se.success),at.fail(se.error),v=xc(Tu,se,h,at),!v)or(-1,"No Transport");else{if(at.readyState=1,Y&&Xe.trigger("ajaxSend",[at,se]),q)return at;se.async&&se.timeout>0&&(O=e.setTimeout(function(){at.abort("timeout")},se.timeout));try{q=!1,v.send(zt,or)}catch(lt){if(q)throw lt;or(-1,lt)}}function or(lt,Gt,ta,Au){var Hn,na,bi,ur,lr,qn=Gt;q||(q=!0,O&&e.clearTimeout(O),v=void 0,D=Au||"",at.readyState=lt>0?4:0,Hn=lt>=200&&lt<300||lt===304,ta&&(ur=rh(se,at,ta)),!Hn&&m.inArray("script",se.dataTypes)>-1&&m.inArray("json",se.dataTypes)<0&&(se.converters["text script"]=function(){}),ur=sh(se,ur,at,Hn),Hn?(se.ifModified&&(lr=at.getResponseHeader("Last-Modified"),lr&&(m.lastModified[x]=lr),lr=at.getResponseHeader("etag"),lr&&(m.etag[x]=lr)),lt===204||se.type==="HEAD"?qn="nocontent":lt===304?qn="notmodified":(qn=ur.state,na=ur.data,bi=ur.error,Hn=!bi)):(bi=qn,(lt||!qn)&&(qn="error",lt<0&&(lt=0))),at.status=lt,at.statusText=(Gt||qn)+"",Hn?ot.resolveWith(Ce,[na,qn,at]):ot.rejectWith(Ce,[at,qn,bi]),at.statusCode(Wt),Wt=void 0,Y&&Xe.trigger(Hn?"ajaxSuccess":"ajaxError",[at,se,Hn?na:bi]),Ye.fireWith(Ce,[at,qn]),Y&&(Xe.trigger("ajaxComplete",[at,se]),--m.active||m.event.trigger("ajaxStop")))}return at},getJSON:function(l,h,v){return m.get(l,h,v,"json")},getScript:function(l,h){return m.get(l,void 0,h,"script")}}),m.each(["get","post"],function(l,h){m[h]=function(v,x,D,k){return L(x)&&(k=k||D,D=x,x=void 0),m.ajax(m.extend({url:v,type:h,dataType:k,data:x,success:D},m.isPlainObject(v)&&v))}}),m.ajaxPrefilter(function(l){var h;for(h in l.headers)h.toLowerCase()==="content-type"&&(l.contentType=l.headers[h]||"")}),m._evalUrl=function(l,h,v){return m.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(x){m.globalEval(x,h,v)}})},m.fn.extend({wrapAll:function(l){var h;return this[0]&&(L(l)&&(l=l.call(this[0])),h=m(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var v=this;v.firstElementChild;)v=v.firstElementChild;return v}).append(this)),this},wrapInner:function(l){return L(l)?this.each(function(h){m(this).wrapInner(l.call(this,h))}):this.each(function(){var h=m(this),v=h.contents();v.length?v.wrapAll(l):h.append(l)})},wrap:function(l){var h=L(l);return this.each(function(v){m(this).wrapAll(h?l.call(this,v):l)})},unwrap:function(l){return this.parent(l).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(l){return!m.expr.pseudos.visible(l)},m.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Cu={0:200,1223:204},ea=m.ajaxSettings.xhr();E.cors=!!ea&&"withCredentials"in ea,E.ajax=ea=!!ea,m.ajaxTransport(function(l){var h,v;if(E.cors||ea&&!l.crossDomain)return{send:function(x,D){var k,O=l.xhr();if(O.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(k in l.xhrFields)O[k]=l.xhrFields[k];l.mimeType&&O.overrideMimeType&&O.overrideMimeType(l.mimeType),!l.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest");for(k in x)O.setRequestHeader(k,x[k]);h=function(z){return function(){h&&(h=v=O.onload=O.onerror=O.onabort=O.ontimeout=O.onreadystatechange=null,z==="abort"?O.abort():z==="error"?typeof O.status!="number"?D(0,"error"):D(O.status,O.statusText):D(Cu[O.status]||O.status,O.statusText,(O.responseType||"text")!=="text"||typeof O.responseText!="string"?{binary:O.response}:{text:O.responseText},O.getAllResponseHeaders()))}},O.onload=h(),v=O.onerror=O.ontimeout=h("error"),O.onabort!==void 0?O.onabort=v:O.onreadystatechange=function(){O.readyState===4&&e.setTimeout(function(){h&&v()})},h=h("abort");try{O.send(l.hasContent&&l.data||null)}catch(z){if(h)throw z}},abort:function(){h&&h()}}}),m.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){return m.globalEval(l),l}}}),m.ajaxPrefilter("script",function(l){l.cache===void 0&&(l.cache=!1),l.crossDomain&&(l.type="GET")}),m.ajaxTransport("script",function(l){if(l.crossDomain||l.scriptAttrs){var h,v;return{send:function(x,D){h=m("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",v=function(k){h.remove(),v=null,k&&D(k.type==="error"?404:200,k.type)}),S.head.appendChild(h[0])},abort:function(){v&&v()}}}});var wu=[],fs=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=wu.pop()||m.expando+"_"+pc.guid++;return this[l]=!0,l}}),m.ajaxPrefilter("json jsonp",function(l,h,v){var x,D,k,O=l.jsonp!==!1&&(fs.test(l.url)?"url":typeof l.data=="string"&&(l.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&fs.test(l.data)&&"data");if(O||l.dataTypes[0]==="jsonp")return x=l.jsonpCallback=L(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback,O?l[O]=l[O].replace(fs,"$1"+x):l.jsonp!==!1&&(l.url+=(vu.test(l.url)?"&":"?")+l.jsonp+"="+x),l.converters["script json"]=function(){return k||m.error(x+" was not called"),k[0]},l.dataTypes[0]="json",D=e[x],e[x]=function(){k=arguments},v.always(function(){D===void 0?m(e).removeProp(x):e[x]=D,l[x]&&(l.jsonpCallback=h.jsonpCallback,wu.push(x)),k&&L(D)&&D(k[0]),k=D=void 0}),"script"}),E.createHTMLDocument=function(){var l=S.implementation.createHTMLDocument("").body;return l.innerHTML="<form></form><form></form>",l.childNodes.length===2}(),m.parseHTML=function(l,h,v){if(typeof l!="string")return[];typeof h=="boolean"&&(v=h,h=!1);var x,D,k;return h||(E.createHTMLDocument?(h=S.implementation.createHTMLDocument(""),x=h.createElement("base"),x.href=S.location.href,h.head.appendChild(x)):h=S),D=xt.exec(l),k=!v&&[],D?[h.createElement(D[1])]:(D=oc([l],h,k),k&&k.length&&m(k).remove(),m.merge([],D.childNodes))},m.fn.load=function(l,h,v){var x,D,k,O=this,z=l.indexOf(" ");return z>-1&&(x=Oi(l.slice(z)),l=l.slice(0,z)),L(h)?(v=h,h=void 0):h&&typeof h=="object"&&(D="POST"),O.length>0&&m.ajax({url:l,type:D||"GET",dataType:"html",data:h}).done(function(q){k=arguments,O.html(x?m("<div>").append(m.parseHTML(q)).find(x):q)}).always(v&&function(q,Y){O.each(function(){v.apply(this,k||[q.responseText,Y,q])})}),this},m.expr.pseudos.animated=function(l){return m.grep(m.timers,function(h){return l===h.elem}).length},m.offset={setOffset:function(l,h,v){var x,D,k,O,z,q,Y,fe=m.css(l,"position"),ge=m(l),se={};fe==="static"&&(l.style.position="relative"),z=ge.offset(),k=m.css(l,"top"),q=m.css(l,"left"),Y=(fe==="absolute"||fe==="fixed")&&(k+q).indexOf("auto")>-1,Y?(x=ge.position(),O=x.top,D=x.left):(O=parseFloat(k)||0,D=parseFloat(q)||0),L(h)&&(h=h.call(l,v,m.extend({},z))),h.top!=null&&(se.top=h.top-z.top+O),h.left!=null&&(se.left=h.left-z.left+D),"using"in h?h.using.call(l,se):ge.css(se)}},m.fn.extend({offset:function(l){if(arguments.length)return l===void 0?this:this.each(function(D){m.offset.setOffset(this,l,D)});var h,v,x=this[0];if(x)return x.getClientRects().length?(h=x.getBoundingClientRect(),v=x.ownerDocument.defaultView,{top:h.top+v.pageYOffset,left:h.left+v.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var l,h,v,x=this[0],D={top:0,left:0};if(m.css(x,"position")==="fixed")h=x.getBoundingClientRect();else{for(h=this.offset(),v=x.ownerDocument,l=x.offsetParent||v.documentElement;l&&(l===v.body||l===v.documentElement)&&m.css(l,"position")==="static";)l=l.parentNode;l&&l!==x&&l.nodeType===1&&(D=m(l).offset(),D.top+=m.css(l,"borderTopWidth",!0),D.left+=m.css(l,"borderLeftWidth",!0))}return{top:h.top-D.top-m.css(x,"marginTop",!0),left:h.left-D.left-m.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&m.css(l,"position")==="static";)l=l.offsetParent;return l||jn})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,h){var v=h==="pageYOffset";m.fn[l]=function(x){return me(this,function(D,k,O){var z;if(R(D)?z=D:D.nodeType===9&&(z=D.defaultView),O===void 0)return z?z[h]:D[k];z?z.scrollTo(v?z.pageXOffset:O,v?O:z.pageYOffset):D[k]=O},l,x,arguments.length)}}),m.each(["top","left"],function(l,h){m.cssHooks[h]=lc(E.pixelPosition,function(v,x){if(x)return x=Ws(v,h),hu.test(x)?m(v).position()[h]+"px":x})}),m.each({Height:"height",Width:"width"},function(l,h){m.each({padding:"inner"+l,content:h,"":"outer"+l},function(v,x){m.fn[x]=function(D,k){var O=arguments.length&&(v||typeof D!="boolean"),z=v||(D===!0||k===!0?"margin":"border");return me(this,function(q,Y,fe){var ge;return R(q)?x.indexOf("outer")===0?q["inner"+l]:q.document.documentElement["client"+l]:q.nodeType===9?(ge=q.documentElement,Math.max(q.body["scroll"+l],ge["scroll"+l],q.body["offset"+l],ge["offset"+l],ge["client"+l])):fe===void 0?m.css(q,Y,z):m.style(q,Y,fe,z)},h,O?D:void 0,O)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(l,h){m.fn[h]=function(v){return this.on(h,v)}}),m.fn.extend({bind:function(l,h,v){return this.on(l,null,h,v)},unbind:function(l,h){return this.off(l,null,h)},delegate:function(l,h,v,x){return this.on(h,l,v,x)},undelegate:function(l,h,v){return arguments.length===1?this.off(l,"**"):this.off(h,l||"**",v)},hover:function(l,h){return this.on("mouseenter",l).on("mouseleave",h||l)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(l,h){m.fn[h]=function(v,x){return arguments.length>0?this.on(h,null,v,x):this.trigger(h)}});var ah=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;m.proxy=function(l,h){var v,x,D;if(typeof h=="string"&&(v=l[h],h=l,l=v),!!L(l))return x=s.call(arguments,2),D=function(){return l.apply(h||this,x.concat(s.call(arguments)))},D.guid=l.guid=l.guid||m.guid++,D},m.holdReady=function(l){l?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=re,m.isFunction=L,m.isWindow=R,m.camelCase=De,m.type=I,m.now=Date.now,m.isNumeric=function(l){var h=m.type(l);return(h==="number"||h==="string")&&!isNaN(l-parseFloat(l))},m.trim=function(l){return l==null?"":(l+"").replace(ah,"$1")};var oh=e.jQuery,uh=e.$;return m.noConflict=function(l){return e.$===m&&(e.$=uh),l&&e.jQuery===m&&(e.jQuery=oh),m},typeof n>"u"&&(e.jQuery=e.$=m),m})})(p2);var $R=p2.exports;const HR=os($R);window.jQuery=window.$=HR;const qR=jQuery;var zu;typeof window<"u"?zu=window:typeof Cl<"u"?zu=Cl:typeof self<"u"?zu=self:zu={};var bf=zu;const W=os(bf),VR={},WR=Object.freeze(Object.defineProperty({__proto__:null,default:VR},Symbol.toStringTag,{value:"Module"})),zR=jR(WR);var Y_=typeof Cl<"u"?Cl:typeof window<"u"?window:{},GR=zR,Gu;typeof document<"u"?Gu=document:(Gu=Y_["__GLOBAL_DOCUMENT_CACHE@4"],Gu||(Gu=Y_["__GLOBAL_DOCUMENT_CACHE@4"]=GR));var g2=Gu;const we=os(g2);var ig={exports:{}};(function(t,e){function n(u){if(u&&typeof u=="object"){var c=u.which||u.keyCode||u.charCode;c&&(u=c)}if(typeof u=="number")return a[u];var f=String(u),p=i[f.toLowerCase()];if(p)return p;var p=r[f.toLowerCase()];if(p)return p;if(f.length===1)return f.charCodeAt(0)}n.isEventKey=function(c,f){if(c&&typeof c=="object"){var p=c.which||c.keyCode||c.charCode;if(p==null)return!1;if(typeof f=="string"){var b=i[f.toLowerCase()];if(b)return b===p;var b=r[f.toLowerCase()];if(b)return b===p}else if(typeof f=="number")return f===p;return!1}},e=t.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)i[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)i[s-48]=s;for(s=1;s<13;s++)i["f"+s]=s+111;for(s=0;s<10;s++)i["numpad "+s]=s+96;var a=e.names=e.title={};for(s in i)a[i[s]]=s;for(var o in r)i[o]=r[o]})(ig,ig.exports);var KR=ig.exports;const et=os(KR);var XR=YR;function YR(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(r){i=r}return[i,n]}const QR=os(XR);var Cm={exports:{}},m2={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(m2);var JR=m2.exports,ZR=tN,eN=Object.prototype.toString;function tN(t){if(!t)return!1;var e=eN.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var nN=bf,iN=function(e,n){return n===void 0&&(n=!1),function(i,r,s){if(i){e(i);return}if(r.statusCode>=400&&r.statusCode<=599){var a=s;if(n)if(nN.TextDecoder){var o=rN(r.headers&&r.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function rN(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],s=i[1];return r.trim()==="charset"?s.trim():e},"utf-8")}var sN=iN,y2=bf,aN=JR,oN=ZR;Er.httpHandler=sN;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var uN=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var r=i.indexOf(":"),s=i.slice(0,r).trim().toLowerCase(),a=i.slice(r+1).trim();typeof n[s]>"u"?n[s]=a:Array.isArray(n[s])?n[s].push(a):n[s]=[n[s],a]}),n};Cm.exports=Er;Cm.exports.default=Er;Er.XMLHttpRequest=y2.XMLHttpRequest||fN;Er.XDomainRequest="withCredentials"in new Er.XMLHttpRequest?Er.XMLHttpRequest:y2.XDomainRequest;lN(["get","put","post","patch","head","delete"],function(t){Er[t==="delete"?"del":t]=function(e,n,i){return n=_2(e,n,i),n.method=t.toUpperCase(),v2(n)}});function lN(t,e){for(var n=0;n<t.length;n++)e(t[n])}function cN(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function _2(t,e,n){var i=t;return oN(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=aN({},e,{uri:t}),i.callback=n,i}function Er(t,e,n){return e=_2(t,e,n),v2(e)}function v2(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(M,I,N){e||(e=!0,t.callback(M,I,N))};function i(){o.readyState===4&&setTimeout(a,0)}function r(){var A=void 0;if(o.response?A=o.response:A=o.responseText||dN(o),L)try{A=JSON.parse(A)}catch{}return A}function s(A){return clearTimeout(R),A instanceof Error||(A=new Error(""+(A||"Unknown XMLHttpRequest Error"))),A.statusCode=0,n(A,S)}function a(){if(!c){var A;clearTimeout(R),t.useXDR&&o.status===void 0?A=200:A=o.status===1223?204:o.status;var M=S,I=null;return A!==0?(M={body:r(),statusCode:A,method:p,headers:{},url:f,rawRequest:o},o.getAllResponseHeaders&&(M.headers=uN(o.getAllResponseHeaders()))):I=new Error("Internal XMLHttpRequest Error"),n(I,M,M.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new Er.XDomainRequest:o=new Er.XMLHttpRequest);var u,c,f=o.url=t.uri||t.url,p=o.method=t.method||"GET",b=t.body||t.data,C=o.headers=t.headers||{},E=!!t.sync,L=!1,R,S={body:void 0,headers:{},statusCode:0,method:p,url:f,rawRequest:o};if("json"in t&&t.json!==!1&&(L=!0,C.accept||C.Accept||(C.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(C["content-type"]||C["Content-Type"]||(C["Content-Type"]="application/json"),b=JSON.stringify(t.json===!0?b:t.json))),o.onreadystatechange=i,o.onload=a,o.onerror=s,o.onprogress=function(){},o.onabort=function(){c=!0},o.ontimeout=s,o.open(p,f,!E,t.username,t.password),E||(o.withCredentials=!!t.withCredentials),!E&&t.timeout>0&&(R=setTimeout(function(){if(!c){c=!0,o.abort("timeout");var A=new Error("XMLHttpRequest timeout");A.code="ETIMEDOUT",s(A)}},t.timeout)),o.setRequestHeader)for(u in C)C.hasOwnProperty(u)&&o.setRequestHeader(u,C[u]);else if(t.headers&&!cN(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(b||null),o}function dN(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function fN(){}var hN=Cm.exports;const b2=os(hN);var T2={exports:{}},Q_=g2,wm=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Di(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Di.prototype=wm(Error.prototype);Di.prototype.constructor=Di;Di.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Am(t){function e(i,r,s,a){return(i|0)*3600+(r|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ol(){this.values=wm(null)}ol.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Ku(t,e,n,i){var r=i?t.split(i):[t];for(var s in r)if(typeof r[s]=="string"){var a=r[s].split(n);if(a.length===2){var o=a[0].trim(),u=a[1].trim();e(o,u)}}}function pN(t,e,n){var i=t;function r(){var o=Am(t);if(o===null)throw new Di(Di.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,u){var c=new ol;Ku(o,function(f,p){switch(f){case"region":for(var b=n.length-1;b>=0;b--)if(n[b].id===p){c.set(f,n[b].region);break}break;case"vertical":c.alt(f,p,["rl","lr"]);break;case"line":var C=p.split(","),E=C[0];c.integer(f,E),c.percent(f,E)&&c.set("snapToLines",!1),c.alt(f,E,["auto"]),C.length===2&&c.alt("lineAlign",C[1],["start","center","end"]);break;case"position":C=p.split(","),c.percent(f,C[0]),C.length===2&&c.alt("positionAlign",C[1],["start","center","end"]);break;case"size":c.percent(f,p);break;case"align":c.alt(f,p,["start","center","end","left","right"]);break}},/:/,/\s/),u.region=c.get("region",null),u.vertical=c.get("vertical","");try{u.line=c.get("line","auto")}catch{}u.lineAlign=c.get("lineAlign","start"),u.snapToLines=c.get("snapToLines",!0),u.size=c.get("size",100);try{u.align=c.get("align","center")}catch{u.align=c.get("align","middle")}try{u.position=c.get("position","auto")}catch{u.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.substr(0,3)!=="-->")throw new Di(Di.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),a(),e.endTime=r(),a(),s(t,e)}var Bh=Q_.createElement&&Q_.createElement("textarea"),gN={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},J_={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},mN={v:"title",lang:"lang"},Z_={rt:"ruby"};function x2(t,e){function n(){if(!e)return null;function E(R){return e=e.substr(R.length),R}var L=e.match(/^([^<]*)(<[^>]*>?)?/);return E(L[1]?L[1]:L[2])}function i(E){return Bh.innerHTML=E,E=Bh.textContent,Bh.textContent="",E}function r(E,L){return!Z_[L.localName]||Z_[L.localName]===E.localName}function s(E,L){var R=gN[E];if(!R)return null;var S=t.document.createElement(R),A=mN[E];return A&&L&&(S[A]=L.trim()),S}for(var a=t.document.createElement("div"),o=a,u,c=[];(u=n())!==null;){if(u[0]==="<"){if(u[1]==="/"){c.length&&c[c.length-1]===u.substr(2).replace(">","")&&(c.pop(),o=o.parentNode);continue}var f=Am(u.substr(1,u.length-2)),p;if(f){p=t.document.createProcessingInstruction("timestamp",f),o.appendChild(p);continue}var b=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!b||(p=s(b[1],b[3]),!p)||!r(o,p))continue;if(b[2]){var C=b[2].split(".");C.forEach(function(E){var L=/^bg_/.test(E),R=L?E.slice(3):E;if(J_.hasOwnProperty(R)){var S=L?"background-color":"color",A=J_[R];p.style[S]=A}}),p.className=C.join(" ")}c.push(b[1]),o.appendChild(p),o=p;continue}o.appendChild(t.document.createTextNode(i(u)))}return a}var ev=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function yN(t){for(var e=0;e<ev.length;e++){var n=ev[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function _N(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(o,u){for(var c=u.childNodes.length-1;c>=0;c--)o.push(u.childNodes[c])}function s(o){if(!o||!o.length)return null;var u=o.pop(),c=u.textContent||u.innerText;if(c){var f=c.match(/^.*(\n|\r)/);return f?(o.length=0,f[0]):c}if(u.tagName==="ruby")return s(o);if(u.childNodes)return r(o,u),s(o)}for(r(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(i=n.charCodeAt(a),yN(i))return"rtl";return"ltr"}function vN(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function Tf(){}Tf.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};Tf.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Ed(t,e,n){Tf.call(this),this.cue=e,this.cueDiv=x2(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:_N(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":case"line-left":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":case"line-right":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}Ed.prototype=wm(Tf.prototype);Ed.prototype.constructor=Ed;function Xn(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}Xn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Xn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Xn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Xn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Xn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Xn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};Xn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Xn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function bN(t,e,n,i){function r(R,S){for(var A,M=new Xn(R),I=1,N=0;N<S.length;N++){for(;R.overlapsOppositeAxis(n,S[N])||R.within(n)&&R.overlapsAny(i);)R.move(S[N]);if(R.within(n))return R;var j=R.intersectPercentage(n);I>j&&(A=new Xn(R),I=j),R=new Xn(M)}return A||M}var s=new Xn(e),a=e.cue,o=vN(a),u=[];if(a.snapToLines){var c;switch(a.vertical){case"":u=["+y","-y"],c="height";break;case"rl":u=["+x","-x"],c="width";break;case"lr":u=["-x","+x"],c="width";break}var f=s.lineHeight,p=f*Math.round(o),b=n[c]+f,C=u[0];Math.abs(p)>b&&(p=p<0?-1:1,p*=Math.ceil(b/f)*f),o<0&&(p+=a.vertical===""?n.height:n.width,u=u.reverse()),s.move(C,p)}else{var E=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=E/2;break;case"end":o-=E;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"],s=new Xn(e)}var L=r(s,u);e.move(L.toCSSCompatValues(n))}function ru(){}ru.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};ru.convertCueToDOMTree=function(t,e){return!t||!e?null:x2(t,e)};var TN=.05,xN="sans-serif",EN="1.5%";ru.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=EN,n.appendChild(i);function r(f){for(var p=0;p<f.length;p++)if(f[p].hasBeenReset||!f[p].displayState)return!0;return!1}if(!r(e)){for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState);return}var a=[],o=Xn.getSimpleBoxPosition(i),u=Math.round(o.height*TN*100)/100,c={font:u+"px "+xN};(function(){for(var f,p,b=0;b<e.length;b++)p=e[b],f=new Ed(t,p,c),i.appendChild(f.div),bN(t,f,o,a),p.displayState=f.div,a.push(Xn.getSimpleBoxPosition(f))})()};ru.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};ru.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Di)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var f=e.buffer,p=0;p<f.length&&f[p]!=="\r"&&f[p]!==`
`;)++p;var b=f.substr(0,p);return f[p]==="\r"&&++p,f[p]===`
`&&++p,e.buffer=f.substr(p),b}function i(f){var p=new ol;if(Ku(f,function(C,E){switch(C){case"id":p.set(C,E);break;case"width":p.percent(C,E);break;case"lines":p.integer(C,E);break;case"regionanchor":case"viewportanchor":var L=E.split(",");if(L.length!==2)break;var R=new ol;if(R.percent("x",L[0]),R.percent("y",L[1]),!R.has("x")||!R.has("y"))break;p.set(C+"X",R.get("x")),p.set(C+"Y",R.get("y"));break;case"scroll":p.alt(C,E,["up"]);break}},/=/,/\s/),p.has("id")){var b=new(e.vttjs.VTTRegion||e.window.VTTRegion);b.width=p.get("width",100),b.lines=p.get("lines",3),b.regionAnchorX=p.get("regionanchorX",0),b.regionAnchorY=p.get("regionanchorY",100),b.viewportAnchorX=p.get("viewportanchorX",0),b.viewportAnchorY=p.get("viewportanchorY",100),b.scroll=p.get("scroll",""),e.onregion&&e.onregion(b),e.regionList.push({id:p.get("id"),region:b})}}function r(f){var p=new ol;Ku(f,function(b,C){switch(b){case"MPEGT":p.integer(b+"S",C);break;case"LOCA":p.set(b+"L",Am(C));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:p.get("MPEGTS"),LOCAL:p.get("LOCAL")})}function s(f){f.match(/X-TIMESTAMP-MAP/)?Ku(f,function(p,b){switch(p){case"X-TIMESTAMP-MAP":r(b);break}},/=/):Ku(f,function(p,b){switch(p){case"Region":i(b);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Di(Di.Errors.BadSignature);e.state="HEADER"}for(var u=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(u?u=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{pN(a,e.cue,e.regionList)}catch(f){e.reportOrThrowError(f),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(u=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(f){e.reportOrThrowError(f),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Di(Di.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var SN=ru,CN="auto",wN={"":1,lr:1,rl:1},AN={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function DN(t){if(typeof t!="string")return!1;var e=wN[t.toLowerCase()];return e?t.toLowerCase():!1}function Fh(t){if(typeof t!="string")return!1;var e=AN[t.toLowerCase()];return e?t.toLowerCase():!1}function E2(t,e,n){this.hasBeenReset=!1;var i="",r=!1,s=t,a=e,o=n,u=null,c="",f=!0,p="auto",b="start",C="auto",E="auto",L=100,R="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(S){i=""+S}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(S){r=!!S}},startTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");s=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");a=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(S){o=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(S){u=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(S){var A=DN(S);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(S){f=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(S){if(typeof S!="number"&&S!==CN)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return b},set:function(S){var A=Fh(S);A?(b=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return C},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");C=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return E},set:function(S){var A=Fh(S);A?(E=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return L},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");L=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return R},set:function(S){var A=Fh(S);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");R=A,this.hasBeenReset=!0}}}),this.displayState=void 0}E2.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var kN=E2,LN={"":!0,up:!0};function IN(t){if(typeof t!="string")return!1;var e=LN[t.toLowerCase()];return e?t.toLowerCase():!1}function Nu(t){return typeof t=="number"&&t>=0&&t<=100}function PN(){var t=100,e=3,n=0,i=100,r=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Nu(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Nu(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Nu(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!Nu(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Nu(o))throw new Error("ViewportAnchorX must be between 0 and 100.");r=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var u=IN(o);u===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=u}}})}var ON=PN,ts=bf,Fa=T2.exports={WebVTT:SN,VTTCue:kN,VTTRegion:ON};ts.vttjs=Fa;ts.WebVTT=Fa.WebVTT;var RN=Fa.VTTCue,NN=Fa.VTTRegion,MN=ts.VTTCue,BN=ts.VTTRegion;Fa.shim=function(){ts.VTTCue=RN,ts.VTTRegion=NN};Fa.restore=function(){ts.VTTCue=MN,ts.VTTRegion=BN};ts.VTTCue||Fa.shim();var FN=T2.exports;const tv=os(FN);var S2={exports:{}};(function(t,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(u,c,f){if(f=f||{},u=u.trim(),c=c.trim(),!c){if(!f.alwaysNormalize)return u;var p=o.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");return p.path=o.normalizePath(p.path),o.buildURLFromParts(p)}var b=o.parseURL(c);if(!b)throw new Error("Error trying to parse relative URL.");if(b.scheme)return f.alwaysNormalize?(b.path=o.normalizePath(b.path),o.buildURLFromParts(b)):c;var C=o.parseURL(u);if(!C)throw new Error("Error trying to parse base URL.");if(!C.netLoc&&C.path&&C.path[0]!=="/"){var E=r.exec(C.path);C.netLoc=E[1],C.path=E[2]}C.netLoc&&!C.path&&(C.path="/");var L={scheme:C.scheme,netLoc:b.netLoc,path:null,params:b.params,query:b.query,fragment:b.fragment};if(!b.netLoc&&(L.netLoc=C.netLoc,b.path[0]!=="/"))if(!b.path)L.path=C.path,b.params||(L.params=C.params,b.query||(L.query=C.query));else{var R=C.path,S=R.substring(0,R.lastIndexOf("/")+1)+b.path;L.path=o.normalizePath(S)}return L.path===null&&(L.path=f.alwaysNormalize?o.normalizePath(b.path):b.path),o.buildURLFromParts(L)},parseURL:function(u){var c=i.exec(u);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(s,"");u.length!==(u=u.replace(a,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=o})()})(S2);var UN=S2.exports;const Sd=os(UN);var nv="http://example.com",jN=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=W.location&&W.location.href||"");var i=typeof W.URL=="function",r=/^\/\//.test(e),s=!W.location&&!/\/\//i.test(e);if(i?e=new W.URL(e,W.location||nv):/\/\//i.test(e)||(e=Sd.buildAbsoluteURL(W.location&&W.location.href||"",e)),i){var a=new URL(n,e);return s?a.href.slice(nv.length):r?a.href.slice(a.protocol.length):a.href}return Sd.buildAbsoluteURL(e,n)};function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ps.apply(this,arguments)}var Dm=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},e.off=function(i,r){if(!this.listeners[i])return!1;var s=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(s,1),s>-1},e.trigger=function(i){var r=this.listeners[i];if(r)if(arguments.length===2)for(var s=r.length,a=0;a<s;++a)r[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=r.length,c=0;c<u;++c)r[c].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(r){i.push(r)})},t}(),$N=function(e){return W.atob?W.atob(e):Buffer.from(e,"base64").toString("binary")};function C2(t){for(var e=$N(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class HN extends Dm{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const qN=String.fromCharCode(9),Uh=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},VN=function(){const t="[^=]*",e='"[^"]*"|[^,]*',n="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+n+")")},Bi=function(t){const e={};if(!t)return e;const n=t.split(VN());let i=n.length,r;for(;i--;)n[i]!==""&&(r=/([^=]*)=(.*)/.exec(n[i]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),e[r[0]]=r[1]);return e};class WN extends Dm{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,i;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),n=/^#EXTM3U/.exec(s),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),n){i={type:"tag",tagType:"inf"},n[1]&&(i.duration=parseFloat(n[1])),n[2]&&(i.title=n[2]),this.trigger("data",i);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"targetduration"},n[1]&&(i.duration=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"version"},n[1]&&(i.version=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"media-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),n){i={type:"tag",tagType:"playlist-type"},n[1]&&(i.playlistType=n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),n){i=Ps(Uh(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),n){i={type:"tag",tagType:"allow-cache"},n[1]&&(i.allowed=!/NO/.test(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(s),n){if(i={type:"tag",tagType:"map"},n[1]){const a=Bi(n[1]);a.URI&&(i.uri=a.URI),a.BYTERANGE&&(i.byterange=Uh(a.BYTERANGE))}this.trigger("data",i);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),n){if(i={type:"tag",tagType:"stream-inf"},n[1]){if(i.attributes=Bi(n[1]),i.attributes.RESOLUTION){const a=i.attributes.RESOLUTION.split("x"),o={};a[0]&&(o.width=parseInt(a[0],10)),a[1]&&(o.height=parseInt(a[1],10)),i.attributes.RESOLUTION=o}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(s),n){i={type:"tag",tagType:"media"},n[1]&&(i.attributes=Bi(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-ENDLIST/.exec(s),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),n){i={type:"tag",tagType:"program-date-time"},n[1]&&(i.dateTimeString=n[1],i.dateTimeObject=new Date(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(s),n){i={type:"tag",tagType:"key"},n[1]&&(i.attributes=Bi(n[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(n=/^#EXT-X-START:(.*)$/.exec(s),n){i={type:"tag",tagType:"start"},n[1]&&(i.attributes=Bi(n[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out-cont"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-IN:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-in"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"skip"},i.attributes=Bi(n[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(qN)),this.trigger("data",i);return}if(n=/^#EXT-X-PART:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part"},i.attributes=Bi(n[1]),["DURATION"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=Uh(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"server-control"},i.attributes=Bi(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Bi(n[1]),["PART-TARGET"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Bi(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(i.attributes.hasOwnProperty(a)){i.attributes[a]=parseInt(i.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[o]=i.attributes[a],delete i.attributes[a]}}),this.trigger("data",i);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Bi(n[1]),["LAST-MSN","LAST-PART"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseInt(i.attributes[a],10))}),this.trigger("data",i);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"daterange"},i.attributes=Bi(n[1]),["ID","CLASS"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=String(i.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=new Date(i.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/i.test(i.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=i.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in i.attributes){if(!a.test(o))continue;const u=/[0-9A-Fa-f]{6}/g.test(i.attributes[o]),c=/^\d+(\.\d+)?$/.test(i.attributes[o]);i.attributes[o]=u?i.attributes[o].toString(16):c?parseFloat(i.attributes[o]):String(i.attributes[o])}this.trigger("data",i);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:n,dataParser:i,segment:r}){typeof i!="function"&&(i=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:i(s),customType:n,segment:r}),!0})}addTagMapper({expression:e,map:n}){const i=r=>e.test(r)?n(r):r;this.tagMappers.push(i)}}const zN=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),fa=function(t){const e={};return Object.keys(t).forEach(function(n){e[zN(n)]=t[n]}),e},jh=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:i}=t;if(!e)return;const r="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,u=i&&i*2;n&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),i&&!e.hasOwnProperty(a)&&(e[a]=i*3,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),i&&e[a]<u&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${u}).`}),e[a]=u)};class GN extends Dm{constructor(){super(),this.lineStream=new HN,this.parseStream=new WN,this.lineStream.pipe(this.parseStream);const e=this,n=[];let i={},r,s,a=!1;const o=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let p=0,b=0;const C={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&r&&(i.map=r),!i.key&&s&&(i.key=s),!i.timeline&&typeof f=="number"&&(i.timeline=f),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(E){let L,R;({tag(){({version(){E.version&&(this.manifest.version=E.version)},"allow-cache"(){this.manifest.allowCache=E.allowed,"allowed"in E||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const S={};"length"in E&&(i.byterange=S,S.length=E.length,"offset"in E||(E.offset=p)),"offset"in E&&(i.byterange=S,S.offset=E.offset),p=S.offset+S.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),E.duration>0&&(i.duration=E.duration),E.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!E.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(E.attributes.METHOD==="NONE"){s=null;return}if(!E.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(E.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:E.attributes};return}if(E.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:E.attributes.URI};return}if(E.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(E.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(E.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),E.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(E.attributes.KEYID&&E.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:E.attributes.KEYFORMAT,keyId:E.attributes.KEYID.substring(2)},pssh:C2(E.attributes.URI.split(",")[1])};return}E.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:E.attributes.METHOD||"AES-128",uri:E.attributes.URI},typeof E.attributes.IV<"u"&&(s.iv=E.attributes.IV)},"media-sequence"(){if(!isFinite(E.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+E.number});return}this.manifest.mediaSequence=E.number},"discontinuity-sequence"(){if(!isFinite(E.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+E.number});return}this.manifest.discontinuitySequence=E.number,f=E.number},"playlist-type"(){if(!/VOD|EVENT/.test(E.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+E.playlist});return}this.manifest.playlistType=E.playlistType},map(){r={},E.uri&&(r.uri=E.uri),E.byterange&&(r.byterange=E.byterange),s&&(r.key=s)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!E.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),Ps(i.attributes,E.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(E.attributes&&E.attributes.TYPE&&E.attributes["GROUP-ID"]&&E.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const S=this.manifest.mediaGroups[E.attributes.TYPE];S[E.attributes["GROUP-ID"]]=S[E.attributes["GROUP-ID"]]||{},L=S[E.attributes["GROUP-ID"]],R={default:/yes/i.test(E.attributes.DEFAULT)},R.default?R.autoselect=!0:R.autoselect=/yes/i.test(E.attributes.AUTOSELECT),E.attributes.LANGUAGE&&(R.language=E.attributes.LANGUAGE),E.attributes.URI&&(R.uri=E.attributes.URI),E.attributes["INSTREAM-ID"]&&(R.instreamId=E.attributes["INSTREAM-ID"]),E.attributes.CHARACTERISTICS&&(R.characteristics=E.attributes.CHARACTERISTICS),E.attributes.FORCED&&(R.forced=/yes/i.test(E.attributes.FORCED)),L[E.attributes.NAME]=R},discontinuity(){f+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=E.dateTimeString,this.manifest.dateTimeObject=E.dateTimeObject),i.dateTimeString=E.dateTimeString,i.dateTimeObject=E.dateTimeObject},targetduration(){if(!isFinite(E.duration)||E.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+E.duration});return}this.manifest.targetDuration=E.duration,jh.call(this,this.manifest)},start(){if(!E.attributes||isNaN(E.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:E.attributes["TIME-OFFSET"],precise:E.attributes.PRECISE}},"cue-out"(){i.cueOut=E.data},"cue-out-cont"(){i.cueOutCont=E.data},"cue-in"(){i.cueIn=E.data},skip(){this.manifest.skip=fa(E.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",E.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const S=this.manifest.segments.length,A=fa(E.attributes);i.parts=i.parts||[],i.parts.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=b),b=A.byterange.offset+A.byterange.length);const M=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${M} for segment #${S}`,E.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((I,N)=>{I.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${N} lacks required attribute(s): LAST-PART`})})},"server-control"(){const S=this.manifest.serverControl=fa(E.attributes);S.hasOwnProperty("canBlockReload")||(S.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),jh.call(this,this.manifest),S.canSkipDateranges&&!S.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const S=this.manifest.segments.length,A=fa(E.attributes),M=A.type&&A.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=M?b:0,M&&(b=A.byterange.offset+A.byterange.length)));const I=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${I} for segment #${S}`,E.attributes,["TYPE","URI"]),!!A.type)for(let N=0;N<i.preloadHints.length-1;N++){const j=i.preloadHints[N];j.type&&j.type===A.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${I} for segment #${S} has the same TYPE ${A.type} as preload hint #${N}`})}},"rendition-report"(){const S=fa(E.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(S);const A=this.manifest.renditionReports.length-1,M=["LAST-MSN","URI"];a&&M.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${A}`,E.attributes,M)},"part-inf"(){this.manifest.partInf=fa(E.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",E.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),jh.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(fa(E.attributes));const S=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${S}`,E.attributes,["ID","START-DATE"]);const A=this.manifest.daterange[S];A.endDate&&A.startDate&&new Date(A.endDate)<new Date(A.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),A.duration&&A.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),A.plannedDuration&&A.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const M=!!A.endOnNext;if(M&&!A.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),M&&(A.duration||A.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),A.duration&&A.endDate){const I=A.startDate,N=I.setSeconds(I.getSeconds()+A.duration);this.manifest.daterange[S].endDate=new Date(N)}if(A&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),!C[A.id])C[A.id]=A;else for(const I in C[A.id])if(C[A.id][I]!==A[I]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}},"independent-segments"(){this.manifest.independentSegments=!0}}[E.tagType]||o).call(e)},uri(){i.uri=E.uri,n.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),s&&(i.key=s),i.timeline=f,r&&(i.map=r),b=0,i={}},comment(){},custom(){E.segment?(i.custom=i.custom||{},i.custom[E.customType]=E.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[E.customType]=E.data)}})[E.type].call(e)})}warnOnMissingAttributes_(e,n,i){const r=[];i.forEach(function(s){n.hasOwnProperty(s)||r.push(s)}),r.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${r.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var ka={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},KN=["video","audio","text"],iv=["Video","Audio","Text"],w2=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var s=("00"+Number(i).toString(16)).slice(-2),a=("00"+Number(r).toString(16)).slice(-2);return"avc1."+s+"00"+a})},mr=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(r){r=r.trim();var s;KN.forEach(function(a){var o=ka[a].exec(r.toLowerCase());if(!(!o||o.length<=1)){s=a;var u=r.substring(0,o[1].length),c=r.replace(u,"");i.push({type:u,details:c,mediaType:a})}}),s||i.push({type:r,details:"",mediaType:"unknown"})}),i},XN=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var s=i[r];if(s.default&&s.playlists)return mr(s.playlists[0].attributes.CODECS)}return null},A2=function(e){return e===void 0&&(e=""),ka.audio.test(e.trim().toLowerCase())},YN=function(e){return e===void 0&&(e=""),ka.text.test(e.trim().toLowerCase())},wl=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(s){return w2(s.trim())}),i="video";n.length===1&&A2(n[0])?i="audio":n.length===1&&YN(n[0])&&(i="application");var r="mp4";return n.every(function(s){return ka.mp4.test(s)})?r="mp4":n.every(function(s){return ka.webm.test(s)})?r="webm":n.every(function(s){return ka.ogg.test(s)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},Zc=function(e){return e===void 0&&(e=""),W.MediaSource&&W.MediaSource.isTypeSupported&&W.MediaSource.isTypeSupported(wl(e))||!1},$h=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<iv.length;i++){var r=iv[i];if(ka["muxer"+r].test(n))return!0}return!1})},rv="mp4a.40.2",QN="avc1.4d400d",JN=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,ZN=/^application\/dash\+xml/i,D2=function(e){return JN.test(e)?"hls":ZN.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},e3=function(e){return e.toString(2).length},t3=function(e){return Math.ceil(e3(e)/8)},k2=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},n3=function(e){return k2(e)},ze=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!n3(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Dn=W.BigInt||Number,rg=[Dn("0x1"),Dn("0x100"),Dn("0x10000"),Dn("0x1000000"),Dn("0x100000000"),Dn("0x10000000000"),Dn("0x1000000000000"),Dn("0x100000000000000"),Dn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var i3=function(e,n){var i=n===void 0?{}:n,r=i.signed,s=r===void 0?!1:r,a=i.le,o=a===void 0?!1:a;e=ze(e);var u=o?"reduce":"reduceRight",c=e[u]?e[u]:Array.prototype[u],f=c.call(e,function(b,C,E){var L=o?E:Math.abs(E+1-e.length);return b+Dn(C)*rg[L]},Dn(0));if(s){var p=rg[e.length]/Dn(2)-Dn(1);f=Dn(f),f>p&&(f-=p,f-=p,f-=Dn(2))}return Number(f)},r3=function(e,n){var i=n===void 0?{}:n,r=i.le,s=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Dn(e);for(var a=t3(e),o=new Uint8Array(new ArrayBuffer(a)),u=0;u<a;u++){var c=s?u:Math.abs(u+1-o.length);o[c]=Number(e/rg[u]&Dn(255)),e<0&&(o[c]=Math.abs(~o[c]),o[c]-=u===0?1:2)}return o},L2=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i},s3=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return ze(n[0]);var r=n.reduce(function(o,u,c){return o+(u.byteLength||u.length)},0),s=new Uint8Array(r),a=0;return n.forEach(function(o){o=ze(o),s.set(o,a),a+=o.byteLength}),s},Kt=function(e,n,i){var r=i===void 0?{}:i,s=r.offset,a=s===void 0?0:s,o=r.mask,u=o===void 0?[]:o;e=ze(e),n=ze(n);var c=n.every?n.every:Array.prototype.every;return n.length&&e.length-a>=n.length&&c.call(n,function(f,p){var b=u[p]?u[p]&e[a+p]:e[a+p];return f===b})},sv="http://example.com",km=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=W.location&&W.location.href||"");var i=typeof W.URL=="function",r=/^\/\//.test(e),s=!W.location&&!/\/\//i.test(e);if(i?e=new W.URL(e,W.location||sv):/\/\//i.test(e)||(e=Sd.buildAbsoluteURL(W.location&&W.location.href||"",e)),i){var a=new URL(n,e);return s?a.href.slice(sv.length):r?a.href.slice(a.protocol.length):a.href}return Sd.buildAbsoluteURL(e,n)},a3=function(e,n,i){n.forEach(function(r){for(var s in e.mediaGroups[r])for(var a in e.mediaGroups[r][s]){var o=e.mediaGroups[r][s][a];i(o,r,s,a)}})},Fs={},us={};function o3(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function Lm(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function u3(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var I2=Lm({HTML:"text/html",isHTML:function(t){return t===I2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),P2=Lm({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===P2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});us.assign=u3;us.find=o3;us.freeze=Lm;us.MIME_TYPE=I2;us.NAMESPACE=P2;var O2=us,Sr=O2.find,Al=O2.NAMESPACE;function l3(t){return t!==""}function c3(t){return t?t.split(/[\t\n\f\r ]+/).filter(l3):[]}function d3(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function av(t){if(!t)return[];var e=c3(t);return Object.keys(e.reduce(d3,{}))}function f3(t){return function(e){return t&&t.indexOf(e)!==-1}}function zl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function gi(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,zl(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var mi={},nr=mi.ELEMENT_NODE=1,Uo=mi.ATTRIBUTE_NODE=2,Cd=mi.TEXT_NODE=3,R2=mi.CDATA_SECTION_NODE=4,N2=mi.ENTITY_REFERENCE_NODE=5,h3=mi.ENTITY_NODE=6,M2=mi.PROCESSING_INSTRUCTION_NODE=7,B2=mi.COMMENT_NODE=8,F2=mi.DOCUMENT_NODE=9,U2=mi.DOCUMENT_TYPE_NODE=10,ns=mi.DOCUMENT_FRAGMENT_NODE=11,p3=mi.NOTATION_NODE=12,Un={},Sn={};Un.INDEX_SIZE_ERR=(Sn[1]="Index size error",1);Un.DOMSTRING_SIZE_ERR=(Sn[2]="DOMString size error",2);var di=Un.HIERARCHY_REQUEST_ERR=(Sn[3]="Hierarchy request error",3);Un.WRONG_DOCUMENT_ERR=(Sn[4]="Wrong document",4);Un.INVALID_CHARACTER_ERR=(Sn[5]="Invalid character",5);Un.NO_DATA_ALLOWED_ERR=(Sn[6]="No data allowed",6);Un.NO_MODIFICATION_ALLOWED_ERR=(Sn[7]="No modification allowed",7);var j2=Un.NOT_FOUND_ERR=(Sn[8]="Not found",8);Un.NOT_SUPPORTED_ERR=(Sn[9]="Not supported",9);var ov=Un.INUSE_ATTRIBUTE_ERR=(Sn[10]="Attribute in use",10);Un.INVALID_STATE_ERR=(Sn[11]="Invalid state",11);Un.SYNTAX_ERR=(Sn[12]="Syntax error",12);Un.INVALID_MODIFICATION_ERR=(Sn[13]="Invalid modification",13);Un.NAMESPACE_ERR=(Sn[14]="Invalid namespace",14);Un.INVALID_ACCESS_ERR=(Sn[15]="Invalid access",15);function an(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Sn[t]),this.message=Sn[t],Error.captureStackTrace&&Error.captureStackTrace(this,an);return n.code=t,e&&(this.message=this.message+": "+e),n}an.prototype=Error.prototype;zl(Un,an);function Kr(){}Kr.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)go(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function jo(t,e){this._node=t,this._refresh=e,Im(this)}function Im(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(J2(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var i=n.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];zl(n,t),t._inc=e}}jo.prototype.item=function(t){return Im(this),this[t]||null};gi(jo,Kr);function wd(){}function $2(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function uv(t,e,n,i){if(i?e[$2(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&V2(r,t,i),g3(r,t,n))}}function lv(t,e,n){var i=$2(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var s=t.ownerDocument;s&&(V2(s,t,n),n.ownerElement=null)}}else throw new an(j2,new Error(t.tagName+"@"+n))}wd.prototype={length:0,item:Kr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new an(ov);var n=this.getNamedItem(t.nodeName);return uv(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new an(ov);return n=this.getNamedItemNS(t.namespaceURI,t.localName),uv(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return lv(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return lv(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function H2(){}H2.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new Gl;if(i.implementation=this,i.childNodes=new Kr,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new xf;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function wt(){}wt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Ad(this,t,e)},replaceChild:function(t,e){Ad(this,t,e,z2),e&&this.removeChild(e)},removeChild:function(t){return W2(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return sg(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Cd&&t.nodeType==Cd?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==Uo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==Uo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function q2(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}zl(mi,wt);zl(mi,wt.prototype);function Dl(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Dl(t,e))return!0;while(t=t.nextSibling)}function Gl(){this.ownerDocument=this}function g3(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===Al.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function V2(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===Al.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function Pm(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function W2(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Pm(t.ownerDocument,t),e}function m3(t){return t&&(t.nodeType===wt.DOCUMENT_NODE||t.nodeType===wt.DOCUMENT_FRAGMENT_NODE||t.nodeType===wt.ELEMENT_NODE)}function y3(t){return t&&(Cr(t)||Om(t)||is(t)||t.nodeType===wt.DOCUMENT_FRAGMENT_NODE||t.nodeType===wt.COMMENT_NODE||t.nodeType===wt.PROCESSING_INSTRUCTION_NODE)}function is(t){return t&&t.nodeType===wt.DOCUMENT_TYPE_NODE}function Cr(t){return t&&t.nodeType===wt.ELEMENT_NODE}function Om(t){return t&&t.nodeType===wt.TEXT_NODE}function cv(t,e){var n=t.childNodes||[];if(Sr(n,Cr)||is(e))return!1;var i=Sr(n,is);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function dv(t,e){var n=t.childNodes||[];function i(s){return Cr(s)&&s!==e}if(Sr(n,i))return!1;var r=Sr(n,is);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function _3(t,e,n){if(!m3(t))throw new an(di,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new an(j2,"child not in parent");if(!y3(e)||is(e)&&t.nodeType!==wt.DOCUMENT_NODE)throw new an(di,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function v3(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===wt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Cr);if(s.length>1||Sr(r,Om))throw new an(di,"More than one element or text in fragment");if(s.length===1&&!cv(t,n))throw new an(di,"Element in fragment can not be inserted before doctype")}if(Cr(e)&&!cv(t,n))throw new an(di,"Only one element can be added and only after doctype");if(is(e)){if(Sr(i,is))throw new an(di,"Only one doctype is allowed");var a=Sr(i,Cr);if(n&&i.indexOf(a)<i.indexOf(n))throw new an(di,"Doctype can only be inserted before an element");if(!n&&a)throw new an(di,"Doctype can not be appended since element is present")}}function z2(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===wt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Cr);if(s.length>1||Sr(r,Om))throw new an(di,"More than one element or text in fragment");if(s.length===1&&!dv(t,n))throw new an(di,"Element in fragment can not be inserted before doctype")}if(Cr(e)&&!dv(t,n))throw new an(di,"Only one element can be added and only after doctype");if(is(e)){if(Sr(i,function(u){return is(u)&&u!==n}))throw new an(di,"Only one doctype is allowed");var a=Sr(i,Cr);if(n&&i.indexOf(a)<i.indexOf(n))throw new an(di,"Doctype can only be inserted before an element")}}function Ad(t,e,n,i){_3(t,e,n),t.nodeType===wt.DOCUMENT_NODE&&(i||v3)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===ns){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return Pm(t.ownerDocument||t,t),e.nodeType==ns&&(e.firstChild=e.lastChild=null),e}function b3(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Pm(t.ownerDocument,t,e),e}Gl.prototype={nodeName:"#document",nodeType:F2,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ns){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return Ad(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===nr&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),W2(this,t)},replaceChild:function(t,e){Ad(this,t,e,z2),t.ownerDocument=this,e&&this.removeChild(e),Cr(t)&&(this.documentElement=t)},importNode:function(t,e){return Q2(this,t,e)},getElementById:function(t){var e=null;return Dl(this.documentElement,function(n){if(n.nodeType==nr&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=av(t);return new jo(this,function(n){var i=[];return e.length>0&&Dl(n.documentElement,function(r){if(r!==n&&r.nodeType===nr){var s=r.getAttribute("class");if(s){var a=t===s;if(!a){var o=av(s);a=e.every(f3(o))}a&&i.push(r)}}}),i})},createElement:function(t){var e=new Ra;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Kr;var n=e.attributes=new wd;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Ef;return t.ownerDocument=this,t.childNodes=new Kr,t},createTextNode:function(t){var e=new Rm;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Nm;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Mm;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Fm;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Dd;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Bm;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Ra,i=e.split(":"),r=n.attributes=new wd;return n.childNodes=new Kr,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Dd,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};gi(Gl,wt);function Ra(){this._nsMap={}}Ra.prototype={nodeType:nr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ns?this.insertBefore(t,null):b3(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new jo(this,function(e){var n=[];return Dl(e,function(i){i!==e&&i.nodeType==nr&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new jo(this,function(n){var i=[];return Dl(n,function(r){r!==n&&r.nodeType===nr&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};Gl.prototype.getElementsByTagName=Ra.prototype.getElementsByTagName;Gl.prototype.getElementsByTagNameNS=Ra.prototype.getElementsByTagNameNS;gi(Ra,wt);function Dd(){}Dd.prototype.nodeType=Uo;gi(Dd,wt);function Kl(){}Kl.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Sn[di])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};gi(Kl,wt);function Rm(){}Rm.prototype={nodeName:"#text",nodeType:Cd,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};gi(Rm,Kl);function Nm(){}Nm.prototype={nodeName:"#comment",nodeType:B2};gi(Nm,Kl);function Mm(){}Mm.prototype={nodeName:"#cdata-section",nodeType:R2};gi(Mm,Kl);function xf(){}xf.prototype.nodeType=U2;gi(xf,wt);function G2(){}G2.prototype.nodeType=p3;gi(G2,wt);function K2(){}K2.prototype.nodeType=h3;gi(K2,wt);function Bm(){}Bm.prototype.nodeType=N2;gi(Bm,wt);function Ef(){}Ef.prototype.nodeName="#document-fragment";Ef.prototype.nodeType=ns;gi(Ef,wt);function Fm(){}Fm.prototype.nodeType=M2;gi(Fm,wt);function X2(){}X2.prototype.serializeToString=function(t,e,n){return Y2.call(t,e,n)};wt.prototype.toString=Y2;function Y2(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&r==null){var r=i.lookupPrefix(s);if(r==null)var a=[{namespace:s,prefix:null}]}return go(this,n,t,e,a),n.join("")}function fv(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===Al.XML||r===Al.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===i)return a.namespace!==r}return!0}function Hh(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,q2),'"')}function go(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case nr:var s=t.attributes,a=s.length,S=t.firstChild,o=t.tagName;n=Al.isHTML(t.namespaceURI)||n;var u=o;if(!n&&!t.prefix&&t.namespaceURI){for(var c,f=0;f<s.length;f++)if(s.item(f).name==="xmlns"){c=s.item(f).value;break}if(!c)for(var p=r.length-1;p>=0;p--){var b=r[p];if(b.prefix===""&&b.namespace===t.namespaceURI){c=b.namespace;break}}if(c!==t.namespaceURI)for(var p=r.length-1;p>=0;p--){var b=r[p];if(b.namespace===t.namespaceURI){b.prefix&&(u=b.prefix+":"+o);break}}}e.push("<",u);for(var C=0;C<a;C++){var E=s.item(C);E.prefix=="xmlns"?r.push({prefix:E.localName,namespace:E.value}):E.nodeName=="xmlns"&&r.push({prefix:"",namespace:E.value})}for(var C=0;C<a;C++){var E=s.item(C);if(fv(E,n,r)){var L=E.prefix||"",R=E.namespaceURI;Hh(e,L?"xmlns:"+L:"xmlns",R),r.push({prefix:L,namespace:R})}go(E,e,n,i,r)}if(o===u&&fv(t,n,r)){var L=t.prefix||"",R=t.namespaceURI;Hh(e,L?"xmlns:"+L:"xmlns",R),r.push({prefix:L,namespace:R})}if(S||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;S;)S.data?e.push(S.data):go(S,e,n,i,r.slice()),S=S.nextSibling;else for(;S;)go(S,e,n,i,r.slice()),S=S.nextSibling;e.push("</",u,">")}else e.push("/>");return;case F2:case ns:for(var S=t.firstChild;S;)go(S,e,n,i,r.slice()),S=S.nextSibling;return;case Uo:return Hh(e,t.name,t.value);case Cd:return e.push(t.data.replace(/[<&>]/g,q2));case R2:return e.push("<![CDATA[",t.data,"]]>");case B2:return e.push("<!--",t.data,"-->");case U2:var A=t.publicId,M=t.systemId;if(e.push("<!DOCTYPE ",t.name),A)e.push(" PUBLIC ",A),M&&M!="."&&e.push(" ",M),e.push(">");else if(M&&M!=".")e.push(" SYSTEM ",M,">");else{var I=t.internalSubset;I&&e.push(" [",I,"]"),e.push(">")}return;case M2:return e.push("<?",t.target," ",t.data,"?>");case N2:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Q2(t,e,n){var i;switch(e.nodeType){case nr:i=e.cloneNode(!1),i.ownerDocument=t;case ns:break;case Uo:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(Q2(t,r,n)),r=r.nextSibling;return i}function sg(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new Kr),i.ownerDocument=t,i.nodeType){case nr:var a=e.attributes,o=i.attributes=new wd,u=a.length;o._ownerElement=i;for(var c=0;c<u;c++)i.setAttributeNode(sg(t,a.item(c),!0));break;case Uo:n=!0}if(n)for(var f=e.firstChild;f;)i.appendChild(sg(t,f,n)),f=f.nextSibling;return i}function J2(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case nr:case ns:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(jo.prototype,"length",{get:function(){return Im(this),this.$$length}}),Object.defineProperty(wt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case nr:case ns:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),J2=function(e,n,i){e["$$"+n]=i}}}catch{}Fs.DocumentType=xf;Fs.DOMException=an;Fs.DOMImplementation=H2;Fs.Element=Ra;Fs.Node=wt;Fs.NodeList=Kr;Fs.XMLSerializer=X2;var Sf={},Z2={};(function(t){var e=us.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(Z2);var Um={},kl=us.NAMESPACE,ag=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,hv=new RegExp("[\\-\\.0-9"+ag.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),pv=new RegExp("^"+ag.source+hv.source+"*(?::"+ag.source+hv.source+"*)?$"),Mu=0,xs=1,no=2,Bu=3,io=4,ro=5,Fu=6,Hc=7;function $o(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,$o)}$o.prototype=new Error;$o.prototype.name=$o.name;function ex(){}ex.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),tx(e,e={}),T3(t,e,n,i,this.errorHandler),i.endDocument()}};function T3(t,e,n,i,r){function s(Le){if(Le>65535){Le-=65536;var Re=55296+(Le>>10),Ve=56320+(Le&1023);return String.fromCharCode(Re,Ve)}else return String.fromCharCode(Le)}function a(Le){var Re=Le.slice(1,-1);return Object.hasOwnProperty.call(n,Re)?n[Re]:Re.charAt(0)==="#"?s(parseInt(Re.substr(1).replace("x","0x"))):(r.error("entity not found:"+Le),Le)}function o(Le){if(Le>L){var Re=t.substring(L,Le).replace(/&#?\w+;/g,a);b&&u(L),i.characters(Re,0,Le-L),L=Le}}function u(Le,Re){for(;Le>=f&&(Re=p.exec(t));)c=Re.index,f=c+Re[0].length,b.lineNumber++;b.columnNumber=Le-c+1}for(var c=0,f=0,p=/.*(?:\r\n?|\n)|.*$/g,b=i.locator,C=[{currentNSMap:e}],E={},L=0;;){try{var R=t.indexOf("<",L);if(R<0){if(!t.substr(L).match(/^\s*$/)){var S=i.doc,A=S.createTextNode(t.substr(L));S.appendChild(A),i.currentElement=A}return}switch(R>L&&o(R),t.charAt(R+1)){case"/":var Z=t.indexOf(">",R+3),M=t.substring(R+2,Z).replace(/[ \t\n\r]+$/g,""),I=C.pop();Z<0?(M=t.substring(R+2).replace(/[\s<].*/,""),r.error("end tag name: "+M+" is not complete:"+I.tagName),Z=R+1+M.length):M.match(/\s</)&&(M=M.replace(/[\s<].*/,""),r.error("end tag name: "+M+" maybe not complete"),Z=R+1+M.length);var N=I.localNSMap,j=I.tagName==M,m=j||I.tagName&&I.tagName.toLowerCase()==M.toLowerCase();if(m){if(i.endElement(I.uri,I.localName,M),N)for(var ne in N)Object.prototype.hasOwnProperty.call(N,ne)&&i.endPrefixMapping(ne);j||r.fatalError("end tag name: "+M+" is not match the current start tagName:"+I.tagName)}else C.push(I);Z++;break;case"?":b&&u(R),Z=w3(t,R,i);break;case"!":b&&u(R),Z=C3(t,R,i,r);break;default:b&&u(R);var re=new nx,xe=C[C.length-1].currentNSMap,Z=x3(t,R,re,xe,a,r),ae=re.length;if(!re.closed&&S3(t,Z,re.tagName,E)&&(re.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),b&&ae){for(var Q=gv(b,{}),he=0;he<ae;he++){var He=re[he];u(He.offset),He.locator=gv(b,{})}i.locator=Q,mv(re,i,xe)&&C.push(re),i.locator=b}else mv(re,i,xe)&&C.push(re);kl.isHTML(re.uri)&&!re.closed?Z=E3(t,Z,re.tagName,a,i):Z++}}catch(Le){if(Le instanceof $o)throw Le;r.error("element parse error: "+Le),Z=-1}Z>L?L=Z:o(Math.max(R,L)+1)}}function gv(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function x3(t,e,n,i,r,s){function a(b,C,E){n.attributeNames.hasOwnProperty(b)&&s.fatalError("Attribute "+b+" redefined"),n.addValue(b,C.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),E)}for(var o,u,c=++e,f=Mu;;){var p=t.charAt(c);switch(p){case"=":if(f===xs)o=t.slice(e,c),f=Bu;else if(f===no)f=Bu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Bu||f===xs)if(f===xs&&(s.warning('attribute value must after "="'),o=t.slice(e,c)),e=c+1,c=t.indexOf(p,e),c>0)u=t.slice(e,c),a(o,u,e-1),f=ro;else throw new Error("attribute value no end '"+p+"' match");else if(f==io)u=t.slice(e,c),a(o,u,e),s.warning('attribute "'+o+'" missed start quot('+p+")!!"),e=c+1,f=ro;else throw new Error('attribute value must after "="');break;case"/":switch(f){case Mu:n.setTagName(t.slice(e,c));case ro:case Fu:case Hc:f=Hc,n.closed=!0;case io:case xs:break;case no:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),f==Mu&&n.setTagName(t.slice(e,c)),c;case">":switch(f){case Mu:n.setTagName(t.slice(e,c));case ro:case Fu:case Hc:break;case io:case xs:u=t.slice(e,c),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case no:f===no&&(u=o),f==io?(s.warning('attribute "'+u+'" missed quot(")!'),a(o,u,e)):((!kl.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case Bu:throw new Error("attribute value missed!!")}return c;case"":p=" ";default:if(p<=" ")switch(f){case Mu:n.setTagName(t.slice(e,c)),f=Fu;break;case xs:o=t.slice(e,c),f=no;break;case io:var u=t.slice(e,c);s.warning('attribute "'+u+'" missed quot(")!!'),a(o,u,e);case ro:f=Fu;break}else switch(f){case no:n.tagName,(!kl.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=c,f=xs;break;case ro:s.warning('attribute space is required"'+o+'"!!');case Fu:f=xs,e=c;break;case Bu:f=io,e=c;break;case Hc:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function mv(t,e,n){for(var i=t.tagName,r=null,p=t.length;p--;){var s=t[p],a=s.qName,o=s.value,b=a.indexOf(":");if(b>0)var u=s.prefix=a.slice(0,b),c=a.slice(b+1),f=u==="xmlns"&&c;else c=a,u=null,f=a==="xmlns"&&"";s.localName=c,f!==!1&&(r==null&&(r={},tx(n,n={})),n[f]=r[f]=o,s.uri=kl.XMLNS,e.startPrefixMapping(f,o))}for(var p=t.length;p--;){s=t[p];var u=s.prefix;u&&(u==="xml"&&(s.uri=kl.XML),u!=="xmlns"&&(s.uri=n[u||""]))}var b=i.indexOf(":");b>0?(u=t.prefix=i.slice(0,b),c=t.localName=i.slice(b+1)):(u=null,c=t.localName=i);var C=t.uri=n[u||""];if(e.startElement(C,c,i,t),t.closed){if(e.endElement(C,c,i),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=r,!0}function E3(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),s)}return e+1}function S3(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function tx(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function C3(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=A3(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],c=!1,f=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],f=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(f=a[3][0]));var p=a[o-1];return n.startDTD(u,c,f),n.endDTD(),p.index+p[0].length}}return-1}function w3(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function nx(){this.attributeNames={}}nx.prototype={setTagName:function(t){if(!pv.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!pv.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function A3(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}Um.XMLReader=ex;Um.ParseError=$o;var D3=us,k3=Fs,yv=Z2,ix=Um,L3=k3.DOMImplementation,_v=D3.NAMESPACE,I3=ix.ParseError,P3=ix.XMLReader;function rx(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function sx(t){this.options=t||{locator:{}}}sx.prototype.parseFromString=function(t,e){var n=this.options,i=new P3,r=n.domBuilder||new Xl,s=n.errorHandler,a=n.locator,o=n.xmlns||{},u=/\/x?html?$/.test(e),c=u?yv.HTML_ENTITIES:yv.XML_ENTITIES;a&&r.setDocumentLocator(a),i.errorHandler=O3(s,r,a),i.domBuilder=n.domBuilder||r,u&&(o[""]=_v.HTML),o.xml=o.xml||_v.XML;var f=n.normalizeLineEndings||rx;return t&&typeof t=="string"?i.parse(f(t),o,c):i.errorHandler.error("invalid doc source"),r.doc};function O3(t,e,n){if(!t){if(e instanceof Xl)return e;t=e}var i={},r=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&r&&(o=t.length==2?function(u){t(a,u)}:t),i[a]=o&&function(u){o("[xmldom "+a+"]	"+u+og(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function Xl(){this.cdata=!1}function so(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Xl.prototype={startDocument:function(){this.doc=new L3().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,s=r.createElementNS(t,n||e),a=i.length;qc(this,s),this.currentElement=s,this.locator&&so(this.locator,s);for(var o=0;o<a;o++){var t=i.getURI(o),u=i.getValue(o),n=i.getQName(o),c=r.createAttributeNS(t,n);this.locator&&so(i.getLocator(o),c),c.value=c.nodeValue=u,s.setAttributeNode(c)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&so(this.locator,n),qc(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=vv.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&so(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=vv.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&so(this.locator,i),qc(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&so(this.locator,r),qc(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,og(this.locator))},error:function(t){console.error("[xmldom error]	"+t,og(this.locator))},fatalError:function(t){throw new I3(t,this.locator)}};function og(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function vv(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Xl.prototype[t]=function(){return null}});function qc(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Sf.__DOMHandler=Xl;Sf.normalizeLineEndings=rx;Sf.DOMParser=sx;var R3=Sf.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const bv=t=>!!t&&typeof t=="object",bn=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(i=>{Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):bv(e[i])&&bv(n[i])?e[i]=bn(e[i],n[i]):e[i]=n[i]}),e),{}),ax=t=>Object.keys(t).map(e=>t[e]),N3=(t,e)=>{const n=[];for(let i=t;i<e;i++)n.push(i);return n},Ho=t=>t.reduce((e,n)=>e.concat(n),[]),ox=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},M3=(t,e)=>t.reduce((n,i,r)=>(i[e]&&n.push(r),n),[]),B3=(t,e)=>ax(t.reduce((n,i)=>(i.forEach(r=>{n[e(r)]=r}),n),{}));var qo={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Ll=({baseUrl:t="",source:e="",range:n="",indexRange:i=""})=>{const r={uri:e,resolvedUri:km(t||"",e)};if(n||i){const a=(n||i).split("-");let o=W.BigInt?W.BigInt(a[0]):parseInt(a[0],10),u=W.BigInt?W.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),u<Number.MAX_SAFE_INTEGER&&typeof u=="bigint"&&(u=Number(u));let c;typeof u=="bigint"||typeof o=="bigint"?c=W.BigInt(u)-W.BigInt(o)+W.BigInt(1):c=u-o+1,typeof c=="bigint"&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),r.byterange={length:c,offset:o}}return r},F3=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=W.BigInt(t.offset)+W.BigInt(t.length)-W.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},Tv=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),U3={static(t){const{duration:e,timescale:n=1,sourceDuration:i,periodDuration:r}=t,s=Tv(t.endNumber),a=e/n;return typeof s=="number"?{start:0,end:s}:typeof r=="number"?{start:0,end:r/a}:{start:0,end:i/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:u=1/0}=t,c=Tv(t.endNumber),f=(e+n)/1e3,p=i+a,C=f+o-p,E=Math.ceil(C*r/s),L=Math.floor((f-p-u)*r/s),R=Math.floor((f-p)*r/s);return{start:Math.max(0,L),end:typeof c=="number"?c:Math.min(E,R)}}},j3=t=>e=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:s=1}=t;return{number:s+e,duration:n/i,timeline:r,time:e*n}},jm=t=>{const{type:e,duration:n,timescale:i=1,periodDuration:r,sourceDuration:s}=t,{start:a,end:o}=U3[e](t),u=N3(a,o).map(j3(t));if(e==="static"){const c=u.length-1,f=typeof r=="number"?r:s;u[c].duration=f-n/i*c}return u},ux=t=>{const{baseUrl:e,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:s,presentationTime:a,number:o=0,duration:u}=t;if(!e)throw new Error(qo.NO_BASE_URL);const c=Ll({baseUrl:e,source:n.sourceURL,range:n.range}),f=Ll({baseUrl:e,source:e,indexRange:r});if(f.map=c,u){const p=jm(t);p.length&&(f.duration=p[0].duration,f.timeline=p[0].timeline)}else i&&(f.duration=i,f.timeline=s);return f.presentationTime=a||s,f.number=o,[f]},$m=(t,e,n)=>{const i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,u=e.timescale,c=e.references.filter(R=>R.referenceType!==1),f=[],p=t.endList?"static":"dynamic",b=t.sidx.timeline;let C=b,E=t.mediaSequence||0,L;typeof e.firstOffset=="bigint"?L=W.BigInt(o)+e.firstOffset:L=o+e.firstOffset;for(let R=0;R<c.length;R++){const S=e.references[R],A=S.referencedSize,M=S.subsegmentDuration;let I;typeof L=="bigint"?I=L+W.BigInt(A)-W.BigInt(1):I=L+A-1;const N=`${L}-${I}`,m=ux({baseUrl:n,timescale:u,timeline:s,periodStart:b,presentationTime:C,number:E,duration:M,sourceDuration:r,indexRange:N,type:p})[0];i&&(m.map=i),f.push(m),typeof L=="bigint"?L+=W.BigInt(A):L+=A,C+=M/u,E++}return t.segments=f,t},$3=["AUDIO","SUBTITLES"],H3=1/60,lx=t=>B3(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),q3=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},xv=t=>{let e=[];return a3(t,$3,(n,i,r,s)=>{e=e.concat(n.playlists||[])}),e},Ev=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,i)=>{n.number=t.mediaSequence+i})},V3=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(i=>{i.discontinuitySequence=n.findIndex(function({timeline:u}){return u===i.timeline});const r=q3(t,i.attributes.NAME);if(!r||i.sidx)return;const s=i.segments[0],a=r.segments.findIndex(function(u){return Math.abs(u.presentationTime-s.presentationTime)<H3});if(a===-1){Ev({playlist:i,mediaSequence:r.mediaSequence+r.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!r.segments.length&&i.timeline>r.timeline||r.segments.length&&i.timeline>r.segments[r.segments.length-1].timeline)&&i.discontinuitySequence--;return}r.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),Ev({playlist:i,mediaSequence:r.segments[a].number})})},W3=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(xv(t)),i=e.playlists.concat(xv(e));return e.timelineStarts=lx([t.timelineStarts,e.timelineStarts]),V3({oldPlaylists:n,newPlaylists:i,timelineStarts:e.timelineStarts}),e},Cf=t=>t&&t.uri+"-"+F3(t.byterange),qh=t=>{const e=t.reduce(function(i,r){return i[r.attributes.baseUrl]||(i[r.attributes.baseUrl]=[]),i[r.attributes.baseUrl].push(r),i},{});let n=[];return Object.values(e).forEach(i=>{const r=ax(i.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(r)}),n.map(i=>(i.discontinuityStarts=M3(i.segments||[],"discontinuity"),i))},Hm=(t,e)=>{const n=Cf(t.sidx),i=n&&e[n]&&e[n].sidx;return i&&$m(t,i,t.sidx.resolvedUri),t},z3=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=Hm(t[n],e);return t},G3=({attributes:t,segments:e,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:r,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:i,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},K3=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},X3=(t,e={},n=!1)=>{let i;const r=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",u=a.attributes.lang||"";let c=a.attributes.label||"main";if(u&&!a.attributes.label){const p=o?` (${o})`:"";c=`${a.attributes.lang}${p}`}s[c]||(s[c]={language:u,autoselect:!0,default:o==="main",playlists:[],uri:""});const f=Hm(G3(a,n),e);return s[c].playlists.push(f),typeof i>"u"&&o==="main"&&(i=a,i.default=!0),s},{});if(!i){const s=Object.keys(r)[0];r[s].default=!0}return r},Y3=(t,e={})=>t.reduce((n,i)=>{const r=i.attributes.label||i.attributes.lang||"text";return n[r]||(n[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),n[r].playlists.push(Hm(K3(i),e)),n},{}),Q3=t=>t.reduce((e,n)=>(n&&n.forEach(i=>{const{channel:r,language:s}=i;e[s]={autoselect:!1,default:!1,instreamId:r,language:s},i.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[s].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[s]["3D"]=i["3D"])}),e),{}),J3=({attributes:t,segments:e,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(r.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(r.contentProtection=t.contentProtection),t.serviceLocation&&(r.attributes.serviceLocation=t.serviceLocation),n&&(r.sidx=n),r},Z3=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",e4=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",t4=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",n4=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:i}){return i===n.timeline}),n.segments&&n.segments.forEach((i,r)=>{i.number=r})})},Sv=t=>t?Object.keys(t).reduce((e,n)=>{const i=t[n];return e.concat(i.playlists)},[]):[],i4=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:u,minimumUpdatePeriod:c}=t[0].attributes,f=qh(t.filter(Z3)).map(J3),p=qh(t.filter(e4)),b=qh(t.filter(t4)),C=t.map(I=>I.attributes.captionServices).filter(Boolean),E={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:z3(f,i)};c>=0&&(E.minimumUpdatePeriod=c*1e3),e&&(E.locations=e),n&&(E.contentSteering=n),o==="dynamic"&&(E.suggestedPresentationDelay=u),s&&s.length>0&&(E.eventStream=s);const L=E.playlists.length===0,R=p.length?X3(p,i,L):null,S=b.length?Y3(b,i):null,A=f.concat(Sv(R),Sv(S)),M=A.map(({timelineStarts:I})=>I);return E.timelineStarts=lx(M),n4(A,E.timelineStarts),R&&(E.mediaGroups.AUDIO.audio=R),S&&(E.mediaGroups.SUBTITLES.subs=S),C.length&&(E.mediaGroups["CLOSED-CAPTIONS"].cc=Q3(C)),r?W3({oldManifest:r,newManifest:E}):E},r4=(t,e,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:u=0}=t,c=(i+r)/1e3,f=s+o,b=c+u-f;return Math.ceil((b*a-e)/n)},cx=(t,e)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:u}=t,c=[];let f=-1;for(let p=0;p<e.length;p++){const b=e[p],C=b.d,E=b.r||0,L=b.t||0;f<0&&(f=L),L&&L>f&&(f=L);let R;if(E<0){const M=p+1;M===e.length?n==="dynamic"&&i>0&&r.indexOf("$Number$")>0?R=r4(t,f,C):R=(s*a-f)/C:R=(e[M].t-f)/C}else R=E+1;const S=o+c.length+R;let A=o+c.length;for(;A<S;)c.push({number:A,duration:C/a,time:f,timeline:u}),f+=C,A++}return c},s4=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,a4=t=>(e,n,i,r)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(i?r=parseInt(r,10):r=1,s.length>=r)?s:`${new Array(r-s.length+1).join("0")}${s}`},Cv=(t,e)=>t.replace(s4,a4(e)),o4=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?jm(t):cx(t,e),u4=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=t,r=Ll({baseUrl:t.baseUrl,source:Cv(i.sourceURL,n),range:i.range});return o4(t,e).map(a=>{n.Number=a.number,n.Time=a.time;const o=Cv(t.media||"",n),u=t.timescale||1,c=t.presentationTimeOffset||0,f=t.periodStart+(a.time-c)/u;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:km(t.baseUrl||"",o),map:r,number:a.number,presentationTime:f}})},l4=(t,e)=>{const{baseUrl:n,initialization:i={}}=t,r=Ll({baseUrl:n,source:i.sourceURL,range:i.range}),s=Ll({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=r,s},c4=(t,e)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=t;if(!n&&!e||n&&e)throw new Error(qo.SEGMENT_TIME_UNSPECIFIED);const s=i.map(u=>l4(t,u));let a;return n&&(a=jm(t)),e&&(a=cx(t,e)),a.map((u,c)=>{if(s[c]){const f=s[c],p=t.timescale||1,b=t.presentationTimeOffset||0;return f.timeline=u.timeline,f.duration=u.duration,f.number=u.number,f.presentationTime=r+(u.time-b)/p,f}}).filter(u=>u)},d4=({attributes:t,segmentInfo:e})=>{let n,i;e.template?(i=u4,n=bn(t,e.template)):e.base?(i=ux,n=bn(t,e.base)):e.list&&(i=c4,n=bn(t,e.list));const r={attributes:t};if(!i)return r;const s=i(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return r.attributes=n,r.segments=s,e.base&&n.indexRange&&(r.sidx=s[0],r.segments=[]),r},f4=t=>t.map(d4),Xt=(t,e)=>ox(t.childNodes).filter(({tagName:n})=>n===e),Yl=t=>t.textContent.trim(),h4=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),ao=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[u,c,f,p,b,C]=o.slice(1);return parseFloat(u||0)*31536e3+parseFloat(c||0)*2592e3+parseFloat(f||0)*86400+parseFloat(p||0)*3600+parseFloat(b||0)*60+parseFloat(C||0)},p4=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),wv={mediaPresentationDuration(t){return ao(t)},availabilityStartTime(t){return p4(t)/1e3},minimumUpdatePeriod(t){return ao(t)},suggestedPresentationDelay(t){return ao(t)},type(t){return t},timeShiftBufferDepth(t){return ao(t)},start(t){return ao(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return h4(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?ao(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},un=t=>t&&t.attributes?ox(t.attributes).reduce((e,n)=>{const i=wv[n.name]||wv.DEFAULT;return e[n.name]=i(n.value),e},{}):{},g4={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},wf=(t,e)=>e.length?Ho(t.map(function(n){return e.map(function(i){const r=Yl(i),s=km(n.baseUrl,r),a=bn(un(i),{baseUrl:s});return s!==r&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,qm=t=>{const e=Xt(t,"SegmentTemplate")[0],n=Xt(t,"SegmentList")[0],i=n&&Xt(n,"SegmentURL").map(p=>bn({tag:"SegmentURL"},un(p))),r=Xt(t,"SegmentBase")[0],s=n||e,a=s&&Xt(s,"SegmentTimeline")[0],o=n||r||e,u=o&&Xt(o,"Initialization")[0],c=e&&un(e);c&&u?c.initialization=u&&un(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const f={template:c,segmentTimeline:a&&Xt(a,"S").map(p=>un(p)),list:n&&bn(un(n),{segmentUrls:i,initialization:un(u)}),base:r&&bn(un(r),{initialization:un(u)})};return Object.keys(f).forEach(p=>{f[p]||delete f[p]}),f},m4=(t,e,n)=>i=>{const r=Xt(i,"BaseURL"),s=wf(e,r),a=bn(t,un(i)),o=qm(i);return s.map(u=>({segmentInfo:bn(n,o),attributes:bn(a,u)}))},y4=t=>t.reduce((e,n)=>{const i=un(n);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const r=g4[i.schemeIdUri];if(r){e[r]={attributes:i};const s=Xt(n,"cenc:pssh")[0];if(s){const a=Yl(s);e[r].pssh=a&&C2(a)}}return e},{}),_4=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let i,r;return r=n,/^CC\d=/.test(n)?[i,r]=n.split("="):/^CC\d$/.test(n)&&(i=n),{channel:i,language:r}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[r,s=""]=n.split("=");i.channel=r,i.language=n,s.split(",").forEach(a=>{const[o,u]=a.split(":");o==="lang"?i.language=u:o==="er"?i.easyReader=Number(u):o==="war"?i.aspectRatio=Number(u):o==="3D"&&(i["3D"]=Number(u))})}else i.language=n;return i.channel&&(i.channel="SERVICE"+i.channel),i})},v4=t=>Ho(Xt(t.node,"EventStream").map(e=>{const n=un(e),i=n.schemeIdUri;return Xt(e,"Event").map(r=>{const s=un(r),a=s.presentationTime||0,o=n.timescale||1,u=s.duration||0,c=a/o+t.attributes.start;return{schemeIdUri:i,value:n.value,id:s.id,start:c,end:c+u/o,messageData:Yl(r)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),b4=(t,e,n)=>i=>{const r=un(i),s=wf(e,Xt(i,"BaseURL")),a=Xt(i,"Role")[0],o={role:un(a)};let u=bn(t,r,o);const c=Xt(i,"Accessibility")[0],f=_4(un(c));f&&(u=bn(u,{captionServices:f}));const p=Xt(i,"Label")[0];if(p&&p.childNodes.length){const R=p.childNodes[0].nodeValue.trim();u=bn(u,{label:R})}const b=y4(Xt(i,"ContentProtection"));Object.keys(b).length&&(u=bn(u,{contentProtection:b}));const C=qm(i),E=Xt(i,"Representation"),L=bn(n,C);return Ho(E.map(m4(u,s,L)))},T4=(t,e)=>(n,i)=>{const r=wf(e,Xt(n.node,"BaseURL")),s=bn(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=Xt(n.node,"AdaptationSet"),o=qm(n.node);return Ho(a.map(b4(s,r,o)))},x4=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=bn({serverURL:Yl(t[0])},un(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},E4=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,S4=(t,e={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=e,a=Xt(t,"Period");if(!a.length)throw new Error(qo.INVALID_NUMBER_OF_PERIOD);const o=Xt(t,"Location"),u=un(t),c=wf([{baseUrl:n}],Xt(t,"BaseURL")),f=Xt(t,"ContentSteering");u.type=u.type||"static",u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=i,u.clientOffset=r,o.length&&(u.locations=o.map(Yl));const p=[];return a.forEach((b,C)=>{const E=un(b),L=p[C-1];E.start=E4({attributes:E,priorPeriodAttributes:L?L.attributes:null,mpdType:u.type}),p.push({node:b,attributes:E})}),{locations:u.locations,contentSteeringInfo:x4(f,s),representationInfo:Ho(p.map(T4(u,c))),eventStream:Ho(p.map(v4))}},dx=t=>{if(t==="")throw new Error(qo.DASH_EMPTY_MANIFEST);const e=new R3;let n,i;try{n=e.parseFromString(t,"application/xml"),i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(qo.DASH_INVALID_XML);return i},C4=t=>{const e=Xt(t,"UTCTiming")[0];if(!e)return null;const n=un(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(qo.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},w4=(t,e={})=>{const n=S4(dx(t),e),i=f4(n.representationInfo);return i4({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},A4=t=>C4(dx(t));var fx=Math.pow(2,32),D4=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*fx+e.getUint32(4)},k4={getUint64:D4,MAX_UINT32:fx},Av=k4.getUint64,L4=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=Av(t.subarray(i)),n.firstOffset=Av(t.subarray(i+8)),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},I4=L4;const P4=os(I4);var O4=ze([73,68,51]),R4=function(e,n){n===void 0&&(n=0),e=ze(e);var i=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],s=(i&16)>>4;return s?r+20:r+10},Xu=function t(e,n){return n===void 0&&(n=0),e=ze(e),e.length-n<10||!Kt(e,O4,{offset:n})?n:(n+=R4(e,n),t(e,n))},Dv=function(e){return typeof e=="string"?L2(e):e},N4=function(e){return Array.isArray(e)?e.map(function(n){return Dv(n)}):[Dv(e)]},M4=function t(e,n,i){i===void 0&&(i=!1),n=N4(n),e=ze(e);var r=[];if(!n.length)return r;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var u=s+a;if(u>e.length){if(i)break;u=e.length}var c=e.subarray(s+8,u);Kt(o,n[0])&&(n.length===1?r.push(c):r.push.apply(r,t(c,n.slice(1),i))),s=u}return r},Vc={EBML:ze([26,69,223,163]),DocType:ze([66,130]),Segment:ze([24,83,128,103]),SegmentInfo:ze([21,73,169,102]),Tracks:ze([22,84,174,107]),Track:ze([174]),TrackNumber:ze([215]),DefaultDuration:ze([35,227,131]),TrackEntry:ze([174]),TrackType:ze([131]),FlagDefault:ze([136]),CodecID:ze([134]),CodecPrivate:ze([99,162]),VideoTrack:ze([224]),AudioTrack:ze([225]),Cluster:ze([31,67,182,117]),Timestamp:ze([231]),TimestampScale:ze([42,215,177]),BlockGroup:ze([160]),BlockDuration:ze([155]),Block:ze([161]),SimpleBlock:ze([163])},ug=[128,64,32,16,8,4,2,1],B4=function(e){for(var n=1,i=0;i<ug.length&&!(e&ug[i]);i++)n++;return n},kd=function(e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var s=B4(e[n]),a=e.subarray(n,n+s);return i&&(a=Array.prototype.slice.call(e,n,n+s),a[0]^=ug[s-1]),{length:s,value:i3(a,{signed:r}),bytes:a}},kv=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?r3(e):e},F4=function(e){return Array.isArray(e)?e.map(function(n){return kv(n)}):[kv(e)]},U4=function t(e,n,i){if(i>=n.length)return n.length;var r=kd(n,i,!1);if(Kt(e.bytes,r.bytes))return i;var s=kd(n,i+r.length);return t(e,n,i+s.length+s.value+r.length)},Lv=function t(e,n){n=F4(n),e=ze(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var s=kd(e,r,!1),a=kd(e,r+s.length),o=r+s.length+a.length;a.value===127&&(a.value=U4(s,e,o),a.value!==e.length&&(a.value-=o));var u=o+a.value>e.length?e.length:o+a.value,c=e.subarray(o,u);Kt(n[0],s.bytes)&&(n.length===1?i.push(c):i=i.concat(t(c,n.slice(1))));var f=s.length+a.length+c.length;r+=f}return i},j4=ze([0,0,0,1]),$4=ze([0,0,1]),H4=ze([0,0,3]),q4=function(e){for(var n=[],i=1;i<e.length-2;)Kt(e.subarray(i,i+3),H4)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var r=e.length-n.length,s=new Uint8Array(r),a=0;for(i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),s[i]=e[a];return s},hx=function(e,n,i,r){r===void 0&&(r=1/0),e=ze(e),i=[].concat(i);for(var s=0,a,o=0;s<e.length&&(o<r||a);){var u=void 0;if(Kt(e.subarray(s),j4)?u=4:Kt(e.subarray(s),$4)&&(u=3),!u){s++;continue}if(o++,a)return q4(e.subarray(a,s));var c=void 0;n==="h264"?c=e[s+u]&31:n==="h265"&&(c=e[s+u]>>1&63),i.indexOf(c)!==-1&&(a=s+u),s+=u+(n==="h264"?1:2)}return e.subarray(0,0)},V4=function(e,n,i){return hx(e,"h264",n,i)},W4=function(e,n,i){return hx(e,"h265",n,i)},Wn={webm:ze([119,101,98,109]),matroska:ze([109,97,116,114,111,115,107,97]),flac:ze([102,76,97,67]),ogg:ze([79,103,103,83]),ac3:ze([11,119]),riff:ze([82,73,70,70]),avi:ze([65,86,73]),wav:ze([87,65,86,69]),"3gp":ze([102,116,121,112,51,103]),mp4:ze([102,116,121,112]),fmp4:ze([115,116,121,112]),mov:ze([102,116,121,112,113,116]),moov:ze([109,111,111,118]),moof:ze([109,111,111,102])},Vo={aac:function(e){var n=Xu(e);return Kt(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Xu(e);return Kt(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=Lv(e,[Vc.EBML,Vc.DocType])[0];return Kt(n,Wn.webm)},mkv:function(e){var n=Lv(e,[Vc.EBML,Vc.DocType])[0];return Kt(n,Wn.matroska)},mp4:function(e){if(Vo["3gp"](e)||Vo.mov(e))return!1;if(Kt(e,Wn.mp4,{offset:4})||Kt(e,Wn.fmp4,{offset:4})||Kt(e,Wn.moof,{offset:4})||Kt(e,Wn.moov,{offset:4}))return!0},mov:function(e){return Kt(e,Wn.mov,{offset:4})},"3gp":function(e){return Kt(e,Wn["3gp"],{offset:4})},ac3:function(e){var n=Xu(e);return Kt(e,Wn.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Xu(e);return Kt(e,Wn.flac,{offset:n})},ogg:function(e){return Kt(e,Wn.ogg)},avi:function(e){return Kt(e,Wn.riff)&&Kt(e,Wn.avi,{offset:8})},wav:function(e){return Kt(e,Wn.riff)&&Kt(e,Wn.wav,{offset:8})},h264:function(e){return V4(e,7,3).length},h265:function(e){return W4(e,[32,33],3).length}},lg=Object.keys(Vo).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);lg.forEach(function(t){var e=Vo[t];Vo[t]=function(n){return e(ze(n))}});var z4=Vo,Vm=function(e){e=ze(e);for(var n=0;n<lg.length;n++){var i=lg[n];if(z4[i](e))return i}return""},G4=function(e){return M4(e,["moof"]).length>0},Wm=9e4,zm,Gm,Af,Km,px,gx,mx;zm=function(t){return t*Wm};Gm=function(t,e){return t*e};Af=function(t){return t/Wm};Km=function(t,e){return t/e};px=function(t,e){return zm(Km(t,e))};gx=function(t,e){return Gm(Af(t),e)};mx=function(t,e,n){return Af(n?t:t-e)};var Ld={ONE_SECOND_IN_TS:Wm,secondsToVideoTs:zm,secondsToAudioTs:Gm,videoTsToSeconds:Af,audioTsToSeconds:Km,audioTsToVideoTs:px,videoTsToAudioTs:gx,metadataTsToSeconds:mx};/**
 * @license
 * Video.js 8.6.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var yx="8.6.1";const zr={},Os=function(t,e){return zr[t]=zr[t]||[],e&&(zr[t]=zr[t].concat(e)),zr[t]},K4=function(t,e){Os(t,e)},_x=function(t,e){const n=Os(t).indexOf(e);return n<=-1?!1:(zr[t]=zr[t].slice(),zr[t].splice(n,1),!0)},X4=function(t,e){Os(t,[].concat(e).map(n=>{const i=(...r)=>(_x(t,i),n(...r));return i}))},Id={prefixed:!0},ed=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Iv=ed[0];let Yu;for(let t=0;t<ed.length;t++)if(ed[t][1]in we){Yu=ed[t];break}if(Yu){for(let t=0;t<Yu.length;t++)Id[Iv[t]]=Yu[t];Id.prefixed=Yu[0]!==Iv[0]}let ci=[];const Y4=(t,e,n)=>(i,r,s)=>{const a=e.levels[r],o=new RegExp(`^(${a})$`);let u=t;if(i!=="log"&&s.unshift(i.toUpperCase()+":"),n&&(u=`%c${t}`,s.unshift(n)),s.unshift(u+":"),ci){ci.push([].concat(s));const f=ci.length-1e3;ci.splice(0,f>0?f:0)}if(!W.console)return;let c=W.console[i];!c&&i==="debug"&&(c=W.console.info||W.console.log),!(!c||!a||!o.test(i))&&c[Array.isArray(s)?"apply":"call"](W.console,s)};function cg(t,e=":",n=""){let i="info",r;const s=function(...a){r("log",i,a)};return r=Y4(t,s,n),s.createLogger=(a,o,u)=>{const c=o!==void 0?o:e,f=u!==void 0?u:n,p=`${t} ${c} ${a}`;return cg(p,c,f)},s.createNewLogger=(a,o,u)=>cg(a,o,u),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);i=a}return i},s.history=()=>ci?[].concat(ci):[],s.history.filter=a=>(ci||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{ci&&(ci.length=0)},s.history.disable=()=>{ci!==null&&(ci.length=0,ci=null)},s.history.enable=()=>{ci===null&&(ci=[])},s.error=(...a)=>r("error",i,a),s.warn=(...a)=>r("warn",i,a),s.debug=(...a)=>r("debug",i,a),s}const ct=cg("VIDEOJS"),vx=ct.createLogger,Q4=Object.prototype.toString,bx=function(t){return Dr(t)?Object.keys(t):[]};function Co(t,e){bx(t).forEach(n=>e(t[n],n))}function Tx(t,e,n=0){return bx(t).reduce((i,r)=>e(i,t[r],r),n)}function Dr(t){return!!t&&typeof t=="object"}function Wo(t){return Dr(t)&&Q4.call(t)==="[object Object]"&&t.constructor===Object}function Nt(...t){const e={};return t.forEach(n=>{n&&Co(n,(i,r)=>{if(!Wo(i)){e[r]=i;return}Wo(e[r])||(e[r]={}),e[r]=Nt(e[r],i)})}),e}function xx(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];e.push(i)}return e}function Df(t,e,n,i=!0){const r=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return r(a),a}};return i&&(s.set=r),Object.defineProperty(t,e,s)}var J4=Object.freeze({__proto__:null,each:Co,reduce:Tx,isObject:Dr,isPlain:Wo,merge:Nt,values:xx,defineLazyProperty:Df});let Xm=!1,Ex=null,kr=!1,Sx,Cx=!1,wo=!1,Ao=!1,Lr=!1,Ym=null,kf=null,wx=null,Pd=!1,Lf=!1,Od=!1,If=!1;const Il=!!(su()&&("ontouchstart"in W||W.navigator.maxTouchPoints||W.DocumentTouch&&W.document instanceof W.DocumentTouch)),oo=W.navigator&&W.navigator.userAgentData;oo&&(kr=oo.platform==="Android",wo=!!oo.brands.find(t=>t.brand==="Microsoft Edge"),Ao=!!oo.brands.find(t=>t.brand==="Chromium"),Lr=!wo&&Ao,Ym=kf=(oo.brands.find(t=>t.brand==="Chromium")||{}).version||null,Lf=oo.platform==="Windows");if(!Ao){const t=W.navigator&&W.navigator.userAgent||"";Xm=/iPod/i.test(t),Ex=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),kr=/Android/i.test(t),Sx=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return n&&i?parseFloat(e[1]+"."+e[2]):n||null}(),Cx=/Firefox/i.test(t),wo=/Edg/i.test(t),Ao=/Chrome/i.test(t)||/CriOS/i.test(t),Lr=!wo&&Ao,Ym=kf=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),wx=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),Pd=/Safari/i.test(t)&&!Lr&&!kr&&!wo,Lf=/Windows/i.test(t),Od=/iPad/i.test(t)||Pd&&Il&&!/iPhone/i.test(t),If=/iPhone/i.test(t)&&!Od}const Zn=If||Od||Xm,Pf=(Pd||Zn)&&!Lr;var Z4=Object.freeze({__proto__:null,get IS_IPOD(){return Xm},get IOS_VERSION(){return Ex},get IS_ANDROID(){return kr},get ANDROID_VERSION(){return Sx},get IS_FIREFOX(){return Cx},get IS_EDGE(){return wo},get IS_CHROMIUM(){return Ao},get IS_CHROME(){return Lr},get CHROMIUM_VERSION(){return Ym},get CHROME_VERSION(){return kf},get IE_VERSION(){return wx},get IS_SAFARI(){return Pd},get IS_WINDOWS(){return Lf},get IS_IPAD(){return Od},get IS_IPHONE(){return If},TOUCH_ENABLED:Il,IS_IOS:Zn,IS_ANY_SAFARI:Pf});function Pv(t){return typeof t=="string"&&!!t.trim()}function e8(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function su(){return we===W.document}function au(t){return Dr(t)&&t.nodeType===1}function Ax(){try{return W.parent!==W.self}catch{return!0}}function Dx(t){return function(e,n){if(!Pv(e))return we[t](null);Pv(n)&&(n=we.querySelector(n));const i=au(n)?n:we;return i[t]&&i[t](e)}}function it(t="div",e={},n={},i){const r=we.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Us(r,a):(r[s]!==a||s==="tabIndex")&&(r[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){r.setAttribute(s,n[s])}),i&&Qm(r,i),r}function Us(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function dg(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ul(t,e){return e8(e),t.classList.contains(e)}function La(t,...e){return t.classList.add(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t}function Of(t,...e){return t?(t.classList.remove(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t):(ct.warn("removeClass was called with an element that doesn't exist"),null)}function kx(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(i=>t.classList.toggle(i,n)),t}function Lx(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const i=e[n];i===null||typeof i>"u"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function Cs(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const i=t.attributes;for(let r=i.length-1;r>=0;r--){const s=i[r].name;let a=i[r].value;n.includes(s)&&(a=a!==null),e[s]=a}}return e}function Ix(t,e){return t.getAttribute(e)}function zo(t,e,n){t.setAttribute(e,n)}function Rf(t,e){t.removeAttribute(e)}function Px(){we.body.focus(),we.onselectstart=function(){return!1}}function Ox(){we.onselectstart=function(){return!0}}function Go(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Ko(t,"height"))),n.width||(n.width=parseFloat(Ko(t,"width"))),n}}function Pl(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let i=0,r=0;for(;t.offsetParent&&t!==we[Id.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function Nf(t,e){const n={x:0,y:0};if(Zn){let f=t;for(;f&&f.nodeName.toLowerCase()!=="html";){const p=Ko(f,"transform");if(/^matrix/.test(p)){const b=p.slice(7,-1).split(/,\s/).map(Number);n.x+=b[4],n.y+=b[5]}else if(/^matrix3d/.test(p)){const b=p.slice(9,-1).split(/,\s/).map(Number);n.x+=b[12],n.y+=b[13]}f=f.parentNode}}const i={},r=Pl(e.target),s=Pl(t),a=s.width,o=s.height;let u=e.offsetY-(s.top-r.top),c=e.offsetX-(s.left-r.left);return e.changedTouches&&(c=e.changedTouches[0].pageX-s.left,u=e.changedTouches[0].pageY+s.top,Zn&&(c-=n.x,u-=n.y)),i.y=1-Math.max(0,Math.min(1,u/o)),i.x=Math.max(0,Math.min(1,c/a)),i}function Rx(t){return Dr(t)&&t.nodeType===3}function Mf(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Nx(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),au(e)||Rx(e))return e;if(typeof e=="string"&&/\S/.test(e))return we.createTextNode(e)}).filter(e=>e)}function Qm(t,e){return Nx(e).forEach(n=>t.appendChild(n)),t}function Mx(t,e){return Qm(Mf(t),e)}function Ol(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Rs=Dx("querySelector"),Bx=Dx("querySelectorAll");function Ko(t,e){if(!t||!e)return"";if(typeof W.getComputedStyle=="function"){let n;try{n=W.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function Fx(t){[...we.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(r=>r.cssText).join(""),i=we.createElement("style");i.textContent=n,t.document.head.appendChild(i)}catch{const i=we.createElement("link");i.rel="stylesheet",i.type=e.type,i.media=e.media.mediaText,i.href=e.href,t.document.head.appendChild(i)}})}var Ux=Object.freeze({__proto__:null,isReal:su,isEl:au,isInFrame:Ax,createEl:it,textContent:Us,prependTo:dg,hasClass:ul,addClass:La,removeClass:Of,toggleClass:kx,setAttributes:Lx,getAttributes:Cs,getAttribute:Ix,setAttribute:zo,removeAttribute:Rf,blockTextSelection:Px,unblockTextSelection:Ox,getBoundingClientRect:Go,findPosition:Pl,getPointerPosition:Nf,isTextNode:Rx,emptyEl:Mf,normalizeContent:Nx,appendContent:Qm,insertContent:Mx,isSingleLeftClick:Ol,$:Rs,$$:Bx,computedStyle:Ko,copyStyleSheetsToWindow:Fx});let jx=!1,fg;const t8=function(){if(fg.options.autoSetup===!1)return;const t=Array.prototype.slice.call(we.getElementsByTagName("video")),e=Array.prototype.slice.call(we.getElementsByTagName("audio")),n=Array.prototype.slice.call(we.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(let r=0,s=i.length;r<s;r++){const a=i[r];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&fg(a);else{hg(1);break}}else jx||hg(1)};function hg(t,e){su()&&(e&&(fg=e),W.setTimeout(t8,t))}function pg(){jx=!0,W.removeEventListener("load",pg)}su()&&(we.readyState==="complete"?pg():W.addEventListener("load",pg));const $x=function(t){const e=we.createElement("style");return e.className=t,e},Hx=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Yn=new WeakMap;const n8=3;let i8=n8;function Ir(){return i8++}function Ov(t,e){if(!Yn.has(t))return;const n=Yn.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Yn.delete(t)}function Jm(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function Bf(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const i=t||W.event;t={};for(const r in i)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||we),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const r=we.documentElement,s=we.body;t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Wc;const r8=function(){if(typeof Wc!="boolean"){Wc=!1;try{const t=Object.defineProperty({},"passive",{get(){Wc=!0}});W.addEventListener("test",null,t),W.removeEventListener("test",null,t)}catch{}}return Wc},s8=["touchstart","touchmove"];function Ii(t,e,n){if(Array.isArray(e))return Jm(Ii,t,e,n);Yn.has(t)||Yn.set(t,{});const i=Yn.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Ir()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(r,s){if(i.disabled)return;r=Bf(r);const a=i.handlers[r.type];if(a){const o=a.slice(0);for(let u=0,c=o.length;u<c&&!r.isImmediatePropagationStopped();u++)try{o[u].call(t,r,s)}catch(f){ct.error(f)}}}),i.handlers[e].length===1)if(t.addEventListener){let r=!1;r8()&&s8.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Bn(t,e,n){if(!Yn.has(t))return;const i=Yn.get(t);if(!i.handlers)return;if(Array.isArray(e))return Jm(Bn,t,e,n);const r=function(a,o){i.handlers[o]=[],Ov(a,o)};if(e===void 0){for(const a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(t,a);return}const s=i.handlers[e];if(s){if(!n){r(t,e);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);Ov(t,e)}}function ou(t,e,n){const i=Yn.has(t)?Yn.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Bf(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)ou.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Yn.has(e.target)||Yn.set(e.target,{});const s=Yn.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Ff(t,e,n){if(Array.isArray(e))return Jm(Ff,t,e,n);const i=function(){Bn(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Ir(),Ii(t,e,i)}function Zm(t,e,n){const i=function(){Bn(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Ir(),Ii(t,e,i)}var a8=Object.freeze({__proto__:null,fixEvent:Bf,on:Ii,off:Bn,trigger:ou,one:Ff,any:Zm});const Vi=30,Bt=function(t,e,n){e.guid||(e.guid=Ir());const i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},Pr=function(t,e){let n=W.performance.now();return function(...r){const s=W.performance.now();s-n>=e&&(t(...r),n=s)}},qx=function(t,e,n,i=W){let r;const s=()=>{i.clearTimeout(r),r=null},a=function(){const o=this,u=arguments;let c=function(){r=null,c=null,n||t.apply(o,u)};!r&&n&&t.apply(o,u),i.clearTimeout(r),r=i.setTimeout(c,e)};return a.cancel=s,a};var o8=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Vi,bind_:Bt,throttle:Pr,debounce:qx});let Uu;class Wi{on(e,n){const i=this.addEventListener;this.addEventListener=()=>{},Ii(this,e,n),this.addEventListener=i}off(e,n){Bn(this,e,n)}one(e,n){const i=this.addEventListener;this.addEventListener=()=>{},Ff(this,e,n),this.addEventListener=i}any(e,n){const i=this.addEventListener;this.addEventListener=()=>{},Zm(this,e,n),this.addEventListener=i}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=Bf(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),ou(this,e)}queueTrigger(e){Uu||(Uu=new Map);const n=e.type||e;let i=Uu.get(this);i||(i=new Map,Uu.set(this,i));const r=i.get(n);i.delete(n),W.clearTimeout(r);const s=W.setTimeout(()=>{i.delete(n),i.size===0&&(i=null,Uu.delete(this)),this.trigger(e)},0);i.set(n,s)}}Wi.prototype.allowedEvents_={};Wi.prototype.addEventListener=Wi.prototype.on;Wi.prototype.removeEventListener=Wi.prototype.off;Wi.prototype.dispatchEvent=Wi.prototype.trigger;const Uf=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Xr=t=>t instanceof Wi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),u8=(t,e)=>{Xr(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},gg=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Rd=(t,e,n)=>{if(!t||!t.nodeName&&!Xr(t))throw new Error(`Invalid target for ${Uf(e)}#${n}; must be a DOM node or evented object.`)},Vx=(t,e,n)=>{if(!gg(t))throw new Error(`Invalid event type for ${Uf(e)}#${n}; must be a non-empty string or array.`)},Wx=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${Uf(e)}#${n}; must be a function.`)},Vh=(t,e,n)=>{const i=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let r,s,a;return i?(r=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):[r,s,a]=e,Rd(r,t,n),Vx(s,t,n),Wx(a,t,n),a=Bt(t,a),{isTargetingSelf:i,target:r,type:s,listener:a}},ha=(t,e,n,i)=>{Rd(t,t,e),t.nodeName?a8[e](t,n,i):t[e](n,i)},l8={on(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=Vh(this,t,"on");if(ha(n,"on",i,r),!e){const s=()=>this.off(n,i,r);s.guid=r.guid;const a=()=>this.off("dispose",s);a.guid=r.guid,ha(this,"on","dispose",s),ha(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=Vh(this,t,"one");if(e)ha(n,"one",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,ha(n,"one",i,s)}},any(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=Vh(this,t,"any");if(e)ha(n,"any",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,ha(n,"any",i,s)}},off(t,e,n){if(!t||gg(t))Bn(this.eventBusEl_,t,e);else{const i=t,r=e;Rd(i,this,"off"),Vx(r,this,"off"),Wx(n,this,"off"),n=Bt(this,n),this.off("dispose",n),i.nodeName?(Bn(i,r,n),Bn(i,"dispose",n)):Xr(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(t,e){Rd(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!gg(n))throw new Error(`Invalid event type for ${Uf(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return ou(this.eventBusEl_,t,e)}};function e0(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=it("span",{className:"vjs-event-bus"});return Object.assign(t,l8),t.eventedCallbacks&&t.eventedCallbacks.forEach(i=>{i()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&Yn.has(i)&&Yn.delete(i)}),W.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const c8={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Co(t,(n,i)=>{this.state[i]!==n&&(e=e||{},e[i]={from:this.state[i],to:n}),this.state[i]=n}),e&&Xr(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function zx(t,e){return Object.assign(t,c8),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Xr(t)&&t.on("statechanged",t.handleStateChanged),t}const ll=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},tn=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Gx=function(t,e){return tn(t)===tn(e)};var d8=Object.freeze({__proto__:null,toLowerCase:ll,toTitleCase:tn,titleCaseEquals:Gx});class ye{constructor(e,n,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Nt({},this.options_),n=this.options_=Nt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const r=e&&e.id&&e.id()||"no_player";this.id_=`${r}_component_${Ir()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(r=>this.addClass(r)),["on","off","one","any","trigger"].forEach(r=>{this[r]=void 0}),n.evented!==!1&&(e0(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),zx(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,n){}off(e,n){}one(e,n){}any(e,n){}trigger(e,n){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Nt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,i){return it(e,n,i)}localize(e,n,i=e){const r=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[r],o=r&&r.split("-")[0],u=s&&s[o];let c=i;return a&&a[e]?c=a[e]:u&&u[e]&&(c=u[e]),n&&(c=c.replace(/\{(\d+)\}/g,function(f,p){const b=n[p-1];let C=b;return typeof b>"u"&&(C=f),C})),c}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,r)=>i.concat(r),[]);let n=this;for(let i=0;i<e.length;i++)if(n=n.getChild(e[i]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",r=it("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=we.createElementNS(i,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=we.createElementNS(i,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),r.appendChild(s),this.iconIsSet_?n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")):n.appendChild(r),this.iconIsSet_=!0,r}addChild(e,n={},i=this.children_.length){let r,s;if(typeof e=="string"){s=tn(e);const a=n.componentClass||s;n.name=s;const o=ye.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;r=new o(this.player_||this,n)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,typeof r.id=="function"&&(this.childIndex_[r.id()]=r),s=s||r.name&&tn(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[ll(s)]=r),typeof r.el=="function"&&r.el()){let a=null;this.children_[i+1]&&(this.children_[i+1].el_?a=this.children_[i+1].el_:au(this.children_[i+1])&&(a=this.children_[i+1])),this.contentEl().insertBefore(r.el(),a)}return r}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){n=!0,this.children_.splice(r,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[tn(e.name())]=null,this.childNameIndex_[ll(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,i=a=>{const o=a.name;let u=a.opts;if(n[o]!==void 0&&(u=n[o]),u===!1)return;u===!0&&(u={}),u.playerOptions=this.options_.playerOptions;const c=this.addChild(o,u);c&&(this[o]=c)};let r;const s=ye.getComponent("Tech");Array.isArray(e)?r=e:r=Object.keys(e),r.concat(Object.keys(this.options_).filter(function(a){return!r.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,u;return typeof a=="string"?(o=a,u=e[o]||this.options_[o]||{}):(o=a.name,u=a),{name:o,opts:u}}).filter(a=>{const o=ye.getComponent(a.opts.componentClass||tn(a.name));return o&&!s.isTech(o)}).forEach(i)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return Rs(e,n||this.contentEl())}$$(e,n){return Bx(e,n||this.contentEl())}hasClass(e){return ul(this.el_,e)}addClass(...e){La(this.el_,...e)}removeClass(...e){Of(this.el_,...e)}toggleClass(e,n){kx(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return Ix(this.el_,e)}setAttribute(e,n){zo(this.el_,e,n)}removeAttribute(e){Rf(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,i){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const r=this.el_.style[e],s=r.indexOf("px");return parseInt(s!==-1?r.slice(0,s):this.el_["offset"+tn(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Ko(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const i=`offset${tn(e)}`;n=this.el_[i]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(et.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const i=10,r=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=W.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const u=o.touches[0].pageX-n.pageX,c=o.touches[0].pageY-n.pageY;Math.sqrt(u*u+c*c)>i&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&W.performance.now()-e<r&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Bt(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const i=function(r){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,n){var i;return e=Bt(this,e),this.clearTimersOnDispose_(),i=W.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},n),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),W.clearTimeout(e)),e}setInterval(e,n){e=Bt(this,e),this.clearTimersOnDispose_();const i=W.setInterval(e,n);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),W.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=Bt(this,e),n=W.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),n=Bt(this,n);const i=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),W.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((i,r)=>this[n](r))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=ye.getComponent("Tech"),r=i&&i.isTech(n),s=ye===n||ye.prototype.isPrototypeOf(n.prototype);if(r||!s){let o;throw r?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=tn(e),ye.components_||(ye.components_={});const a=ye.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,u=Object.keys(o);if(o&&u.length>0&&u.map(c=>o[c]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return ye.components_[e]=n,ye.components_[ll(e)]=n,n}static getComponent(e){if(!(!e||!ye.components_))return ye.components_[e]}}ye.registerComponent("Component",ye);function f8(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function Rv(t,e,n,i){return f8(t,i,n.length-1),n[i][e]}function Wh(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Rv.bind(null,"start",0,t),end:Rv.bind(null,"end",1,t)},W.Symbol&&W.Symbol.iterator&&(e[W.Symbol.iterator]=()=>(t||[]).values()),e}function wr(t,e){return Array.isArray(t)?Wh(t):t===void 0||e===void 0?Wh():Wh([[t,e]])}const Kx=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),r=r>0||a>0?r+":":"",i=((r||s>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let t0=Kx;function Xx(t){t0=t}function Yx(){t0=Kx}function Na(t,e=t){return t0(t,e)}var h8=Object.freeze({__proto__:null,createTimeRanges:wr,createTimeRange:wr,setFormatTime:Xx,resetFormatTime:Yx,formatTime:Na});function Qx(t,e){let n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=wr(0,0));for(let s=0;s<t.length;s++)i=t.start(s),r=t.end(s),r>e&&(r=e),n+=r-i;return n/e}function Qn(t){if(t instanceof Qn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Dr(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Qn.defaultMessages[this.code]||"")}Qn.prototype.code=0;Qn.prototype.message="";Qn.prototype.status=null;Qn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Qn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let t=0;t<Qn.errorTypes.length;t++)Qn[Qn.errorTypes[t]]=t,Qn.prototype[Qn.errorTypes[t]]=t;function cl(t){return t!=null&&typeof t.then=="function"}function br(t){cl(t)&&t.then(null,e=>{})}const mg=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,i,r)=>(t[i]&&(n[i]=t[i]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},p8=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,r=>r.track);return Array.prototype.map.call(e,function(r){const s=mg(r.track);return r.src&&(s.src=r.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(r){return n.indexOf(r)===-1}).map(mg))},g8=function(t,e){return t.forEach(function(n){const i=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(r=>i.addCue(r))}),e.textTracks()};var Nv={textTracksToJson:p8,jsonToTextTracks:g8,trackToJson_:mg};const zh="vjs-modal-dialog";class uu extends ye{constructor(e,n){super(e,n),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=it("div",{className:`${zh}-content`},{role:"document"}),this.descEl_=it("p",{className:`${zh}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Us(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${zh} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let i=this.getChild("closeButton");if(n&&!i){const r=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(i,"close",this.close_)}!n&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),i=n.parentNode,r=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(n),this.empty(),Mx(n,e),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n);const s=this.getChild("closeButton");s&&i.appendChild(s.el_)}empty(){this.trigger("beforemodalempty"),Mf(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=we.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),et.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!et.isEventKey(e,"Tab"))return;const n=this.focusableEls_(),i=this.el_.querySelector(":focus");let r;for(let s=0;s<n.length;s++)if(i===n[s]){r=s;break}we.activeElement===this.el_&&(r=0),e.shiftKey&&r===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&r===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof W.HTMLAnchorElement||n instanceof W.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof W.HTMLInputElement||n instanceof W.HTMLSelectElement||n instanceof W.HTMLTextAreaElement||n instanceof W.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof W.HTMLIFrameElement||n instanceof W.HTMLObjectElement||n instanceof W.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}uu.prototype.options_={pauseOnOpen:!0,temporary:!0};ye.registerComponent("ModalDialog",uu);class Xo extends Wi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Xr(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this[i],n.off&&n.off(),this.tracks_.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}Xo.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Xo.prototype.allowedEvents_)Xo.prototype["on"+t]=null;const Gh=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class m8 extends Xo{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){Gh(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Gh(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Gh(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const Kh=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class y8 extends Xo{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){Kh(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&Kh(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Kh(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class Jx extends Xo{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class _8{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,i=e.length;n<i;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i].track){n=this.trackElements_[i];break}return n}removeTrackElement_(e){for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Nd{constructor(e){Nd.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let i=0;const r=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<r)for(i=n;i<r;i++)s.call(this,i)}getCueById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}const v8={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},b8={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},T8={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Mv={disabled:"disabled",hidden:"hidden",showing:"showing"};class n0 extends Wi{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Ir(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const r in n)Object.defineProperty(this,r,{get(){return n[r]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(r){r!==i&&(i=r,this.trigger("labelchange"))}})}}const i0=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],n=we.createElement("a");n.href=t;const i={};for(let r=0;r<e.length;r++)i[e[r]]=n[e[r]];return i.protocol==="http:"&&(i.host=i.host.replace(/:80$/,"")),i.protocol==="https:"&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=W.location.protocol),i.host||(i.host=W.location.host),i},Zx=function(t){if(!t.match(/^https?:\/\//)){const e=we.createElement("a");e.href=t,t=e.href}return t},r0=function(t){if(typeof t=="string"){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(n)return n.pop().toLowerCase()}return""},jf=function(t,e=W.location){const n=i0(t);return(n.protocol===":"?e.protocol:n.protocol)+n.host!==e.protocol+e.host};var x8=Object.freeze({__proto__:null,parseUrl:i0,getAbsoluteURL:Zx,getFileExtension:r0,isCrossOrigin:jf});const Bv=function(t,e){const n=new W.WebVTT.Parser(W,W.vttjs,W.WebVTT.StringDecoder()),i=[];n.oncue=function(r){e.addCue(r)},n.onparsingerror=function(r){i.push(r)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(W.console&&W.console.groupCollapsed&&W.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),i.forEach(r=>ct.error(r)),W.console&&W.console.groupEnd&&W.console.groupEnd()),n.flush()},Fv=function(t,e){const n={uri:t},i=jf(t);i&&(n.cors=i);const r=e.tech_.crossOrigin()==="use-credentials";r&&(n.withCredentials=r),b2(n,Bt(this,function(s,a,o){if(s)return ct.error(s,a);e.loaded_=!0,typeof W.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],u=>{if(u.type==="vttjserror"){ct.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return Bv(o,e)}):Bv(o,e)}))};class Ql extends n0{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Nt(e,{kind:T8[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=Mv[n.mode]||"disabled";const r=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(i="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new Nd(this.cues_),a=new Nd(this.activeCues_);let o=!1;this.timeupdateHandler=Bt(this,function(c={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const u=()=>{this.stopTracking()};this.tech_.one("dispose",u),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return r},set(){}},mode:{get(){return i},set(c){Mv[c]&&i!==c&&(i=c,!this.preload_&&i!=="disabled"&&this.cues.length===0&&Fv(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const c=this.tech_.currentTime(),f=[];for(let p=0,b=this.cues.length;p<b;p++){const C=this.cues[p];C.startTime<=c&&C.endTime>=c&&f.push(C)}if(o=!1,f.length!==this.activeCues_.length)o=!0;else for(let p=0;p<f.length;p++)this.activeCues_.indexOf(f[p])===-1&&(o=!0);return this.activeCues_=f,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&Fv(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new W.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const r in e)r in n||(n[r]=e[r]);n.id=e.id,n.originalCue_=e}const i=this.tech_.textTracks();for(let r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const i=this.cues_[n];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}Ql.prototype.allowedEvents_={cuechange:"cuechange"};class eE extends n0{constructor(e={}){const n=Nt(e,{kind:b8[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class tE extends n0{constructor(e={}){const n=Nt(e,{kind:v8[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class rs extends Wi{constructor(e={}){super();let n;const i=new Ql(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return i}}}),n=rs.NONE,i.addEventListener("loadeddata",()=>{n=rs.LOADED,this.trigger({type:"load",target:this})})}}rs.prototype.allowedEvents_={load:"load"};rs.NONE=0;rs.LOADING=1;rs.LOADED=2;rs.ERROR=3;const Hi={audio:{ListClass:m8,TrackClass:eE,capitalName:"Audio"},video:{ListClass:y8,TrackClass:tE,capitalName:"Video"},text:{ListClass:Jx,TrackClass:Ql,capitalName:"Text"}};Object.keys(Hi).forEach(function(t){Hi[t].getterName=`${t}Tracks`,Hi[t].privateName=`${t}Tracks_`});const Yo={remoteText:{ListClass:Jx,TrackClass:Ql,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:_8,TrackClass:rs,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Kn=Object.assign({},Hi,Yo);Yo.names=Object.keys(Yo);Hi.names=Object.keys(Hi);Kn.names=[].concat(Yo.names).concat(Hi.names);function E8(t,e,n,i,r={}){const s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;const a=new Kn.text.TrackClass(r);return s.addTrack(a),a}class tt extends ye{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Kn.names.forEach(i=>{const r=Kn[i];e&&e[r.getterName]&&(this[r.privateName]=e[r.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e[`native${i}Tracks`]===!1&&(this[`featuresNative${i}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Kn.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Bt(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return wr(0,0)}bufferedPercent(){return Qx(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Hi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const i=this[`${n}Tracks`]()||[];let r=i.length;for(;r--;){const s=i[r];n==="text"&&this.removeRemoteTextTrack(s),i.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const i=e[n];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Qn(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?wr(0,0):wr()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Hi.names.forEach(e=>{const n=Hi[e],i=()=>{this.trigger(`${e}trackchange`)},r=this[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),this.on("dispose",()=>{r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!W.WebVTT)if(we.body.contains(this.el())){if(!this.options_["vtt.js"]&&Wo(tv)&&Object.keys(tv).length>0){this.trigger("vttjsloaded");return}const e=we.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),W.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),i=o=>e.addTrack(o.track),r=o=>e.removeTrack(o.track);n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const u=e[o];u.removeEventListener("cuechange",s),u.mode==="showing"&&u.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,n,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return E8(this,e,n,i)}createRemoteTextTrack(e){const n=Nt(e,{tech:this});return new Yo.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const i=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Ir();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return tt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof tt||e instanceof tt||e===tt}static registerTech(e,n){if(tt.techs_||(tt.techs_={}),!tt.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!tt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!tt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=tn(e),tt.techs_[e]=n,tt.techs_[ll(e)]=n,e!=="Tech"&&tt.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(tt.techs_&&tt.techs_[e])return tt.techs_[e];if(e=tn(e),W&&W.videojs&&W.videojs[e])return ct.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),W.videojs[e]}}}Kn.names.forEach(function(t){const e=Kn[t];tt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});tt.prototype.featuresVolumeControl=!0;tt.prototype.featuresMuteControl=!0;tt.prototype.featuresFullscreenResize=!1;tt.prototype.featuresPlaybackRate=!1;tt.prototype.featuresProgressEvents=!1;tt.prototype.featuresSourceset=!1;tt.prototype.featuresTimeupdateEvents=!1;tt.prototype.featuresNativeTextTracks=!1;tt.prototype.featuresVideoFrameCallback=!1;tt.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){let r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){const i=t.sourceHandlers||[];let r;for(let s=0;s<i.length;s++)if(r=i[s].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,i){const r=t.sourceHandlers||[];let s;for(let a=0;a<r.length;a++)if(s=r[a].canHandleSource(n,i),s)return r[a];return null},t.canPlaySource=function(n,i){const r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""},["seekable","seeking","duration"].forEach(function(n){const i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let i=t.selectSourceHandler(n,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:ct.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ye.registerComponent("Tech",tt);tt.registerTech("Tech",tt);tt.defaultTechOrder_=[];const Ia={},yg={},Md={};function S8(t,e){Ia[t]=Ia[t]||[],Ia[t].push(e)}function C8(t,e,n){t.setTimeout(()=>ma(e,Ia[e.type],n,t),1)}function w8(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function A8(t,e,n){return t.reduceRight(s0(n),e[n]())}function D8(t,e,n,i){return e[n](t.reduce(s0(n),i))}function Uv(t,e,n,i=null){const r="call"+tn(n),s=t.reduce(s0(r),i),a=s===Md,o=a?null:e[n](s);return I8(t,n,o,a),o}const k8={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},L8={setCurrentTime:1,setMuted:1,setVolume:1},jv={play:1,pause:1};function s0(t){return(e,n)=>e===Md?Md:n[t]?n[t](e):e}function I8(t,e,n,i){for(let r=t.length-1;r>=0;r--){const s=t[r];s[e]&&s[e](i,n)}}function P8(t){yg[t.id()]=null}function O8(t,e){const n=yg[t.id()];let i=null;if(n==null)return i=e(t),yg[t.id()]=[[e,i]],i;for(let r=0;r<n.length;r++){const[s,a]=n[r];s===e&&(i=a)}return i===null&&(i=e(t),n.push([e,i])),i}function ma(t={},e=[],n,i,r=[],s=!1){const[a,...o]=e;if(typeof a=="string")ma(t,Ia[a],n,i,r,s);else if(a){const u=O8(i,a);if(!u.setSource)return r.push(u),ma(t,o,n,i,r,s);u.setSource(Object.assign({},t),function(c,f){if(c)return ma(t,o,n,i,r,s);r.push(u),ma(f,t.type===f.type?o:Ia[f.type],n,i,r,s)})}else o.length?ma(t,o,n,i,r,s):s?n(t,r):ma(t,Ia["*"],n,i,r,!0)}const R8={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Bd=function(t=""){const e=r0(t);return R8[e.toLowerCase()]||""},N8=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(r=>r.src===e);if(n.length)return n[0].type;const i=t.$$("source");for(let r=0;r<i.length;r++){const s=i[r];if(s.type&&s.src&&s.src===e)return s.type}return Bd(e)},nE=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=nE(n),Array.isArray(n)?e=e.concat(n):Dr(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[$v({src:t})]:Dr(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[$v(t)]:t=[];return t};function $v(t){if(!t.type){const e=Bd(t.src);e&&(t.type=e)}return t}var M8=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class B8 extends ye{constructor(e,n,i){const r=Nt({createEl:!1},n);if(super(e,r,i),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=tn(a[s]);let u=tt.getTech(o);if(o||(u=ye.getComponent(o)),u&&u.isSupported()){e.loadTech_(o);break}}else e.src(n.playerOptions.sources)}}ye.registerComponent("MediaLoader",B8);class $f extends ye{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",n={},i={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&ct.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=n.tabIndex;const r=it(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=it("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,Us(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){et.isEventKey(e,"Space")||et.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ye.registerComponent("ClickableComponent",$f);class _g extends $f{constructor(e,n){super(e,n),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return it("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(it("picture",{className:"vjs-poster",tabIndex:-1},{},it("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?br(this.player_.play()):this.player_.pause())}}_g.prototype.crossorigin=_g.prototype.crossOrigin;ye.registerComponent("PosterImage",_g);const Fi="#222",Hv="#ccc",F8={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Xh(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function ju(t,e,n){try{t.style[e]=n}catch{return}}function qv(t){return t?`${t}px`:""}class U8 extends ye{constructor(e,n,i){super(e,n,i);const r=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",r),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(Bt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=W.screen.orientation||W,o=W.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const u=this.options_.playerOptions.tracks||[];for(let c=0;c<u.length;c++)this.player_.addRemoteTextTrack(u[c],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let r,s,a;for(let o=0;o<n.length;o++){const u=n[o];i&&i.enabled&&i.language&&i.language===u.language&&u.kind in e?u.kind===i.kind?a=u:a||(a=u):i&&!i.enabled?(a=null,r=null,s=null):u.default&&(u.kind==="descriptions"&&!r?r=u:u.kind in e&&!s&&(s=u))}a?a.mode="showing":s?s.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof W.WebVTT=="function"&&W.WebVTT.processCues(W,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<e.length;++o){const u=e[o];u.mode==="showing"&&a.push(u)}this.updateForTrack(a);return}let i=null,r=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?i=a:r=a)}r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!W.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),i=e/n,r=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(i-r)>.1&&(i>r?s=Math.round((e-n*r)/2):a=Math.round((n-e/r)/2)),ju(this.el_,"insetInline",qv(s)),ju(this.el_,"insetBlock",qv(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),i=e.activeCues;let r=i.length;for(;r--;){const s=i[r];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&ju(a.firstChild,"color",Xh(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&ju(a.firstChild,"backgroundColor",Xh(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?ju(a,"backgroundColor",Xh(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Fi}, 2px 2px 4px ${Fi}, 2px 2px 5px ${Fi}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Fi}, 2px 2px ${Fi}, 3px 3px ${Fi}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${Hv}, 0 1px ${Hv}, -1px -1px ${Fi}, 0 -1px ${Fi}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Fi}, 0 0 4px ${Fi}, 0 0 4px ${Fi}, 0 0 4px ${Fi}`)),n.fontPercent&&n.fontPercent!==1){const o=W.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=F8[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof W.WebVTT!="function"||e.every(i=>!i.activeCues))return;const n=[];for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s)n.push(r.activeCues[s])}W.WebVTT.processCues(W,n,this.el_);for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s){const a=r.activeCues[s].displayState;La(a,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language?r.language:i)),r.language&&zo(a,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}ye.registerComponent("TextTrackDisplay",U8);class j8 extends ye{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=it("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}ye.registerComponent("LoadingSpinner",j8);class ki extends $f{createEl(e,n={},i={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),i=Object.assign({type:"button"},i);const r=it(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}addChild(e,n={}){const i=this.constructor.name;return ct.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),ye.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(et.isEventKey(e,"Space")||et.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}ye.registerComponent("Button",ki);class iE extends ki{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){br(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(!r){this.player_.tech(!0).focus();return}const s=()=>r.focus();cl(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}iE.prototype.controlText_="Play Video";ye.registerComponent("BigPlayButton",iE);class $8 extends ki{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){et.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ye.registerComponent("CloseButton",$8);class rE extends ki{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),n.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?br(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}rE.prototype.controlText_="Play";ye.registerComponent("PlayToggle",rE);class lu extends ye{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended"],i=>this.updateContent(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=it("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return n.appendChild(i),this.contentEl_=it("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=Na(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,ct.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=we.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}lu.prototype.labelText_="Time";lu.prototype.controlText_="Time";ye.registerComponent("TimeDisplay",lu);class a0 extends lu{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}a0.prototype.labelText_="Current Time";a0.prototype.controlText_="Current Time";ye.registerComponent("CurrentTimeDisplay",a0);class o0 extends lu{constructor(e,n){super(e,n);const i=r=>this.updateContent(r);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}o0.prototype.labelText_="Duration";o0.prototype.controlText_="Duration";ye.registerComponent("DurationDisplay",o0);class H8 extends ye{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return n.appendChild(i),e.appendChild(n),e}}ye.registerComponent("TimeDivider",H8);class u0 extends lu{constructor(e,n){super(e,n),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(it("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}u0.prototype.labelText_="Remaining Time";u0.prototype.controlText_="Remaining Time";ye.registerComponent("RemainingTimeDisplay",u0);class q8 extends ye{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=it("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(it("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(we.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}ye.registerComponent("LiveDisplay",q8);class sE extends ki{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=it("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}sE.prototype.controlText_="Seek to live, currently playing live";ye.registerComponent("SeekToLive",sE);function Jl(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var V8=Object.freeze({__proto__:null,clamp:Jl});class l0 extends ye{constructor(e,n){super(e,n),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},i={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,n,i)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Lr&&e.preventDefault(),Px(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;Ox(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Jl(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=Nf(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){et.isEventKey(e,"Left")||et.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):et.isEventKey(e,"Right")||et.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}ye.registerComponent("Slider",l0);const Yh=(t,e)=>Jl(t/e*100,0,100).toFixed(2)+"%";class W8 extends ye{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=it("span",{className:"vjs-control-text"}),i=it("span",{textContent:this.localize("Loaded")}),r=we.createTextNode(": ");return this.percentageEl_=it("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,i=this.player_.buffered(),r=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=Yh(s,r);this.percent_!==o&&(this.el_.style.width=o,Us(this.percentageEl_,o),this.percent_=o);for(let u=0;u<i.length;u++){const c=i.start(u),f=i.end(u);let p=a[u];p||(p=this.el_.appendChild(it()),a[u]=p),!(p.dataset.start===c&&p.dataset.end===f)&&(p.dataset.start=c,p.dataset.end=f,p.style.left=Yh(c,s),p.style.width=Yh(f-c,s))}for(let u=a.length;u>i.length;u--)this.el_.removeChild(a[u-1]);a.length=i.length})}}ye.registerComponent("LoadProgressBar",W8);class z8 extends ye{constructor(e,n){super(e,n),this.update=Pr(Bt(this,this.update),Vi)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,i){const r=Pl(this.el_),s=Go(this.player_.el()),a=e.width*n;if(!s||!r)return;const o=e.left-s.left+a,u=e.width-a+(s.right-e.right);let c=r.width/2;o<c?c+=c-o:u<c&&(c=u),c<0?c=0:c>r.width&&(c=r.width),c=Math.round(c),this.el_.style.right=`-${c}px`,this.write(i)}write(e){Us(this.el_,e)}updateTime(e,n,i,r){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),u=o-n*o;s=(u<1?"":"-")+Na(u,o)}else s=Na(i,a);this.update(e,n,s),r&&r()})}}ye.registerComponent("TimeTooltip",z8);class c0 extends ye{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=Pr(Bt(this,this.update),Vi)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const i=this.getChild("timeTooltip");if(!i)return;const r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,n,r)}}c0.prototype.options_={children:[]};!Zn&&!kr&&c0.prototype.options_.children.push("timeTooltip");ye.registerComponent("PlayProgressBar",c0);class aE extends ye{constructor(e,n){super(e,n),this.update=Pr(Bt(this,this.update),Vi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const i=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,i,()=>{this.el_.style.left=`${e.width*n}px`})}}aE.prototype.options_={children:["timeTooltip"]};ye.registerComponent("MouseTimeDisplay",aE);const zc=5,Vv=12;class d0 extends l0{constructor(e,n){super(e,n),this.setEventHandlers_()}setEventHandlers_(){this.update_=Bt(this,this.update),this.update=Pr(this.update_,Vi),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.on(we,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){we.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Vi))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(we.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),r=this.player_.liveTracker;let s=this.player_.duration();r&&r.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==i||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Na(i,s),Na(s,s)],"{1} of {2}")),this.currentTime_=i,this.duration_=s),this.bar&&this.bar.update(Go(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let n;const i=this.player_.liveTracker;return i&&i.isLive()?(n=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){Ol(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!Ol(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const r=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())i=r*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(r>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(i=a+r*s.liveWindow(),i>=o&&(i=o),i<=a&&(i=a+.1),i===1/0)return}this.userSeek_(i)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?br(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+zc)}stepBack(){this.userSeek_(this.player_.currentTime()-zc)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(et.isEventKey(e,"Space")||et.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(et.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(et.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(et(e))){e.preventDefault(),e.stopPropagation();const i=(et.codes[et(e)]-et.codes[0])*10/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else et.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-zc*Vv)):et.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+zc*Vv)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.off(we,"visibilitychange",this.toggleVisibility_),super.dispose()}}d0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Zn&&!kr&&d0.prototype.options_.children.splice(1,0,"mouseTimeDisplay");ye.registerComponent("SeekBar",d0);class oE extends ye{constructor(e,n){super(e,n),this.handleMouseMove=Pr(Bt(this,this.handleMouseMove),Vi),this.throttledHandleMouseSeek=Pr(Bt(this,this.handleMouseSeek),Vi),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const i=n.getChild("playProgressBar"),r=n.getChild("mouseTimeDisplay");if(!i&&!r)return;const s=n.el(),a=Pl(s);let o=Nf(s,e).x;o=Jl(o,0,1),r&&r.update(a,o),i&&i.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&br(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}oE.prototype.options_={children:["seekBar"]};ye.registerComponent("ProgressControl",oE);class uE extends ki{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){we.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in W?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof we.exitPictureInPicture=="function"&&super.show()}}uE.prototype.controlText_="Picture-in-Picture";ye.registerComponent("PictureInPictureToggle",uE);class lE extends ki{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),we[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}lE.prototype.controlText_="Fullscreen";ye.registerComponent("FullscreenToggle",lE);const G8=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class K8 extends ye{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}ye.registerComponent("VolumeLevel",K8);class X8 extends ye{constructor(e,n){super(e,n),this.update=Pr(Bt(this,this.update),Vi)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,i,r){if(!i){const s=Go(this.el_),a=Go(this.player_.el()),o=e.width*n;if(!a||!s)return;const u=e.left-a.left+o,c=e.width-o+(a.right-e.right);let f=s.width/2;u<f?f+=f-u:c<f&&(f=c),f<0?f=0:f>s.width&&(f=s.width),this.el_.style.right=`-${f}px`}this.write(`${r}%`)}write(e){Us(this.el_,e)}updateVolume(e,n,i,r,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,i,r.toFixed(0)),s&&s()})}}ye.registerComponent("VolumeLevelTooltip",X8);class cE extends ye{constructor(e,n){super(e,n),this.update=Pr(Bt(this,this.update),Vi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,i){const r=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,i,r,()=>{i?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}cE.prototype.options_={children:["volumeLevelTooltip"]};ye.registerComponent("MouseVolumeLevelDisplay",cE);class Hf extends l0{constructor(e,n){super(e,n),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Ol(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const i=this.el(),r=Go(i),s=this.vertical();let a=Nf(i,e);a=s?a.y:a.x,a=Jl(a,0,1),n.update(r,a,s)}Ol(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Hf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Zn&&!kr&&Hf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Hf.prototype.playerEvent="volumechange";ye.registerComponent("VolumeBar",Hf);class dE extends ye{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Wo(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),G8(this,e),this.throttledHandleMouseMove=Pr(Bt(this,this.handleMouseMove),Vi),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}dE.prototype.options_={children:["volumeBar"]};ye.registerComponent("VolumeControl",dE);const Y8=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class fE extends ki{constructor(e,n){super(e,n),Y8(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),i=this.player_.lastVolume_();if(n===0){const r=i<.1?.1:i;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Zn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),Of(this.el_,[0,1,2,3].reduce((i,r)=>i+`${r?" ":""}vjs-vol-${r}`,"")),La(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}fE.prototype.controlText_="Mute";ye.registerComponent("MuteToggle",fE);class hE extends ye{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Wo(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){et.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Ii(we,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Bn(we,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){et.isEventKey(e,"Esc")&&this.handleMouseOut()}}hE.prototype.options_={children:["muteToggle","volumeControl"]};ye.registerComponent("VolumePanel",hE);class Q8 extends ki{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;n+this.skipTime<=r?s=n+this.skipTime:s=r,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}ye.registerComponent("SkipForward",Q8);class pE extends ki{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()&&i.seekableStart();let s;r&&n-this.skipTime<=r?s=r:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}pE.prototype.controlText_="Skip Backward";ye.registerComponent("SkipBackward",pE);class gE extends ye{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof ye&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof ye&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=it(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Ii(n,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||we.activeElement;if(!this.children().some(i=>i.el()===n)){const i=this.menuButton_;i&&i.buttonPressed_&&n!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const i=n.filter(r=>r.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){et.isEventKey(e,"Left")||et.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(et.isEventKey(e,"Right")||et.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}ye.registerComponent("Menu",gE);class f0 extends ye{constructor(e,n={}){super(e,n),this.menuButton_=new ki(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=ki.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const r=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",r),this.on(this.menuButton_,"click",r),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Ii(we,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new gE(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=it("li",{className:"vjs-menu-title",textContent:tn(this.options_.title),tabIndex:-1}),i=new ye(this.player_,{el:n});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=ki.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Bn(we,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){et.isEventKey(e,"Esc")||et.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),et.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(et.isEventKey(e,"Up")||et.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(et.isEventKey(e,"Esc")||et.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(et.isEventKey(e,"Esc")||et.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),et.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Zn&&Ax())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}ye.registerComponent("MenuButton",f0);class h0 extends f0{constructor(e,n){const i=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!i)return;const r=Bt(this,this.update);i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),i.addEventListener("labelchange",r),this.player_.on("ready",r),this.player_.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r),i.removeEventListener("labelchange",r)})}}ye.registerComponent("TrackButton",h0);const J8=["Tab","Esc","Up","Down","Right","Left"];class Zl extends $f{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,i){this.nonIconControl=!0;const r=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),i),s=it("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?r.appendChild(s):r.replaceChild(s,r.querySelector(".vjs-icon-placeholder")),r}handleKeyDown(e){J8.some(n=>et.isEventKey(e,n))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}ye.registerComponent("MenuItem",Zl);class ec extends Zl{constructor(e,n){const i=n.track,r=e.textTracks();n.label=i.label||i.language||"Unknown",n.selected=i.mode==="showing",super(e,n),this.track=i,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),r.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof W.Event!="object")try{o=new W.Event("change")}catch{}o||(o=we.createEvent("Event"),o.initEvent("change",!0,!0)),r.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const n=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let r=0;r<i.length;r++){const s=i[r];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}ye.registerComponent("TextTrackMenuItem",ec);class mE extends ec{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}ye.registerComponent("OffTextTrackMenuItem",mE);class cu extends h0{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=ec){let i;this.label_&&(i=`${this.label_} off`),e.push(new mE(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<r.length;s++){const a=r[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}ye.registerComponent("TextTrackButton",cu);class yE extends Zl{constructor(e,n){const i=n.track,r=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=s&&s<r.endTime,super(e,n),this.track=i,this.cue=r}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}ye.registerComponent("ChaptersTrackMenuItem",yE);class p0 extends cu{constructor(e,n,i){super(e,n,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(r=>{r.selected(this.track_.activeCues[0]===r.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(tn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let i=0,r=n.length;i<r;i++){const s=n[i],a=new yE(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}p0.prototype.kind_="chapters";p0.prototype.controlText_="Chapters";ye.registerComponent("ChaptersButton",p0);class g0 extends cu{constructor(e,n,i){super(e,n,i),this.setIcon("audio-description");const r=e.textTracks(),s=Bt(this,this.handleTracksChange);r.addEventListener("change",s),this.on("dispose",function(){r.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let i=!1;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(a.kind!==this.kind_&&a.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}g0.prototype.kind_="descriptions";g0.prototype.controlText_="Descriptions";ye.registerComponent("DescriptionsButton",g0);class m0 extends cu{constructor(e,n,i){super(e,n,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}m0.prototype.kind_="subtitles";m0.prototype.controlText_="Subtitles";ye.registerComponent("SubtitlesButton",m0);class y0 extends ec{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}ye.registerComponent("CaptionSettingsMenuItem",y0);class _0 extends cu{constructor(e,n,i){super(e,n,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new y0(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}_0.prototype.kind_="captions";_0.prototype.controlText_="Captions";ye.registerComponent("CaptionsButton",_0);class _E extends ec{createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",r):s.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(it("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),r}}ye.registerComponent("SubsCapsMenuItem",_E);class v0 extends cu{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(tn(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new y0(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,_E),e}}v0.prototype.kinds_=["captions","subtitles"];v0.prototype.controlText_="Subtitles";ye.registerComponent("SubsCapsButton",v0);class vE extends Zl{constructor(e,n){const i=n.track,r=e.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,super(e,n),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};r.addEventListener("change",s),this.on("dispose",()=>{r.removeEventListener("change",s)})}createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(it("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];r!==this.track&&(r.enabled=r===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}ye.registerComponent("AudioTrackMenuItem",vE);class bE extends h0{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];e.push(new vE(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e}}bE.prototype.controlText_="Audio Track";ye.registerComponent("AudioTrackButton",bE);class b0 extends Zl{constructor(e,n){const i=n.rate,r=parseFloat(i,10);n.label=i,n.selected=r===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=i,this.rate=r,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}b0.prototype.contentElType="button";ye.registerComponent("PlaybackRateMenuItem",b0);class TE extends f0{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=it("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let i=e.length-1;i>=0;i--)n.push(new b0(this.player(),{rate:e[i]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}TE.prototype.controlText_="Playback Rate";ye.registerComponent("PlaybackRateMenuButton",TE);class xE extends ye{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},i={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,i)}}ye.registerComponent("Spacer",xE);class Z8 extends xE{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}ye.registerComponent("CustomControlSpacer",Z8);class EE extends ye{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}EE.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};ye.registerComponent("ControlBar",EE);class SE extends uu{constructor(e,n){super(e,n),this.on(e,"error",i=>this.open(i))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}SE.prototype.options_=Object.assign({},uu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ye.registerComponent("ErrorDisplay",SE);const Qh="vjs-text-track-settings",Wv=["#000","Black"],zv=["#00F","Blue"],Gv=["#0FF","Cyan"],Kv=["#0F0","Green"],Xv=["#F0F","Magenta"],Yv=["#F00","Red"],Qv=["#FFF","White"],Jv=["#FF0","Yellow"],Jh=["1","Opaque"],Zh=["0.5","Semi-Transparent"],Zv=["0","Transparent"],va={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Wv,Qv,Yv,Kv,zv,Jv,Xv,Gv]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Jh,Zh,Zv]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Qv,Wv,Yv,Kv,zv,Jv,Xv,Gv]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Jh,Zh]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[Zv,Zh,Jh]}};va.windowColor.options=va.backgroundColor.options;function CE(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function eM(t,e){const n=t.options[t.options.selectedIndex].value;return CE(n,e)}function tM(t,e,n){if(e){for(let i=0;i<t.options.length;i++)if(CE(t.options[i].value,n)===e){t.selectedIndex=i;break}}}class nM extends uu{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=it("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),Co(va,i=>{this.on(this.$(i.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,n="",i="label"){const r=va[e],s=r.id.replace("%s",this.id_),a=[n,s].join(" ").trim();return[`<${i} id="${s}" class="${i==="label"?"vjs-label":""}">`,this.localize(r.label),`</${i}>`,`<select aria-labelledby="${a}">`].concat(r.options.map(o=>{const u=s+"-"+o[1].replace(/\W+/g,"");return[`<option id="${u}" value="${o[0]}" `,`aria-labelledby="${a} ${u}">`,this.localize(o[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return it("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return it("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return it("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Tx(va,(e,n,i)=>{const r=eM(this.$(n.selector),n.parser);return r!==void 0&&(e[i]=r),e},{})}setValues(e){Co(va,(n,i)=>{tM(this.$(n.selector),e[i],n.parser)})}setDefaults(){Co(va,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(W.localStorage.getItem(Qh))}catch(n){ct.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?W.localStorage.setItem(Qh,JSON.stringify(e)):W.localStorage.removeItem(Qh)}catch(n){ct.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,n=e&&e.subsCapsButton,i=e&&e.captionsButton;n?n.focus():i&&i.focus()}handleLanguagechange(){this.fill()}}ye.registerComponent("TextTrackSettings",nM);class iM extends ye{constructor(e,n){let i=n.ResizeObserver||W.ResizeObserver;n.ResizeObserver===null&&(i=!1);const r=Nt({createEl:!i,reportTouchActivity:!1},n);super(e,r),this.ResizeObserver=n.ResizeObserver||W.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=qx(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){Bn(this,"resize",s),Bn(this,"unload",a),a=null};Ii(this.el_.contentWindow,"unload",a),Ii(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}ye.registerComponent("ResizeManager",iM);const rM={trackingThreshold:20,liveTolerance:15};class sM extends ye{constructor(e,n){const i=Nt(rM,n,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=r=>this.handlePlay(r),this.handleFirstTimeupdate_=r=>this.handleFirstTimeupdate(r),this.handleSeeked_=r=>this.handleSeeked(r),this.seekToLiveEdge_=r=>this.seekToLiveEdge(r),this.reset_(),this.on(this.player_,"durationchange",r=>this.handleDurationchange(r)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(W.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;const r=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||r===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Vi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.end(i));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.start(i));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}ye.registerComponent("LiveTracker",sM);class aM extends ye{constructor(e,n){super(e,n),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:it("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Ir()}`}),description:it("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Ir()}`})},it("div",{className:"vjs-title-bar"},{},xx(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(r=>{const s=this.state[r],a=this.els[r],o=i[r];Mf(a),s&&Us(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}ye.registerComponent("TitleBar",aM);const vg=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),i=[];let r="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&i.indexOf(a)===-1&&i.push(a)}return i.length?(i.length===1&&(r=i[0]),t.triggerSourceset(r),!0):!1},oM=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=we.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=we.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",W.Element.prototype.appendChild.call(this,n),this.innerHTML}}),wE=(t,e)=>{let n={};for(let i=0;i<t.length&&(n=Object.getOwnPropertyDescriptor(t[i],e),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},uM=t=>wE([t.el(),W.HTMLMediaElement.prototype,W.Element.prototype,oM],"innerHTML"),eb=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},i=uM(t),r=s=>(...a)=>{const o=s.apply(e,a);return vg(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=r(n[s]))}),Object.defineProperty(e,"innerHTML",Nt(i,{set:r(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)},lM=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?Zx(W.Element.prototype.getAttribute.call(this,"src")):""},set(t){return W.Element.prototype.setAttribute.call(this,"src",t),t}}),cM=t=>wE([t.el(),W.HTMLMediaElement.prototype,lM],"src"),dM=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=cM(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Nt(n,{set:s=>{const a=n.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=i.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=r.call(e);return vg(t)||(t.triggerSourceset(""),eb(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):vg(t)||eb(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Fe extends tt{constructor(e,n){super(e,n);const i=e.source;let r=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const u=s[a];u.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack(u.track),this.textTracks().addTrack(u.track),!r&&!this.el_.hasAttribute("crossorigin")&&jf(u.src)&&(r=!0)):o.push(u))}for(let u=0;u<o.length;u++)this.el_.removeChild(o[u])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&r&&ct.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Il||If)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Fe.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){dM(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const i=()=>{n=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const r=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",r)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach(r=>{this.el()[`${i}Tracks`].removeEventListener(r,this[`${i}TracksListeners_`][r])}),this[`featuresNative${e}Tracks`]=!n,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=Hi[e],i=this.el()[n.getterName],r=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!i||!i.addEventListener)return;const s={change:o=>{const u={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(u),e==="text"&&this[Yo.remoteText.getterName]().trigger(u)},addtrack(o){r.addTrack(o.track)},removetrack(o){r.removeTrack(o.track)}},a=function(){const o=[];for(let u=0;u<r.length;u++){let c=!1;for(let f=0;f<i.length;f++)if(i[f]===r[u]){c=!0;break}c||o.push(r[u])}for(;o.length;)r.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const u=s[o];i.addEventListener(o,u),this.on("dispose",c=>i.removeEventListener(o,u))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Hi.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),Fe.disposeMediaElement(e),e=i}else{e=we.createElement("video");const i=this.options_.tag&&Cs(this.options_.tag),r=Nt({},i);(!Il||this.options_.nativeControlsForTouch!==!0)&&delete r.controls,Lx(e,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&zo(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let i=0;i<n.length;i++){const r=n[i],s=this.options_[r];typeof s<"u"&&(s?zo(e,r,r):Rf(e,r),e[r]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const r=function(){i=!0};this.on("loadstart",r);const s=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),i||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Pf?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){ct(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&kr&&Lr&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)br(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Fe.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):super.addTextTrack(e,n,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=we.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const i=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let i=n.length;for(;i--;)(e===n[i]||e===n[i].track)&&this.el().removeChild(n[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),W.performance&&(e.creationTime=W.performance.now()),e}}Df(Fe,"TEST_VID",function(){if(!su())return;const t=we.createElement("video"),e=we.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Fe.isSupported=function(){try{Fe.TEST_VID.volume=.5}catch{return!1}return!!(Fe.TEST_VID&&Fe.TEST_VID.canPlayType)};Fe.canPlayType=function(t){return Fe.TEST_VID.canPlayType(t)};Fe.canPlaySource=function(t,e){return Fe.canPlayType(t.type)};Fe.canControlVolume=function(){try{const t=Fe.TEST_VID.volume;Fe.TEST_VID.volume=t/2+.1;const e=t!==Fe.TEST_VID.volume;return e&&Zn?(W.setTimeout(()=>{Fe&&Fe.prototype&&(Fe.prototype.featuresVolumeControl=t!==Fe.TEST_VID.volume)}),!1):e}catch{return!1}};Fe.canMuteVolume=function(){try{const t=Fe.TEST_VID.muted;return Fe.TEST_VID.muted=!t,Fe.TEST_VID.muted?zo(Fe.TEST_VID,"muted","muted"):Rf(Fe.TEST_VID,"muted","muted"),t!==Fe.TEST_VID.muted}catch{return!1}};Fe.canControlPlaybackRate=function(){if(kr&&Lr&&kf<58)return!1;try{const t=Fe.TEST_VID.playbackRate;return Fe.TEST_VID.playbackRate=t/2+.1,t!==Fe.TEST_VID.playbackRate}catch{return!1}};Fe.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(we.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Fe.supportsNativeTextTracks=function(){return Pf||Zn&&Lr};Fe.supportsNativeVideoTracks=function(){return!!(Fe.TEST_VID&&Fe.TEST_VID.videoTracks)};Fe.supportsNativeAudioTracks=function(){return!!(Fe.TEST_VID&&Fe.TEST_VID.audioTracks)};Fe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Df(Fe.prototype,t,()=>Fe[e](),!0)});Fe.prototype.featuresVolumeControl=Fe.canControlVolume();Fe.prototype.movingMediaElementInDOM=!Zn;Fe.prototype.featuresFullscreenResize=!0;Fe.prototype.featuresProgressEvents=!0;Fe.prototype.featuresTimeupdateEvents=!0;Fe.prototype.featuresVideoFrameCallback=!!(Fe.TEST_VID&&Fe.TEST_VID.requestVideoFrameCallback);Fe.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Fe.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Fe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Fe.prototype["set"+tn(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Fe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Fe.prototype["set"+tn(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Fe.prototype[t]=function(){return this.el_[t]()}});tt.withSourceHandlers(Fe);Fe.nativeSourceHandler={};Fe.nativeSourceHandler.canPlayType=function(t){try{return Fe.TEST_VID.canPlayType(t)}catch{return""}};Fe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Fe.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=r0(t.src);return Fe.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Fe.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Fe.nativeSourceHandler.dispose=function(){};Fe.registerSourceHandler(Fe.nativeSourceHandler);tt.registerTech("Html5",Fe);const AE=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ep={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},bg=["tiny","xsmall","small","medium","large","xlarge","huge"],td={};bg.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;td[t]=`vjs-layout-${e}`});const fM={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Ft extends ye{constructor(e,n,i){if(e.id=e.id||n.id||`vjs_video_${Ir()}`,n=Object.assign(Ft.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,i),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.isFullscreen_=!1,this.log=vx(this.id_),this.fsApi_=Id,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Cs(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=Ft.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),e0(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Ii(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const r=Nt(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=r,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const o=new W.DOMParser().parseFromString(M8,"image/svg+xml");if(o.querySelector("parsererror"))ct.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const c=o.documentElement;c.style.display="none",this.el_.appendChild(c),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),Il&&this.addClass("vjs-touch-enabled"),Zn||this.addClass("vjs-workinghover"),Ft.players[this.id_]=this;const s=yx.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Bn(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Bn(we,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Ft.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),P8(this),Kn.names.forEach(e=>{const n=Kn[e],i=this[n.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const r=this.tag.tagName.toLowerCase()==="video-js";i?n=this.el_=e.parentNode:r||(n=this.el_=super.createEl("div"));const s=Cs(e);if(r){for(n=this.el_=e,e=this.tag=we.createElement("video");n.children.length;)e.appendChild(n.firstChild);ul(n,"video-js")||La(n,"video-js"),n.appendChild(e),i=this.playerElIngest_=n,Object.keys(n).forEach(o=>{try{e[o]=n[o]}catch{}})}if(e.setAttribute("tabindex","-1"),s.tabindex="-1",Lr&&Lf&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(o){r&&o==="class"||n.setAttribute(o,s[o]),r&&e.setAttribute(o,s[o])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),W.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=$x("vjs-styles-dimensions");const o=Rs(".vjs-styles-defaults"),u=Rs("head");u.insertBefore(this.styleEl_,o?o.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let o=0;o<a.length;o++){const u=a.item(o);La(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(n,e),dg(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ct.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const i=e+"_";if(n===void 0)return this[i]||0;if(n===""||n==="auto"){this[i]=void 0,this.updateStyleEl_();return}const r=parseFloat(n);if(isNaN(r)){ct.error(`Improper value "${n}" supplied for for ${e}`);return}this[i]=r,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Xr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),u8(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(W.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,u=typeof this.height_=="number"?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(o>=0&&(c.width=o),u>=0&&(c.height=u));return}let e,n,i,r;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const s=i.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?r="dimensions-"+this.id():r=this.id()+"-dimensions",this.addClass(r),Hx(this.styleEl_,`
      .${r} {
        width: ${e}px;
        height: ${n}px;
      }

      .${r}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const i=tn(e),r=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(tt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${r}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Kn.names.forEach(u=>{const c=Kn[u];a[c.getterName]=this[c.privateName]}),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=tt.getTech(e);if(!o)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(Bt(this,this.handleTechReady_),!0),Nv.jsonToTextTracks(this.textTracksJson_||[],this.tech_),AE.forEach(u=>{this.on(this.tech_,u,c=>this[`handleTech${tn(u)}_`](c))}),Object.keys(ep).forEach(u=>{this.on(this.tech_,u,c=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${ep[u]}_`].bind(this),event:c});return}this[`handleTech${ep[u]}_`](c)})}),this.on(this.tech_,"loadstart",u=>this.handleTechLoadStart_(u)),this.on(this.tech_,"sourceset",u=>this.handleTechSourceset_(u)),this.on(this.tech_,"waiting",u=>this.handleTechWaiting_(u)),this.on(this.tech_,"ended",u=>this.handleTechEnded_(u)),this.on(this.tech_,"seeking",u=>this.handleTechSeeking_(u)),this.on(this.tech_,"play",u=>this.handleTechPlay_(u)),this.on(this.tech_,"pause",u=>this.handleTechPause_(u)),this.on(this.tech_,"durationchange",u=>this.handleTechDurationChange_(u)),this.on(this.tech_,"fullscreenchange",(u,c)=>this.handleTechFullscreenChange_(u,c)),this.on(this.tech_,"fullscreenerror",(u,c)=>this.handleTechFullscreenError_(u,c)),this.on(this.tech_,"enterpictureinpicture",u=>this.handleTechEnterPictureInPicture_(u)),this.on(this.tech_,"leavepictureinpicture",u=>this.handleTechLeavePictureInPicture_(u)),this.on(this.tech_,"error",u=>this.handleTechError_(u)),this.on(this.tech_,"posterchange",u=>this.handleTechPosterChange_(u)),this.on(this.tech_,"textdata",u=>this.handleTechTextData_(u)),this.on(this.tech_,"ratechange",u=>this.handleTechRateChange_(u)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&dg(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Kn.names.forEach(e=>{const n=Kn[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=Nv.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ct.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const r=this.muted();this.muted(!0);const s=()=>{this.muted(r)};this.playTerminatedQueue_.push(s);const a=this.play();if(cl(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let i;if(e==="any"&&!this.muted()?(i=this.play(),cl(i)&&(i=i.catch(n))):e==="muted"&&!this.muted()?i=n():i=this.play(),!!cl(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,i="";typeof n!="string"&&(n=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!i&&(i=N8(this,n)),this.cache_.source=Nt({},e,{src:n,type:i});const r=this.cache_.sources.filter(u=>u.src&&u.src===n),s=[],a=this.$$("source"),o=[];for(let u=0;u<a.length;u++){const c=Cs(a[u]);s.push(c),c.src&&c.src===n&&o.push(c.src)}o.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=()=>{}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?br(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const i=this.el();let r=we[this.fsApi_.fullscreenElement]===i;!r&&i.matches&&(r=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in L8)return D8(this.middleware_,this.tech_,e,n);if(e in jv)return Uv(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(i){throw ct(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in k8)return A8(this.middleware_,this.tech_,e);if(e in jv)return Uv(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(ct(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(ct(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(ct(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=br){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(Pf||Zn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&i&&this.load();return}const r=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),r===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||wr(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=wr(0,0)),e}bufferedPercent(){return Qx(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let i=e.end(e.length-1);return i>n&&(i=n),i}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((i,r)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),i()}function o(c,f){s(),r(f)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const u=n.requestFullscreenHelper_(e);u&&(u.then(s,s),u.then(i,r))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](n);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,i)=>{function r(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){r(),n()}function a(u,c){r(),i(c)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(r,r),o.then(n,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=we[this.fsApi_.exitFullscreen]();return e&&br(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=we.documentElement.style.overflow,Ii(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow="hidden",La(we.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){et.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Bn(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow=this.docOrigOverflow,Of(we.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&W.documentPictureInPicture){const e=we.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(it("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),W.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(Fx(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),n.addEventListener("pagehide",i=>{const r=i.target.querySelector(".video-js");e.parentNode.replaceChild(r,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in we&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(W.documentPictureInPicture&&W.documentPictureInPicture.window)return W.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in we)return we.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(r=>{const s=r.tagName.toLowerCase();if(r.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(r.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=a=>et.isEventKey(a,"f"),muteKey:r=a=>et.isEventKey(a,"m"),playPauseKey:s=a=>et.isEventKey(a,"k")||et.isEventKey(a,"Space")}=n;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const a=ye.getComponent("FullscreenToggle");we[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else r.call(this,e)?(e.preventDefault(),e.stopPropagation(),ye.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),ye.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let i=0,r=this.options_.techOrder;i<r.length;i++){const s=r[i];let a=tt.getTech(s);if(a||(a=ye.getComponent(s)),!a){ct.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(o=>[o,tt.getTech(o)]).filter(([o,u])=>u?u.isSupported():(ct.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),i=function(o,u,c){let f;return o.some(p=>u.some(b=>{if(f=c(p,b),f)return!0})),f};let r;const s=o=>(u,c)=>o(c,u),a=([o,u],c)=>{if(u.canPlaySource(c,this.options_[o.toLowerCase()]))return{source:c,tech:o}};return this.options_.sourceOrder?r=i(e,n,s(a)):r=i(n,e,a),r||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=nE(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),C8(this,i[0],(r,s)=>{if(this.middleware_=s,n||(this.cache_.sources=i),this.updateSourceCaches_(r),this.src_(r)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}w8(s,this.tech_)}),i.length>1){const r=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},s=()=>{this.off("error",r)};this.one("error",r),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",r),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?Gx(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();br(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Xr(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:i,remainingTimeDisplay:r}=this.controlBar||{},{seekBar:s}=i||{};e&&e.updateContent(),n&&n.updateContent(),r&&r.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Os("beforeerror").forEach(n=>{const i=n(this,e);if(!(Dr(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Qn(e),this.addClass("vjs-error"),ct.error(`(CODE:${this.error_.code} ${Qn.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Os("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,i;const r=Bt(this,this.reportUserActivity),s=function(p){(p.screenX!==n||p.screenY!==i)&&(n=p.screenX,i=p.screenY,r())},a=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},o=function(p){r(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const u=this.getChild("controlBar");u&&!Zn&&!kr&&(u.on("mouseenter",function(p){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),u.on("mouseleave",function(p){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let c;const f=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);const p=this.options_.inactivityTimeout;p<=0||(c=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},p))};this.setInterval(f,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();e.forEach(r=>{r!==n&&r.el_&&!r.hasClass("vjs-hidden")&&(r.hide(),this.audioOnlyCache_.hiddenChildren.push(r))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,i){if(this.tech_)return this.tech_.addTextTrack(e,n,i)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Xr(this)&&this.trigger("languagechange"))}languages(){return Nt(Ft.prototype.options_.languages,this.languages_)}toJSON(){const e=Nt(this.options_),n=e.tracks;e.tracks=[];for(let i=0;i<n.length;i++){let r=n[i];r=Nt(r),r.player=void 0,e.tracks[i]=r}return e}createModal(e,n){n=n||{},n.content=e||"";const i=new uu(this,n);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let i=0;i<bg.length;i++){const r=bg[i],s=this.breakpoints_[r];if(n<=s){if(e===r)return;e&&this.removeClass(td[e]),this.addClass(td[r]),this.breakpoint_=r;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},fM,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return td[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=Nt(e);const{artist:r,artwork:s,description:a,poster:o,src:u,textTracks:c,title:f}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:Bd(o)}]),i&&this.crossOrigin(i),u&&this.src(u),o&&this.poster(o),Array.isArray(c)&&c.forEach(p=>this.addRemoteTextTrack(p,!1)),this.titleBar&&this.titleBar.update({title:f,description:a||r||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),r={src:n,textTracks:i};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:Bd(r.poster)}]),r}return Nt(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},i=Cs(e),r=i["data-setup"];if(ul(e,"vjs-fill")&&(i.fill=!0),ul(e,"vjs-fluid")&&(i.fluid=!0),r!==null){const[s,a]=QR(r||"{}");s&&ct.error(s),Object.assign(i,a)}if(Object.assign(n,i),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const u=s[a],c=u.nodeName.toLowerCase();c==="source"?n.sources.push(Cs(u)):c==="track"&&n.tracks.push(Cs(u))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Kn.names.forEach(function(t){const e=Kn[t];Ft.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Ft.prototype.crossorigin=Ft.prototype.crossOrigin;Ft.players={};const $u=W.navigator;Ft.prototype.options_={techOrder:tt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:$u&&($u.languages&&$u.languages[0]||$u.userLanguage||$u.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Ft.prototype[t]=function(){return this.techGet_(t)}});AE.forEach(function(t){Ft.prototype[`handleTech${tn(t)}_`]=function(){return this.trigger(t)}});ye.registerComponent("Player",Ft);const Fd="plugin",Do="activePlugins_",mo={},Ud=t=>mo.hasOwnProperty(t),nd=t=>Ud(t)?mo[t]:void 0,DE=(t,e)=>{t[Do]=t[Do]||{},t[Do][e]=!0},jd=(t,e,n)=>{const i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},hM=function(t,e){const n=function(){jd(this,{name:t,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return DE(this,t),jd(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){n[i]=e[i]}),n},tb=(t,e)=>(e.prototype.name=t,function(...n){jd(this,{name:t,plugin:e,instance:null},!0);const i=new e(this,...n);return this[t]=()=>i,jd(this,i.getEventHash()),i});class hi{constructor(e){if(this.constructor===hi)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),e0(this),delete this.trigger,zx(this,this.constructor.defaultState),DE(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return ou(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Do][e]=!1,this.player=this.state=null,n[e]=tb(e,mo[e])}static isBasic(e){const n=typeof e=="string"?nd(e):e;return typeof n=="function"&&!hi.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(Ud(e))ct.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Ft.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return mo[e]=n,e!==Fd&&(hi.isBasic(n)?Ft.prototype[e]=hM(e,n):Ft.prototype[e]=tb(e,n)),n}static deregisterPlugin(e){if(e===Fd)throw new Error("Cannot de-register base plugin.");Ud(e)&&(delete mo[e],delete Ft.prototype[e])}static getPlugins(e=Object.keys(mo)){let n;return e.forEach(i=>{const r=nd(i);r&&(n=n||{},n[i]=r)}),n}static getPluginVersion(e){const n=nd(e);return n&&n.VERSION||""}}hi.getPlugin=nd;hi.BASE_PLUGIN_NAME=Fd;hi.registerPlugin(Fd,hi);Ft.prototype.usingPlugin=function(t){return!!this[Do]&&this[Do][t]===!0};Ft.prototype.hasPlugin=function(t){return!!Ud(t)};function pM(t,e){let n=!1;return function(...i){return n||ct.warn(t),n=!0,e.apply(this,i)}}function sr(t,e,n,i){return pM(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,i)}const kE=t=>t.indexOf("#")===0?t.slice(1):t;function de(t,e,n){let i=de.getPlayer(t);if(i)return e&&ct.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&i.ready(n),i;const r=typeof t=="string"?Rs("#"+kE(t)):t;if(!au(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in r?r.getRootNode()instanceof W.ShadowRoot:!1)?r.getRootNode():r.ownerDocument.body;(!r.ownerDocument.defaultView||!a.contains(r))&&ct.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),Os("beforesetup").forEach(u=>{const c=u(r,Nt(e));if(!Dr(c)||Array.isArray(c)){ct.error("please return an object in beforesetup hooks");return}e=Nt(e,c)});const o=ye.getComponent("Player");return i=new o(r,e,n),Os("setup").forEach(u=>u(i)),i}de.hooks_=zr;de.hooks=Os;de.hook=K4;de.hookOnce=X4;de.removeHook=_x;if(W.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&su()){let t=Rs(".vjs-styles-defaults");if(!t){t=$x("vjs-styles-defaults");const e=Rs("head");e&&e.insertBefore(t,e.firstChild),Hx(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}hg(1,de);de.VERSION=yx;de.options=Ft.prototype.options_;de.getPlayers=()=>Ft.players;de.getPlayer=t=>{const e=Ft.players;let n;if(typeof t=="string"){const i=kE(t),r=e[i];if(r)return r;n=Rs("#"+i)}else n=t;if(au(n)){const{player:i,playerId:r}=n;if(i||e[r])return i||e[r]}};de.getAllPlayers=()=>Object.keys(Ft.players).map(t=>Ft.players[t]).filter(Boolean);de.players=Ft.players;de.getComponent=ye.getComponent;de.registerComponent=(t,e)=>(tt.isTech(e)&&ct.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),ye.registerComponent.call(ye,t,e));de.getTech=tt.getTech;de.registerTech=tt.registerTech;de.use=S8;Object.defineProperty(de,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(de.middleware,"TERMINATOR",{value:Md,writeable:!1,enumerable:!0});de.browser=Z4;de.obj=J4;de.mergeOptions=sr(9,"videojs.mergeOptions","videojs.obj.merge",Nt);de.defineLazyProperty=sr(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Df);de.bind=sr(9,"videojs.bind","native Function.prototype.bind",Bt);de.registerPlugin=hi.registerPlugin;de.deregisterPlugin=hi.deregisterPlugin;de.plugin=(t,e)=>(ct.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),hi.registerPlugin(t,e));de.getPlugins=hi.getPlugins;de.getPlugin=hi.getPlugin;de.getPluginVersion=hi.getPluginVersion;de.addLanguage=function(t,e){return t=(""+t).toLowerCase(),de.options.languages=Nt(de.options.languages,{[t]:e}),de.options.languages[t]};de.log=ct;de.createLogger=vx;de.time=h8;de.createTimeRange=sr(9,"videojs.createTimeRange","videojs.time.createTimeRanges",wr);de.createTimeRanges=sr(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",wr);de.formatTime=sr(9,"videojs.formatTime","videojs.time.formatTime",Na);de.setFormatTime=sr(9,"videojs.setFormatTime","videojs.time.setFormatTime",Xx);de.resetFormatTime=sr(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Yx);de.parseUrl=sr(9,"videojs.parseUrl","videojs.url.parseUrl",i0);de.isCrossOrigin=sr(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",jf);de.EventTarget=Wi;de.any=Zm;de.on=Ii;de.one=Ff;de.off=Bn;de.trigger=ou;de.xhr=b2;de.TextTrack=Ql;de.AudioTrack=eE;de.VideoTrack=tE;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{de[t]=function(){return ct.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),Ux[t].apply(null,arguments)}});de.computedStyle=sr(9,"videojs.computedStyle","videojs.dom.computedStyle",Ko);de.dom=Ux;de.fn=o8;de.num=V8;de.str=d8;de.url=x8;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class gM{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(i){n.enabled_(i)}}),n}}class $d extends de.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const i=this.levels_.length;return n=new gM(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,i=this.length;n<i;n++){const r=this[n];if(r.id===e)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}$d.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in $d.prototype.allowedEvents_)$d.prototype["on"+t]=null;var LE="4.0.0";const mM=function(t,e){const n=t.qualityLevels,i=new $d,r=function(){i.dispose(),t.qualityLevels=n,t.off("dispose",r)};return t.on("dispose",r),t.qualityLevels=()=>i,t.qualityLevels.VERSION=LE,i},IE=function(t){return mM(this,de.obj.merge({},t))};de.registerPlugin("qualityLevels",IE);IE.VERSION=LE;/*! @name @videojs/http-streaming @version 3.7.0 @license Apache-2.0 */const wi=jN,Hd=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,zi=t=>de.log.debug?de.log.debug.bind(de,"VHS:",`${t} >`):function(){};function kt(...t){const e=de.obj||de;return(e.merge||e.mergeOptions).apply(e,t)}function Mn(...t){const e=de.time||de;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function yM(t){let e="";for(let n=0;n<t.length;n++){const i=t.start(n),r=t.end(n),s=r-i;e.length&&(e+=`
`),e+=`[${s}](${i} -> ${r})`}return e||"empty"}const Ns=1/30,Tr=Ns*3,PE=function(t,e){const n=[];let i;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Mn(n)},yo=function(t,e){return PE(t,function(n,i){return n-Tr<=e&&i+Tr>=e})},Gc=function(t,e){return PE(t,function(n){return n-Ns>=e})},_M=function(t){if(t.length<2)return Mn();const e=[];for(let n=1;n<t.length;n++){const i=t.end(n-1),r=t.start(n);e.push([i,r])}return Mn(e)},vM=function(t,e){let n=null,i=null,r=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Mn();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(u,c){return u.time-c.time}),o=0;o<s.length;o++)s[o].type==="start"?(r++,r===2&&(n=s[o].time)):s[o].type==="end"&&(r--,r===1&&(i=s[o].time)),n!==null&&i!==null&&(a.push([n,i]),n=null,i=null);return Mn(a)},OE=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},bM=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},Ea=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},TM=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},nb=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},T0=function(t,e){let n=0;if(!t||!t.length)return n;for(let i=0;i<t.length;i++){const r=t.start(i),s=t.end(i);if(!(e>s)){if(e>r&&e<=s){n+=s-e;continue}n+=s-r}}return n},x0=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(i){n+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(n+=t.partTargetDuration)}),n},Tg=t=>(t.segments||[]).reduce((e,n,i)=>(n.parts?n.parts.forEach(function(r,s){e.push({duration:r.duration,segmentIndex:i,partIndex:s,part:r,segment:n})}):e.push({duration:n.duration,segmentIndex:i,partIndex:null,segment:n,part:null}),e),[]),RE=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},NE=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let i=(n||[]).reduce((r,s)=>r+(s.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},ME=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=RE(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},xM=function(t,e){let n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(typeof r.start<"u")return{result:r.start,precise:!0};if(typeof r.end<"u")return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=t.segments[i],typeof r.end<"u")return{result:n+r.end,precise:!0};if(n+=x0(t,r),typeof r.start<"u")return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},EM=function(t,e){let n=0,i,r=e-t.mediaSequence;for(;r<t.segments.length;r++){if(i=t.segments[r],typeof i.start<"u")return{result:i.start-n,precise:!0};if(n+=x0(t,i),typeof i.end<"u")return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},BE=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const i=xM(t,e);if(i.precise)return i.result;const r=EM(t,e);return r.precise?r.result:i.result+n},FE=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return W.Infinity}return BE(t,e,n)},dl=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let s=n;s<Math.min(0,i);s++)r+=t;n=0}for(let s=n;s<i;s++)r+=e[s].duration;return r},UE=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return FE(t);if(e===null)return null;e=e||0;let r=BE(t,t.mediaSequence+t.segments.length,e);return n&&(i=typeof i=="number"?i:ME(null,t),r-=i),Math.max(0,r)},SM=function(t,e,n){const r=e||0;let s=UE(t,e,!0,n);return s===null?Mn():(s<r&&(s=r),Mn(r,s))},CM=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:s}){let a=e-r;const o=Tg(t);let u=0;for(let c=0;c<o.length;c++){const f=o[c];if(n===f.segmentIndex&&!(typeof i=="number"&&typeof f.partIndex=="number"&&i!==f.partIndex)){u=c;break}}if(a<0){if(u>0)for(let c=u-1;c>=0;c--){const f=o[c];if(a+=f.duration,s){if(a<0)continue}else if(a+Ns<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:r-dl({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:c})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(u<0){for(let c=u;c<0;c++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};u=0}for(let c=u;c<o.length;c++){const f=o[c];if(a-=f.duration,s){if(a>0)continue}else if(a-Ns>=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:r+dl({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:c})}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},jE=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},E0=function(t){return t.excludeUntil&&t.excludeUntil===1/0},qf=function(t){const e=jE(t);return!t.disabled&&!e},wM=function(t){return t.disabled},AM=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},$E=function(t,e){return e.attributes&&e.attributes[t]},DM=function(t,e,n,i=0){return $E("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-i*8)/e:NaN},xg=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(i=>qf(i)?(i.attributes.BANDWIDTH||0)<n:!1).length===0},S0=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),ib=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let i=!1;for(const r in n){for(const s in n[r])if(i=e(n[r][s]),i)break;if(i)break}return!!i},tc=t=>{if(!t||!t.playlists||!t.playlists.length)return ib(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],i=n.attributes&&n.attributes.CODECS;if(!(i&&i.split(",").every(s=>A2(s))||ib(t,s=>S0(n,s))))return!1}return!0};var fi={liveEdgeDelay:ME,duration:FE,seekable:SM,getMediaInfoForTime:CM,isEnabled:qf,isDisabled:wM,isExcluded:jE,isIncompatible:E0,playlistEnd:UE,isAes:AM,hasAttribute:$E,estimateSegmentRequestTime:DM,isLowestEnabledRendition:xg,isAudioOnly:tc,playlistMatch:S0,segmentDurationWithParts:x0};const{log:HE}=de,C0=(t,e)=>`${t}-${e}`,kM=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,LM=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:s})=>{const a=new GN;t&&a.on("warn",t),e&&a.on("info",e),i.forEach(c=>a.addParser(c)),r.forEach(c=>a.addTagMapper(c)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(c){o.hasOwnProperty(c)&&delete o[c]}),o.segments&&o.segments.forEach(function(c){["parts","preloadHints"].forEach(function(f){c.hasOwnProperty(f)&&delete c[f]})})),!o.targetDuration){let c=10;o.segments&&o.segments.length&&(c=o.segments.reduce((f,p)=>Math.max(f,p.duration),0)),t&&t(`manifest has no targetDuration defaulting to ${c}`),o.targetDuration=c}const u=RE(o);if(u.length&&!o.partTargetDuration){const c=u.reduce((f,p)=>Math.max(f,p.duration),0);t&&(t(`manifest has no partTargetDuration defaulting to ${c}`),HE.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=c}return o},du=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const i in t.mediaGroups[n])for(const r in t.mediaGroups[n][i]){const s=t.mediaGroups[n][i][r];e(s,n,i,r)}})},qE=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},IM=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];qE({playlist:n,id:C0(e,n.uri)}),n.resolvedUri=wi(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||HE.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},PM=t=>{du(t,e=>{e.uri&&(e.resolvedUri=wi(t.uri,e.uri))})},OM=(t,e)=>{const n=C0(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:W.location.href,resolvedUri:W.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[e]=i.playlists[0],i},VE=(t,e,n=kM)=>{t.uri=e;for(let r=0;r<t.playlists.length;r++)if(!t.playlists[r].uri){const s=`placeholder-uri-${r}`;t.playlists[r].uri=s}const i=tc(t);du(t,(r,s,a,o)=>{if(!r.playlists||!r.playlists.length){if(i&&s==="AUDIO"&&!r.uri)for(let u=0;u<t.playlists.length;u++){const c=t.playlists[u];if(c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a)return}r.playlists=[Ps({},r)]}r.playlists.forEach(function(u,c){const f=n(s,a,o,u),p=C0(c,f);u.uri?u.resolvedUri=u.resolvedUri||wi(t.uri,u.uri):(u.uri=c===0?f:p,u.resolvedUri=u.uri),u.id=u.id||p,u.attributes=u.attributes||{},t.playlists[u.id]=u,t.playlists[u.uri]=u})}),IM(t),PM(t)};class rb{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,i=n.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((r,s)=>(r.set(s.id,s),r),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((i,r)=>{if(!this.processedDateRanges_.has(r)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),n.push(i),!!i.class))if(e[i.class]){const s=e[i.class].push(i);i.classListIndex=s-1}else e[i.class]=[i],i.classListIndex=0});for(const i of n){const r=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&r[i.classListIndex+1]?i.endTime=r[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((i,r)=>{i.startDate.getTime()<e&&this.processedDateRanges_.delete(r)})}}const{EventTarget:RM}=de,NM=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let r=e.mediaSequence+e.segments.length;if(i){const s=i.parts||[],a=NE(e)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&r--}n._HLS_msn=r}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const i=new W.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(r){n.hasOwnProperty(r)&&i.searchParams.set(r,n[r])}),t=i.toString()}return t},MM=(t,e)=>{if(!t)return e;const n=kt(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let i=0;i<e.parts.length;i++)t.parts&&t.parts[i]&&(n.parts[i]=kt(t.parts[i],e.parts[i]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},BM=(t,e,n)=>{const i=t.slice(),r=e.slice();n=n||0;const s=[];let a;for(let o=0;o<r.length;o++){const u=i[o+n],c=r[o];u?(a=u.map||a,s.push(MM(u,c))):(a&&!c.map&&(c.map=a),s.push(c))}return s},WE=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=wi(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=wi(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=wi(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=wi(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=wi(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=wi(e,n.uri))})},zE=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let i=0;i<n.preloadHints.length;i++)if(n.preloadHints[i].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},GE=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Eg=(t,e,n=GE)=>{const i=kt(t,{}),r=i.playlists[e.id];if(!r||n(r,e))return null;e.segments=zE(e);const s=kt(r,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=BM(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}s.segments.forEach(a=>{WE(a,s.resolvedUri)});for(let a=0;a<i.playlists.length;a++)i.playlists[a].id===e.id&&(i.playlists[a]=s);return i.playlists[e.id]=s,i.playlists[e.uri]=s,du(t,(a,o,u,c)=>{if(a.playlists)for(let f=0;f<a.playlists.length;f++)e.id===a.playlists[f].id&&(a.playlists[f]=s)}),i},Sg=(t,e)=>{const n=t.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],s=r&&r.duration||i&&i.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class _o extends RM{constructor(e,n,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=zi("PlaylistLoader");const{withCredentials:r=!1}=i;this.src=e,this.vhs_=n,this.withCredentials=r,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new rb,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=wi(this.main.uri,e.uri);this.llhls&&(n=NM(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(i,r)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,i){const{uri:r,id:s}=n;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${r}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:n}){return LM({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${e}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${e}: ${i}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:n,url:i,id:r}){this.request=null,this.state="HAVE_METADATA";const s=n||this.parseManifest_({url:i,manifestString:e});s.lastRequest=Date.now(),qE({playlist:s,uri:i,id:r});const a=Eg(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Sg(this.media(),!!a)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),W.clearTimeout(this.mediaUpdateTimeout),W.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new rb,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(W.clearTimeout(this.finalRenditionTimeout),n){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=W.setTimeout(this.media.bind(this,e,!1),a);return}const i=this.state,r=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Sg(e,!0)),!!r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(a,o)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=Hd(e.resolvedUri,o),a)return this.playlistRequestError(this.request,e,i);this.haveMetadata({playlistString:o.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=W.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=W.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=W.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,n)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=Hd(this.src,n);const i=this.parseManifest_({manifestString:n.responseText,url:this.src});this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,VE(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=zE(i),i.segments.forEach(r=>{WE(r,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||W.location.href;this.main=OM(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:FM}=de,Cg=function(t,e,n,i){const r=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},UM=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(i=>{n=i(n)}),n},jM=(t,e,n,i)=>{!t||!t.size||t.forEach(r=>{r(e,n,i)})},KE=function(){const t=function e(n,i){n=kt({timeout:45e3},n);const r=e.beforeRequest||de.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||de.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||de.Vhs.xhr._responseCallbackSet;r&&typeof r=="function"&&(de.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(r));const o=de.Vhs.xhr.original===!0?FM:de.Vhs.xhr,u=UM(s,n);s.delete(r);const c=o(u||n,function(p,b){return jM(a,c,p,b),Cg(c,p,b,i)}),f=c.abort;return c.abort=function(){return c.aborted=!0,f.apply(c,arguments)},c.uri=n.uri,c.requestTime=Date.now(),c};return t.original=!0,t},$M=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=W.BigInt(t.offset)+W.BigInt(t.length)-W.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},wg=function(t){const e={};return t.byterange&&(e.Range=$M(t.byterange)),e},HM=function(t,e){return t.start(e)+"-"+t.end(e)},qM=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},VM=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},XE=function(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];k2(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},qd=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},YE=function(t){return t.resolvedUri},QE=t=>{const e=Array.prototype.slice.call(t),n=16;let i="",r,s;for(let a=0;a<e.length/n;a++)r=e.slice(a*n,a*n+n).map(qM).join(""),s=e.slice(a*n,a*n+n).map(VM).join(""),i+=r+" "+s+`
`;return i},WM=({bytes:t})=>QE(t),zM=t=>{let e="",n;for(n=0;n<t.length;n++)e+=HM(t,n)+" ";return e};var GM=Object.freeze({__proto__:null,createTransferableMessage:XE,initSegmentId:qd,segmentKeyId:YE,hexDump:QE,tagDump:WM,textRanges:zM});const JE=.25,KM=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,r=e.videoTimingInfo.transmuxedPresentationStart+n,s=t-r;return new Date(e.dateTimeObject.getTime()+s*1e3)},XM=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,YM=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let u=0;u<e.segments.length-1;u++){i=e.segments[u];const c=new Date(e.segments[u+1].dateTimeObject);if(n<c)break}const r=e.segments[e.segments.length-1],s=r.dateTimeObject,a=r.videoTimingInfo?XM(r.videoTimingInfo):r.duration+r.duration*JE,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:fi.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},QM=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,i;for(let s=0;s<e.segments.length&&(i=e.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(t<=n));s++);const r=e.segments[e.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+r.duration*JE)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},JM=(t,e)=>{let n,i;try{n=new Date(t),i=new Date(e)}catch{}const r=n.getTime();return(i.getTime()-r)/1e3},ZM=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},e5=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const i=QM(e,t);if(!i)return n({message:"valid programTime was not found"});if(i.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:e},s=KM(e,i.segment);return s&&(r.programDateTime=s.toISOString()),n(null,r)},ZE=({programTime:t,playlist:e,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!i)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!ZM(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=YM(t,e);if(!o)return a({message:`${t} was not found in the stream`});const u=o.segment,c=JM(u.dateTimeObject,t);if(o.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});i(o.estimatedStart+c),s.one("seeked",()=>{ZE({programTime:t,playlist:e,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:s,callback:a})});return}const f=u.start+c,p=()=>a(null,s.currentTime());s.one("seeked",p),r&&s.pause(),i(f)},tp=(t,e)=>{if(t.readyState===4)return e()},t5=(t,e,n)=>{let i=[],r,s=!1;const a=function(f,p,b,C){return p.abort(),s=!0,n(f,p,b,C)},o=function(f,p){if(s)return;if(f)return a(f,p,"",i);const b=p.responseText.substring(i&&i.byteLength||0,p.responseText.length);if(i=s3(i,L2(b,!0)),r=r||Xu(i),i.length<10||r&&i.length<r+2)return tp(p,()=>a(f,p,"",i));const C=Vm(i);return C==="ts"&&i.length<188?tp(p,()=>a(f,p,"",i)):!C&&i.length<376?tp(p,()=>a(f,p,"",i)):a(null,p,C,i)},c=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:p,loaded:b}){return Cg(f,null,{statusCode:f.status},o)})}},function(f,p){return Cg(c,f,p,o)});return c},{EventTarget:n5}=de,sb=function(t,e){if(!GE(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const i=t.segments[n],r=e.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const s=i.byterange,a=r.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},i5=(t,e,n,i)=>{const r=i.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${r}`},r5=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const s=w4(t,{manifestUri:e,clientOffset:n,sidxMapping:i,previousManifest:r});return VE(s,e,i5),s},s5=(t,e)=>{du(t,(n,i,r,s)=>{s in e.mediaGroups[i][r]||delete t.mediaGroups[i][r][s]})},a5=(t,e,n)=>{let i=!0,r=kt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const u=Cf(a.sidx);n&&n[u]&&n[u].sidx&&$m(a,n[u].sidx,a.sidx.resolvedUri)}const o=Eg(r,a,sb);o&&(r=o,i=!1)}return du(e,(s,a,o,u)=>{if(s.playlists&&s.playlists.length){const c=s.playlists[0].id,f=Eg(r,s.playlists[0],sb);f&&(r=f,u in r.mediaGroups[a][o]||(r.mediaGroups[a][o][u]=s),r.mediaGroups[a][o][u].playlists[0]=r.playlists[c],i=!1)}}),s5(r,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:r},o5=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,ab=(t,e)=>{const n={};for(const i in t){const s=t[i].sidx;if(s){const a=Cf(s);if(!e[a])break;const o=e[a].sidxInfo;o5(o,s)&&(n[a]=e[a])}}return n},u5=(t,e)=>{let i=ab(t.playlists,e);return du(t,(r,s,a,o)=>{if(r.playlists&&r.playlists.length){const u=r.playlists;i=kt(i,ab(u,e))}}),i};class Ag extends n5{constructor(e,n,i={},r){super(),this.mainPlaylistLoader_=r||this,r||(this.isMain_=!0);const{withCredentials:s=!1}=i;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.media().attributes.serviceLocation||this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=zi("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,n,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,n,i){const r=e.sidx&&Cf(e.sidx);if(!e.sidx||!r||this.mainPlaylistLoader_.sidxMapping_[r]){this.mediaRequest_=W.setTimeout(()=>i(!1),0);return}const s=Hd(e.sidx.resolvedUri),a=(o,u)=>{if(this.requestErrored_(o,u,n))return;const c=this.mainPlaylistLoader_.sidxMapping_;let f;try{f=P4(ze(u.response).subarray(8))}catch(p){this.requestErrored_(p,u,n);return}return c[r]={sidxInfo:e.sidx,sidx:f},$m(e,f,e.sidx.resolvedUri),i(!0)};this.request=t5(s,this.vhs_.xhr,(o,u,c,f)=>{if(o)return a(o,u);if(!c||c!=="mp4")return a({status:u.status,message:`Unsupported ${c||"unknown"} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u);const{offset:p,length:b}=e.sidx.byterange;if(f.length>=b+p)return a(o,{response:f.subarray(p,p+b),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:wg({byterange:e.sidx.byterange})},a)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},W.clearTimeout(this.minimumUpdatePeriodTimeout_),W.clearTimeout(this.mediaRequest_),W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,r=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(W.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=W.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=W.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(n,i)=>{if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const r=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Hd(this.mainPlaylistLoader_.srcUrl,i),r){this.handleMain_(),this.syncClientServerClock_(()=>e(i,r));return}return e(i,r)})}syncClientServerClock_(e){const n=A4(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:wi(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(i,r)=>{if(!this.request)return;if(i)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let s;n.method==="HEAD"?!r.responseHeaders||!r.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(r.responseHeaders.date):s=Date.parse(r.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let n=r5({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(n=a5(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(W.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=W.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=u5(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==n[e];if(i?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const r=()=>{this.media().endList||(this.mediaUpdateTimeout=W.setTimeout(()=>{this.trigger("mediaupdatetimeout"),r()},Sg(this.media(),!!i)))};r()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}}var _n={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const l5=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},eS=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},c5=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},tS=function(t){return function(){const e=c5(t),n=eS(new Worker(e));n.objURL=e;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},n}},nS=function(t){return`var browserWorkerPolyFill = ${eS.toString()};
browserWorkerPolyFill(self);
`+t},iS=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},d5=nS(iS(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var d={};this.on=function(g,_){d[g]||(d[g]=[]),d[g]=d[g].concat(_)},this.off=function(g,_){var y;return d[g]?(y=d[g].indexOf(_),d[g]=d[g].slice(),d[g].splice(y,1),y>-1):!1},this.trigger=function(g){var _,y,T,w;if(_=d[g],!!_)if(arguments.length===2)for(T=_.length,y=0;y<T;++y)_[y].call(this,arguments[1]);else{for(w=[],y=arguments.length,y=1;y<arguments.length;++y)w.push(arguments[y]);for(T=_.length,y=0;y<T;++y)_[y].apply(this,w)}},this.dispose=function(){d={}}}};e.prototype.pipe=function(d){return this.on("data",function(g){d.push(g)}),this.on("done",function(g){d.flush(g)}),this.on("partialdone",function(g){d.partialFlush(g)}),this.on("endedtimeline",function(g){d.endTimeline(g)}),this.on("reset",function(g){d.reset(g)}),d},e.prototype.push=function(d){this.trigger("data",d)},e.prototype.flush=function(d){this.trigger("done",d)},e.prototype.partialFlush=function(d){this.trigger("partialdone",d)},e.prototype.endTimeline=function(d){this.trigger("endedtimeline",d)},e.prototype.reset=function(d){this.trigger("reset",d)};var n=e,i=Math.pow(2,32),r=function(d){var g=new DataView(d.buffer,d.byteOffset,d.byteLength),_;return g.getBigUint64?(_=g.getBigUint64(0),_<Number.MAX_SAFE_INTEGER?Number(_):_):g.getUint32(0)*i+g.getUint32(4)},s={getUint64:r,MAX_UINT32:i},a=s.MAX_UINT32,o,u,c,f,p,b,C,E,L,R,S,A,M,I,N,j,m,ne,re,xe,Z,ae,Q,he,He,Le,Re,Ve,bt,Qt,$t,xt,fn,In,yi,Ht;(function(){var d;if(Q={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(d in Q)Q.hasOwnProperty(d)&&(Q[d]=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)]);he=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Le=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),He=new Uint8Array([0,0,0,1]),Re=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ve=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),bt={video:Re,audio:Ve},xt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),$t=new Uint8Array([0,0,0,0,0,0,0,0]),fn=new Uint8Array([0,0,0,0,0,0,0,0]),In=fn,yi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ht=fn,Qt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(d){var g=[],_=0,y,T,w;for(y=1;y<arguments.length;y++)g.push(arguments[y]);for(y=g.length;y--;)_+=g[y].byteLength;for(T=new Uint8Array(_+8),w=new DataView(T.buffer,T.byteOffset,T.byteLength),w.setUint32(0,T.byteLength),T.set(d,4),y=0,_=8;y<g.length;y++)T.set(g[y],_),_+=g[y].byteLength;return T},u=function(){return o(Q.dinf,o(Q.dref,xt))},c=function(d){return o(Q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,d.audioobjecttype<<3|d.samplingfrequencyindex>>>1,d.samplingfrequencyindex<<7|d.channelcount<<3,6,1,2]))},f=function(){return o(Q.ftyp,he,He,he,Le)},j=function(d){return o(Q.hdlr,bt[d])},p=function(d){return o(Q.mdat,d)},N=function(d){var g=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,d.duration>>>24&255,d.duration>>>16&255,d.duration>>>8&255,d.duration&255,85,196,0,0]);return d.samplerate&&(g[12]=d.samplerate>>>24&255,g[13]=d.samplerate>>>16&255,g[14]=d.samplerate>>>8&255,g[15]=d.samplerate&255),o(Q.mdhd,g)},I=function(d){return o(Q.mdia,N(d),j(d.type),C(d))},b=function(d){return o(Q.mfhd,new Uint8Array([0,0,0,0,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]))},C=function(d){return o(Q.minf,d.type==="video"?o(Q.vmhd,Qt):o(Q.smhd,$t),u(),ne(d))},E=function(d,g){for(var _=[],y=g.length;y--;)_[y]=xe(g[y]);return o.apply(null,[Q.moof,b(d)].concat(_))},L=function(d){for(var g=d.length,_=[];g--;)_[g]=A(d[g]);return o.apply(null,[Q.moov,S(4294967295)].concat(_).concat(R(d)))},R=function(d){for(var g=d.length,_=[];g--;)_[g]=Z(d[g]);return o.apply(null,[Q.mvex].concat(_))},S=function(d){var g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(Q.mvhd,g)},m=function(d){var g=d.samples||[],_=new Uint8Array(4+g.length),y,T;for(T=0;T<g.length;T++)y=g[T].flags,_[T+4]=y.dependsOn<<4|y.isDependedOn<<2|y.hasRedundancy;return o(Q.sdtp,_)},ne=function(d){return o(Q.stbl,re(d),o(Q.stts,Ht),o(Q.stsc,In),o(Q.stsz,yi),o(Q.stco,fn))},function(){var d,g;re=function(_){return o(Q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),_.type==="video"?d(_):g(_))},d=function(_){var y=_.sps||[],T=_.pps||[],w=[],F=[],U,H;for(U=0;U<y.length;U++)w.push((y[U].byteLength&65280)>>>8),w.push(y[U].byteLength&255),w=w.concat(Array.prototype.slice.call(y[U]));for(U=0;U<T.length;U++)F.push((T[U].byteLength&65280)>>>8),F.push(T[U].byteLength&255),F=F.concat(Array.prototype.slice.call(T[U]));if(H=[Q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(_.width&65280)>>8,_.width&255,(_.height&65280)>>8,_.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(Q.avcC,new Uint8Array([1,_.profileIdc,_.profileCompatibility,_.levelIdc,255].concat([y.length],w,[T.length],F))),o(Q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],_.sarRatio){var G=_.sarRatio[0],J=_.sarRatio[1];H.push(o(Q.pasp,new Uint8Array([(G&4278190080)>>24,(G&16711680)>>16,(G&65280)>>8,G&255,(J&4278190080)>>24,(J&16711680)>>16,(J&65280)>>8,J&255])))}return o.apply(null,H)},g=function(_){return o(Q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(_.channelcount&65280)>>8,_.channelcount&255,(_.samplesize&65280)>>8,_.samplesize&255,0,0,0,0,(_.samplerate&65280)>>8,_.samplerate&255,0,0]),c(_))}}(),M=function(d){var g=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,0,(d.duration&4278190080)>>24,(d.duration&16711680)>>16,(d.duration&65280)>>8,d.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(d.width&65280)>>8,d.width&255,0,0,(d.height&65280)>>8,d.height&255,0,0]);return o(Q.tkhd,g)},xe=function(d){var g,_,y,T,w,F,U;return g=o(Q.tfhd,new Uint8Array([0,0,0,58,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),F=Math.floor(d.baseMediaDecodeTime/a),U=Math.floor(d.baseMediaDecodeTime%a),_=o(Q.tfdt,new Uint8Array([1,0,0,0,F>>>24&255,F>>>16&255,F>>>8&255,F&255,U>>>24&255,U>>>16&255,U>>>8&255,U&255])),w=32+20+8+16+8+8,d.type==="audio"?(y=ae(d,w),o(Q.traf,g,_,y)):(T=m(d),y=ae(d,T.length+w),o(Q.traf,g,_,y,T))},A=function(d){return d.duration=d.duration||4294967295,o(Q.trak,M(d),I(d))},Z=function(d){var g=new Uint8Array([0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return d.type!=="video"&&(g[g.length-1]=0),o(Q.trex,g)},function(){var d,g,_;_=function(y,T){var w=0,F=0,U=0,H=0;return y.length&&(y[0].duration!==void 0&&(w=1),y[0].size!==void 0&&(F=2),y[0].flags!==void 0&&(U=4),y[0].compositionTimeOffset!==void 0&&(H=8)),[0,0,w|F|U|H,1,(y.length&4278190080)>>>24,(y.length&16711680)>>>16,(y.length&65280)>>>8,y.length&255,(T&4278190080)>>>24,(T&16711680)>>>16,(T&65280)>>>8,T&255]},g=function(y,T){var w,F,U,H,G,J;for(H=y.samples||[],T+=8+12+16*H.length,U=_(H,T),F=new Uint8Array(U.length+H.length*16),F.set(U),w=U.length,J=0;J<H.length;J++)G=H[J],F[w++]=(G.duration&4278190080)>>>24,F[w++]=(G.duration&16711680)>>>16,F[w++]=(G.duration&65280)>>>8,F[w++]=G.duration&255,F[w++]=(G.size&4278190080)>>>24,F[w++]=(G.size&16711680)>>>16,F[w++]=(G.size&65280)>>>8,F[w++]=G.size&255,F[w++]=G.flags.isLeading<<2|G.flags.dependsOn,F[w++]=G.flags.isDependedOn<<6|G.flags.hasRedundancy<<4|G.flags.paddingValue<<1|G.flags.isNonSyncSample,F[w++]=G.flags.degradationPriority&61440,F[w++]=G.flags.degradationPriority&15,F[w++]=(G.compositionTimeOffset&4278190080)>>>24,F[w++]=(G.compositionTimeOffset&16711680)>>>16,F[w++]=(G.compositionTimeOffset&65280)>>>8,F[w++]=G.compositionTimeOffset&255;return o(Q.trun,F)},d=function(y,T){var w,F,U,H,G,J;for(H=y.samples||[],T+=8+12+8*H.length,U=_(H,T),w=new Uint8Array(U.length+H.length*8),w.set(U),F=U.length,J=0;J<H.length;J++)G=H[J],w[F++]=(G.duration&4278190080)>>>24,w[F++]=(G.duration&16711680)>>>16,w[F++]=(G.duration&65280)>>>8,w[F++]=G.duration&255,w[F++]=(G.size&4278190080)>>>24,w[F++]=(G.size&16711680)>>>16,w[F++]=(G.size&65280)>>>8,w[F++]=G.size&255;return o(Q.trun,w)},ae=function(y,T){return y.type==="audio"?d(y,T):g(y,T)}}();var _e={ftyp:f,mdat:p,moof:E,moov:L,initSegment:function(d){var g=f(),_=L(d),y;return y=new Uint8Array(g.byteLength+_.byteLength),y.set(g),y.set(_,g.byteLength),y}},Ie=function(d){var g,_,y=[],T=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,y.byteLength=0,g=0;g<d.length;g++)_=d[g],_.nalUnitType==="access_unit_delimiter_rbsp"?(y.length&&(y.duration=_.dts-y.dts,T.byteLength+=y.byteLength,T.nalCount+=y.length,T.duration+=y.duration,T.push(y)),y=[_],y.byteLength=_.data.byteLength,y.pts=_.pts,y.dts=_.dts):(_.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(y.keyFrame=!0),y.duration=_.dts-y.dts,y.byteLength+=_.data.byteLength,y.push(_));return T.length&&(!y.duration||y.duration<=0)&&(y.duration=T[T.length-1].duration),T.byteLength+=y.byteLength,T.nalCount+=y.length,T.duration+=y.duration,T.push(y),T},Ae=function(d){var g,_,y=[],T=[];for(y.byteLength=0,y.nalCount=0,y.duration=0,y.pts=d[0].pts,y.dts=d[0].dts,T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=d[0].pts,T.dts=d[0].dts,g=0;g<d.length;g++)_=d[g],_.keyFrame?(y.length&&(T.push(y),T.byteLength+=y.byteLength,T.nalCount+=y.nalCount,T.duration+=y.duration),y=[_],y.nalCount=_.length,y.byteLength=_.byteLength,y.pts=_.pts,y.dts=_.dts,y.duration=_.duration):(y.duration+=_.duration,y.nalCount+=_.length,y.byteLength+=_.byteLength,y.push(_));return T.length&&y.duration<=0&&(y.duration=T[T.length-1].duration),T.byteLength+=y.byteLength,T.nalCount+=y.nalCount,T.duration+=y.duration,T.push(y),T},Pe=function(d){var g;return!d[0][0].keyFrame&&d.length>1&&(g=d.shift(),d.byteLength-=g.byteLength,d.nalCount-=g.nalCount,d[0][0].dts=g.dts,d[0][0].pts=g.pts,d[0][0].duration+=g.duration),d},rt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},V=function(d,g){var _=rt();return _.dataOffset=g,_.compositionTimeOffset=d.pts-d.dts,_.duration=d.duration,_.size=4*d.length,_.size+=d.byteLength,d.keyFrame&&(_.flags.dependsOn=2,_.flags.isNonSyncSample=0),_},P=function(d,g){var _,y,T,w,F,U=g||0,H=[];for(_=0;_<d.length;_++)for(w=d[_],y=0;y<w.length;y++)F=w[y],T=V(F,U),U+=T.size,H.push(T);return H},B=function(d){var g,_,y,T,w,F,U=0,H=d.byteLength,G=d.nalCount,J=H+4*G,ce=new Uint8Array(J),Oe=new DataView(ce.buffer);for(g=0;g<d.length;g++)for(T=d[g],_=0;_<T.length;_++)for(w=T[_],y=0;y<w.length;y++)F=w[y],Oe.setUint32(U,F.data.byteLength),U+=4,ce.set(F.data,U),U+=F.data.byteLength;return ce},K=function(d,g){var _,y=g||0,T=[];return _=V(d,y),T.push(_),T},ee=function(d){var g,_,y=0,T=d.byteLength,w=d.length,F=T+4*w,U=new Uint8Array(F),H=new DataView(U.buffer);for(g=0;g<d.length;g++)_=d[g],H.setUint32(y,_.data.byteLength),y+=4,U.set(_.data,y),y+=_.data.byteLength;return U},oe={groupNalsIntoFrames:Ie,groupFramesIntoGops:Ae,extendFirstKeyFrame:Pe,generateSampleTable:P,concatenateNalData:B,generateSampleTableForFrame:K,concatenateNalDataForFrame:ee},me=[33,16,5,32,164,27],Ee=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ve=function(d){for(var g=[];d--;)g.push(0);return g},Se=function(d){return Object.keys(d).reduce(function(g,_){return g[_]=new Uint8Array(d[_].reduce(function(y,T){return y.concat(T)},[])),g},{})},De,te=function(){if(!De){var d={96e3:[me,[227,64],ve(154),[56]],88200:[me,[231],ve(170),[56]],64e3:[me,[248,192],ve(240),[56]],48e3:[me,[255,192],ve(268),[55,148,128],ve(54),[112]],44100:[me,[255,192],ve(268),[55,163,128],ve(84),[112]],32e3:[me,[255,192],ve(268),[55,234],ve(226),[112]],24e3:[me,[255,192],ve(268),[55,255,128],ve(268),[111,112],ve(126),[224]],16e3:[me,[255,192],ve(268),[55,255,128],ve(268),[111,255],ve(269),[223,108],ve(195),[1,192]],12e3:[Ee,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,253,128],ve(259),[56]],11025:[Ee,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,255,192],ve(268),[55,175,128],ve(108),[112]],8e3:[Ee,ve(268),[3,121,16],ve(47),[7]]};De=Se(d)}return De},ue=9e4,be,Be,ut,st,yt,hn,_i;be=function(d){return d*ue},Be=function(d,g){return d*g},ut=function(d){return d/ue},st=function(d,g){return d/g},yt=function(d,g){return be(st(d,g))},hn=function(d,g){return Be(ut(d),g)},_i=function(d,g,_){return ut(_?d:d-g)};var dt={ONE_SECOND_IN_TS:ue,secondsToVideoTs:be,secondsToAudioTs:Be,videoTsToSeconds:ut,audioTsToSeconds:st,audioTsToVideoTs:yt,videoTsToAudioTs:hn,metadataTsToSeconds:_i},Cn=te,jn=dt,en=function(d){var g,_,y=0;for(g=0;g<d.length;g++)_=d[g],y+=_.data.byteLength;return y},ti=function(d,g,_,y){var T,w=0,F=0,U=0,H=0,G,J,ce;if(g.length&&(T=jn.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),w=Math.ceil(jn.ONE_SECOND_IN_TS/(d.samplerate/1024)),_&&y&&(F=T-Math.max(_,y),U=Math.floor(F/w),H=U*w),!(U<1||H>jn.ONE_SECOND_IN_TS/2))){for(G=Cn()[d.samplerate],G||(G=g[0].data),J=0;J<U;J++)ce=g[0],g.splice(0,0,{data:G,dts:ce.dts-w,pts:ce.pts-w});return d.baseMediaDecodeTime-=Math.floor(jn.videoTsToAudioTs(H,d.samplerate)),H}},Rr=function(d,g,_){return g.minSegmentDts>=_?d:(g.minSegmentDts=1/0,d.filter(function(y){return y.dts>=_?(g.minSegmentDts=Math.min(g.minSegmentDts,y.dts),g.minSegmentPts=g.minSegmentDts,!0):!1}))},ic=function(d){var g,_,y=[];for(g=0;g<d.length;g++)_=d[g],y.push({size:_.data.byteLength,duration:1024});return y},rc=function(d){var g,_,y=0,T=new Uint8Array(en(d));for(g=0;g<d.length;g++)_=d[g],T.set(_.data,y),y+=_.data.byteLength;return T},Wf={prefixWithSilence:ti,trimAdtsFramesByEarliestDts:Rr,generateSampleTable:ic,concatenateFrameData:rc},ls=dt.ONE_SECOND_IN_TS,$s=function(d,g){typeof g.pts=="number"&&(d.timelineStartInfo.pts===void 0&&(d.timelineStartInfo.pts=g.pts),d.minSegmentPts===void 0?d.minSegmentPts=g.pts:d.minSegmentPts=Math.min(d.minSegmentPts,g.pts),d.maxSegmentPts===void 0?d.maxSegmentPts=g.pts:d.maxSegmentPts=Math.max(d.maxSegmentPts,g.pts)),typeof g.dts=="number"&&(d.timelineStartInfo.dts===void 0&&(d.timelineStartInfo.dts=g.dts),d.minSegmentDts===void 0?d.minSegmentDts=g.dts:d.minSegmentDts=Math.min(d.minSegmentDts,g.dts),d.maxSegmentDts===void 0?d.maxSegmentDts=g.dts:d.maxSegmentDts=Math.max(d.maxSegmentDts,g.dts))},sc=function(d){delete d.minSegmentDts,delete d.maxSegmentDts,delete d.minSegmentPts,delete d.maxSegmentPts},ac=function(d,g){var _,y,T=d.minSegmentDts;return g||(T-=d.timelineStartInfo.dts),_=d.timelineStartInfo.baseMediaDecodeTime,_+=T,_=Math.max(0,_),d.type==="audio"&&(y=d.samplerate/ls,_*=y,_=Math.floor(_)),_},ni={clearDtsInfo:sc,calculateTrackBaseMediaDecodeTime:ac,collectDtsInfo:$s},wn=4,fu=128,zf=function(d){for(var g=0,_={payloadType:-1,payloadSize:0},y=0,T=0;g<d.byteLength&&d[g]!==fu;){for(;d[g]===255;)y+=255,g++;for(y+=d[g++];d[g]===255;)T+=255,g++;if(T+=d[g++],!_.payload&&y===wn){var w=String.fromCharCode(d[g+3],d[g+4],d[g+5],d[g+6]);if(w==="GA94"){_.payloadType=y,_.payloadSize=T,_.payload=d.subarray(g,g+T);break}else _.payload=void 0}g+=T,y=0,T=0}return _},oc=function(d){return d.payload[0]!==181||(d.payload[1]<<8|d.payload[2])!==49||String.fromCharCode(d.payload[3],d.payload[4],d.payload[5],d.payload[6])!=="GA94"||d.payload[7]!==3?null:d.payload.subarray(8,d.payload.length-1)},uc=function(d,g){var _=[],y,T,w,F;if(!(g[0]&64))return _;for(T=g[0]&31,y=0;y<T;y++)w=y*3,F={type:g[w+2]&3,pts:d},g[w+2]&4&&(F.ccData=g[w+3]<<8|g[w+4],_.push(F));return _},cs=function(d){for(var g=d.byteLength,_=[],y=1,T,w;y<g-2;)d[y]===0&&d[y+1]===0&&d[y+2]===3?(_.push(y+2),y+=2):y++;if(_.length===0)return d;T=g-_.length,w=new Uint8Array(T);var F=0;for(y=0;y<T;F++,y++)F===_[0]&&(F++,_.shift()),w[y]=d[F];return w},Nr={parseSei:zf,parseUserData:oc,parseCaptionPackets:uc,discardEmulationPreventionBytes:cs,USER_DATA_REGISTERED_ITU_T_T35:wn},Hs=n,Mr=Nr,Pn=function(d){d=d||{},Pn.prototype.init.call(this),this.parse708captions_=typeof d.parse708captions=="boolean"?d.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Et(0,0),new Et(0,1),new Et(1,0),new Et(1,1)],this.parse708captions_&&(this.cc708Stream_=new Tt({captionServices:d.captionServices})),this.reset(),this.ccStreams_.forEach(function(g){g.on("data",this.trigger.bind(this,"data")),g.on("partialdone",this.trigger.bind(this,"partialdone")),g.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Pn.prototype=new Hs,Pn.prototype.push=function(d){var g,_,y;if(d.nalUnitType==="sei_rbsp"&&(g=Mr.parseSei(d.escapedRBSP),!!g.payload&&g.payloadType===Mr.USER_DATA_REGISTERED_ITU_T_T35&&(_=Mr.parseUserData(g),!!_))){if(d.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(d.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}y=Mr.parseCaptionPackets(d.pts,_),this.captionPackets_=this.captionPackets_.concat(y),this.latestDts_!==d.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=d.dts}},Pn.prototype.flushCCStreams=function(d){this.ccStreams_.forEach(function(g){return d==="flush"?g.flush():g.partialFlush()},this)},Pn.prototype.flushStream=function(d){if(!this.captionPackets_.length){this.flushCCStreams(d);return}this.captionPackets_.forEach(function(g,_){g.presortIndex=_}),this.captionPackets_.sort(function(g,_){return g.pts===_.pts?g.presortIndex-_.presortIndex:g.pts-_.pts}),this.captionPackets_.forEach(function(g){g.type<2?this.dispatchCea608Packet(g):this.dispatchCea708Packet(g)},this),this.captionPackets_.length=0,this.flushCCStreams(d)},Pn.prototype.flush=function(){return this.flushStream("flush")},Pn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Pn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(d){d.reset()})},Pn.prototype.dispatchCea608Packet=function(d){this.setsTextOrXDSActive(d)?this.activeCea608Channel_[d.type]=null:this.setsChannel1Active(d)?this.activeCea608Channel_[d.type]=0:this.setsChannel2Active(d)&&(this.activeCea608Channel_[d.type]=1),this.activeCea608Channel_[d.type]!==null&&this.ccStreams_[(d.type<<1)+this.activeCea608Channel_[d.type]].push(d)},Pn.prototype.setsChannel1Active=function(d){return(d.ccData&30720)===4096},Pn.prototype.setsChannel2Active=function(d){return(d.ccData&30720)===6144},Pn.prototype.setsTextOrXDSActive=function(d){return(d.ccData&28928)===256||(d.ccData&30974)===4138||(d.ccData&30974)===6186},Pn.prototype.dispatchCea708Packet=function(d){this.parse708captions_&&this.cc708Stream_.push(d)};var Gf={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Kf=function(d){var g=Gf[d]||d;return d&4096&&d===g?"":String.fromCharCode(g)},qs=function(d){return 32<=d&&d<=127||160<=d&&d<=255},Gi=function(d){this.windowNum=d,this.reset()};Gi.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Gi.prototype.getText=function(){return this.rows.join(`
`)},Gi.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Gi.prototype.newLine=function(d){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(d),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Gi.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Gi.prototype.addText=function(d){this.rows[this.rowIdx]+=d},Gi.prototype.backspace=function(){if(!this.isEmpty()){var d=this.rows[this.rowIdx];this.rows[this.rowIdx]=d.substr(0,d.length-1)}};var ja=function(d,g,_){this.serviceNum=d,this.text="",this.currentWindow=new Gi(-1),this.windows=[],this.stream=_,typeof g=="string"&&this.createTextDecoder(g)};ja.prototype.init=function(d,g){this.startPts=d;for(var _=0;_<8;_++)this.windows[_]=new Gi(_),typeof g=="function"&&(this.windows[_].beforeRowOverflow=g)},ja.prototype.setCurrentWindow=function(d){this.currentWindow=this.windows[d]},ja.prototype.createTextDecoder=function(d){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(d)}catch(g){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+d+" encoding. "+g})}};var Tt=function(d){d=d||{},Tt.prototype.init.call(this);var g=this,_=d.captionServices||{},y={},T;Object.keys(_).forEach(w=>{T=_[w],/^SERVICE/.test(w)&&(y[w]=T.encoding)}),this.serviceEncodings=y,this.current708Packet=null,this.services={},this.push=function(w){w.type===3?(g.new708Packet(),g.add708Bytes(w)):(g.current708Packet===null&&g.new708Packet(),g.add708Bytes(w))}};Tt.prototype=new Hs,Tt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Tt.prototype.add708Bytes=function(d){var g=d.ccData,_=g>>>8,y=g&255;this.current708Packet.ptsVals.push(d.pts),this.current708Packet.data.push(_),this.current708Packet.data.push(y)},Tt.prototype.push708Packet=function(){var d=this.current708Packet,g=d.data,_=null,y=null,T=0,w=g[T++];for(d.seq=w>>6,d.sizeCode=w&63;T<g.length;T++)w=g[T++],_=w>>5,y=w&31,_===7&&y>0&&(w=g[T++],_=w),this.pushServiceBlock(_,T,y),y>0&&(T+=y-1)},Tt.prototype.pushServiceBlock=function(d,g,_){var y,T=g,w=this.current708Packet.data,F=this.services[d];for(F||(F=this.initService(d,T));T<g+_&&T<w.length;T++)y=w[T],qs(y)?T=this.handleText(T,F):y===24?T=this.multiByteCharacter(T,F):y===16?T=this.extendedCommands(T,F):128<=y&&y<=135?T=this.setCurrentWindow(T,F):152<=y&&y<=159?T=this.defineWindow(T,F):y===136?T=this.clearWindows(T,F):y===140?T=this.deleteWindows(T,F):y===137?T=this.displayWindows(T,F):y===138?T=this.hideWindows(T,F):y===139?T=this.toggleWindows(T,F):y===151?T=this.setWindowAttributes(T,F):y===144?T=this.setPenAttributes(T,F):y===145?T=this.setPenColor(T,F):y===146?T=this.setPenLocation(T,F):y===143?F=this.reset(T,F):y===8?F.currentWindow.backspace():y===12?F.currentWindow.clearText():y===13?F.currentWindow.pendingNewLine=!0:y===14?F.currentWindow.clearText():y===141&&T++},Tt.prototype.extendedCommands=function(d,g){var _=this.current708Packet.data,y=_[++d];return qs(y)&&(d=this.handleText(d,g,{isExtended:!0})),d},Tt.prototype.getPts=function(d){return this.current708Packet.ptsVals[Math.floor(d/2)]},Tt.prototype.initService=function(d,g){var y="SERVICE"+d,_=this,y,T;return y in this.serviceEncodings&&(T=this.serviceEncodings[y]),this.services[d]=new ja(d,T,_),this.services[d].init(this.getPts(g),function(w){_.flushDisplayed(w,_.services[d])}),this.services[d]},Tt.prototype.handleText=function(d,g,_){var y=_&&_.isExtended,T=_&&_.isMultiByte,w=this.current708Packet.data,F=y?4096:0,U=w[d],H=w[d+1],G=g.currentWindow,J,ce;function Oe(Te){return Te.map(Ge=>("0"+(Ge&255).toString(16)).slice(-2)).join("")}if(T?(ce=[U,H],d++):ce=[U],g.textDecoder_&&!y)J=g.textDecoder_.decode(new Uint8Array(ce));else if(T){const Te=Oe(ce);J=String.fromCharCode(parseInt(Te,16))}else J=Kf(F|U);return G.pendingNewLine&&!G.isEmpty()&&G.newLine(this.getPts(d)),G.pendingNewLine=!1,G.addText(J),d},Tt.prototype.multiByteCharacter=function(d,g){var _=this.current708Packet.data,y=_[d+1],T=_[d+2];return qs(y)&&qs(T)&&(d=this.handleText(++d,g,{isMultiByte:!0})),d},Tt.prototype.setCurrentWindow=function(d,g){var _=this.current708Packet.data,y=_[d],T=y&7;return g.setCurrentWindow(T),d},Tt.prototype.defineWindow=function(d,g){var _=this.current708Packet.data,y=_[d],T=y&7;g.setCurrentWindow(T);var w=g.currentWindow;return y=_[++d],w.visible=(y&32)>>5,w.rowLock=(y&16)>>4,w.columnLock=(y&8)>>3,w.priority=y&7,y=_[++d],w.relativePositioning=(y&128)>>7,w.anchorVertical=y&127,y=_[++d],w.anchorHorizontal=y,y=_[++d],w.anchorPoint=(y&240)>>4,w.rowCount=y&15,y=_[++d],w.columnCount=y&63,y=_[++d],w.windowStyle=(y&56)>>3,w.penStyle=y&7,w.virtualRowCount=w.rowCount+1,d},Tt.prototype.setWindowAttributes=function(d,g){var _=this.current708Packet.data,y=_[d],T=g.currentWindow.winAttr;return y=_[++d],T.fillOpacity=(y&192)>>6,T.fillRed=(y&48)>>4,T.fillGreen=(y&12)>>2,T.fillBlue=y&3,y=_[++d],T.borderType=(y&192)>>6,T.borderRed=(y&48)>>4,T.borderGreen=(y&12)>>2,T.borderBlue=y&3,y=_[++d],T.borderType+=(y&128)>>5,T.wordWrap=(y&64)>>6,T.printDirection=(y&48)>>4,T.scrollDirection=(y&12)>>2,T.justify=y&3,y=_[++d],T.effectSpeed=(y&240)>>4,T.effectDirection=(y&12)>>2,T.displayEffect=y&3,d},Tt.prototype.flushDisplayed=function(d,g){for(var _=[],y=0;y<8;y++)g.windows[y].visible&&!g.windows[y].isEmpty()&&_.push(g.windows[y].getText());g.endPts=d,g.text=_.join(`

`),this.pushCaption(g),g.startPts=d},Tt.prototype.pushCaption=function(d){d.text!==""&&(this.trigger("data",{startPts:d.startPts,endPts:d.endPts,text:d.text,stream:"cc708_"+d.serviceNum}),d.text="",d.startPts=d.endPts)},Tt.prototype.displayWindows=function(d,g){var _=this.current708Packet.data,y=_[++d],T=this.getPts(d);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&(g.windows[w].visible=1);return d},Tt.prototype.hideWindows=function(d,g){var _=this.current708Packet.data,y=_[++d],T=this.getPts(d);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&(g.windows[w].visible=0);return d},Tt.prototype.toggleWindows=function(d,g){var _=this.current708Packet.data,y=_[++d],T=this.getPts(d);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&(g.windows[w].visible^=1);return d},Tt.prototype.clearWindows=function(d,g){var _=this.current708Packet.data,y=_[++d],T=this.getPts(d);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&g.windows[w].clearText();return d},Tt.prototype.deleteWindows=function(d,g){var _=this.current708Packet.data,y=_[++d],T=this.getPts(d);this.flushDisplayed(T,g);for(var w=0;w<8;w++)y&1<<w&&g.windows[w].reset();return d},Tt.prototype.setPenAttributes=function(d,g){var _=this.current708Packet.data,y=_[d],T=g.currentWindow.penAttr;return y=_[++d],T.textTag=(y&240)>>4,T.offset=(y&12)>>2,T.penSize=y&3,y=_[++d],T.italics=(y&128)>>7,T.underline=(y&64)>>6,T.edgeType=(y&56)>>3,T.fontStyle=y&7,d},Tt.prototype.setPenColor=function(d,g){var _=this.current708Packet.data,y=_[d],T=g.currentWindow.penColor;return y=_[++d],T.fgOpacity=(y&192)>>6,T.fgRed=(y&48)>>4,T.fgGreen=(y&12)>>2,T.fgBlue=y&3,y=_[++d],T.bgOpacity=(y&192)>>6,T.bgRed=(y&48)>>4,T.bgGreen=(y&12)>>2,T.bgBlue=y&3,y=_[++d],T.edgeRed=(y&48)>>4,T.edgeGreen=(y&12)>>2,T.edgeBlue=y&3,d},Tt.prototype.setPenLocation=function(d,g){var _=this.current708Packet.data,y=_[d],T=g.currentWindow.penLoc;return g.currentWindow.pendingNewLine=!0,y=_[++d],T.row=y&15,y=_[++d],T.column=y&63,d},Tt.prototype.reset=function(d,g){var _=this.getPts(d);return this.flushDisplayed(_,g),this.initService(g.serviceNum,d)};var Xf={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ki=function(d){return d===null?"":(d=Xf[d]||d,String.fromCharCode(d))},Vs=14,hu=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Xi=function(){for(var d=[],g=Vs+1;g--;)d.push({text:"",indent:0,offset:0});return d},Et=function(d,g){Et.prototype.init.call(this),this.field_=d||0,this.dataChannel_=g||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(_){var y,T,w,F,U;if(y=_.ccData&32639,y===this.lastControlCode_){this.lastControlCode_=null;return}if((y&61440)===4096?this.lastControlCode_=y:y!==this.PADDING_&&(this.lastControlCode_=null),w=y>>>8,F=y&255,y!==this.PADDING_)if(y===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(y===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(_.pts),this.flushDisplayed(_.pts),T=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=T,this.startPts_=_.pts;else if(y===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(_.pts);else if(y===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(_.pts);else if(y===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(_.pts);else if(y===this.CARRIAGE_RETURN_)this.clearFormatting(_.pts),this.flushDisplayed(_.pts),this.shiftRowsUp_(),this.startPts_=_.pts;else if(y===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(y===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(_.pts),this.displayed_=Xi();else if(y===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Xi();else if(y===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(_.pts),this.displayed_=Xi()),this.mode_="paintOn",this.startPts_=_.pts;else if(this.isSpecialCharacter(w,F))w=(w&3)<<8,U=Ki(w|F),this[this.mode_](_.pts,U),this.column_++;else if(this.isExtCharacter(w,F))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),w=(w&3)<<8,U=Ki(w|F),this[this.mode_](_.pts,U),this.column_++;else if(this.isMidRowCode(w,F))this.clearFormatting(_.pts),this[this.mode_](_.pts," "),this.column_++,(F&14)===14&&this.addFormatting(_.pts,["i"]),(F&1)===1&&this.addFormatting(_.pts,["u"]);else if(this.isOffsetControlCode(w,F)){const G=F&3;this.nonDisplayed_[this.row_].offset=G,this.column_+=G}else if(this.isPAC(w,F)){var H=hu.indexOf(y&7968);if(this.mode_==="rollUp"&&(H-this.rollUpRows_+1<0&&(H=this.rollUpRows_-1),this.setRollUp(_.pts,H)),H!==this.row_&&(this.clearFormatting(_.pts),this.row_=H),F&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(_.pts,["u"]),(y&16)===16){const G=(y&14)>>1;this.column_=G*4,this.nonDisplayed_[this.row_].indent+=G}this.isColorPAC(F)&&(F&14)===14&&this.addFormatting(_.pts,["i"])}else this.isNormalChar(w)&&(F===0&&(F=null),U=Ki(w),U+=Ki(F),this[this.mode_](_.pts,U),this.column_+=U.length)}};Et.prototype=new Hs,Et.prototype.flushDisplayed=function(d){const g=y=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+y+"."})},_=[];this.displayed_.forEach((y,T)=>{if(y&&y.text&&y.text.length){try{y.text=y.text.trim()}catch{g(T)}y.text.length&&_.push({text:y.text,line:T+1,position:10+Math.min(70,y.indent*10)+y.offset*2.5})}else y==null&&g(T)}),_.length&&this.trigger("data",{startPts:this.startPts_,endPts:d,content:_,stream:this.name_})},Et.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Xi(),this.nonDisplayed_=Xi(),this.lastControlCode_=null,this.column_=0,this.row_=Vs,this.rollUpRows_=2,this.formatting_=[]},Et.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Et.prototype.isSpecialCharacter=function(d,g){return d===this.EXT_&&g>=48&&g<=63},Et.prototype.isExtCharacter=function(d,g){return(d===this.EXT_+1||d===this.EXT_+2)&&g>=32&&g<=63},Et.prototype.isMidRowCode=function(d,g){return d===this.EXT_&&g>=32&&g<=47},Et.prototype.isOffsetControlCode=function(d,g){return d===this.OFFSET_&&g>=33&&g<=35},Et.prototype.isPAC=function(d,g){return d>=this.BASE_&&d<this.BASE_+8&&g>=64&&g<=127},Et.prototype.isColorPAC=function(d){return d>=64&&d<=79||d>=96&&d<=127},Et.prototype.isNormalChar=function(d){return d>=32&&d<=127},Et.prototype.setRollUp=function(d,g){if(this.mode_!=="rollUp"&&(this.row_=Vs,this.mode_="rollUp",this.flushDisplayed(d),this.nonDisplayed_=Xi(),this.displayed_=Xi()),g!==void 0&&g!==this.row_)for(var _=0;_<this.rollUpRows_;_++)this.displayed_[g-_]=this.displayed_[this.row_-_],this.displayed_[this.row_-_]={text:"",indent:0,offset:0};g===void 0&&(g=this.row_),this.topRow_=g-this.rollUpRows_+1},Et.prototype.addFormatting=function(d,g){this.formatting_=this.formatting_.concat(g);var _=g.reduce(function(y,T){return y+"<"+T+">"},"");this[this.mode_](d,_)},Et.prototype.clearFormatting=function(d){if(this.formatting_.length){var g=this.formatting_.reverse().reduce(function(_,y){return _+"</"+y+">"},"");this.formatting_=[],this[this.mode_](d,g)}},Et.prototype.popOn=function(d,g){var _=this.nonDisplayed_[this.row_].text;_+=g,this.nonDisplayed_[this.row_].text=_},Et.prototype.rollUp=function(d,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_},Et.prototype.shiftRowsUp_=function(){var d;for(d=0;d<this.topRow_;d++)this.displayed_[d]={text:"",indent:0,offset:0};for(d=this.row_+1;d<Vs+1;d++)this.displayed_[d]={text:"",indent:0,offset:0};for(d=this.topRow_;d<this.row_;d++)this.displayed_[d]=this.displayed_[d+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Et.prototype.paintOn=function(d,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_};var pu={CaptionStream:Pn,Cea608Stream:Et,Cea708Stream:Tt},$a={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ws=n,lc=8589934592,cc=4294967296,gu="shared",Ha=function(d,g){var _=1;for(d>g&&(_=-1);Math.abs(g-d)>cc;)d+=_*lc;return d},mu=function(d){var g,_;mu.prototype.init.call(this),this.type_=d||gu,this.push=function(y){this.type_!==gu&&y.type!==this.type_||(_===void 0&&(_=y.dts),y.dts=Ha(y.dts,_),y.pts=Ha(y.pts,_),g=y.dts,this.trigger("data",y))},this.flush=function(){_=g,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){_=void 0,g=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};mu.prototype=new Ws;var qa={TimestampRolloverStream:mu,handleRollover:Ha},Yf=(d,g,_)=>{if(!d)return-1;for(var y=_;y<d.length;y++)if(d[y]===g)return y;return-1},Qf={typedArrayIndexOf:Yf},zs=Qf.typedArrayIndexOf,Gs={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Va=function(d,g,_){var y,T="";for(y=g;y<_;y++)T+="%"+("00"+d[y].toString(16)).slice(-2);return T},ds=function(d,g,_){return decodeURIComponent(Va(d,g,_))},on=function(d,g,_){return unescape(Va(d,g,_))},Pi=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},ar={APIC:function(d){var g=1,_,y,T="-->";d.data[0]===Gs.Utf8&&(_=zs(d.data,0,g),!(_<0)&&(d.mimeType=on(d.data,g,_),g=_+1,d.pictureType=d.data[g],g++,y=zs(d.data,0,g),!(y<0)&&(d.description=ds(d.data,g,y),g=y+1,d.mimeType===T?d.url=on(d.data,g,d.data.length):d.pictureData=d.data.subarray(g,d.data.length))))},"T*":function(d){d.data[0]===Gs.Utf8&&(d.value=ds(d.data,1,d.data.length).replace(/\0*$/,""),d.values=d.value.split("\0"))},TXXX:function(d){var g;d.data[0]===Gs.Utf8&&(g=zs(d.data,0,1),g!==-1&&(d.description=ds(d.data,1,g),d.value=ds(d.data,g+1,d.data.length).replace(/\0*$/,""),d.data=d.value))},"W*":function(d){d.url=on(d.data,0,d.data.length).replace(/\0.*$/,"")},WXXX:function(d){var g;d.data[0]===Gs.Utf8&&(g=zs(d.data,0,1),g!==-1&&(d.description=ds(d.data,1,g),d.url=on(d.data,g+1,d.data.length).replace(/\0.*$/,"")))},PRIV:function(d){var g;for(g=0;g<d.data.length;g++)if(d.data[g]===0){d.owner=on(d.data,0,g);break}d.privateData=d.data.subarray(g+1),d.data=d.privateData}},Jf=function(d){var g,_,y=10,T=0,w=[];if(!(d.length<10||d[0]!=="I".charCodeAt(0)||d[1]!=="D".charCodeAt(0)||d[2]!=="3".charCodeAt(0))){T=Pi(d.subarray(6,10)),T+=10;var F=d[5]&64;F&&(y+=4,y+=Pi(d.subarray(10,14)),T-=Pi(d.subarray(16,20)));do{if(g=Pi(d.subarray(y+4,y+8)),g<1)break;_=String.fromCharCode(d[y],d[y+1],d[y+2],d[y+3]);var U={id:_,data:d.subarray(y+10,y+g+10)};U.key=U.id,ar[U.id]?ar[U.id](U):U.id[0]==="T"?ar["T*"](U):U.id[0]==="W"&&ar["W*"](U),w.push(U),y+=10,y+=g}while(y<T);return w}},dc={parseId3Frames:Jf,parseSyncSafeInteger:Pi,frameParsers:ar},yu=n,fc=$a,vi=dc,Ks;Ks=function(d){var g={descriptor:d&&d.descriptor},_=0,y=[],T=0,w;if(Ks.prototype.init.call(this),this.dispatchType=fc.METADATA_STREAM_TYPE.toString(16),g.descriptor)for(w=0;w<g.descriptor.length;w++)this.dispatchType+=("00"+g.descriptor[w].toString(16)).slice(-2);this.push=function(F){var U,H,G,J,ce,Oe;if(F.type==="timed-metadata"){if(F.dataAlignmentIndicator&&(T=0,y.length=0),y.length===0&&(F.data.length<10||F.data[0]!=="I".charCodeAt(0)||F.data[1]!=="D".charCodeAt(0)||F.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(y.push(F),T+=F.data.byteLength,y.length===1&&(_=vi.parseSyncSafeInteger(F.data.subarray(6,10)),_+=10),!(T<_)){for(U={data:new Uint8Array(_),frames:[],pts:y[0].pts,dts:y[0].dts},ce=0;ce<_;)U.data.set(y[0].data.subarray(0,_-ce),ce),ce+=y[0].data.byteLength,T-=y[0].data.byteLength,y.shift();H=10,U.data[5]&64&&(H+=4,H+=vi.parseSyncSafeInteger(U.data.subarray(10,14)),_-=vi.parseSyncSafeInteger(U.data.subarray(16,20)));do{if(G=vi.parseSyncSafeInteger(U.data.subarray(H+4,H+8)),G<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Oe=String.fromCharCode(U.data[H],U.data[H+1],U.data[H+2],U.data[H+3]),J={id:Oe,data:U.data.subarray(H+10,H+G+10)},J.key=J.id,vi.frameParsers[J.id]?vi.frameParsers[J.id](J):J.id[0]==="T"?vi.frameParsers["T*"](J):J.id[0]==="W"&&vi.frameParsers["W*"](J),J.owner==="com.apple.streaming.transportStreamTimestamp"){var Te=J.data,Ge=(Te[3]&1)<<30|Te[4]<<22|Te[5]<<14|Te[6]<<6|Te[7]>>>2;Ge*=4,Ge+=Te[7]&3,J.timeStamp=Ge,U.pts===void 0&&U.dts===void 0&&(U.pts=J.timeStamp,U.dts=J.timeStamp),this.trigger("timestamp",J)}U.frames.push(J),H+=10,H+=G}while(H<_);this.trigger("data",U)}}}},Ks.prototype=new yu;var Zf=Ks,_u=n,$n=pu,ii=$a,Xs=qa.TimestampRolloverStream,Wa,Ys,Oi,ri=188,Qs=71;Wa=function(){var d=new Uint8Array(ri),g=0;Wa.prototype.init.call(this),this.push=function(_){var y=0,T=ri,w;for(g?(w=new Uint8Array(_.byteLength+g),w.set(d.subarray(0,g)),w.set(_,g),g=0):w=_;T<w.byteLength;){if(w[y]===Qs&&w[T]===Qs){this.trigger("data",w.subarray(y,T)),y+=ri,T+=ri;continue}y++,T++}y<w.byteLength&&(d.set(w.subarray(y),0),g=w.byteLength-y)},this.flush=function(){g===ri&&d[0]===Qs&&(this.trigger("data",d),g=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){g=0,this.trigger("reset")}},Wa.prototype=new _u,Ys=function(){var d,g,_,y;Ys.prototype.init.call(this),y=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,d=function(T,w){var F=0;w.payloadUnitStartIndicator&&(F+=T[F]+1),w.type==="pat"?g(T.subarray(F),w):_(T.subarray(F),w)},g=function(T,w){w.section_number=T[7],w.last_section_number=T[8],y.pmtPid=(T[10]&31)<<8|T[11],w.pmtPid=y.pmtPid},_=function(T,w){var F,U,H,G;if(T[5]&1){for(y.programMapTable={video:null,audio:null,"timed-metadata":{}},F=(T[1]&15)<<8|T[2],U=3+F-4,H=(T[10]&15)<<8|T[11],G=12+H;G<U;){var J=T[G],ce=(T[G+1]&31)<<8|T[G+2];J===ii.H264_STREAM_TYPE&&y.programMapTable.video===null?y.programMapTable.video=ce:J===ii.ADTS_STREAM_TYPE&&y.programMapTable.audio===null?y.programMapTable.audio=ce:J===ii.METADATA_STREAM_TYPE&&(y.programMapTable["timed-metadata"][ce]=J),G+=((T[G+3]&15)<<8|T[G+4])+5}w.programMapTable=y.programMapTable}},this.push=function(T){var w={},F=4;if(w.payloadUnitStartIndicator=!!(T[1]&64),w.pid=T[1]&31,w.pid<<=8,w.pid|=T[2],(T[3]&48)>>>4>1&&(F+=T[F]+1),w.pid===0)w.type="pat",d(T.subarray(F),w),this.trigger("data",w);else if(w.pid===this.pmtPid)for(w.type="pmt",d(T.subarray(F),w),this.trigger("data",w);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([T,F,w]):this.processPes_(T,F,w)},this.processPes_=function(T,w,F){F.pid===this.programMapTable.video?F.streamType=ii.H264_STREAM_TYPE:F.pid===this.programMapTable.audio?F.streamType=ii.ADTS_STREAM_TYPE:F.streamType=this.programMapTable["timed-metadata"][F.pid],F.type="pes",F.data=T.subarray(w),this.trigger("data",F)}},Ys.prototype=new _u,Ys.STREAM_TYPES={h264:27,adts:15},Oi=function(){var d=this,g=!1,_={data:[],size:0},y={data:[],size:0},T={data:[],size:0},w,F=function(H,G){var J;const ce=H[0]<<16|H[1]<<8|H[2];G.data=new Uint8Array,ce===1&&(G.packetLength=6+(H[4]<<8|H[5]),G.dataAlignmentIndicator=(H[6]&4)!==0,J=H[7],J&192&&(G.pts=(H[9]&14)<<27|(H[10]&255)<<20|(H[11]&254)<<12|(H[12]&255)<<5|(H[13]&254)>>>3,G.pts*=4,G.pts+=(H[13]&6)>>>1,G.dts=G.pts,J&64&&(G.dts=(H[14]&14)<<27|(H[15]&255)<<20|(H[16]&254)<<12|(H[17]&255)<<5|(H[18]&254)>>>3,G.dts*=4,G.dts+=(H[18]&6)>>>1)),G.data=H.subarray(9+H[8]))},U=function(H,G,J){var ce=new Uint8Array(H.size),Oe={type:G},Te=0,Ge=0,Qe=!1,pn;if(!(!H.data.length||H.size<9)){for(Oe.trackId=H.data[0].pid,Te=0;Te<H.data.length;Te++)pn=H.data[Te],ce.set(pn.data,Ge),Ge+=pn.data.byteLength;F(ce,Oe),Qe=G==="video"||Oe.packetLength<=H.size,(J||Qe)&&(H.size=0,H.data.length=0),Qe&&d.trigger("data",Oe)}};Oi.prototype.init.call(this),this.push=function(H){({pat:function(){},pes:function(){var G,J;switch(H.streamType){case ii.H264_STREAM_TYPE:G=_,J="video";break;case ii.ADTS_STREAM_TYPE:G=y,J="audio";break;case ii.METADATA_STREAM_TYPE:G=T,J="timed-metadata";break;default:return}H.payloadUnitStartIndicator&&U(G,J,!0),G.data.push(H),G.size+=H.data.byteLength},pmt:function(){var G={type:"metadata",tracks:[]};w=H.programMapTable,w.video!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),g=!0,d.trigger("data",G)}})[H.type]()},this.reset=function(){_.size=0,_.data.length=0,y.size=0,y.data.length=0,this.trigger("reset")},this.flushStreams_=function(){U(_,"video"),U(y,"audio"),U(T,"timed-metadata")},this.flush=function(){if(!g&&w){var H={type:"metadata",tracks:[]};w.video!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),d.trigger("data",H)}g=!1,this.flushStreams_(),this.trigger("done")}},Oi.prototype=new _u;var hc={PAT_PID:0,MP2T_PACKET_LENGTH:ri,TransportPacketStream:Wa,TransportParseStream:Ys,ElementaryStream:Oi,TimestampRolloverStream:Xs,CaptionStream:$n.CaptionStream,Cea608Stream:$n.Cea608Stream,Cea708Stream:$n.Cea708Stream,MetadataStream:Zf};for(var Br in ii)ii.hasOwnProperty(Br)&&(hc[Br]=ii[Br]);var pc=hc,vu=n,gc=dt.ONE_SECOND_IN_TS,Js,mc=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Js=function(d){var g,_=0;Js.prototype.init.call(this),this.skipWarn_=function(y,T){this.trigger("log",{level:"warn",message:`adts skiping bytes ${y} to ${T} in frame ${_} outside syncword`})},this.push=function(y){var T=0,w,F,U,H,G;if(d||(_=0),y.type==="audio"){g&&g.length?(U=g,g=new Uint8Array(U.byteLength+y.data.byteLength),g.set(U),g.set(y.data,U.byteLength)):g=y.data;for(var J;T+7<g.length;){if(g[T]!==255||(g[T+1]&246)!==240){typeof J!="number"&&(J=T),T++;continue}if(typeof J=="number"&&(this.skipWarn_(J,T),J=null),F=(~g[T+1]&1)*2,w=(g[T+3]&3)<<11|g[T+4]<<3|(g[T+5]&224)>>5,H=((g[T+6]&3)+1)*1024,G=H*gc/mc[(g[T+2]&60)>>>2],g.byteLength-T<w)break;this.trigger("data",{pts:y.pts+_*G,dts:y.dts+_*G,sampleCount:H,audioobjecttype:(g[T+2]>>>6&3)+1,channelcount:(g[T+2]&1)<<2|(g[T+3]&192)>>>6,samplerate:mc[(g[T+2]&60)>>>2],samplingfrequencyindex:(g[T+2]&60)>>>2,samplesize:16,data:g.subarray(T+7+F,T+w)}),_++,T+=w}typeof J=="number"&&(this.skipWarn_(J,T),J=null),g=g.subarray(T)}},this.flush=function(){_=0,this.trigger("done")},this.reset=function(){g=void 0,this.trigger("reset")},this.endTimeline=function(){g=void 0,this.trigger("endedtimeline")}},Js.prototype=new vu;var yc=Js,_c;_c=function(d){var g=d.byteLength,_=0,y=0;this.length=function(){return 8*g},this.bitsAvailable=function(){return 8*g+y},this.loadWord=function(){var T=d.byteLength-g,w=new Uint8Array(4),F=Math.min(4,g);if(F===0)throw new Error("no bytes available");w.set(d.subarray(T,T+F)),_=new DataView(w.buffer).getUint32(0),y=F*8,g-=F},this.skipBits=function(T){var w;y>T?(_<<=T,y-=T):(T-=y,w=Math.floor(T/8),T-=w*8,g-=w,this.loadWord(),_<<=T,y-=T)},this.readBits=function(T){var w=Math.min(y,T),F=_>>>32-w;return y-=w,y>0?_<<=w:g>0&&this.loadWord(),w=T-w,w>0?F<<w|this.readBits(w):F},this.skipLeadingZeros=function(){var T;for(T=0;T<y;++T)if(_&2147483648>>>T)return _<<=T,y-=T,T;return this.loadWord(),T+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var T=this.skipLeadingZeros();return this.readBits(T+1)-1},this.readExpGolomb=function(){var T=this.readUnsignedExpGolomb();return 1&T?1+T>>>1:-1*(T>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var eh=_c,za=n,th=eh,Ga,Zs,vc;Zs=function(){var d=0,g,_;Zs.prototype.init.call(this),this.push=function(y){var T;_?(T=new Uint8Array(_.byteLength+y.data.byteLength),T.set(_),T.set(y.data,_.byteLength),_=T):_=y.data;for(var w=_.byteLength;d<w-3;d++)if(_[d+2]===1){g=d+5;break}for(;g<w;)switch(_[g]){case 0:if(_[g-1]!==0){g+=2;break}else if(_[g-2]!==0){g++;break}d+3!==g-2&&this.trigger("data",_.subarray(d+3,g-2));do g++;while(_[g]!==1&&g<w);d=g-2,g+=3;break;case 1:if(_[g-1]!==0||_[g-2]!==0){g+=3;break}this.trigger("data",_.subarray(d+3,g-2)),d=g-2,g+=3;break;default:g+=3;break}_=_.subarray(d),g-=d,d=0},this.reset=function(){_=null,d=0,this.trigger("reset")},this.flush=function(){_&&_.byteLength>3&&this.trigger("data",_.subarray(d+3)),_=null,d=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Zs.prototype=new za,vc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Ga=function(){var d=new Zs,g,_,y,T,w,F,U;Ga.prototype.init.call(this),g=this,this.push=function(H){H.type==="video"&&(_=H.trackId,y=H.pts,T=H.dts,d.push(H))},d.on("data",function(H){var G={trackId:_,pts:y,dts:T,data:H,nalUnitTypeCode:H[0]&31};switch(G.nalUnitTypeCode){case 5:G.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:G.nalUnitType="sei_rbsp",G.escapedRBSP=w(H.subarray(1));break;case 7:G.nalUnitType="seq_parameter_set_rbsp",G.escapedRBSP=w(H.subarray(1)),G.config=F(G.escapedRBSP);break;case 8:G.nalUnitType="pic_parameter_set_rbsp";break;case 9:G.nalUnitType="access_unit_delimiter_rbsp";break}g.trigger("data",G)}),d.on("done",function(){g.trigger("done")}),d.on("partialdone",function(){g.trigger("partialdone")}),d.on("reset",function(){g.trigger("reset")}),d.on("endedtimeline",function(){g.trigger("endedtimeline")}),this.flush=function(){d.flush()},this.partialFlush=function(){d.partialFlush()},this.reset=function(){d.reset()},this.endTimeline=function(){d.endTimeline()},U=function(H,G){var J=8,ce=8,Oe,Te;for(Oe=0;Oe<H;Oe++)ce!==0&&(Te=G.readExpGolomb(),ce=(J+Te+256)%256),J=ce===0?J:ce},w=function(H){for(var G=H.byteLength,J=[],ce=1,Oe,Te;ce<G-2;)H[ce]===0&&H[ce+1]===0&&H[ce+2]===3?(J.push(ce+2),ce+=2):ce++;if(J.length===0)return H;Oe=G-J.length,Te=new Uint8Array(Oe);var Ge=0;for(ce=0;ce<Oe;Ge++,ce++)Ge===J[0]&&(Ge++,J.shift()),Te[ce]=H[Ge];return Te},F=function(H){var G=0,J=0,ce=0,Oe=0,Te,Ge,Qe,pn,Ni,aa,B0,F0,U0,vh,j0,sn=[1,1],$0,oa;if(Te=new th(H),Ge=Te.readUnsignedByte(),pn=Te.readUnsignedByte(),Qe=Te.readUnsignedByte(),Te.skipUnsignedExpGolomb(),vc[Ge]&&(Ni=Te.readUnsignedExpGolomb(),Ni===3&&Te.skipBits(1),Te.skipUnsignedExpGolomb(),Te.skipUnsignedExpGolomb(),Te.skipBits(1),Te.readBoolean()))for(j0=Ni!==3?8:12,oa=0;oa<j0;oa++)Te.readBoolean()&&(oa<6?U(16,Te):U(64,Te));if(Te.skipUnsignedExpGolomb(),aa=Te.readUnsignedExpGolomb(),aa===0)Te.readUnsignedExpGolomb();else if(aa===1)for(Te.skipBits(1),Te.skipExpGolomb(),Te.skipExpGolomb(),B0=Te.readUnsignedExpGolomb(),oa=0;oa<B0;oa++)Te.skipExpGolomb();if(Te.skipUnsignedExpGolomb(),Te.skipBits(1),F0=Te.readUnsignedExpGolomb(),U0=Te.readUnsignedExpGolomb(),vh=Te.readBits(1),vh===0&&Te.skipBits(1),Te.skipBits(1),Te.readBoolean()&&(G=Te.readUnsignedExpGolomb(),J=Te.readUnsignedExpGolomb(),ce=Te.readUnsignedExpGolomb(),Oe=Te.readUnsignedExpGolomb()),Te.readBoolean()&&Te.readBoolean()){switch($0=Te.readUnsignedByte(),$0){case 1:sn=[1,1];break;case 2:sn=[12,11];break;case 3:sn=[10,11];break;case 4:sn=[16,11];break;case 5:sn=[40,33];break;case 6:sn=[24,11];break;case 7:sn=[20,11];break;case 8:sn=[32,11];break;case 9:sn=[80,33];break;case 10:sn=[18,11];break;case 11:sn=[15,11];break;case 12:sn=[64,33];break;case 13:sn=[160,99];break;case 14:sn=[4,3];break;case 15:sn=[3,2];break;case 16:sn=[2,1];break;case 255:{sn=[Te.readUnsignedByte()<<8|Te.readUnsignedByte(),Te.readUnsignedByte()<<8|Te.readUnsignedByte()];break}}sn&&sn[0]/sn[1]}return{profileIdc:Ge,levelIdc:Qe,profileCompatibility:pn,width:(F0+1)*16-G*2-J*2,height:(2-vh)*(U0+1)*16-ce*2-Oe*2,sarRatio:sn}}},Ga.prototype=new za;var nh={H264Stream:Ga,NalByteStream:Zs},ih=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],bc=function(d,g){var _=d[g+6]<<21|d[g+7]<<14|d[g+8]<<7|d[g+9],y=d[g+5],T=(y&16)>>4;return _=_>=0?_:0,T?_+20:_+10},bu=function(d,g){return d.length-g<10||d[g]!=="I".charCodeAt(0)||d[g+1]!=="D".charCodeAt(0)||d[g+2]!=="3".charCodeAt(0)?g:(g+=bc(d,g),bu(d,g))},Tu=function(d){var g=bu(d,0);return d.length>=g+2&&(d[g]&255)===255&&(d[g+1]&240)===240&&(d[g+1]&22)===16},xu=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},Eu=function(d,g,_){var y,T="";for(y=g;y<_;y++)T+="%"+("00"+d[y].toString(16)).slice(-2);return T},Tc=function(d,g,_){return unescape(Eu(d,g,_))},xc=function(d,g){var _=(d[g+5]&224)>>5,y=d[g+4]<<3,T=d[g+3]&6144;return T|y|_},Su=function(d,g){return d[g]==="I".charCodeAt(0)&&d[g+1]==="D".charCodeAt(0)&&d[g+2]==="3".charCodeAt(0)?"timed-metadata":d[g]&!0&&(d[g+1]&240)===240?"audio":null},rh=function(d){for(var g=0;g+5<d.length;){if(d[g]!==255||(d[g+1]&246)!==240){g++;continue}return ih[(d[g+2]&60)>>>2]}return null},sh=function(d){var g,_,y,T;g=10,d[5]&64&&(g+=4,g+=xu(d.subarray(10,14)));do{if(_=xu(d.subarray(g+4,g+8)),_<1)return null;if(T=String.fromCharCode(d[g],d[g+1],d[g+2],d[g+3]),T==="PRIV"){y=d.subarray(g+10,g+_+10);for(var w=0;w<y.byteLength;w++)if(y[w]===0){var F=Tc(y,0,w);if(F==="com.apple.streaming.transportStreamTimestamp"){var U=y.subarray(w+1),H=(U[3]&1)<<30|U[4]<<22|U[5]<<14|U[6]<<6|U[7]>>>2;return H*=4,H+=U[7]&3,H}break}}g+=10,g+=_}while(g<d.byteLength);return null},Cu={isLikelyAacData:Tu,parseId3TagSize:bc,parseAdtsSize:xc,parseType:Su,parseSampleRate:rh,parseAacTimestamp:sh},ea=n,wu=Cu,fs;fs=function(){var d=new Uint8Array,g=0;fs.prototype.init.call(this),this.setTimestamp=function(_){g=_},this.push=function(_){var y=0,T=0,w,F,U,H;for(d.length?(H=d.length,d=new Uint8Array(_.byteLength+H),d.set(d.subarray(0,H)),d.set(_,H)):d=_;d.length-T>=3;){if(d[T]==="I".charCodeAt(0)&&d[T+1]==="D".charCodeAt(0)&&d[T+2]==="3".charCodeAt(0)){if(d.length-T<10||(y=wu.parseId3TagSize(d,T),T+y>d.length))break;F={type:"timed-metadata",data:d.subarray(T,T+y)},this.trigger("data",F),T+=y;continue}else if((d[T]&255)===255&&(d[T+1]&240)===240){if(d.length-T<7||(y=wu.parseAdtsSize(d,T),T+y>d.length))break;U={type:"audio",data:d.subarray(T,T+y),pts:g,dts:g},this.trigger("data",U),T+=y;continue}T++}w=d.length-T,w>0?d=d.subarray(T):d=new Uint8Array},this.reset=function(){d=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){d=new Uint8Array,this.trigger("endedtimeline")}},fs.prototype=new ea;var ah=fs,oh=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],uh=oh,l=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],h=l,v=n,x=_e,D=oe,k=Wf,O=ni,z=pc,q=dt,Y=yc,fe=nh.H264Stream,ge=ah,se=Cu.isLikelyAacData,Ce=dt.ONE_SECOND_IN_TS,Xe=uh,ot=h,Ye,Wt,zt,gn,Ri=function(d,g){g.stream=d,this.trigger("log",g)},at=function(d,g){for(var _=Object.keys(g),y=0;y<_.length;y++){var T=_[y];T==="headOfPipeline"||!g[T].on||g[T].on("log",Ri.bind(d,T))}},or=function(d,g){var _;if(d.length!==g.length)return!1;for(_=0;_<d.length;_++)if(d[_]!==g[_])return!1;return!0},lt=function(d,g,_,y,T,w){var F=_-g,U=y-g,H=T-_;return{start:{dts:d,pts:d+F},end:{dts:d+U,pts:d+H},prependedContentDuration:w,baseMediaDecodeTime:d}};Wt=function(d,g){var _=[],y,T=0,w=0,F=1/0;g=g||{},y=g.firstSequenceNumber||0,Wt.prototype.init.call(this),this.push=function(U){O.collectDtsInfo(d,U),d&&Xe.forEach(function(H){d[H]=U[H]}),_.push(U)},this.setEarliestDts=function(U){T=U},this.setVideoBaseMediaDecodeTime=function(U){F=U},this.setAudioAppendStart=function(U){w=U},this.flush=function(){var U,H,G,J,ce,Oe,Te;if(_.length===0){this.trigger("done","AudioSegmentStream");return}U=k.trimAdtsFramesByEarliestDts(_,d,T),d.baseMediaDecodeTime=O.calculateTrackBaseMediaDecodeTime(d,g.keepOriginalTimestamps),Te=k.prefixWithSilence(d,U,w,F),d.samples=k.generateSampleTable(U),G=x.mdat(k.concatenateFrameData(U)),_=[],H=x.moof(y,[d]),J=new Uint8Array(H.byteLength+G.byteLength),y++,J.set(H),J.set(G,H.byteLength),O.clearDtsInfo(d),ce=Math.ceil(Ce*1024/d.samplerate),U.length&&(Oe=U.length*ce,this.trigger("segmentTimingInfo",lt(q.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),U[0].dts,U[0].pts,U[0].dts+Oe,U[0].pts+Oe,Te||0)),this.trigger("timingInfo",{start:U[0].pts,end:U[0].pts+Oe})),this.trigger("data",{track:d,boxes:J}),this.trigger("done","AudioSegmentStream")},this.reset=function(){O.clearDtsInfo(d),_=[],this.trigger("reset")}},Wt.prototype=new v,Ye=function(d,g){var _,y=[],T=[],w,F;g=g||{},_=g.firstSequenceNumber||0,Ye.prototype.init.call(this),delete d.minPTS,this.gopCache_=[],this.push=function(U){O.collectDtsInfo(d,U),U.nalUnitType==="seq_parameter_set_rbsp"&&!w&&(w=U.config,d.sps=[U.data],ot.forEach(function(H){d[H]=w[H]},this)),U.nalUnitType==="pic_parameter_set_rbsp"&&!F&&(F=U.data,d.pps=[U.data]),y.push(U)},this.flush=function(){for(var U,H,G,J,ce,Oe,Te=0,Ge,Qe;y.length&&y[0].nalUnitType!=="access_unit_delimiter_rbsp";)y.shift();if(y.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(U=D.groupNalsIntoFrames(y),G=D.groupFramesIntoGops(U),G[0][0].keyFrame||(H=this.getGopForFusion_(y[0],d),H?(Te=H.duration,G.unshift(H),G.byteLength+=H.byteLength,G.nalCount+=H.nalCount,G.pts=H.pts,G.dts=H.dts,G.duration+=H.duration):G=D.extendFirstKeyFrame(G)),T.length){var pn;if(g.alignGopsAtEnd?pn=this.alignGopsAtEnd_(G):pn=this.alignGopsAtStart_(G),!pn){this.gopCache_.unshift({gop:G.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),y=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}O.clearDtsInfo(d),G=pn}O.collectDtsInfo(d,G),d.samples=D.generateSampleTable(G),ce=x.mdat(D.concatenateNalData(G)),d.baseMediaDecodeTime=O.calculateTrackBaseMediaDecodeTime(d,g.keepOriginalTimestamps),this.trigger("processedGopsInfo",G.map(function(Ni){return{pts:Ni.pts,dts:Ni.dts,byteLength:Ni.byteLength}})),Ge=G[0],Qe=G[G.length-1],this.trigger("segmentTimingInfo",lt(d.baseMediaDecodeTime,Ge.dts,Ge.pts,Qe.dts+Qe.duration,Qe.pts+Qe.duration,Te)),this.trigger("timingInfo",{start:G[0].pts,end:G[G.length-1].pts+G[G.length-1].duration}),this.gopCache_.unshift({gop:G.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),y=[],this.trigger("baseMediaDecodeTime",d.baseMediaDecodeTime),this.trigger("timelineStartInfo",d.timelineStartInfo),J=x.moof(_,[d]),Oe=new Uint8Array(J.byteLength+ce.byteLength),_++,Oe.set(J),Oe.set(ce,J.byteLength),this.trigger("data",{track:d,boxes:Oe}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),y=[],this.gopCache_.length=0,T.length=0,this.trigger("reset")},this.resetStream_=function(){O.clearDtsInfo(d),w=void 0,F=void 0},this.getGopForFusion_=function(U){var H=45e3,G=1e4,J=1/0,ce,Oe,Te,Ge,Qe;for(Qe=0;Qe<this.gopCache_.length;Qe++)Ge=this.gopCache_[Qe],Te=Ge.gop,!(!(d.pps&&or(d.pps[0],Ge.pps[0]))||!(d.sps&&or(d.sps[0],Ge.sps[0])))&&(Te.dts<d.timelineStartInfo.dts||(ce=U.dts-Te.dts-Te.duration,ce>=-G&&ce<=H&&(!Oe||J>ce)&&(Oe=Ge,J=ce)));return Oe?Oe.gop:null},this.alignGopsAtStart_=function(U){var H,G,J,ce,Oe,Te,Ge,Qe;for(Oe=U.byteLength,Te=U.nalCount,Ge=U.duration,H=G=0;H<T.length&&G<U.length&&(J=T[H],ce=U[G],J.pts!==ce.pts);){if(ce.pts>J.pts){H++;continue}G++,Oe-=ce.byteLength,Te-=ce.nalCount,Ge-=ce.duration}return G===0?U:G===U.length?null:(Qe=U.slice(G),Qe.byteLength=Oe,Qe.duration=Ge,Qe.nalCount=Te,Qe.pts=Qe[0].pts,Qe.dts=Qe[0].dts,Qe)},this.alignGopsAtEnd_=function(U){var H,G,J,ce,Oe,Te;for(H=T.length-1,G=U.length-1,Oe=null,Te=!1;H>=0&&G>=0;){if(J=T[H],ce=U[G],J.pts===ce.pts){Te=!0;break}if(J.pts>ce.pts){H--;continue}H===T.length-1&&(Oe=G),G--}if(!Te&&Oe===null)return null;var Ge;if(Te?Ge=G:Ge=Oe,Ge===0)return U;var Qe=U.slice(Ge),pn=Qe.reduce(function(Ni,aa){return Ni.byteLength+=aa.byteLength,Ni.duration+=aa.duration,Ni.nalCount+=aa.nalCount,Ni},{byteLength:0,duration:0,nalCount:0});return Qe.byteLength=pn.byteLength,Qe.duration=pn.duration,Qe.nalCount=pn.nalCount,Qe.pts=Qe[0].pts,Qe.dts=Qe[0].dts,Qe},this.alignGopsWith=function(U){T=U}},Ye.prototype=new v,gn=function(d,g){this.numberOfTracks=0,this.metadataStream=g,d=d||{},typeof d.remux<"u"?this.remuxTracks=!!d.remux:this.remuxTracks=!0,typeof d.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=d.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,gn.prototype.init.call(this),this.push=function(_){if(_.content||_.text)return this.pendingCaptions.push(_);if(_.frames)return this.pendingMetadata.push(_);this.pendingTracks.push(_.track),this.pendingBytes+=_.boxes.byteLength,_.track.type==="video"&&(this.videoTrack=_.track,this.pendingBoxes.push(_.boxes)),_.track.type==="audio"&&(this.audioTrack=_.track,this.pendingBoxes.unshift(_.boxes))}},gn.prototype=new v,gn.prototype.flush=function(d){var g=0,_={captions:[],captionStreams:{},metadata:[],info:{}},y,T,w,F=0,U;if(this.pendingTracks.length<this.numberOfTracks){if(d!=="VideoSegmentStream"&&d!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(F=this.videoTrack.timelineStartInfo.pts,ot.forEach(function(H){_.info[H]=this.videoTrack[H]},this)):this.audioTrack&&(F=this.audioTrack.timelineStartInfo.pts,Xe.forEach(function(H){_.info[H]=this.audioTrack[H]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?_.type=this.pendingTracks[0].type:_.type="combined",this.emittedTracks+=this.pendingTracks.length,w=x.initSegment(this.pendingTracks),_.initSegment=new Uint8Array(w.byteLength),_.initSegment.set(w),_.data=new Uint8Array(this.pendingBytes),U=0;U<this.pendingBoxes.length;U++)_.data.set(this.pendingBoxes[U],g),g+=this.pendingBoxes[U].byteLength;for(U=0;U<this.pendingCaptions.length;U++)y=this.pendingCaptions[U],y.startTime=q.metadataTsToSeconds(y.startPts,F,this.keepOriginalTimestamps),y.endTime=q.metadataTsToSeconds(y.endPts,F,this.keepOriginalTimestamps),_.captionStreams[y.stream]=!0,_.captions.push(y);for(U=0;U<this.pendingMetadata.length;U++)T=this.pendingMetadata[U],T.cueTime=q.metadataTsToSeconds(T.pts,F,this.keepOriginalTimestamps),_.metadata.push(T);for(_.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_),U=0;U<_.captions.length;U++)y=_.captions[U],this.trigger("caption",y);for(U=0;U<_.metadata.length;U++)T=_.metadata[U],this.trigger("id3Frame",T)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},gn.prototype.setRemux=function(d){this.remuxTracks=d},zt=function(d){var g=this,_=!0,y,T;zt.prototype.init.call(this),d=d||{},this.baseMediaDecodeTime=d.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="aac",w.metadataStream=new z.MetadataStream,w.aacStream=new ge,w.audioTimestampRolloverStream=new z.TimestampRolloverStream("audio"),w.timedMetadataTimestampRolloverStream=new z.TimestampRolloverStream("timed-metadata"),w.adtsStream=new Y,w.coalesceStream=new gn(d,w.metadataStream),w.headOfPipeline=w.aacStream,w.aacStream.pipe(w.audioTimestampRolloverStream).pipe(w.adtsStream),w.aacStream.pipe(w.timedMetadataTimestampRolloverStream).pipe(w.metadataStream).pipe(w.coalesceStream),w.metadataStream.on("timestamp",function(F){w.aacStream.setTimestamp(F.timeStamp)}),w.aacStream.on("data",function(F){F.type!=="timed-metadata"&&F.type!=="audio"||w.audioSegmentStream||(T=T||{timelineStartInfo:{baseMediaDecodeTime:g.baseMediaDecodeTime},codec:"adts",type:"audio"},w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Wt(T,d),w.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream),g.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y}))}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),at(this,w)},this.setupTsPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="ts",w.metadataStream=new z.MetadataStream,w.packetStream=new z.TransportPacketStream,w.parseStream=new z.TransportParseStream,w.elementaryStream=new z.ElementaryStream,w.timestampRolloverStream=new z.TimestampRolloverStream,w.adtsStream=new Y,w.h264Stream=new fe,w.captionStream=new z.CaptionStream(d),w.coalesceStream=new gn(d,w.metadataStream),w.headOfPipeline=w.packetStream,w.packetStream.pipe(w.parseStream).pipe(w.elementaryStream).pipe(w.timestampRolloverStream),w.timestampRolloverStream.pipe(w.h264Stream),w.timestampRolloverStream.pipe(w.adtsStream),w.timestampRolloverStream.pipe(w.metadataStream).pipe(w.coalesceStream),w.h264Stream.pipe(w.captionStream).pipe(w.coalesceStream),w.elementaryStream.on("data",function(F){var U;if(F.type==="metadata"){for(U=F.tracks.length;U--;)!y&&F.tracks[U].type==="video"?(y=F.tracks[U],y.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime):!T&&F.tracks[U].type==="audio"&&(T=F.tracks[U],T.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime);y&&!w.videoSegmentStream&&(w.coalesceStream.numberOfTracks++,w.videoSegmentStream=new Ye(y,d),w.videoSegmentStream.on("log",g.getLogTrigger_("videoSegmentStream")),w.videoSegmentStream.on("timelineStartInfo",function(H){T&&!d.keepOriginalTimestamps&&(T.timelineStartInfo=H,w.audioSegmentStream.setEarliestDts(H.dts-g.baseMediaDecodeTime))}),w.videoSegmentStream.on("processedGopsInfo",g.trigger.bind(g,"gopInfo")),w.videoSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"videoSegmentTimingInfo")),w.videoSegmentStream.on("baseMediaDecodeTime",function(H){T&&w.audioSegmentStream.setVideoBaseMediaDecodeTime(H)}),w.videoSegmentStream.on("timingInfo",g.trigger.bind(g,"videoTimingInfo")),w.h264Stream.pipe(w.videoSegmentStream).pipe(w.coalesceStream)),T&&!w.audioSegmentStream&&(w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Wt(T,d),w.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),w.audioSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"audioSegmentTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream)),g.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!y})}}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("id3Frame",function(F){F.dispatchType=w.metadataStream.dispatchType,g.trigger("id3Frame",F)}),w.coalesceStream.on("caption",this.trigger.bind(this,"caption")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),at(this,w)},this.setBaseMediaDecodeTime=function(w){var F=this.transmuxPipeline_;d.keepOriginalTimestamps||(this.baseMediaDecodeTime=w),T&&(T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,O.clearDtsInfo(T),F.audioTimestampRolloverStream&&F.audioTimestampRolloverStream.discontinuity()),y&&(F.videoSegmentStream&&(F.videoSegmentStream.gopCache_=[]),y.timelineStartInfo.dts=void 0,y.timelineStartInfo.pts=void 0,O.clearDtsInfo(y),F.captionStream.reset()),F.timestampRolloverStream&&F.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(w){T&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(w)},this.setRemux=function(w){var F=this.transmuxPipeline_;d.remux=w,F&&F.coalesceStream&&F.coalesceStream.setRemux(w)},this.alignGopsWith=function(w){y&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(w)},this.getLogTrigger_=function(w){var F=this;return function(U){U.stream=w,F.trigger("log",U)}},this.push=function(w){if(_){var F=se(w);F&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!F&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),_=!1}this.transmuxPipeline_.headOfPipeline.push(w)},this.flush=function(){_=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},zt.prototype=new v;var Gt={Transmuxer:zt,VideoSegmentStream:Ye,AudioSegmentStream:Wt,AUDIO_PROPERTIES:Xe,VIDEO_PROPERTIES:ot,generateSegmentTimingInfo:lt},ta=function(d){return d>>>0},Au=function(d){return("00"+d.toString(16)).slice(-2)},Hn={toUnsigned:ta,toHexString:Au},na=function(d){var g="";return g+=String.fromCharCode(d[0]),g+=String.fromCharCode(d[1]),g+=String.fromCharCode(d[2]),g+=String.fromCharCode(d[3]),g},bi=na,ur=Hn.toUnsigned,lr=bi,qn=function(d,g){var _=[],y,T,w,F,U;if(!g.length)return null;for(y=0;y<d.byteLength;)T=ur(d[y]<<24|d[y+1]<<16|d[y+2]<<8|d[y+3]),w=lr(d.subarray(y+4,y+8)),F=T>1?y+T:d.byteLength,w===g[0]&&(g.length===1?_.push(d.subarray(y+8,F)):(U=qn(d.subarray(y+8,F),g.slice(1)),U.length&&(_=_.concat(U)))),y=F;return _},Ka=qn,Yi=Hn.toUnsigned,Qi=s.getUint64,lh=function(d){var g={version:d[0],flags:new Uint8Array(d.subarray(1,4))};return g.version===1?g.baseMediaDecodeTime=Qi(d.subarray(4)):g.baseMediaDecodeTime=Yi(d[4]<<24|d[5]<<16|d[6]<<8|d[7]),g},Ec=lh,ch=function(d){return{isLeading:(d[0]&12)>>>2,dependsOn:d[0]&3,isDependedOn:(d[1]&192)>>>6,hasRedundancy:(d[1]&48)>>>4,paddingValue:(d[1]&14)>>>1,isNonSyncSample:d[1]&1,degradationPriority:d[2]<<8|d[3]}},_t=ch,ia=_t,Ti=function(d){var g={version:d[0],flags:new Uint8Array(d.subarray(1,4)),samples:[]},_=new DataView(d.buffer,d.byteOffset,d.byteLength),y=g.flags[2]&1,T=g.flags[2]&4,w=g.flags[1]&1,F=g.flags[1]&2,U=g.flags[1]&4,H=g.flags[1]&8,G=_.getUint32(4),J=8,ce;for(y&&(g.dataOffset=_.getInt32(J),J+=4),T&&G&&(ce={flags:ia(d.subarray(J,J+4))},J+=4,w&&(ce.duration=_.getUint32(J),J+=4),F&&(ce.size=_.getUint32(J),J+=4),H&&(g.version===1?ce.compositionTimeOffset=_.getInt32(J):ce.compositionTimeOffset=_.getUint32(J),J+=4),g.samples.push(ce),G--);G--;)ce={},w&&(ce.duration=_.getUint32(J),J+=4),F&&(ce.size=_.getUint32(J),J+=4),U&&(ce.flags=ia(d.subarray(J,J+4)),J+=4),H&&(g.version===1?ce.compositionTimeOffset=_.getInt32(J):ce.compositionTimeOffset=_.getUint32(J),J+=4),g.samples.push(ce);return g},Fr=Ti,dh=function(d){var g=new DataView(d.buffer,d.byteOffset,d.byteLength),_={version:d[0],flags:new Uint8Array(d.subarray(1,4)),trackId:g.getUint32(4)},y=_.flags[2]&1,T=_.flags[2]&2,w=_.flags[2]&8,F=_.flags[2]&16,U=_.flags[2]&32,H=_.flags[0]&65536,G=_.flags[0]&131072,J;return J=8,y&&(J+=4,_.baseDataOffset=g.getUint32(12),J+=4),T&&(_.sampleDescriptionIndex=g.getUint32(J),J+=4),w&&(_.defaultSampleDuration=g.getUint32(J),J+=4),F&&(_.defaultSampleSize=g.getUint32(J),J+=4),U&&(_.defaultSampleFlags=g.getUint32(J)),H&&(_.durationIsEmpty=!0),!y&&G&&(_.baseDataOffsetIsMoof=!0),_},Sc=dh,hs;typeof window<"u"?hs=window:typeof t<"u"?hs=t:typeof self<"u"?hs=self:hs={};var cr=hs,Du=Nr.discardEmulationPreventionBytes,dr=pu.CaptionStream,ps=Ka,ra=Ec,Xa=Fr,Ya=Sc,Qa=cr,fh=function(d,g){for(var _=d,y=0;y<g.length;y++){var T=g[y];if(_<T.size)return T;_-=T.size}return null},Ja=function(d,g,_){var y=new DataView(d.buffer,d.byteOffset,d.byteLength),T={logs:[],seiNals:[]},w,F,U,H;for(F=0;F+4<d.length;F+=U)if(U=y.getUint32(F),F+=4,!(U<=0))switch(d[F]&31){case 6:var G=d.subarray(F+1,F+1+U),J=fh(F,g);if(w={nalUnitType:"sei_rbsp",size:U,data:G,escapedRBSP:Du(G),trackId:_},J)w.pts=J.pts,w.dts=J.dts,H=J;else if(H)w.pts=H.pts,w.dts=H.dts;else{T.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+F+" for trackId "+_+". See mux.js#223."});break}T.seiNals.push(w);break}return T},ku=function(d,g,_){var y=g,T=_.defaultSampleDuration||0,w=_.defaultSampleSize||0,F=_.trackId,U=[];return d.forEach(function(H){var G=Xa(H),J=G.samples;J.forEach(function(ce){ce.duration===void 0&&(ce.duration=T),ce.size===void 0&&(ce.size=w),ce.trackId=F,ce.dts=y,ce.compositionTimeOffset===void 0&&(ce.compositionTimeOffset=0),typeof y=="bigint"?(ce.pts=y+Qa.BigInt(ce.compositionTimeOffset),y+=Qa.BigInt(ce.duration)):(ce.pts=y+ce.compositionTimeOffset,y+=ce.duration)}),U=U.concat(J)}),U},Lu=function(d,g){var _=ps(d,["moof","traf"]),y=ps(d,["mdat"]),T={},w=[];return y.forEach(function(F,U){var H=_[U];w.push({mdat:F,traf:H})}),w.forEach(function(F){var U=F.mdat,H=F.traf,G=ps(H,["tfhd"]),J=Ya(G[0]),ce=J.trackId,Oe=ps(H,["tfdt"]),Te=Oe.length>0?ra(Oe[0]).baseMediaDecodeTime:0,Ge=ps(H,["trun"]),Qe,pn;g===ce&&Ge.length>0&&(Qe=ku(Ge,Te,J),pn=Ja(U,Qe,ce),T[ce]||(T[ce]={seiNals:[],logs:[]}),T[ce].seiNals=T[ce].seiNals.concat(pn.seiNals),T[ce].logs=T[ce].logs.concat(pn.logs))}),T},hh=function(d,g,_){var y;if(g===null)return null;y=Lu(d,g);var T=y[g]||{};return{seiNals:T.seiNals,logs:T.logs,timescale:_}},Iu=function(){var d=!1,g,_,y,T,w,F;this.isInitialized=function(){return d},this.init=function(U){g=new dr,d=!0,F=U?U.isPartial:!1,g.on("data",function(H){H.startTime=H.startPts/T,H.endTime=H.endPts/T,w.captions.push(H),w.captionStreams[H.stream]=!0}),g.on("log",function(H){w.logs.push(H)})},this.isNewInit=function(U,H){return U&&U.length===0||H&&typeof H=="object"&&Object.keys(H).length===0?!1:y!==U[0]||T!==H[y]},this.parse=function(U,H,G){var J;if(this.isInitialized()){if(!H||!G)return null;if(this.isNewInit(H,G))y=H[0],T=G[y];else if(y===null||!T)return _.push(U),null}else return null;for(;_.length>0;){var ce=_.shift();this.parse(ce,H,G)}return J=hh(U,y,T),J&&J.logs&&(w.logs=w.logs.concat(J.logs)),J===null||!J.seiNals?w.logs.length?{logs:w.logs,captions:[],captionStreams:[]}:null:(this.pushNals(J.seiNals),this.flushStream(),w)},this.pushNals=function(U){if(!this.isInitialized()||!U||U.length===0)return null;U.forEach(function(H){g.push(H)})},this.flushStream=function(){if(!this.isInitialized())return null;F?g.partialFlush():g.flush()},this.clearParsedCaptions=function(){w.captions=[],w.captionStreams={},w.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;g.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){_=[],y=null,T=null,w?this.clearParsedCaptions():w={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Cc=Iu,$=function(d){for(var g=0,_=String.fromCharCode(d[g]),y="";_!=="\0";)y+=_,g++,_=String.fromCharCode(d[g]);return y+=_,y},X={uint8ToCString:$},ie=X.uint8ToCString,le=s.getUint64,pe=function(d){var g=4,_=d[0],y,T,w,F,U,H,G,J;if(_===0){y=ie(d.subarray(g)),g+=y.length,T=ie(d.subarray(g)),g+=T.length;var ce=new DataView(d.buffer);w=ce.getUint32(g),g+=4,U=ce.getUint32(g),g+=4,H=ce.getUint32(g),g+=4,G=ce.getUint32(g),g+=4}else if(_===1){var ce=new DataView(d.buffer);w=ce.getUint32(g),g+=4,F=le(d.subarray(g)),g+=8,H=ce.getUint32(g),g+=4,G=ce.getUint32(g),g+=4,y=ie(d.subarray(g)),g+=y.length,T=ie(d.subarray(g)),g+=T.length}J=new Uint8Array(d.subarray(g,d.byteLength));var Oe={scheme_id_uri:y,value:T,timescale:w||1,presentation_time:F,presentation_time_delta:U,event_duration:H,id:G,message_data:J};return Ne(_,Oe)?Oe:void 0},ke=function(d,g,_,y){return d||d===0?d/g:y+_/g},Ne=function(d,g){var _=g.scheme_id_uri!=="\0",y=d===0&&$e(g.presentation_time_delta)&&_,T=d===1&&$e(g.presentation_time)&&_;return!(d>1)&&y||T},$e=function(d){return d!==void 0||d!==null},Me={parseEmsgBox:pe,scaleTime:ke},nt=Hn.toUnsigned,We=Hn.toHexString,je=Ka,Ze=bi,qe=Me,At=Sc,On=Fr,mn=Ec,si=s.getUint64,xi,Ur,yn,L0,I0,ph,P0,gh=cr,VS=dc.parseId3Frames;xi=function(d){var g={},_=je(d,["moov","trak"]);return _.reduce(function(y,T){var w,F,U,H,G;return w=je(T,["tkhd"])[0],!w||(F=w[0],U=F===0?12:20,H=nt(w[U]<<24|w[U+1]<<16|w[U+2]<<8|w[U+3]),G=je(T,["mdia","mdhd"])[0],!G)?null:(F=G[0],U=F===0?12:20,y[H]=nt(G[U]<<24|G[U+1]<<16|G[U+2]<<8|G[U+3]),y)},g)},Ur=function(d,g){var _;_=je(g,["moof","traf"]);var y=_.reduce(function(T,w){var F=je(w,["tfhd"])[0],U=nt(F[4]<<24|F[5]<<16|F[6]<<8|F[7]),H=d[U]||9e4,G=je(w,["tfdt"])[0],J=new DataView(G.buffer,G.byteOffset,G.byteLength),ce;G[0]===1?ce=si(G.subarray(4,12)):ce=J.getUint32(4);let Oe;return typeof ce=="bigint"?Oe=ce/gh.BigInt(H):typeof ce=="number"&&!isNaN(ce)&&(Oe=ce/H),Oe<Number.MAX_SAFE_INTEGER&&(Oe=Number(Oe)),Oe<T&&(T=Oe),T},1/0);return typeof y=="bigint"||isFinite(y)?y:0},yn=function(d,g){var _=je(g,["moof","traf"]),y=0,T=0,w;if(_&&_.length){var F=je(_[0],["tfhd"])[0],U=je(_[0],["trun"])[0],H=je(_[0],["tfdt"])[0];if(F){var G=At(F);w=G.trackId}if(H){var J=mn(H);y=J.baseMediaDecodeTime}if(U){var ce=On(U);ce.samples&&ce.samples.length&&(T=ce.samples[0].compositionTimeOffset||0)}}var Oe=d[w]||9e4;typeof y=="bigint"&&(T=gh.BigInt(T),Oe=gh.BigInt(Oe));var Te=(y+T)/Oe;return typeof Te=="bigint"&&Te<Number.MAX_SAFE_INTEGER&&(Te=Number(Te)),Te},L0=function(d){var g=je(d,["moov","trak"]),_=[];return g.forEach(function(y){var T=je(y,["mdia","hdlr"]),w=je(y,["tkhd"]);T.forEach(function(F,U){var H=Ze(F.subarray(8,12)),G=w[U],J,ce,Oe;H==="vide"&&(J=new DataView(G.buffer,G.byteOffset,G.byteLength),ce=J.getUint8(0),Oe=ce===0?J.getUint32(12):J.getUint32(20),_.push(Oe))})}),_},ph=function(d){var g=d[0],_=g===0?12:20;return nt(d[_]<<24|d[_+1]<<16|d[_+2]<<8|d[_+3])},I0=function(d){var g=je(d,["moov","trak"]),_=[];return g.forEach(function(y){var T={},w=je(y,["tkhd"])[0],F,U;w&&(F=new DataView(w.buffer,w.byteOffset,w.byteLength),U=F.getUint8(0),T.id=U===0?F.getUint32(12):F.getUint32(20));var H=je(y,["mdia","hdlr"])[0];if(H){var G=Ze(H.subarray(8,12));G==="vide"?T.type="video":G==="soun"?T.type="audio":T.type=G}var J=je(y,["mdia","minf","stbl","stsd"])[0];if(J){var ce=J.subarray(8);T.codec=Ze(ce.subarray(4,8));var Oe=je(ce,[T.codec])[0],Te,Ge;Oe&&(/^[asm]vc[1-9]$/i.test(T.codec)?(Te=Oe.subarray(78),Ge=Ze(Te.subarray(4,8)),Ge==="avcC"&&Te.length>11?(T.codec+=".",T.codec+=We(Te[9]),T.codec+=We(Te[10]),T.codec+=We(Te[11])):T.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(T.codec)?(Te=Oe.subarray(28),Ge=Ze(Te.subarray(4,8)),Ge==="esds"&&Te.length>20&&Te[19]!==0?(T.codec+="."+We(Te[19]),T.codec+="."+We(Te[20]>>>2&63).replace(/^0/,"")):T.codec="mp4a.40.2"):T.codec=T.codec.toLowerCase())}var Qe=je(y,["mdia","mdhd"])[0];Qe&&(T.timescale=ph(Qe)),_.push(T)}),_},P0=function(d,g=0){var _=je(d,["emsg"]);return _.map(y=>{var T=qe.parseEmsgBox(new Uint8Array(y)),w=VS(T.message_data);return{cueTime:qe.scaleTime(T.presentation_time,T.timescale,T.presentation_time_delta,g),duration:qe.scaleTime(T.event_duration,T.timescale),frames:w}})};var mh={findBox:je,parseType:Ze,timescale:xi,startTime:Ur,compositionStartTime:yn,videoTrackIds:L0,tracks:I0,getTimescaleFromMediaHeader:ph,getEmsgID3:P0},yh=$a,O0=function(d){var g=d[1]&31;return g<<=8,g|=d[2],g},wc=function(d){return!!(d[1]&64)},Ac=function(d){var g=0;return(d[3]&48)>>>4>1&&(g+=d[4]+1),g},WS=function(d,g){var _=O0(d);return _===0?"pat":_===g?"pmt":g?"pes":null},zS=function(d){var g=wc(d),_=4+Ac(d);return g&&(_+=d[_]+1),(d[_+10]&31)<<8|d[_+11]},GS=function(d){var g={},_=wc(d),y=4+Ac(d);if(_&&(y+=d[y]+1),!!(d[y+5]&1)){var T,w,F;T=(d[y+1]&15)<<8|d[y+2],w=3+T-4,F=(d[y+10]&15)<<8|d[y+11];for(var U=12+F;U<w;){var H=y+U;g[(d[H+1]&31)<<8|d[H+2]]=d[H],U+=((d[H+3]&15)<<8|d[H+4])+5}return g}},KS=function(d,g){var _=O0(d),y=g[_];switch(y){case yh.H264_STREAM_TYPE:return"video";case yh.ADTS_STREAM_TYPE:return"audio";case yh.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},XS=function(d){var g=wc(d);if(!g)return null;var _=4+Ac(d);if(_>=d.byteLength)return null;var y=null,T;return T=d[_+7],T&192&&(y={},y.pts=(d[_+9]&14)<<27|(d[_+10]&255)<<20|(d[_+11]&254)<<12|(d[_+12]&255)<<5|(d[_+13]&254)>>>3,y.pts*=4,y.pts+=(d[_+13]&6)>>>1,y.dts=y.pts,T&64&&(y.dts=(d[_+14]&14)<<27|(d[_+15]&255)<<20|(d[_+16]&254)<<12|(d[_+17]&255)<<5|(d[_+18]&254)>>>3,y.dts*=4,y.dts+=(d[_+18]&6)>>>1)),y},_h=function(d){switch(d){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},YS=function(d){for(var g=4+Ac(d),_=d.subarray(g),y=0,T=0,w=!1,F;T<_.byteLength-3;T++)if(_[T+2]===1){y=T+5;break}for(;y<_.byteLength;)switch(_[y]){case 0:if(_[y-1]!==0){y+=2;break}else if(_[y-2]!==0){y++;break}T+3!==y-2&&(F=_h(_[T+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0));do y++;while(_[y]!==1&&y<_.length);T=y-2,y+=3;break;case 1:if(_[y-1]!==0||_[y-2]!==0){y+=3;break}F=_h(_[T+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0),T=y-2,y+=3;break;default:y+=3;break}return _=_.subarray(T),y-=T,T=0,_&&_.byteLength>3&&(F=_h(_[T+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0)),w},QS={parseType:WS,parsePat:zS,parsePmt:GS,parsePayloadUnitStartIndicator:wc,parsePesType:KS,parsePesTime:XS,videoPacketContainsKeyFrame:YS},R0=$a,Za=qa.handleRollover,St={};St.ts=QS,St.aac=Cu;var sa=dt.ONE_SECOND_IN_TS,Vn=188,fr=71,JS=function(d,g){for(var _=0,y=Vn,T,w;y<d.byteLength;){if(d[_]===fr&&d[y]===fr){switch(T=d.subarray(_,y),w=St.ts.parseType(T,g.pid),w){case"pat":g.pid=St.ts.parsePat(T);break;case"pmt":var F=St.ts.parsePmt(T);g.table=g.table||{},Object.keys(F).forEach(function(U){g.table[U]=F[U]});break}_+=Vn,y+=Vn;continue}_++,y++}},N0=function(d,g,_){for(var y=0,T=Vn,w,F,U,H,G,J=!1;T<=d.byteLength;){if(d[y]===fr&&(d[T]===fr||T===d.byteLength)){switch(w=d.subarray(y,T),F=St.ts.parseType(w,g.pid),F){case"pes":U=St.ts.parsePesType(w,g.table),H=St.ts.parsePayloadUnitStartIndicator(w),U==="audio"&&H&&(G=St.ts.parsePesTime(w),G&&(G.type="audio",_.audio.push(G),J=!0));break}if(J)break;y+=Vn,T+=Vn;continue}y++,T++}for(T=d.byteLength,y=T-Vn,J=!1;y>=0;){if(d[y]===fr&&(d[T]===fr||T===d.byteLength)){switch(w=d.subarray(y,T),F=St.ts.parseType(w,g.pid),F){case"pes":U=St.ts.parsePesType(w,g.table),H=St.ts.parsePayloadUnitStartIndicator(w),U==="audio"&&H&&(G=St.ts.parsePesTime(w),G&&(G.type="audio",_.audio.push(G),J=!0));break}if(J)break;y-=Vn,T-=Vn;continue}y--,T--}},ZS=function(d,g,_){for(var y=0,T=Vn,w,F,U,H,G,J,ce,Oe,Te=!1,Ge={data:[],size:0};T<d.byteLength;){if(d[y]===fr&&d[T]===fr){switch(w=d.subarray(y,T),F=St.ts.parseType(w,g.pid),F){case"pes":if(U=St.ts.parsePesType(w,g.table),H=St.ts.parsePayloadUnitStartIndicator(w),U==="video"&&(H&&!Te&&(G=St.ts.parsePesTime(w),G&&(G.type="video",_.video.push(G),Te=!0)),!_.firstKeyFrame)){if(H&&Ge.size!==0){for(J=new Uint8Array(Ge.size),ce=0;Ge.data.length;)Oe=Ge.data.shift(),J.set(Oe,ce),ce+=Oe.byteLength;if(St.ts.videoPacketContainsKeyFrame(J)){var Qe=St.ts.parsePesTime(J);Qe?(_.firstKeyFrame=Qe,_.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Ge.size=0}Ge.data.push(w),Ge.size+=w.byteLength}break}if(Te&&_.firstKeyFrame)break;y+=Vn,T+=Vn;continue}y++,T++}for(T=d.byteLength,y=T-Vn,Te=!1;y>=0;){if(d[y]===fr&&d[T]===fr){switch(w=d.subarray(y,T),F=St.ts.parseType(w,g.pid),F){case"pes":U=St.ts.parsePesType(w,g.table),H=St.ts.parsePayloadUnitStartIndicator(w),U==="video"&&H&&(G=St.ts.parsePesTime(w),G&&(G.type="video",_.video.push(G),Te=!0));break}if(Te)break;y-=Vn,T-=Vn;continue}y--,T--}},eC=function(d,g){if(d.audio&&d.audio.length){var _=g;(typeof _>"u"||isNaN(_))&&(_=d.audio[0].dts),d.audio.forEach(function(w){w.dts=Za(w.dts,_),w.pts=Za(w.pts,_),w.dtsTime=w.dts/sa,w.ptsTime=w.pts/sa})}if(d.video&&d.video.length){var y=g;if((typeof y>"u"||isNaN(y))&&(y=d.video[0].dts),d.video.forEach(function(w){w.dts=Za(w.dts,y),w.pts=Za(w.pts,y),w.dtsTime=w.dts/sa,w.ptsTime=w.pts/sa}),d.firstKeyFrame){var T=d.firstKeyFrame;T.dts=Za(T.dts,y),T.pts=Za(T.pts,y),T.dtsTime=T.dts/sa,T.ptsTime=T.pts/sa}}},tC=function(d){for(var g=!1,_=0,y=null,T=null,w=0,F=0,U;d.length-F>=3;){var H=St.aac.parseType(d,F);switch(H){case"timed-metadata":if(d.length-F<10){g=!0;break}if(w=St.aac.parseId3TagSize(d,F),w>d.length){g=!0;break}T===null&&(U=d.subarray(F,F+w),T=St.aac.parseAacTimestamp(U)),F+=w;break;case"audio":if(d.length-F<7){g=!0;break}if(w=St.aac.parseAdtsSize(d,F),w>d.length){g=!0;break}y===null&&(U=d.subarray(F,F+w),y=St.aac.parseSampleRate(U)),_++,F+=w;break;default:F++;break}if(g)return null}if(y===null||T===null)return null;var G=sa/y,J={audio:[{type:"audio",dts:T,pts:T},{type:"audio",dts:T+_*1024*G,pts:T+_*1024*G}]};return J},nC=function(d){var g={pid:null,table:null},_={};JS(d,g);for(var y in g.table)if(g.table.hasOwnProperty(y)){var T=g.table[y];switch(T){case R0.H264_STREAM_TYPE:_.video=[],ZS(d,g,_),_.video.length===0&&delete _.video;break;case R0.ADTS_STREAM_TYPE:_.audio=[],N0(d,g,_),_.audio.length===0&&delete _.audio;break}}return _},iC=function(d,g){var _=St.aac.isLikelyAacData(d),y;return _?y=tC(d):y=nC(d),!y||!y.audio&&!y.video?null:(eC(y,g),y)},rC={inspect:iC,parseAudioPes_:N0};const sC=function(d,g){g.on("data",function(_){const y=_.initSegment;_.initSegment={data:y.buffer,byteOffset:y.byteOffset,byteLength:y.byteLength};const T=_.data;_.data=T.buffer,d.postMessage({action:"data",segment:_,byteOffset:T.byteOffset,byteLength:T.byteLength},[_.data])}),g.on("done",function(_){d.postMessage({action:"done"})}),g.on("gopInfo",function(_){d.postMessage({action:"gopInfo",gopInfo:_})}),g.on("videoSegmentTimingInfo",function(_){const y={start:{decode:dt.videoTsToSeconds(_.start.dts),presentation:dt.videoTsToSeconds(_.start.pts)},end:{decode:dt.videoTsToSeconds(_.end.dts),presentation:dt.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:dt.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(y.prependedContentDuration=dt.videoTsToSeconds(_.prependedContentDuration)),d.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:y})}),g.on("audioSegmentTimingInfo",function(_){const y={start:{decode:dt.videoTsToSeconds(_.start.dts),presentation:dt.videoTsToSeconds(_.start.pts)},end:{decode:dt.videoTsToSeconds(_.end.dts),presentation:dt.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:dt.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(y.prependedContentDuration=dt.videoTsToSeconds(_.prependedContentDuration)),d.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:y})}),g.on("id3Frame",function(_){d.postMessage({action:"id3Frame",id3Frame:_})}),g.on("caption",function(_){d.postMessage({action:"caption",caption:_})}),g.on("trackinfo",function(_){d.postMessage({action:"trackinfo",trackInfo:_})}),g.on("audioTimingInfo",function(_){d.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:dt.videoTsToSeconds(_.start),end:dt.videoTsToSeconds(_.end)}})}),g.on("videoTimingInfo",function(_){d.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:dt.videoTsToSeconds(_.start),end:dt.videoTsToSeconds(_.end)}})}),g.on("log",function(_){d.postMessage({action:"log",log:_})})};class M0{constructor(g,_){this.options=_||{},this.self=g,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Gt.Transmuxer(this.options),sC(this.self,this.transmuxer)}pushMp4Captions(g){this.captionParser||(this.captionParser=new Cc,this.captionParser.init());const _=new Uint8Array(g.data,g.byteOffset,g.byteLength),y=this.captionParser.parse(_,g.trackIds,g.timescales);this.self.postMessage({action:"mp4Captions",captions:y&&y.captions||[],logs:y&&y.logs||[],data:_.buffer},[_.buffer])}probeMp4StartTime({timescales:g,data:_}){const y=mh.startTime(g,_);this.self.postMessage({action:"probeMp4StartTime",startTime:y,data:_},[_.buffer])}probeMp4Tracks({data:g}){const _=mh.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:g},[g.buffer])}probeEmsgID3({data:g,offset:_}){const y=mh.getEmsgID3(g,_);this.self.postMessage({action:"probeEmsgID3",id3Frames:y,emsgData:g},[g.buffer])}probeTs({data:g,baseStartTime:_}){const y=typeof _=="number"&&!isNaN(_)?_*dt.ONE_SECOND_IN_TS:void 0,T=rC.inspect(g,y);let w=null;T&&(w={hasVideo:T.video&&T.video.length===2||!1,hasAudio:T.audio&&T.audio.length===2||!1},w.hasVideo&&(w.videoStart=T.video[0].ptsTime),w.hasAudio&&(w.audioStart=T.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:w,data:g},[g.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(g){const _=new Uint8Array(g.data,g.byteOffset,g.byteLength);this.transmuxer.push(_)}reset(){this.transmuxer.reset()}setTimestampOffset(g){const _=g.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(dt.secondsToVideoTs(_)))}setAudioAppendStart(g){this.transmuxer.setAudioAppendStart(Math.ceil(dt.secondsToVideoTs(g.appendStart)))}setRemux(g){this.transmuxer.setRemux(g.remux)}flush(g){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(g){this.transmuxer.alignGopsWith(g.gopsToAlignWith.slice())}}self.onmessage=function(d){if(d.data.action==="init"&&d.data.options){this.messageHandlers=new M0(self,d.data.options);return}this.messageHandlers||(this.messageHandlers=new M0(self)),d.data&&d.data.action&&d.data.action!=="init"&&this.messageHandlers[d.data.action]&&this.messageHandlers[d.data.action](d.data)}}));var f5=tS(d5);const h5=(t,e,n)=>{const{type:i,initSegment:r,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:u,videoFramePtsTime:c}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const f=t.data.segment.boxes||{data:t.data.segment.data},p={type:i,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};typeof u<"u"&&(p.videoFrameDtsTime=u),typeof c<"u"&&(p.videoFramePtsTime=c),n(p)},p5=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},g5=(t,e)=>{e.gopInfo=t.data.gopInfo},rS=t=>{const{transmuxer:e,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:u,onVideoTimingInfo:c,onVideoSegmentTimingInfo:f,onAudioSegmentTimingInfo:p,onId3:b,onCaptions:C,onDone:E,onEndedTimeline:L,onTransmuxerLog:R,isEndOfTimeline:S}=t,A={buffer:[]};let M=S;const I=N=>{e.currentTransmux===t&&(N.data.action==="data"&&h5(N,A,a),N.data.action==="trackinfo"&&o(N.data.trackInfo),N.data.action==="gopInfo"&&g5(N,A),N.data.action==="audioTimingInfo"&&u(N.data.audioTimingInfo),N.data.action==="videoTimingInfo"&&c(N.data.videoTimingInfo),N.data.action==="videoSegmentTimingInfo"&&f(N.data.videoSegmentTimingInfo),N.data.action==="audioSegmentTimingInfo"&&p(N.data.audioSegmentTimingInfo),N.data.action==="id3Frame"&&b([N.data.id3Frame],N.data.id3Frame.dispatchType),N.data.action==="caption"&&C(N.data.caption),N.data.action==="endedtimeline"&&(M=!1,L()),N.data.action==="log"&&R(N.data.log),N.data.type==="transmuxed"&&(M||(e.onmessage=null,p5({transmuxedData:A,callback:E}),sS(e))))};if(e.onmessage=I,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const N=n instanceof ArrayBuffer?n:n.buffer,j=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:N,byteOffset:j,byteLength:n.byteLength},[N])}S&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},sS=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():rS(t.currentTransmux))},ob=(t,e)=>{t.postMessage({action:e}),sS(t)},aS=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,ob(e,t);return}e.transmuxQueue.push(ob.bind(null,e,t))},m5=t=>{aS("reset",t)},y5=t=>{aS("endTimeline",t)},oS=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,rS(t);return}t.transmuxer.transmuxQueue.push(t)},_5=t=>{const e=new f5;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var np={reset:m5,endTimeline:y5,transmux:oS,createTransmuxer:_5};const fl=function(t){const e=t.transmuxer,n=t.endAction||t.action,i=t.callback,r=Ps({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),i(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;r.byteOffset=a?0:t.data.byteOffset,r.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(r,o)}else e.postMessage(r)},xr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Dg=t=>{t.forEach(e=>{e.abort()})},v5=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),b5=t=>{const e=t.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},w0=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:xr.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:xr.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:xr.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:xr.FAILURE,xhr:e}:null,ub=(t,e,n)=>(i,r)=>{const s=r.response,a=w0(i,r);if(a)return n(a,t);if(s.byteLength!==16)return n({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:xr.FAILURE,xhr:r},t);const o=new DataView(s),u=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);for(let c=0;c<e.length;c++)e[c].bytes=u;return n(null,t)},uS=(t,e)=>{const n=Vm(t.map.bytes);if(n!=="mp4"){const i=t.map.resolvedUri||t.map.uri;return e({internal:!0,message:`Found unsupported ${n||"unknown"} container for initialization segment at URL: ${i}`,code:xr.FAILURE})}fl({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:i,data:r})=>(t.map.bytes=r,i.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},T5=({segment:t,finishProcessingFn:e})=>(n,i)=>{const r=w0(n,i);if(r)return e(r,t);const s=new Uint8Array(i.response);if(t.map.key)return t.map.encryptedBytes=s,e(null,t);t.map.bytes=s,uS(t,function(a){if(a)return a.xhr=i,a.status=i.status,e(a,t);e(null,t)})},x5=({segment:t,finishProcessingFn:e,responseType:n})=>(i,r)=>{const s=w0(i,r);if(s)return e(s,t);const a=n==="arraybuffer"||!r.responseText?r.response:l5(r.responseText.substring(t.lastReachedChar||0));return t.stats=v5(r),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},E5=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b})=>{const C=t.map&&t.map.tracks||{},E=!!(C.audio&&C.video);let L=i.bind(null,t,"audio","start");const R=i.bind(null,t,"audio","end");let S=i.bind(null,t,"video","start");const A=i.bind(null,t,"video","end"),M=()=>oS({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:E,onData:I=>{I.type=I.type==="combined"?"video":I.type,f(t,I)},onTrackInfo:I=>{n&&(E&&(I.isMuxed=!0),n(t,I))},onAudioTimingInfo:I=>{L&&typeof I.start<"u"&&(L(I.start),L=null),R&&typeof I.end<"u"&&R(I.end)},onVideoTimingInfo:I=>{S&&typeof I.start<"u"&&(S(I.start),S=null),A&&typeof I.end<"u"&&A(I.end)},onVideoSegmentTimingInfo:I=>{r(I)},onAudioSegmentTimingInfo:I=>{s(I)},onId3:(I,N)=>{a(t,I,N)},onCaptions:I=>{o(t,[I])},isEndOfTimeline:u,onEndedTimeline:()=>{c()},onTransmuxerLog:b,onDone:I=>{p&&(I.type=I.type==="combined"?"video":I.type,p(null,t,I))}});fl({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:I=>{t.bytes=e=I.data;const N=I.result;N&&(n(t,{hasAudio:N.hasAudio,hasVideo:N.hasVideo,isMuxed:E}),n=null),M()}})},lS=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b})=>{let C=new Uint8Array(e);if(G4(C)){t.isFmp4=!0;const{tracks:E}=t.map,L={isFmp4:!0,hasVideo:!!E.video,hasAudio:!!E.audio};E.audio&&E.audio.codec&&E.audio.codec!=="enca"&&(L.audioCodec=E.audio.codec),E.video&&E.video.codec&&E.video.codec!=="encv"&&(L.videoCodec=E.video.codec),E.video&&E.audio&&(L.isMuxed=!0),n(t,L);const R=(S,A)=>{f(t,{data:C,type:L.hasAudio&&!L.isMuxed?"audio":"video"}),A&&A.length&&a(t,A),S&&S.length&&o(t,S),p(null,t,{})};fl({action:"probeMp4StartTime",timescales:t.map.timescales,data:C,transmuxer:t.transmuxer,callback:({data:S,startTime:A})=>{e=S.buffer,t.bytes=C=S,L.hasAudio&&!L.isMuxed&&i(t,"audio","start",A),L.hasVideo&&i(t,"video","start",A),fl({action:"probeEmsgID3",data:C,transmuxer:t.transmuxer,offset:A,callback:({emsgData:M,id3Frames:I})=>{if(e=M.buffer,t.bytes=C=M,!E.video||!M.byteLength||!t.transmuxer){R(void 0,I);return}fl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:C,timescales:t.map.timescales,trackIds:[E.video.id],callback:N=>{e=N.data.buffer,t.bytes=C=N.data,N.logs.forEach(function(j){b(kt(j,{stream:"mp4CaptionParser"}))}),R(N.captions,I)}})}})}});return}if(!t.transmuxer){p(null,t,{});return}if(typeof t.container>"u"&&(t.container=Vm(C)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),p(null,t,{});return}E5({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b})},cS=function({id:t,key:e,encryptedBytes:n,decryptionWorker:i},r){const s=o=>{if(o.data.source===t){i.removeEventListener("message",s);const u=o.data.decrypted;r(new Uint8Array(u.bytes,u.byteOffset,u.byteLength))}};i.addEventListener("message",s);let a;e.bytes.slice?a=e.bytes.slice():a=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(XE({source:t,encrypted:n,key:a,iv:e.iv}),[n.buffer,a.buffer])},S5=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b})=>{cS({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},C=>{e.bytes=C,lS({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b})})},C5=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b})=>{let C=0,E=!1;return(L,R)=>{if(!E){if(L)return E=!0,Dg(t),p(L,R);if(C+=1,C===t.length){const S=function(){if(R.encryptedBytes)return S5({decryptionWorker:e,segment:R,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b});lS({segment:R,bytes:R.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f,doneFn:p,onTransmuxerLog:b})};if(R.endOfAllRequests=Date.now(),R.map&&R.map.encryptedBytes&&!R.map.bytes)return cS({decryptionWorker:e,id:R.requestId+"-init",encryptedBytes:R.map.encryptedBytes,key:R.map.key},A=>{R.map.bytes=A,uS(R,M=>{if(M)return Dg(t),p(M,R);S()})});S()}}}},w5=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},A5=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:c,dataFn:f})=>p=>{if(!p.target.aborted)return t.stats=kt(t.stats,b5(p)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(p,t)},D5=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:i,abortFn:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:f,captionsFn:p,isEndOfTimeline:b,endedTimelineFn:C,dataFn:E,doneFn:L,onTransmuxerLog:R})=>{const S=[],A=C5({activeXhrs:S,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:f,captionsFn:p,isEndOfTimeline:b,endedTimelineFn:C,dataFn:E,doneFn:L,onTransmuxerLog:R});if(i.key&&!i.key.bytes){const m=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&m.push(i.map.key);const ne=kt(e,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),re=ub(i,m,A),xe=t(ne,re);S.push(xe)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const Z=kt(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),ae=ub(i,[i.map.key],A),Q=t(Z,ae);S.push(Q)}const ne=kt(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:wg(i.map)}),re=T5({segment:i,finishProcessingFn:A}),xe=t(ne,re);S.push(xe)}const M=kt(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:wg(i)}),I=x5({segment:i,finishProcessingFn:A,responseType:M.responseType}),N=t(M,I);N.addEventListener("progress",A5({segment:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:f,captionsFn:p,isEndOfTimeline:b,endedTimelineFn:C,dataFn:E})),S.push(N);const j={};return S.forEach(m=>{m.addEventListener("loadend",w5({loadendState:j,abortFn:r}))}),()=>Dg(S)},k5=zi("CodecUtils"),L5=function(t){const e=t.attributes||{};if(e.CODECS)return mr(e.CODECS)},dS=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},I5=(t,e)=>{if(!dS(t,e))return!0;const n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(const r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1},Vd=function(t){const e={};return t.forEach(({mediaType:n,type:i,details:r})=>{e[n]=e[n]||[],e[n].push(w2(`${i}${r}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){k5(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},lb=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},hl=function(t,e){const n=e.attributes||{},i=Vd(L5(e)||[]);if(dS(t,e)&&!i.audio&&!I5(t,e)){const r=Vd(XN(t,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},Kc=zi("PlaylistSelector"),cb=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},Wd=function(t,e){if(!t)return"";const n=W.getComputedStyle(t);return n?n[e]:""},ko=function(t,e){const n=t.slice();t.sort(function(i,r){const s=e(i,r);return s===0?n.indexOf(i)-n.indexOf(r):s})},A0=function(t,e){let n,i;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||W.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||W.Number.MAX_VALUE,n-i},P5=function(t,e){let n,i;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||W.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||W.Number.MAX_VALUE,n===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i};let fS=function(t,e,n,i,r,s){if(!t)return;const a={bandwidth:e,width:n,height:i,limitRenditionByPlayerDimensions:r};let o=t.playlists;fi.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let u=o.map(N=>{let j;const m=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.width,ne=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.height;return j=N.attributes&&N.attributes.BANDWIDTH,j=j||W.Number.MAX_VALUE,{bandwidth:j,width:m,height:ne,playlist:N}});ko(u,(N,j)=>N.bandwidth-j.bandwidth),u=u.filter(N=>!fi.isIncompatible(N.playlist));let c=u.filter(N=>fi.isEnabled(N.playlist));c.length||(c=u.filter(N=>!fi.isDisabled(N.playlist)));const f=c.filter(N=>N.bandwidth*_n.BANDWIDTH_VARIANCE<e);let p=f[f.length-1];const b=f.filter(N=>N.bandwidth===p.bandwidth)[0];if(r===!1){const N=b||c[0]||u[0];if(N&&N.playlist){let j="sortedPlaylistReps";return b&&(j="bandwidthBestRep"),c[0]&&(j="enabledPlaylistReps"),Kc(`choosing ${cb(N)} using ${j} with options`,a),N.playlist}return Kc("could not choose a playlist with options",a),null}const C=f.filter(N=>N.width&&N.height);ko(C,(N,j)=>N.width-j.width);const E=C.filter(N=>N.width===n&&N.height===i);p=E[E.length-1];const L=E.filter(N=>N.bandwidth===p.bandwidth)[0];let R,S,A;L||(R=C.filter(N=>N.width>n||N.height>i),S=R.filter(N=>N.width===R[0].width&&N.height===R[0].height),p=S[S.length-1],A=S.filter(N=>N.bandwidth===p.bandwidth)[0]);let M;if(s.leastPixelDiffSelector){const N=C.map(j=>(j.pixelDiff=Math.abs(j.width-n)+Math.abs(j.height-i),j));ko(N,(j,m)=>j.pixelDiff===m.pixelDiff?m.bandwidth-j.bandwidth:j.pixelDiff-m.pixelDiff),M=N[0]}const I=M||A||L||b||c[0]||u[0];if(I&&I.playlist){let N="sortedPlaylistReps";return M?N="leastPixelDiffRep":A?N="resolutionPlusOneRep":L?N="resolutionBestRep":b?N="bandwidthBestRep":c[0]&&(N="enabledPlaylistReps"),Kc(`choosing ${cb(I)} using ${N} with options`,a),I.playlist}return Kc("could not choose a playlist with options",a),null};const db=function(){const t=this.useDevicePixelRatio&&W.devicePixelRatio||1;return fS(this.playlists.main,this.systemBandwidth,parseInt(Wd(this.tech_.el(),"width"),10)*t,parseInt(Wd(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},O5=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const i=this.useDevicePixelRatio&&W.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),fS(this.playlists.main,e,parseInt(Wd(this.tech_.el(),"width"),10)*i,parseInt(Wd(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},R5=function(t){const{main:e,currentTime:n,bandwidth:i,duration:r,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:u}=t,c=e.playlists.filter(E=>!fi.isIncompatible(E));let f=c.filter(fi.isEnabled);f.length||(f=c.filter(E=>!fi.isDisabled(E)));const b=f.filter(fi.hasAttribute.bind(null,"BANDWIDTH")).map(E=>{const R=u.getSyncPoint(E,r,o,n)?1:2,A=fi.estimateSegmentRequestTime(s,i,E)*R-a;return{playlist:E,rebufferingImpact:A}}),C=b.filter(E=>E.rebufferingImpact<=0);return ko(C,(E,L)=>A0(L.playlist,E.playlist)),C.length?C[0]:(ko(b,(E,L)=>E.rebufferingImpact-L.rebufferingImpact),b[0]||null)},N5=function(){const t=this.playlists.main.playlists.filter(fi.isEnabled);return ko(t,(n,i)=>A0(n,i)),t.filter(n=>!!hl(this.playlists.main,n).video)[0]||null},M5=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(i=>{n.set(i,e),e+=i.byteLength})),n},B5=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=e.textTracks().getTrackById(i);if(r)t[n]=r;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,o=n,u=!1;const c=s[i];c&&(a=c.label,o=c.language,u=c.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:i,default:u,label:a,language:o},!1).track}}},F5=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const i=W.WebKitDataCue||W.VTTCue;e.forEach(r=>{const s=r.stream;r.content?r.content.forEach(a=>{const o=new i(r.startTime+n,r.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new i(r.startTime+n,r.endTime+n,r.text))})},U5=function(t){Object.defineProperties(t.frame,{id:{get(){return de.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return de.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return de.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},j5=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:i})=>{if(!e)return;const r=W.WebKitDataCue||W.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(f=>{const p=f.cueTime+n;typeof p!="number"||W.isNaN(p)||p<0||!(p<1/0)||!f.frames||!f.frames.length||f.frames.forEach(b=>{const C=new r(p,p,b.value||b.url||b.data||"");C.frame=b,C.value=b,U5(C),s.addCue(C)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let f=0;f<a.length;f++)a[f]&&o.push(a[f]);const u=o.reduce((f,p)=>{const b=f[p.startTime]||[];return b.push(p),f[p.startTime]=b,f},{}),c=Object.keys(u).sort((f,p)=>Number(f)-Number(p));c.forEach((f,p)=>{const b=u[f],C=isFinite(i)?i:0,E=Number(c[p+1])||C;b.forEach(L=>{L.endTime=E})})},$5={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},H5=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),q5=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const i=W.WebKitDataCue||W.VTTCue;e.forEach(r=>{for(const s of Object.keys(r)){if(H5.has(s))continue;const a=new i(r.startTime,r.endTime,"");a.id=r.id,a.type="com.apple.quicktime.HLS",a.value={key:$5[s],data:r[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}r.processDateRange()})},fb=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,de.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Qu=function(t,e,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=t&&r.endTime<=e&&n.removeCue(r)},V5=function(t){const e=t.cues;if(!e)return;const n={};for(let i=e.length-1;i>=0;i--){const r=e[i],s=`${r.startTime}-${r.endTime}-${r.text}`;n[s]?t.removeCue(r):n[s]=r}},W5=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const i=Math.ceil((e-n+3)*Ld.ONE_SECOND_IN_TS);let r;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)},z5=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const i=e[0].pts;let r=0;for(r;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)},G5=(t,e,n,i)=>{const r=Math.ceil((e-i)*Ld.ONE_SECOND_IN_TS),s=Math.ceil((n-i)*Ld.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let u=o+1;for(;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,o-u+1),a},K5=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(s!==i[r]||t[s]!==e[s])return!1}return!0},hS=22,X5=function(t,e,n){e=e||[];const i=[];let r=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(i.push(s),r+=a.duration,r>n))return s}return i.length===0?0:i[i.length-1]},Hu=1,Y5=500,hb=t=>typeof t=="number"&&isFinite(t),Xc=1/60,Q5=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,J5=(t,e,n)=>{let i=e-_n.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));const r=e-n;return Math.min(r,i)},uo=t=>{const{startOfSegment:e,duration:n,segment:i,part:r,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:u,partIndex:c,timeline:f}=t,p=o.length-1;let b="mediaIndex/partIndex increment";t.getMediaInfoForTime?b=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(b="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(b+=` with independent ${t.independent}`);const C=typeof c=="number",E=t.segment.uri?"segment":"pre-segment",L=C?NE({preloadSegment:i})-1:0;return`${E} [${s+u}/${s+p}]`+(C?` part [${c}/${L}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(C?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${f}] selected by [${b}] playlist [${a}]`},pb=t=>`${t}TimingInfo`,gb=(t,e)=>t.length?t.end(t.length-1):e,Z5=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:i,calculateTimestampOffsetForEachSegment:r,overrideCheck:s})=>r?gb(i,n):!s&&t===e?null:t<e?n:gb(i,n),mb=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(e===n)return!1;if(i==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(i==="main"&&r){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},eB=t=>{let e=0;return["video","audio"].forEach(function(n){const i=t[`${n}TimingInfo`];if(!i)return;const{start:r,end:s}=i;let a;typeof r=="bigint"||typeof s=="bigint"?a=W.BigInt(s)-W.BigInt(r):typeof r=="number"&&typeof s=="number"&&(a=s-r),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},yb=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Ns:!1,tB=(t,e)=>{if(e!=="hls")return null;const n=eB({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const i=t.playlist.targetDuration,r=yb({segmentDuration:n,maxDuration:i*2}),s=yb({segmentDuration:n,maxDuration:i}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||s?{severity:r?"warn":"info",message:a}:null};class kg extends de.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.calculateTimestampOffsetForEachSegment_=e.calculateTimestampOffsetForEachSegment,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=zi(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_(`${this.state_} -> ${i}`),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return np.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,W.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&np.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Mn();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:i,isMuxed:r}=e;if(i&&n&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const i=qd(e);let r=this.initSegments_[i];return n&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e}segmentKey(e,n=!1){if(!e)return null;const i=YE(e);let r=this.keyCache_[i];this.cacheEncryptionKeys_&&n&&!r&&e.bytes&&(this.keyCache_[i]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(r||e).resolvedUri};return r&&(s.bytes=r.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e)return;const i=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(i&&(i.id?s=i.id:i.uri&&(s=i.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const u=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=u}}r&&(r.mediaIndex-=a,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&np.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,i=()=>{},r=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&i()};(r||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,a)),(r||this.loaderType_==="main")&&(this.gopBuffer_=G5(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,a));for(const o in this.inbandTextTracks_)Qu(e,n,this.inbandTextTracks_[o]);Qu(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=W.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=W.setTimeout(this.monitorBufferTick_.bind(this),Y5)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,i=this.partIndex){if(!n||!this.mediaSource_)return!1;const r=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,a=!r||!r.parts||i+1===r.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),n=nb(e)||0,i=T0(e,this.currentTime_()),r=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||r||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=X5(this.currentTimeline_,a,n);else if(this.mediaIndex!==null){const b=a[this.mediaIndex],C=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=b.end?b.end:n,b.parts&&b.parts[C+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=C+1):o.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:b,startTime:C,partIndex:E}=fi.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?n:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${n}`:`currentTime ${this.currentTime_()}`,o.mediaIndex=b,o.startOfSegment=C,o.partIndex=E}const u=a[o.mediaIndex];let c=u&&typeof o.partIndex=="number"&&u.parts&&u.parts[o.partIndex];if(!u||typeof o.partIndex=="number"&&!c)return null;typeof o.partIndex!="number"&&u.parts&&(o.partIndex=0,c=u.parts[0]);const f=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&c&&!f&&!c.independent)if(o.partIndex===0){const b=a[o.mediaIndex-1],C=b.parts&&b.parts.length&&b.parts[b.parts.length-1];C&&C.independent&&(o.mediaIndex-=1,o.partIndex=b.parts.length-1,o.independent="previous segment")}else u.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const p=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&p&&!this.seeking_()?null:this.generateSegmentInfo_(o)}generateSegmentInfo_(e){const{independent:n,playlist:i,mediaIndex:r,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:u,getMediaInfoForTime:c}=e,f=i.segments[r],p=typeof o=="number"&&f.parts[o],b={requestId:"segment-loader-"+Math.random(),uri:p&&p.resolvedUri||f.resolvedUri,mediaIndex:r,partIndex:p?o:null,isSyncRequest:a,startOfSegment:s,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:p&&p.duration||f.duration,segment:f,part:p,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:c,independent:n},C=typeof u<"u"?u:this.isPendingTimestampOffset_;b.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:f.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),calculateTimestampOffsetForEachSegment:this.calculateTimestampOffsetForEachSegment_,overrideCheck:C});const E=nb(this.sourceUpdater_.audioBuffered());return typeof E=="number"&&(b.audioAppendStart=E-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(b.gopsToAlignWith=W5(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),b}timestampOffsetForSegment_(e){return Z5(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),i=e.bandwidth,r=this.pendingSegment_.duration,s=fi.estimateSegmentRequestTime(r,i,this.playlist_,e.bytesReceived),a=bM(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=R5({main:this.vhs_.playlists.main,currentTime:n,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const c=s-a-o.rebufferingImpact;let f=.5;a<=Ns&&(f=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||c<f)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*_n.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${uo(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},K5(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,n,i,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=pb(n);s[a]=s[a]||{},s[a][i]=r,this.logger_(`timinginfo: ${n} - ${i} - ${r}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};n.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+r),o.endTime=Math.max(o.endTime,a.endTime+r),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:u,captions:c}=s[a],f=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${u} for ${a}`),B5(f,this.vhs_.tech_,a),Qu(o,u,f[a]),F5({captionArray:c,inbandTextTracks:f,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,i));return}this.addMetadataToTextTrack(i,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!mb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:i,hasVideo:r,isMuxed:s}=n;return!(r&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||mb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,n));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[pb(n.type)].start;else{const r=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&r&&r.hasVideo;let a;s&&(a=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,n.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=this.chooseNextRequest_();if(r.mediaIndex!==i.mediaIndex||r.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:i,playlist:r}){if(i){const s=qd(i);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i},r){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ea(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ea(a).join(", "));const o=s.length?s.start(0):0,u=s.length?s.end(s.length-1):0,c=a.length?a.start(0):0,f=a.length?a.end(a.length-1):0;if(u-o<=Hu&&f-c<=Hu){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${Ea(s).join(", ")}, video buffer: ${Ea(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:i}));const b=this.currentTime_()-Hu;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${b}`),this.remove(0,b,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Hu}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=W.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Hu*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:i},r){if(r){if(r.code===hS){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error(`${n} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r,bytes:s}){if(!s){const a=[r];let o=r.byteLength;i&&(a.unshift(i),o+=i.byteLength),s=M5({bytes:o,segments:a})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,i){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const r=this.pendingSegment_.segment,s=`${e}TimingInfo`;r[s]||(r[s]={}),r[s].transmuxerPrependedSeconds=i.prependedContentDuration||0,r[s].transmuxedPresentationStart=i.start.presentation,r[s].transmuxedDecodeStart=i.start.decode,r[s].transmuxedPresentationEnd=i.end.presentation,r[s].transmuxedDecodeEnd=i.end.decode,r[s].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,n){const{type:i,data:r}=n;if(!r||!r.byteLength||i==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:i,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:r})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const n=Ps({},e,{forceTimestampOffset:!0});Ps(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||r&&s;this.logger_(`Requesting ${uo(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=D5({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:u,stream:c})=>{this.logger_(`${uo(e)} logged from transmuxer stream ${c} as a ${u}: ${o}`)}})}trimBackBuffer_(e){const n=J5(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,i=e.part,r={resolvedUri:i?i.resolvedUri:n.resolvedUri,byterange:i?i.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===n.timeline&&(s.videoTimingInfo?r.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(r.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),n.key){const a=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(n.key),r.key.iv=a}return n.map&&(r.map=this.initSegmentForMap(n.map)),r}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<Xc){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Xc}`);return}this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,i));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===xr.ABORTED)return;if(this.pause(),e.code===xr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),r.endOfAllRequests=n.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=z5(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:i,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:u}){if(typeof e<"u")return e;if(!a)return u.start;const c=n.segments[i-1];return i===0||!c||typeof c.start>"u"||c.end!==r+s?r:o.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:r,isMuxed:s}=n,a=this.loaderType_==="main"&&r,o=!this.audioDisabled_&&i&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=Q5(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end=typeof r.end=="number"?r.end:r.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=tB(e,this.sourceType_);if(n&&(n.severity==="warn"?de.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${uo(e)}`);return}this.logger_(`Appended ${uo(e)}`),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,r=e.part,s=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,a=r&&r.end&&this.currentTime_()-r.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${uo(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Xc){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Xc}`);return}const n=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(r-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,i=n.start,r=n.end;if(!hb(i)||!hb(r))return;Qu(i,r,this.segmentMetadataTrack_);const s=W.WebKitDataCue||W.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},o=JSON.stringify(a),u=new s(i,r,o);u.value=a,this.segmentMetadataTrack_.addCue(u)}set replaceSegmentsUntil(e){this.logger_(`Replacing currently buffered segments until ${e}`),this.replaceSegmentsUntil_=e}}function Gr(){}const pS=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},nB=["video","audio"],Lg=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},iB=(t,e)=>{for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="mediaSource")return null;if(i.type===t)return n}return null},Lo=(t,e)=>{if(e.queue.length===0)return;let n=0,i=e.queue[n];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),Lo("audio",e),Lo("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Lg(t,e))){if(i.type!==t){if(n=iB(t,e.queue),n===null)return;i=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=i,i.action(t,e),!i.doneFn){e.queuePending[t]=null,Lo(t,e);return}}},gS=(t,e)=>{const n=e[`${t}Buffer`],i=pS(t);n&&(n.removeEventListener("updateend",e[`on${i}UpdateEnd_`]),n.removeEventListener("error",e[`on${i}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},yr=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Ei={appendBuffer:(t,e,n)=>(i,r)=>{const s=r[`${i}Buffer`];if(yr(r.mediaSource,s)){r.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${i}Buffer`);try{s.appendBuffer(t)}catch(a){r.logger_(`Error with code ${a.code} `+(a.code===hS?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${i}Buffer`),r.queuePending[i]=null,n(a)}}},remove:(t,e)=>(n,i)=>{const r=i[`${n}Buffer`];if(yr(i.mediaSource,r)){i.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{r.remove(t,e)}catch{i.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const i=n[`${e}Buffer`];yr(n.mediaSource,i)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),i.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){de.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){de.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(yr(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(i){de.log.warn(`Failed to abort on ${t}Buffer`,i)}}},addSourceBuffer:(t,e)=>n=>{const i=pS(t),r=wl(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",n[`on${i}UpdateEnd_`]),s.addEventListener("error",n[`on${i}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(gS(t,e),!!yr(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(i){de.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,i)}}},changeType:t=>(e,n)=>{const i=n[`${e}Buffer`],r=wl(t);yr(n.mediaSource,i)&&n.codecs[e]!==t&&(n.logger_(`changing ${e}Buffer codec from ${n.codecs[e]} to ${t}`),i.changeType(r),n.codecs[e]=t)}},Si=({type:t,sourceUpdater:e,action:n,doneFn:i,name:r})=>{e.queue.push({type:t,action:n,doneFn:i,name:r}),Lo(t,e)},_b=(t,e)=>n=>{const i=e[`${t}Buffered`](),r=yM(i);if(e.logger_(`${t} source buffer update end. Buffered: 
`,r),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Lo(t,e)};class mS extends de.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Lo("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=zi("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=_b("video",this),this.onAudioUpdateEnd_=_b("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){Si({type:"mediaSource",sourceUpdater:this,action:Ei.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){Si({type:e,sourceUpdater:this,action:Ei.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){de.log.error("removeSourceBuffer is not supported!");return}Si({type:"mediaSource",sourceUpdater:this,action:Ei.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!de.browser.IS_FIREFOX&&W.MediaSource&&W.MediaSource.prototype&&typeof W.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return W.SourceBuffer&&W.SourceBuffer.prototype&&typeof W.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){de.log.error("changeType is not supported!");return}Si({type:e,sourceUpdater:this,action:Ei.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const i=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,i);this.canChangeType()&&this.changeType(n,i)})}appendBuffer(e,n){const{segmentInfo:i,type:r,bytes:s}=e;if(this.processedAppend_=!0,r==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=n;if(Si({type:r,sourceUpdater:this,action:Ei.appendBuffer(s,i||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),r==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(u=>{this.appendBuffer.apply(this,u)})}}audioBuffered(){return yr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Mn()}videoBuffered(){return yr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Mn()}buffered(){const e=yr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=yr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():vM(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=Gr){Si({type:"mediaSource",sourceUpdater:this,action:Ei.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=Gr){typeof e!="string"&&(e=void 0),Si({type:"mediaSource",sourceUpdater:this,action:Ei.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,i=Gr){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}Si({type:"audio",sourceUpdater:this,action:Ei.remove(e,n),doneFn:i,name:"remove"})}removeVideo(e,n,i=Gr){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}Si({type:"video",sourceUpdater:this,action:Ei.remove(e,n),doneFn:i,name:"remove"})}updating(){return!!(Lg("audio",this)||Lg("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Si({type:"audio",sourceUpdater:this,action:Ei.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Si({type:"video",sourceUpdater:this,action:Ei.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Si({type:"audio",sourceUpdater:this,action:Ei.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Si({type:"video",sourceUpdater:this,action:Ei.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),nB.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>gS(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const vb=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),bb=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class rB extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class sB extends kg{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Mn();const e=this.subtitlesTrack_.cues,n=e[0].startTime,i=e[e.length-1].startTime;return Mn([[n,i]])}initSegmentForMap(e,n=!1){if(!e)return null;const i=qd(e);let r=this.initSegments_[i];if(n&&!r&&e.bytes){const s=bb.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(bb,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){Qu(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===xr.TIMEOUT&&this.handleTimeout_(),e.code===xr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const s=r.segment;if(s.map&&(s.map.bytes=n.map.bytes),r.bytes=n.bytes,typeof W.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(r)}catch(a){this.stopForError({message:a.message});return}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,r.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new W.VTTCue(a.startTime,a.endTime,a.text):a)}),V5(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let n,i=!1;if(typeof W.WebVTT!="function")throw new rB;typeof W.TextDecoder=="function"?n=new W.TextDecoder("utf8"):(n=W.WebVTT.StringDecoder(),i=!0);const r=new W.WebVTT.Parser(W,W.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=a=>{e.timestampmap=a},r.onparsingerror=a=>{de.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;i&&(a=vb(a)),r.parse(a)}let s=e.bytes;i&&(s=vb(s)),r.parse(s),r.flush()}updateTimeMapping_(e,n,i){const r=e.segment;if(!n)return;if(!e.cues.length){r.empty=!0;return}const s=e.timestampmap,a=s.MPEGTS/Ld.ONE_SECOND_IN_TS-s.LOCAL+n.mapping;if(e.cues.forEach(o=>{o.startTime+=a,o.endTime+=a}),!i.syncInfo){const o=e.cues[0].startTime,u=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(o,u-r.duration)}}}}const aB=function(t,e){const n=t.cues;for(let i=0;i<n.length;i++){const r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},oB=function(t,e,n=0){if(!t.segments)return;let i=n,r;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(r||(r=aB(e,i+a.duration/2)),r){if("cueIn"in a){r.endTime=i,r.adEndTime=i,i+=a.duration,r=null;continue}if(i<r.endTime){i+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&(r=new W.VTTCue(i,i+a.duration,a.cueOut),r.adStartTime=i,r.adEndTime=i+parseFloat(a.cueOut),e.addCue(r)),"cueOutCont"in a){const[o,u]=a.cueOutCont.split("/").map(parseFloat);r=new W.VTTCue(i,i+a.duration,""),r.adStartTime=i-o,r.adEndTime=r.adStartTime+u,e.addCue(r)}i+=a.duration}},uB=86400,Tb=[{name:"VOD",run:(t,e,n,i,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(t,e,n,i,r)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=Tg(e);r=r||0;for(let u=0;u<o.length;u++){const c=e.endList||r===0?u:o.length-(u+1),f=o[c],p=f.segment,b=t.timelineToDatetimeMappings[p.timeline];if(!b||!p.dateTimeObject)continue;let E=p.dateTimeObject.getTime()/1e3+b;if(p.parts&&typeof f.partIndex=="number")for(let R=0;R<f.partIndex;R++)E+=p.parts[R].duration;const L=Math.abs(r-E);if(a!==null&&(L===0||a<L))break;a=L,s={time:E,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}return s}},{name:"Segment",run:(t,e,n,i,r)=>{let s=null,a=null;r=r||0;const o=Tg(e);for(let u=0;u<o.length;u++){const c=e.endList||r===0?u:o.length-(u+1),f=o[c],p=f.segment,b=f.part&&f.part.start||p&&p.start;if(p.timeline===i&&typeof b<"u"){const C=Math.abs(r-b);if(a!==null&&a<C)break;(!s||a===null||a>=C)&&(a=C,s={time:b,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,i,r)=>{let s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const u=e.discontinuityStarts[o],c=e.discontinuitySequence+o+1,f=t.discontinuities[c];if(f){const p=Math.abs(r-f.time);if(a!==null&&a<p)break;(!s||a===null||a>=p)&&(a=p,s={time:f.time,segmentIndex:u,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,i,r)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class lB extends de.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=zi("SyncController")}getSyncPoint(e,n,i,r){const s=this.runStrategies_(e,n,i,r);return s.length?this.selectSyncPoint_(s,{key:"time",value:r}):null}getExpiredTime(e,n){if(!e||!e.segments)return null;const i=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!i.length)return null;const r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+dl({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))}runStrategies_(e,n,i,r){const s=[];for(let a=0;a<Tb.length;a++){const o=Tb[a],u=o.run(this,e,n,i,r);u&&(u.strategy=o.name,s.push({strategy:o.name,syncPoint:u}))}return s}selectSyncPoint_(e,n){let i=e[0].syncPoint,r=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[n.key]-n.value);o<r&&(r=o,i=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+(typeof i.partIndex=="number"?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,n){const i=n.mediaSequence-e.mediaSequence;if(i>uB){de.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);return}for(let r=i-1;r>=0;r--){const s=e.segments[r];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+r,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],i=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),r=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:r.start}));const s=r.dateTimeObject;r.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[r.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,i){const r=e.segment,s=e.part;let a=this.timelines[e.timeline],o,u;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},i&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,u=n.end+a.mapping;else if(a)o=n.start+a.mapping,u=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=u),(!r.start||o<r.start)&&(r.start=o),r.end=u,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let r=0;r<n.discontinuityStarts.length;r++){const s=n.discontinuityStarts[r],a=n.discontinuitySequence+r+1,o=s-e.mediaIndex,u=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>u){let c;o<0?c=i.start-dl({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):c=i.end+dl({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:c,accuracy:u}}}}dispose(){this.trigger("dispose"),this.off()}}class cB extends de.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:i}){return typeof n=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:i}){return typeof n=="number"&&typeof i=="number"&&(this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const dB=nS(iS(function(){var t=function(){function L(){this.listeners={}}var R=L.prototype;return R.on=function(A,M){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(M)},R.off=function(A,M){if(!this.listeners[A])return!1;var I=this.listeners[A].indexOf(M);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(I,1),I>-1},R.trigger=function(A){var M=this.listeners[A];if(M)if(arguments.length===2)for(var I=M.length,N=0;N<I;++N)M[N].call(this,arguments[1]);else for(var j=Array.prototype.slice.call(arguments,1),m=M.length,ne=0;ne<m;++ne)M[ne].apply(this,j)},R.dispose=function(){this.listeners={}},R.pipe=function(A){this.on("data",function(M){A.push(M)})},L}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(L){return L.subarray(0,L.byteLength-L[L.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const n=function(){const L=[[[],[],[],[],[]],[[],[],[],[],[]]],R=L[0],S=L[1],A=R[4],M=S[4];let I,N,j;const m=[],ne=[];let re,xe,Z,ae,Q,he;for(I=0;I<256;I++)ne[(m[I]=I<<1^(I>>7)*283)^I]=I;for(N=j=0;!A[N];N^=re||1,j=ne[j]||1)for(ae=j^j<<1^j<<2^j<<3^j<<4,ae=ae>>8^ae&255^99,A[N]=ae,M[ae]=N,Z=m[xe=m[re=m[N]]],he=Z*16843009^xe*65537^re*257^N*16843008,Q=m[ae]*257^ae*16843008,I=0;I<4;I++)R[I][N]=Q=Q<<24^Q>>>8,S[I][ae]=he=he<<24^he>>>8;for(I=0;I<5;I++)R[I]=R[I].slice(0),S[I]=S[I].slice(0);return L};let i=null;class r{constructor(R){i||(i=n()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let S,A,M;const I=this._tables[0][4],N=this._tables[1],j=R.length;let m=1;if(j!==4&&j!==6&&j!==8)throw new Error("Invalid aes key size");const ne=R.slice(0),re=[];for(this._key=[ne,re],S=j;S<4*j+28;S++)M=ne[S-1],(S%j===0||j===8&&S%j===4)&&(M=I[M>>>24]<<24^I[M>>16&255]<<16^I[M>>8&255]<<8^I[M&255],S%j===0&&(M=M<<8^M>>>24^m<<24,m=m<<1^(m>>7)*283)),ne[S]=ne[S-j]^M;for(A=0;S;A++,S--)M=ne[A&3?S:S-4],S<=4||A<4?re[A]=M:re[A]=N[0][I[M>>>24]]^N[1][I[M>>16&255]]^N[2][I[M>>8&255]]^N[3][I[M&255]]}decrypt(R,S,A,M,I,N){const j=this._key[1];let m=R^j[0],ne=M^j[1],re=A^j[2],xe=S^j[3],Z,ae,Q;const he=j.length/4-2;let He,Le=4;const Re=this._tables[1],Ve=Re[0],bt=Re[1],Qt=Re[2],$t=Re[3],xt=Re[4];for(He=0;He<he;He++)Z=Ve[m>>>24]^bt[ne>>16&255]^Qt[re>>8&255]^$t[xe&255]^j[Le],ae=Ve[ne>>>24]^bt[re>>16&255]^Qt[xe>>8&255]^$t[m&255]^j[Le+1],Q=Ve[re>>>24]^bt[xe>>16&255]^Qt[m>>8&255]^$t[ne&255]^j[Le+2],xe=Ve[xe>>>24]^bt[m>>16&255]^Qt[ne>>8&255]^$t[re&255]^j[Le+3],Le+=4,m=Z,ne=ae,re=Q;for(He=0;He<4;He++)I[(3&-He)+N]=xt[m>>>24]<<24^xt[ne>>16&255]<<16^xt[re>>8&255]<<8^xt[xe&255]^j[Le++],Z=m,m=ne,ne=re,re=xe,xe=Z}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(R){this.jobs.push(R),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(L){return L<<24|(L&65280)<<8|(L&16711680)>>8|L>>>24},o=function(L,R,S){const A=new Int32Array(L.buffer,L.byteOffset,L.byteLength>>2),M=new r(Array.prototype.slice.call(R)),I=new Uint8Array(L.byteLength),N=new Int32Array(I.buffer);let j,m,ne,re,xe,Z,ae,Q,he;for(j=S[0],m=S[1],ne=S[2],re=S[3],he=0;he<A.length;he+=4)xe=a(A[he]),Z=a(A[he+1]),ae=a(A[he+2]),Q=a(A[he+3]),M.decrypt(xe,Z,ae,Q,N,he),N[he]=a(N[he]^j),N[he+1]=a(N[he+1]^m),N[he+2]=a(N[he+2]^ne),N[he+3]=a(N[he+3]^re),j=xe,m=Z,ne=ae,re=Q;return I};class u{constructor(R,S,A,M){const I=u.STEP,N=new Int32Array(R.buffer),j=new Uint8Array(R.byteLength);let m=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(N.subarray(m,m+I),S,A,j)),m=I;m<N.length;m+=I)A=new Uint32Array([a(N[m-4]),a(N[m-3]),a(N[m-2]),a(N[m-1])]),this.asyncStream_.push(this.decryptChunk_(N.subarray(m,m+I),S,A,j));this.asyncStream_.push(function(){M(null,e(j))})}static get STEP(){return 32e3}decryptChunk_(R,S,A,M){return function(){const I=o(R,S,A);M.set(I,R.byteOffset)}}}var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f;typeof window<"u"?f=window:typeof c<"u"?f=c:typeof self<"u"?f=self:f={};var p=f,b=function(R){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(R):R&&R.buffer instanceof ArrayBuffer},C=p.BigInt||Number;C("0x1"),C("0x100"),C("0x10000"),C("0x1000000"),C("0x100000000"),C("0x10000000000"),C("0x1000000000000"),C("0x100000000000000"),C("0x10000000000000000"),function(){var L=new Uint16Array([65484]),R=new Uint8Array(L.buffer,L.byteOffset,L.byteLength);return R[0]===255?"big":R[0]===204?"little":"unknown"}();const E=function(L){const R={};return Object.keys(L).forEach(S=>{const A=L[S];b(A)?R[S]={bytes:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength}:R[S]=A}),R};self.onmessage=function(L){const R=L.data,S=new Uint8Array(R.encrypted.bytes,R.encrypted.byteOffset,R.encrypted.byteLength),A=new Uint32Array(R.key.bytes,R.key.byteOffset,R.key.byteLength/4),M=new Uint32Array(R.iv.bytes,R.iv.byteOffset,R.iv.byteLength/4);new u(S,A,M,function(I,N){self.postMessage(E({source:R.source,decrypted:N}),[N.buffer])})}}));var fB=tS(dB);const hB=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},yS=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Ig=(t,e)=>{e.activePlaylistLoader=t,t.load()},pB=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:r}}=e,s=r.activeTrack(),a=r.getActiveGroup(),o=r.activePlaylistLoader,u=r.lastGroup_;if(!(a&&u&&a.id===u.id)&&(r.lastGroup_=a,r.lastTrack_=s,yS(n,r),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&i.resetEverything();return}n.resyncLoader(),Ig(a.playlistLoader,r)}},gB=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:i}}=e;i.lastGroup_=null,n.abort(),n.pause()},mB=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:i,main:r},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),u=s.activePlaylistLoader,c=s.lastTrack_;if(!(c&&a&&c.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,yS(i,s),!!o)){if(o.isMainPlaylist){if(!a||!c||a.id===c.id)return;const f=e.vhs.playlistController_,p=f.selectPlaylist();if(f.media()===p)return;s.logger_(`track change. Switching main audio from ${c.id} to ${a.id}`),n.pause(),r.resetEverything(),f.fastQualityChange_(p);return}if(t==="AUDIO"){if(!o.playlistLoader){r.setAudio(!0),r.resetEverything();return}i.setAudio(!0),r.setAudio(!1)}if(u===o.playlistLoader){Ig(o.playlistLoader,s);return}i.track&&i.track(a),i.resetEverything(),Ig(o.playlistLoader,s)}},zd={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:i}=e,r=n.activeTrack(),s=n.activeGroup(),a=(s.filter(u=>u.default)[0]||s[0]).id,o=n.tracks[a];if(r===o){i({error:{message:"Problem encountered loading the default audio track."}});return}de.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const u in n.tracks)n.tracks[u].enabled=n.tracks[u]===o;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;de.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},xb={AUDIO:(t,e,n)=>{if(!e)return;const{tech:i,requestOptions:r,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,r),(!i.paused()||a.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",zd[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,r),s.track(a.activeTrack()),(!i.paused()||o.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",zd[t](t,n))}},yB={AUDIO:(t,e)=>{const{vhs:n,sourceType:i,segmentLoaders:{[t]:r},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:u,logger_:c}},mainPlaylistLoader:f}=e,p=tc(f.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},p&&(a[t].main.default.playlists=f.main.playlists));for(const b in a[t]){o[b]||(o[b]=[]);for(const C in a[t][b]){let E=a[t][b][C],L;if(p?(c(`AUDIO group '${b}' label '${C}' is a main playlist`),E.isMainPlaylist=!0,L=null):i==="vhs-json"&&E.playlists?L=new _o(E.playlists[0],n,s):E.resolvedUri?L=new _o(E.resolvedUri,n,s):E.playlists&&i==="dash"?L=new Ag(E.playlists[0],n,s,f):L=null,E=kt({id:C,playlistLoader:L},E),xb[t](t,E.playlistLoader,e),o[b].push(E),typeof u[C]>"u"){const R=new de.AudioTrack({id:C,kind:hB(E),enabled:!1,language:E.language,default:E.default,label:C});u[C]=R}}}r.on("error",zd[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:u,tracks:c}},mainPlaylistLoader:f}=e;for(const p in o[t]){u[p]||(u[p]=[]);for(const b in o[t][p]){if(!i.options_.useForcedSubtitles&&o[t][p][b].forced)continue;let C=o[t][p][b],E;if(r==="hls")E=new _o(C.resolvedUri,i,a);else if(r==="dash"){if(!C.playlists.filter(R=>R.excludeUntil!==1/0).length)return;E=new Ag(C.playlists[0],i,a,f)}else r==="vhs-json"&&(E=new _o(C.playlists?C.playlists[0]:C.resolvedUri,i,a));if(C=kt({id:b,playlistLoader:E},C),xb[t](t,C.playlistLoader,e),u[p].push(C),typeof c[b]>"u"){const L=n.addRemoteTextTrack({id:b,kind:"subtitles",default:C.default&&C.autoselect,language:C.language,label:b},!1).track;c[b]=L}}}s.on("error",zd[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[t]:{groups:r,tracks:s}}}=e;for(const a in i[t]){r[a]||(r[a]=[]);for(const o in i[t][a]){const u=i[t][a][o];if(!/^(?:CC|SERVICE)/.test(u.instreamId))continue;const c=n.options_.vhs&&n.options_.vhs.captionServices||{};let f={label:o,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(c[f.instreamId]&&(f=kt(f,c[f.instreamId])),f.default===void 0&&delete f.default,r[a].push(kt({id:o},u)),typeof s[o]>"u"){const p=n.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;s[o]=p}}}}},_S=(t,e)=>{for(let n=0;n<t.length;n++)if(S0(e,t[n])||t[n].playlists&&_S(t[n].playlists,e))return!0;return!1},_B=(t,e)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[t]:{groups:r}}}=e,s=i.media();if(!s)return null;let a=null;s.attributes[t]&&(a=r[s.attributes[t]]);const o=Object.keys(r);if(!a)if(t==="AUDIO"&&o.length>1&&tc(e.main))for(let u=0;u<o.length;u++){const c=r[o[u]];if(_S(c,s)){a=c;break}}else r.main?a=r.main:o.length===1&&(a=r[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(u=>u.id===n.id)[0]||null},vB={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].enabled)return n[i];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].mode==="showing"||n[i].mode==="hidden")return n[i];return null}},bB=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},TB=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(c=>{yB[c](c,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(c=>{e[c].activeGroup=_B(c,t),e[c].activeTrack=vB[c](c,t),e[c].onGroupChanged=pB(c,t),e[c].onGroupChanging=gB(c,t),e[c].onTrackChanged=mB(c,t),e[c].getActiveGroup=bB(c,t)});const o=e.AUDIO.activeGroup();if(o){const c=(o.filter(p=>p.default)[0]||o[0]).id;e.AUDIO.tracks[c].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanging())});const u=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",u),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",()=>{i.audioTracks().removeEventListener("change",u),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const c in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[c])},xB=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Gr,activeTrack:Gr,getActiveGroup:Gr,onGroupChanged:Gr,onTrackChanged:Gr,lastTrack_:null,logger_:zi(`MediaGroups[${e}]`)}}),t};class Eb{constructor(){this.priority_=[]}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=wi(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}}class EB extends de.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new Eb,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.logger_=zi("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const i=n.serverUri||n.serverURL;if(!i){this.logger_(`steering manifest URL is ${i}, cannot request steering manifest.`),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=this.queryBeforeStart?i:wi(e,i),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart||!1,this.proxyServerUrl_=n.proxyServerURL||null,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"),this.queryBeforeStart&&this.requestSteeringManifest(this.steeringManifest.reloadUri)}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!e&&!n)return;const i=e||this.getRequestURI(n);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:i},(r,s)=>{if(r){if(s.status===410){this.logger_(`manifest request 410 ${r}.`),this.logger_(`There will be no more content steering requests to ${i} this session.`),this.excludedSteeringManifestURLs.add(i);return}if(s.status===429){const o=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${r}.`),this.logger_(`content steering will retry in ${o} seconds.`),this.startTTLTimeout_(parseInt(o,10));return}this.logger_(`manifest failed to load ${r}.`),this.startTTLTimeout_();return}const a=JSON.parse(this.request_.responseText);this.startTTLTimeout_(),this.assignSteeringProperties_(a)})}setProxyServerUrl_(e){const n=new W.URL(e),i=new W.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const n=JSON.parse(W.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new W.URL(e),i=this.getPathway(),r=this.getBandwidth_();if(i){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,i)}if(r){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,r)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(r=>{for(const s of r)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=r=>this.excludedSteeringManifestURLs.has(r);if(this.proxyServerUrl_){const r=this.setProxyServerUrl_(e);if(!n(r))return r}const i=this.setSteeringParams_(e);return n(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=W.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){W.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new Eb}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}}const SB=10;let qr;const CB=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],wB=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},AB=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:u}){if(!i)return de.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${t&&t.id||"null"} -> ${i.id}`;if(!t)return u(`${c} as current playlist is not set`),!0;if(i.id===t.id)return!1;const f=!!yo(e,n).length;if(!t.endList)return!f&&typeof t.partTargetDuration=="number"?(u(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(u(`${c} as current playlist is live`),!0);const p=T0(e,n),b=o?_n.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:_n.MAX_BUFFER_LOW_WATER_LINE;if(a<b)return u(`${c} as duration < max low water line (${a} < ${b})`),!0;const C=i.attributes.BANDWIDTH,E=t.attributes.BANDWIDTH;if(C<E&&(!o||p<s)){let L=`${c} as next bandwidth < current bandwidth (${C} < ${E})`;return o&&(L+=` and forwardBuffer < bufferHighWaterLine (${p} < ${s})`),u(L),!0}if((!o||C>E)&&p>=r){let L=`${c} as forwardBuffer >= bufferLowWaterLine (${p} >= ${r})`;return o&&(L+=` and next bandwidth > current bandwidth (${C} > ${E})`),u(L),!0}return u(`not ${c} as no switching criteria met`),!1};class DB extends de.EventTarget{constructor(e){super();const{src:n,withCredentials:i,tech:r,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:u,enableLowInitialPlaylist:c,sourceType:f,cacheEncryptionKeys:p,bufferBasedABR:b,leastPixelDiffSelector:C,captionServices:E}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:L}=e;(L===null||typeof L>"u")&&(L=1/0),qr=a,this.bufferBasedABR=!!b,this.leastPixelDiffSelector=!!C,this.withCredentials=i,this.tech_=r,this.vhs_=r.vhs,this.sourceType_=f,this.useCueTags_=o,this.playlistExclusionDuration=u,this.maxPlaylistRetries=L,this.enableLowInitialPlaylist=c,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:L,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=xB(),this.mediaSource=new W.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Mn(),this.hasPlayed_=!1,this.syncController_=new lB(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new fB,this.sourceUpdater_=new mS(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new cB;const R={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,calculateTimestampOffsetForEachSegment:e.calculateTimestampOffsetForEachSegment,captionServices:E,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:p,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Ag(n,this.vhs_,kt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new _o(n,this.vhs_,kt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new kg(kt(R,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new kg(kt(R,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new sB(kt(R,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((M,I)=>{function N(){r.off("vttjserror",j),M()}function j(){r.off("vttjsloaded",N),I()}r.one("vttjsloaded",N),r.one("vttjserror",j),r.addWebVttScript_()})}),e);const S=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new EB(this.vhs_.xhr,S),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),CB.forEach(M=>{this[M+"_"]=wB.bind(this,M)}),this.logger_=zi("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const A=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(A,()=>{const M=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-M,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,i){const r=this.media(),s=r&&(r.id||r.uri),a=e.id||e.uri;s&&s!==a&&(this.logger_(`switch media ${s} -> ${a} from ${n}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})),this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],i=n?n.activeGroup():null,r=this.contentSteeringController_.getPathway();if(i&&r){const a=(i.length?i[0].playlists:i.playlists).filter(o=>o.attributes.serviceLocation===r);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=W.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(W.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const i=e.mediaGroups.AUDIO,r=Object.keys(i);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=i.main||r.length&&i[r[0]];for(const u in o)if(o[u].default){s={label:u};break}}if(!s)return n;const a=[];for(const o in i)if(i[o][s.label]){const u=i[o][s.label];if(u.playlists&&u.playlists.length)a.push.apply(a,u.playlists);else if(u.uri)a.push(u);else if(e.playlists.length)for(let c=0;c<e.playlists.length;c++){const f=e.playlists[c];f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===o&&a.push(f)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;xg(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),TB({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;xg(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const i=e.mediaGroups||{};let r=!0;const s=Object.keys(i.AUDIO);for(const a in i.AUDIO)for(const o in i.AUDIO[a])i.AUDIO[a][o].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),qr.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),r=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return AB({buffered:a,currentTime:i,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:SB}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),n=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=n,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const i=n.end(0);let r=i;if(e.start){const s=e.start.timeOffset;s<0?r=Math.max(i+s,n.start(0)):r=Math.min(i,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(r)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(e,this.duration());if(i===null)return!1;const r=qr.Playlist.playlistEnd(e,i),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return r-s<=Tr;const o=a.end(a.length-1);return o-s<=Tr&&r-o<=Tr}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const r=this.mainPlaylistLoader_.main.playlists,s=r.filter(qf),a=s.length===1&&s[0]===e;if(r.length===1&&i!==1/0)return de.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const E=this.pathwayAttribute_(e),L=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(E),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(E)},L);return}let C=!1;r.forEach(E=>{if(E===e)return;const L=E.excludeUntil;typeof L<"u"&&L!==1/0&&(C=!0,delete E.excludeUntil)}),C&&(de.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+i*1e3,e.excludeUntil=o,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const u=this.selectPlaylist();if(!u){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const c=n.internal?this.logger_:de.log.warn,f=n.message?" "+n.message:"";c(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${f} Switching to playlist ${u.id}.`),u.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const p=u.targetDuration/2*1e3||5*1e3,b=typeof u.lastRequest=="number"&&Date.now()-u.lastRequest<=p;return this.switchMedia_(u,"exclude",a||b)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const i=[],r=e==="all";(r||e==="main")&&i.push(this.mainPlaylistLoader_);const s=[];(r||e==="audio")&&s.push("AUDIO"),(r||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&i.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&i.push(o)}),i.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const n=yo(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:qr.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let n=this.mainPlaylistLoader_.media();if(!n)return;let i=this.syncController_.getExpiredTime(n,this.duration());if(i===null)return;const r=this.mainPlaylistLoader_.main,s=qr.Playlist.seekable(n,i,qr.Playlist.liveEdgeDelay(r,n));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(n,this.duration()),i===null||(e=qr.Playlist.seekable(n,i,qr.Playlist.liveEdgeDelay(r,n)),e.length===0)))return;let a,o;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Mn([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)&&(this.logger_(`seekable updated [${OE(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1));return}const n=this.tech_.buffered();let i=qr.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const i in n)n[i].forEach(r=>{r.playlistLoader&&r.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=hl(this.main(),n),r={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(r.video=i.video||e.main.videoCodec||QN),e.main.isMuxed&&(r.video+=`,${i.audio||e.main.audioCodec||rv}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(r.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||rv,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!r.audio&&!r.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(c,f)=>c?Zc(f):$h(f),o={};let u;if(["video","audio"].forEach(function(c){if(r.hasOwnProperty(c)&&!a(e[c].isFmp4,r[c])){const f=e[c].isFmp4?"browser":"muxer";o[f]=o[f]||[],o[f].push(r[c]),c==="audio"&&(u=f)}}),s&&u&&n.attributes.AUDIO){const c=n.attributes.AUDIO;this.main().playlists.forEach(f=>{(f.attributes&&f.attributes.AUDIO)===c&&f!==n&&(f.excludeUntil=1/0)}),this.logger_(`excluding audio group ${c} as ${u} does not support codec(s): "${r.audio}"`)}if(Object.keys(o).length){const c=Object.keys(o).reduce((f,p)=>(f&&(f+=", "),f+=`${p} does not support codec(s): "${o[p].join(",")}"`,f),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:c},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const c=[];if(["video","audio"].forEach(f=>{const p=(mr(this.sourceUpdater_.codecs[f]||"")[0]||{}).type,b=(mr(r[f]||"")[0]||{}).type;p&&b&&p.toLowerCase()!==b.toLowerCase()&&c.push(`"${this.sourceUpdater_.codecs[f]}" -> "${r[f]}"`)}),c.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${c.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return r}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(i=>{const r=e[i];if(n.indexOf(r.id)!==-1)return;n.push(r.id);const s=hl(this.main,r),a=[];s.audio&&!$h(s.audio)&&!Zc(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!$h(s.video)&&!Zc(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(r.excludeUntil=1/0,this.logger_(`excluding ${r.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],i=this.main().playlists,r=Vd(mr(e)),s=lb(r),a=r.video&&mr(r.video)[0]||null,o=r.audio&&mr(r.audio)[0]||null;Object.keys(i).forEach(u=>{const c=i[u];if(n.indexOf(c.id)!==-1||c.excludeUntil===1/0)return;n.push(c.id);const f=[],p=hl(this.mainPlaylistLoader_.main,c),b=lb(p);if(!(!p.audio&&!p.video)){if(b!==s&&f.push(`codec count "${b}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const C=p.video&&mr(p.video)[0]||null,E=p.audio&&mr(p.audio)[0]||null;C&&a&&C.type.toLowerCase()!==a.type.toLowerCase()&&f.push(`video codec "${C.type}" !== "${a.type}"`),E&&o&&E.type.toLowerCase()!==o.type.toLowerCase()&&f.push(`audio codec "${E.type}" !== "${o.type}"`)}f.length&&(c.excludeUntil=1/0,this.logger_(`excluding ${c.id}: ${f.join(" && ")}`))}})}updateAdCues_(e){let n=0;const i=this.seekable();i.length&&(n=i.start(0)),oB(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=_n.GOAL_BUFFER_LENGTH,i=_n.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,_n.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*i,r)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=_n.BUFFER_LOW_WATER_LINE,i=_n.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,_n.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,_n.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*i,this.bufferBasedABR?s:r)}bufferHighWaterLine(){return _n.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){fb(this.inbandTextTracks_,"com.apple.streaming",this.tech_),q5({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,i){const r=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();fb(this.inbandTextTracks_,e,this.tech_),j5({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:r,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(!e.contentSteering)return;const n=i=>{for(const r of i.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));this.contentSteeringController_.assignTagProperties(i.uri,i.contentSteering)};n(e),this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("mediaupdatetimeout",()=>{this.mainPlaylistLoader_.refreshMedia_(this.mainPlaylistLoader_.media().id),this.contentSteeringController_.abort(),this.contentSteeringController_.clearTTLTimeout_(),this.contentSteeringController_.clearAvailablePathways(),n(this.main())}),this.contentSteeringController_.queryBeforeStart||this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;const i=this.main().playlists,r=new Set;let s=!1;Object.keys(i).forEach(a=>{const o=i[a],u=this.pathwayAttribute_(o),c=u&&e!==u;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!c&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const p=!o.excludeUntil&&o.excludeUntil!==1/0;!r.has(o.id)&&c&&p&&(r.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const u=o.activePlaylistLoader.media_;u&&u.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}}const kB=(t,e,n)=>i=>{const r=t.main.playlists[e],s=E0(r),a=qf(r);return typeof i>"u"?a:(i?delete r.disabled:r.disabled=!0,i!==a&&!s&&(n(),i?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),i)};class LB{constructor(e,n,i){const{playlistController_:r}=e,s=r.fastQualityChange_.bind(r);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=hl(r.main(),n),this.playlist=n,this.id=i,this.enabled=kB(e.playlists,n.id,s)}}const IB=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=tc(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(i=>!E0(i)).map((i,r)=>new LB(t,i,i.id)):[]}},Sb=["seeking","seeked","pause","playing","error"];class PB{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=zi("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),r=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],u={};o.forEach(f=>{u[f]={reset:()=>this.resetSegmentDownloads_(f),updateend:()=>this.checkSegmentDownloads_(f)},a[`${f}SegmentLoader_`].on("appendsdone",u[f].updateend),a[`${f}SegmentLoader_`].on("playlistupdate",u[f].reset),this.tech_.on(["seeked","seeking"],u[f].reset)});const c=f=>{["main","audio"].forEach(p=>{a[`${p}SegmentLoader_`][f]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=()=>c("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(Sb,s),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",r),this.tech_.off(Sb,s),this.tech_.off("canplay",i),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(f=>{a[`${f}SegmentLoader_`].off("appendsdone",u[f].updateend),a[`${f}SegmentLoader_`].off("playlistupdate",u[f].reset),this.tech_.off(["seeked","seeking"],u[f].reset)}),this.checkCurrentTimeTimeout_&&W.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&W.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=W.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,i=n[`${e}SegmentLoader_`],r=i.buffered_(),s=TM(this[`${e}Buffered_`],r);if(this[`${e}Buffered_`]=r,s){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Ea(r)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+Tr>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),i=this.tech_.currentTime(),r=this.afterSeekableWindow_(n,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(r&&(s=n.end(n.length-1)),this.beforeSeekableWindow_(n,i)){const E=n.start(0);s=E+(E===n.end(0)?0:Tr)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${i} with seekable range ${OE(n)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),u=a.audioBuffer?a.audioBuffered():null,c=a.videoBuffer?a.videoBuffered():null,f=this.media(),p=f.partTargetDuration?f.partTargetDuration:(f.targetDuration-Ns)*2,b=[u,c];for(let E=0;E<b.length;E++){if(!b[E])continue;if(T0(b[E],i)<p)return!1}const C=Gc(o,i);return C.length===0?!1:(s=C.start(0)+Tr,this.logger_(`Buffered region starts (${C.start(0)})  just beyond seek point (${i}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),i=yo(n,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=Gc(r,n);return a.length>0?(this.logger_(`Stopped at ${n} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,i,r=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Tr;const a=!i.endList,o=typeof i.partTargetDuration=="number";return a&&(o||r)&&(s=e.end(e.length-1)+i.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:i}){if(!e)return;let r;if(e.length&&n.length){const s=yo(e,i-3),a=yo(e,i),o=yo(n,i);o.length&&!a.length&&s.length&&(r={start:s.end(0),end:o.end(0)})}else Gc(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return r?(this.logger_(`Encountered a gap in video from ${r.start} to ${r.end}. Seeking to current time ${i}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),i=this.tech_.currentTime(),r=Gc(n,i);this.resetTimeUpdate_(),!(r.length===0||i!==e)&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+Ns),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,n){const i=_M(e);for(let r=0;r<i.length;r++){const s=i.start(r),a=i.end(r);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const OB={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},vS=function(t,e){let n=0,i=0;const r=kt(OB,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){i&&t.currentTime(i)},a=function(f){f!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-n<r.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){de.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),r.getSource.call(t,a)},u=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",u)},c=function(f){u(),vS(t,f)};t.on("error",o),t.on("dispose",u),t.reloadSourceOnError=c},RB=function(t){vS(this,t)};var bS="3.7.0",NB="7.0.1",MB="1.2.2",BB="7.1.0",FB="4.0.1";const Jt={PlaylistLoader:_o,Playlist:fi,utils:GM,STANDARD_PLAYLIST_SELECTOR:db,INITIAL_PLAYLIST_SELECTOR:N5,lastBandwidthSelector:db,movingAverageBandwidthSelector:O5,comparePlaylistBandwidth:A0,comparePlaylistResolution:P5,xhr:KE()};Object.keys(_n).forEach(t=>{Object.defineProperty(Jt,t,{get(){return de.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),_n[t]},set(e){if(de.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){de.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}_n[t]=e}})});const TS="videojs-vhs",xS=function(t,e){const n=e.media();let i=-1;for(let r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},UB=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),xS(t,e.playlists)};Jt.canPlaySource=function(){return de.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const jB=(t,e,n)=>{if(!t)return t;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=Vd(mr(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=wl(i.video),s=wl(i.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),r&&(a[o].videoContentType=r),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return kt(t,a)},$B=(t,e)=>t.reduce((n,i)=>{if(!i.contentProtection)return n;const r=e.reduce((s,a)=>{const o=i.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(r).length&&n.push(r),n},[]),HB=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:i})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const r=n?i.concat([n]):i,s=$B(r,Object.keys(e)),a=[],o=[];return s.forEach(u=>{o.push(new Promise((c,f)=>{t.tech_.one("keysessioncreated",c)})),a.push(new Promise((c,f)=>{t.eme.initializeMediaKeys({keySystems:u},p=>{if(p){f(p);return}c()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},qB=({player:t,sourceKeySystems:e,media:n,audioMedia:i})=>{const r=jB(e,n,i);return r?(t.currentSource().keySystems=r,r&&!t.eme?(de.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},ES=()=>{if(!W.localStorage)return null;const t=W.localStorage.getItem(TS);if(!t)return null;try{return JSON.parse(t)}catch{return null}},VB=t=>{if(!W.localStorage)return!1;let e=ES();e=e?kt(e,t):t;try{W.localStorage.setItem(TS,JSON.stringify(e))}catch{return!1}return e},WB=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,SS=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},CS=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},wS=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},AS=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Jt.supportsNativeHls=function(){if(!we||!we.createElement)return!1;const t=we.createElement("video");return de.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();Jt.supportsNativeDash=function(){return!we||!we.createElement||!de.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(we.createElement("video").canPlayType("application/dash+xml"))}();Jt.supportsTypeNatively=t=>t==="hls"?Jt.supportsNativeHls:t==="dash"?Jt.supportsNativeDash:!1;Jt.isSupported=function(){return de.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Jt.xhr.onRequest=function(t){SS(Jt.xhr,t)};Jt.xhr.onResponse=function(t){CS(Jt.xhr,t)};Jt.xhr.offRequest=function(t){wS(Jt.xhr,t)};Jt.xhr.offResponse=function(t){AS(Jt.xhr,t)};const zB=de.getComponent("Component");class DS extends zB{constructor(e,n,i){if(super(n,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=zi("VhsHandler"),n.options_&&n.options_.playerId){const r=de.getPlayer(n.options_.playerId);this.player_=r}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(we,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=>{const s=we.fullscreenElement||we.webkitFullscreenElement||we.mozFullScreenElement||we.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.calculateTimestampOffsetForEachSegment=this.options_.calculateTimestampOffsetForEachSegment||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const e=ES();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=_n.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===_n.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","calculateTimestampOffsetForEachSegment","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{typeof this.source_[e]<"u"&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=WB(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Jt,this.options_.sourceType=D2(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.playlistController_=new DB(this.options_);const i=kt({liveRangeSafeTimeDelta:Tr},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new PB(i),this.playlistController_.on("error",()=>{const s=de.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const r=this.options_.bufferBasedABR?Jt.movingAverageBandwidthSelector(.55):Jt.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=Jt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=W.navigator.connection||W.navigator.mozConnection||W.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const u=a.downlink*1e3*1e3;u>=o&&s>=o?s=Math.max(s,u):s=u}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){de.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ea(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ea(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&VB({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{IB(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=W.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),HB({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=qB({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{if(i.status!=="output-restricted")return;const r=this.playlistController_.main();if(!r||!r.playlists)return;const s=[];r.playlists.forEach(a=>{a&&a.attributes&&a.attributes.RESOLUTION&&a.attributes.RESOLUTION.height>=720&&(!a.excludeUntil||a.excludeUntil<1/0)&&(a.excludeUntil=1/0,s.push(a))}),s.length&&(de.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...s),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=de.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{UB(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{xS(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":bS,"mux.js":NB,"mpd-parser":MB,"m3u8-parser":BB,"aes-decrypter":FB}}version(){return this.constructor.version()}canChangeType(){return mS.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&W.URL.revokeObjectURL&&(W.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return e5({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,i=!0,r=2){return ZE({programTime:e,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{SS(this.xhr,e)},this.xhr.onResponse=e=>{CS(this.xhr,e)},this.xhr.offRequest=e=>{wS(this.xhr,e)},this.xhr.offResponse=e=>{AS(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const Gd={name:"videojs-http-streaming",VERSION:bS,canHandleSource(t,e={}){const n=kt(de.options,e);return Gd.canPlayType(t.type,n)},handleSource(t,e,n={}){const i=kt(de.options,n);return e.vhs=new DS(t,e,i),e.vhs.xhr=KE(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=D2(t);if(!n)return"";const i=Gd.getOverrideNative(e);return!Jt.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(de.browser.IS_ANY_SAFARI||de.browser.IS_IOS),{overrideNative:i=n}=e;return i}},GB=()=>Zc("avc1.4d400d,mp4a.40.2");GB()&&de.getTech("Html5").registerSourceHandler(Gd,0);de.VhsHandler=DS;de.VhsSourceHandler=Gd;de.Vhs=Jt;de.use||de.registerComponent("Vhs",Jt);de.options.vhs=de.options.vhs||{};(!de.getPlugin||!de.getPlugin("reloadSourceOnError"))&&de.registerPlugin("reloadSourceOnError",RB);function ip(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}var KB={src:{type:String,onChange:function(t,e){return t.src(e)}},width:{type:Number,onChange:function(t,e){return t.width(e)},onEvent:function(t,e){t.on(["playerresize","resize"],function(){return e(t.width())})}},height:{type:Number,onChange:function(t,e){return t.height(e)},onEvent:function(t,e){t.on(["playerresize","resize"],function(){return e(t.height())})}},preload:{type:String,onChange:function(t,e){return t.preload(e)}},loop:{type:Boolean,onChange:function(t,e){return t.loop(e)}},muted:{type:Boolean,onChange:function(t,e){return t.muted(e)},onEvent:function(t,e){return t.on("volumechange",function(){return e(t.muted())})}},poster:{type:String,onChange:function(t,e){return t.poster(e)},onEvent:function(t,e){return t.on("posterchange",function(){return e(t.poster())})}},controls:{type:Boolean,onChange:function(t,e){return t.controls(e)},onEvent:function(t,e){t.on("controlsenabled",function(){return e(!0)}),t.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(t,e){return t.autoplay(e)}},crossorigin:{type:String,onChange:function(t,e){return t.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(t,e){return t.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(t,e){return t.playsinline(e)}},playsInline:{type:Boolean,onChange:function(t,e){return t.playsinline(e)}}},XB={id:{type:String},sources:{type:Array,onChange:function(t,e){return t.src(e)}},tracks:{type:Array,onChange:function(t,e){for(var n=t.remoteTextTracks(),i=(n==null?void 0:n.length)||0;i--;)t.removeRemoteTextTrack(n[i]);t.ready(function(){e.forEach(function(r){return t.addRemoteTextTrack(r,!1)})})}},textTrackSettings:{type:Object,onChange:function(t,e){return t.textTrackSettings.options(e)}},language:{type:String,onChange:function(t,e){return t.language(e)},onEvent:function(t,e){return t.on("languagechange",function(){return e(t.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(t,e){return t.playbackRates(e??[])},onEvent:function(t,e){t.on("playbackrateschange",function(){return e(t.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(t,e){return t.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(t,e){return t.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(t,e){return t.responsive(e)}},breakpoints:{type:Object,onChange:function(t,e){return t.breakpoints(e)}},fluid:{type:Boolean,onChange:function(t,e){return t.fluid(e)}},fill:{type:Boolean,onChange:function(t,e){return t.fill(e)}},aspectRatio:{type:String,onChange:function(t,e){return t.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(t,e){return t.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},YB={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(t,e){return t.controlBar.options(e)}}},QB={html5:{type:Object}},JB={volume:{type:Number,onChange:function(t,e){return t.volume(e)},onEvent:function(t,e){return t.on("volumechange",function(){return e(t.volume())})}},playbackRate:{type:Number,onChange:function(t,e){t.playbackRate(e),t.defaultPlaybackRate(e)},onEvent:function(t,e){t.on("ratechange",function(){e(t.playbackRate())})}},options:{type:Object}},Rl=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},KB),XB),YB),QB),JB),D0=Object.keys(Rl),kS=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),LS=Object.keys(kS);Object.values(kS);var rp=function(t){var e,n=t==null?void 0:t.trim().replace(/\s+/g," ");return n&&(e=n.split(" "))!==null&&e!==void 0?e:[]},sp={src:{getter:function(t){return t.src()}},currentSrc:{getter:function(t){return t.currentSrc()}},currentSource:{getter:function(t){return t.currentSource()}},width:{events:["resize","playerresize"],getter:function(t){return t.width()}},height:{events:["resize","playerresize"],getter:function(t){return t.height()}},currentWidth:{events:["resize","playerresize"],getter:function(t){return t.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(t){return t.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(t){return t.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(t){return t.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(t){return t.controls()}},volume:{events:["volumechange"],getter:function(t){return t.volume()}},muted:{events:["volumechange"],getter:function(t){return t.muted()}},poster:{events:["posterchange"],getter:function(t){return t.poster()}},seeking:{events:["seeking"],getter:function(t){return t.seeking()}},paused:{events:["pause","play","playing"],getter:function(t){return t.paused()}},ended:{events:["ended","play"],getter:function(t){return t.ended()}},currentTime:{events:["timeupdate"],getter:function(t){return t.currentTime()}},duration:{events:["durationchange"],getter:function(t){return t.duration()}},playbackRate:{events:["ratechange"],getter:function(t){return t.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(t){return t.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(t){return t.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(t){return t.isInPictureInPicture()}},isLive:{getter:function(t){var e;return(e=t.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(t){return t.language()}},userActive:{events:["useractive","userinactive"],getter:function(t){return t.userActive()}},readyState:{events:["loadeddata"],getter:function(t){return t.readyState()}},networkState:{events:["loadeddata","error"],getter:function(t){return t.networkState()}},error:{events:["loadeddata","error"],getter:function(t){return t.error()}},buffered:{events:["progress"],getter:function(t){return t.buffered()}},bufferedPercent:{events:["progress"],getter:function(t){return t.bufferedPercent()}},played:{events:["timeupdate"],getter:function(t){return t.played()}},seekable:{events:["progress","seeked"],getter:function(t){return t.seekable()}},audioTracks:{getter:function(t){var e;return(e=t.audioTracks)===null||e===void 0?void 0:e.call(t)}},videoTracks:{getter:function(t){var e;return(e=t.videoTracks)===null||e===void 0?void 0:e.call(t)}},textTracks:{getter:function(t){var e;return(e=t.textTracks)===null||e===void 0?void 0:e.call(t)}}},IS=D0.filter(function(t){return!!Rl[t].onEvent}),PS=function(t){return"update:"+t},ZB=LS.concat(IS.map(PS)),eF=D0.reduce(function(t,e){var n,i=Rl[e],r=Array.isArray(i.type)?i.type:[i.type],s=Object.assign({},i);return r.includes(Boolean)&&(s.default=void 0),Object.assign(Object.assign({},t),((n={})[e]=s,n))},{}),id=ei({name:"VueVideoPlayer",props:Object.assign(Object.assign({},eF),{class:[String,Object,Array]}),emits:ZB.concat(["mounted"],["unmounted"]),setup:function(t,e){var n=pt(t),i=n.class,r=ip(n,["class"]),s=As(!1),a=As(null),o=As(null),u=ht(function(){return o.value?o.value.player:null}),c=Mt(null),f=ht(function(){return c.value?Wg(c.value):null});return tu(function(){var p,b=function(C){var E,L=C.props,R=C.element,S=C.className,A=C.onEvent,M=L.options;M===void 0&&(M={});var I=ip(L,["options"]),N={};Object.keys(I).forEach(function(Q){var he=I[Q];he!==void 0&&(N[Q]=he)});var j=Object.assign(Object.assign({},N),M),m=j.volume,ne=j.playbackRate,re=ip(j,["volume","playbackRate"]),xe=Object.assign(Object.assign({},re),{playsinline:(E=re.playsinline)!==null&&E!==void 0?E:re.playsInline}),Z=de(R,xe,function(){var Q=this;LS.forEach(function(he){Q.on(he,function(He){A(he,He)})}),re.src&&!re.sources&&this.src(re.src),m&&Number.isFinite(m)&&this.volume(m),ne&&Number.isFinite(ne)&&(this.defaultPlaybackRate(ne),setTimeout(function(){Q.playbackRate(ne)},0))});S&&rp(S).map(function(Q){return Z.addClass(Q)});var ae=function(Q){var he;(he=Z.options)===null||he===void 0||he.call(Z,Q??{})};return{player:Z,dispose:function(){return Z.dispose()},updateClassNames:function(Q,he){rp(Q).map(function(He){return Z.removeClass(He)}),rp(he).map(function(He){return Z.addClass(He)})},updateOptions:ae,updatePropOption:function(Q,he){var He,Le,Re;ae(((He={})[Q]=he,He)),(Re=(Le=Rl[Q])===null||Le===void 0?void 0:Le.onChange)===null||Re===void 0||Re.call(Le,Z,he)}}}({element:a.value,props:r,onEvent:e.emit});p={player:b.player,onEvent:e.emit},IS.forEach(function(C){var E,L;(L=(E=Rl[C])===null||E===void 0?void 0:E.onEvent)===null||L===void 0||L.call(E,p.player,function(R){p.onEvent(PS(C),R)})}),xn(function(){return t.class},function(C,E){var L=Sa(E),R=Sa(C);b.updateClassNames(L,R)},{immediate:!0}),xn(function(){return t.options},function(C){return b.updateOptions(C??{})},{deep:!0}),D0.filter(function(C){return C!=="options"}).forEach(function(C){xn(function(){return t[C]},function(E){return b.updatePropOption(C,E)},{deep:!0})}),function(C,E){var L=Object.keys(sp),R=L.reduce(function(A,M){var I;return Object.assign(Object.assign({},A),((I={})[M]=sp[M].getter(C),I))},{playing:!1,waiting:!1}),S=function(A,M){R[A]=M,E.onUpdate(A,M,Object.assign({},R))};C.on(["pause","ended"],function(){S("playing",!1)}),C.on(["play","playing"],function(){S("playing",!0)}),C.on("waiting",function(){S("waiting",!0);var A=C.currentTime(),M=function(){A!==C.currentTime()&&(S("waiting",!1),C.off("timeupdate",M))};C.on("timeupdate",M)}),L.forEach(function(A){var M,I=sp[A];C.on(["loadstart","loadedmetadata"].concat((M=I.events)!==null&&M!==void 0?M:[]),function(){S(A,I.getter(C))})}),E.onInit(Object.assign({},R))}(b.player,{onInit:function(C){c.value=C},onUpdate:function(C,E){c.value&&(c.value[C]=E)}}),o.value=b,s.value=!0,e.emit("mounted",{video:a.value,player:u.value,state:f.value})}),jl(function(){o.value&&(o.value.dispose(),o.value=null,c.value=null,e.emit("unmounted"))}),function(){var p,b;return Ln("div",{"data-vjs-player":"",class:Sa(i)},[Ln("video",{class:["video-js","v-video-player"],ref:a}),s.value&&((b=(p=e.slots).default)===null||b===void 0?void 0:b.call(p,{video:a.value,player:u.value,state:f.value}))])}}}),tF=function(t){t.component("VideoPlayer",id),t.component(id.name,id)},nF={VideoPlayer:id,install:tF};const iF=Fn(t=>{t.vueApp.use(nF)});var Vf=function(){return typeof document<"u"&&typeof window<"u"},rF=function(e,n){return new Promise(function(i,r){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");if(a.async=!0,a.src=e,a.charset="utf-8",n){var o=document.createElement("link");o.href=n,o.rel="preconnect",s.appendChild(o)}s.appendChild(a),a.onload=i,a.onerror=r})},OS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(n).forEach(function(i){e[i]=n[i]})},RS=ir({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://www.googletagmanager.com/gtag/js",preconnectOrigin:"https://www.googletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),js=function(){return eT(RS)},NS=ht(function(){var t=js(),e=t.property;if(e.value)return Array.isArray(e.value)?e.value.find(function(n){return n.default===!0})||e.value[0]:e.value}),sF=ht(function(){var t=js(),e=t.property;return!!(e.value&&e.value.id!==null)}),Nl=ht(function(){var t=js(),e=t.property;return Array.isArray(e.value)?e.value:[e.value]}),MS=ht(function(){var t=js(),e=t.isEnabled,n=NS.value;return!!(n&&n.id&&e.value)}),nc=function(){var t;if(Vf()){for(var e=js(),n=e.globalObjectName,i=e.useDebugger,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];i.value&&console.warn("[vue-gtag] Debugger:",s),(t=window)[n.value].apply(t,s)}},k0=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Nl.value.forEach(function(i){nc.apply(void 0,["config",i.id].concat(e))})},aF=function(t){k0({custom_map:t})},oF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Vf()&&Nl.value.forEach(function(e){window["ga-disable-".concat(e.id)]=t})},Ua=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Object.assign({},e);!n.send_to&&Nl.value.length>1&&(n.send_to=Nl.value.map(function(i){return i.id})),nc("event",t,n)},uF=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ua.apply(void 0,["exception"].concat(e))},lF=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];k0.apply(void 0,["linker"].concat(e))},BS=function(t){var e={};typeof t=="string"?e={page_path:t,page_location:window.location.href}:e=t,typeof e.send_page_view>"u"&&(e.send_page_view=!0),Ua("page_view",e)},cF=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ua.apply(void 0,["purchase"].concat(e))},dF=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ua.apply(void 0,["refund"].concat(e))},FS=function(){for(var t=js(),e=t.appName,n=t.appId,i=t.appVersion,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s[0],u={};typeof o=="string"?u={screen_name:o}:u=o,u.app_name==null&&e.value!=null&&(u.app_name=e.value),u.app_id==null&&n.value!=null&&(u.app_id=n.value),u.app_version==null&&i.value!=null&&(u.app_version=i.value),Ua("screen_view",u)},fF=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];nc.apply(void 0,["set"].concat(e))},hF=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ua.apply(void 0,["timing_complete"].concat(e))},pF=Object.freeze({__proto__:null,config:k0,customMap:aF,disable:oF,event:Ua,exception:uF,linker:lF,pageview:BS,purchase:cF,query:nc,refund:dF,screenview:FS,set:fF,time:hF}),Cb=Mt(!1),wb=Mt(!1),gF=function(){var e=js(),n=e.disableScriptLoader,i=e.preconnectOrigin,r=e.resourceURL,s=e.dataLayerName;if(!(!Vf()||!sF.value||wb.value)){if(wb.value=!0,Nl.value.forEach(function(o){var u=Object.assign({send_page_view:!1},o.params);nc("config",o.id,u)}),n.value){Cb.value=!0;return}var a="".concat(r.value,"?id=").concat(NS.value.id,"&l=").concat(s.value);rF(a,i.value).then(function(){Cb.value=!0})}},mF=function(){xn(function(){return MS.value},function(e){return e&&gF()},{immediate:!0})},yF=function(){if(Vf()){var t=js(),e=t.globalObjectName,n=t.dataLayerName;window[e.value]==null&&(window[n.value]=window[n.value]||[],window[e.value]=function(){window[n.value].push(arguments)}),window[e.value]("js",new Date)}},US=ir({template:null,useScreenview:!1,skipSamePath:!0}),jS=function(){return eT(US)},_F=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=jS(),r=i.template,s=i.useScreenview,a=r.value?r.value(e,n):null;return a||(s.value?{screen_name:e.name}:{page_title:e.name,page_path:e.path,page_location:window.location.href})},Ab=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=jS(),r=i.useScreenview,s=i.skipSamePath;if(!(s.value&&e.path===n.path)){var a=_F(e,n);r.value?FS(a):BS(a)}},vF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};OS(US,n),xn(function(){return MS.value},function(i){i&&e.isReady().then(function(){Qr(function(){Ab(e.currentRoute.value)}),e.afterEach(function(r,s){Qr(function(){Ab(r,s)})})})},{immediate:!0})},bF={install:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};OS(RS,n),yF(),mF(),e.config.globalProperties.$gtag=pF}};const TF=Fn(t=>{t.vueApp.use(bF,{property:{id:"G-VVVWB0J9E8"}}),vF(Or())}),xF=[Qk,Zk,uI,dI,fI,yI,_I,vI,bI,_R,OR,NR,FR,UR,qR,iF,TF],EF=(t,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var i;return((i=t.params[n.slice(1)])==null?void 0:i.toString())||""}),Pg=(t,e)=>{const n=t.route.matched.find(r=>{var s;return((s=r.components)==null?void 0:s.default)===t.Component.type}),i=e??(n==null?void 0:n.meta.key)??(n&&EF(t.route,n));return typeof i=="function"?i(t.route):i},SF=(t,e)=>({default:()=>t?Ln(Tw,t===!0?{}:t,e):e}),CF=ei({name:"RouteProvider",props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(t){const e=t.renderKey,n=t.route,i={};for(const r in t.route)Object.defineProperty(i,r,{get:()=>e===t.renderKey?t.route[r]:n[r]});return Aa(ql,Fl(i)),()=>Ln(t.vnode,{ref:t.vnodeRef})}}),$S=(t,e,n)=>(e=e===!0?{}:e,{default:()=>{var i;return e?Ln(t,e,n):(i=n.default)==null?void 0:i.call(n)}}),wF=ei({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,expose:n}){const i=jt(),r=Mt(),s=kn(ql,null);n({pageRef:r});const a=kn(f1,null);let o;const u=i.deferHydration();return()=>Ln(w1,{name:t.name,route:t.route,...e},{default:c=>{const f=kF(s,c.route,c.Component),p=s&&s.matched.length===c.route.matched.length;if(!c.Component)return o&&!p?o:void 0;if(o&&a&&!a.isCurrent(c.route))return o;if(f&&s&&(!a||a!=null&&a.isCurrent(s)))return p?o:null;const b=Pg(c,t.pageKey),C=!!(t.transition??c.route.meta.pageTransition??Op),E=C&&DF([t.transition,c.route.meta.pageTransition,Op,{onAfterLeave:()=>{i.callHook("page:transition:finish",c.Component)}}].filter(Boolean));return o=$S(sf,C&&E,SF(t.keepalive??c.route.meta.keepalive??Wk,Ln(Qg,{suspensible:!0,onPending:()=>i.callHook("page:start",c.Component),onResolve:()=>{Qr(()=>i.callHook("page:finish",c.Component).finally(u))}},{default:()=>Ln(CF,{key:b,vnode:c.Component,route:c.route,renderKey:b,trackRootNodes:C,vnodeRef:r})}))).default(),o}})}});function AF(t){return Array.isArray(t)?t:t?[t]:[]}function DF(t){const e=t.map(n=>({...n,onAfterLeave:AF(n.onAfterLeave)}));return um(...e)}function kF(t,e,n){if(!t)return!1;const i=e.matched.findIndex(r=>{var s;return((s=r.components)==null?void 0:s.default)===(n==null?void 0:n.type)});return!i||i===-1?!1:e.matched.slice(0,i).some((r,s)=>{var a,o,u;return((a=r.components)==null?void 0:a.default)!==((u=(o=t.matched[s])==null?void 0:o.components)==null?void 0:u.default)})||n&&Pg({route:e,Component:n})!==Pg({route:t,Component:n})}const LF=ei({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(t,e){const n=await Ta[t.name]().then(i=>i.default||i);return()=>Ln(n,t.layoutProps,e.slots)}}),IF=ei({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null}},setup(t,e){const n=jt(),i=kn(ql),r=i===of()?hm():i,s=ht(()=>Dt(t.name)??r.meta.layout??"default"),a=Mt();e.expose({layoutRef:a});const o=n.deferHydration();return()=>{const u=s.value&&s.value in Ta,c=r.meta.layoutTransition??Vk;return $S(sf,u&&c,{default:()=>Ln(Qg,{suspensible:!0,onResolve:()=>{Qr(o)}},{default:()=>Ln(PF,{layoutProps:FT(e.attrs,{ref:a}),key:s.value,name:s.value,shouldProvide:!t.name,hasTransition:!!c},e.slots)})}).default()}}}),PF=ei({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,e){const n=t.name;return t.shouldProvide&&Aa(f1,{isCurrent:i=>n===(i.meta.layout??"default")}),()=>{var i,r;return!n||typeof n=="string"&&!(n in Ta)?(r=(i=e.slots).default)==null?void 0:r.call(i):Ln(LF,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}}),OF=t=>Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0)),HS=(t,e)=>(n,i)=>(Dk(()=>t({...OF(n),...i.attrs},i)),()=>{var r,s;return e?(s=(r=i.slots).default)==null?void 0:s.call(r):null}),qS={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},RF=ei({name:"Html",inheritAttrs:!1,props:{...qS,manifest:String,version:String,xmlns:String,renderPriority:[String,Number]},setup:HS(t=>({htmlAttrs:t}),!0)}),NF=ei({name:"Body",inheritAttrs:!1,props:{...qS,renderPriority:[String,Number]},setup:HS(t=>({bodyAttrs:t}),!0)});function MF(t){return Fb()?(TC(t),!0):!1}function BF(t){return typeof t=="function"?t():Dt(t)}const FF=typeof window<"u"&&typeof document<"u",UF=FF?window:void 0;function jF(){const t=Mt(!1);return as()&&tu(()=>{t.value=!0}),t}function $F(t){const e=jF();return ht(()=>(e.value,!!t()))}function Db(t,e={}){const{window:n=UF}=e,i=$F(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=Mt(!1),a=c=>{s.value=c.matches},o=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},u=cT(()=>{i.value&&(o(),r=n.matchMedia(BF(t)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),s.value=r.matches)});return MF(()=>{u(),o(),r=void 0}),s}const HF=t=>new Promise(e=>{setTimeout(()=>{e("done")},t)});function qF(){const t=Mt(null),e=async()=>{await HF(10),t.value=Db("(max-width: 767px)").value?"mobile":Db("(max-width: 1023px)").value?"tablet":"desktop",document.documentElement.setAttribute("device",t.value)};return window.addEventListener("resize",e),e(),{deviceType:t}}function VF(){const{locale:t}=nu();document.documentElement.setAttribute("lang",t.value),xn(t,()=>{document.documentElement.setAttribute("lang",t.value)})}const WF=rm("div",{class:"glow"},null,-1),zF=ei({__name:"app",setup(t){return qF(),VF(),(e,n)=>{const i=wF,r=IF,s=NF,a=RF;return vr(),Wr(a,null,{default:Zu(()=>[Vt(s,null,{default:Zu(()=>[Vt(r,null,{default:Zu(()=>[WF,Vt(i)]),_:1})]),_:1})]),_:1})}}});const GF={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;(n.stack||"").split(`
`).splice(1).map(p=>({text:p.replace("webpack:/","").replace(".vue",".js").trim(),internal:p.includes("node_modules")&&!p.includes(".cache")||p.includes("internal")||p.includes("new Promise")})).map(p=>`<span class="stack${p.internal?" internal":""}">${p.text}</span>`).join(`
`);const i=Number(n.statusCode||500),r=i===404,s=n.statusMessage??(r?"Page Not Found":"Internal Server Error"),a=n.message||n.toString(),o=void 0,f=r?ey(()=>li(()=>import("./error-404.3774897d.js"),["./error-404.3774897d.js","./nuxt-link.6bf5c458.js","./_plugin-vue_export-helper.c27b6911.js","./error-404.17db6bbf.css"],import.meta.url).then(p=>p.default||p)):ey(()=>li(()=>import("./error-500.c5d3d410.js"),["./error-500.c5d3d410.js","./_plugin-vue_export-helper.c27b6911.js","./error-500.ff959f66.css"],import.meta.url).then(p=>p.default||p));return(p,b)=>(vr(),Wr(Dt(f),yC(MT({statusCode:Dt(i),statusMessage:Dt(s),description:Dt(a),stack:Dt(o)})),null,16))}},KF=GF,XF={__name:"nuxt-root",setup(t){const e=()=>null,n=jt(),i=n.deferHydration(),r=!1;Aa(ql,of()),n.hooks.callHookWith(o=>o.map(u=>u()),"vue:setup");const s=uf();vT((o,u,c)=>{if(n.hooks.callHook("vue:error",o,u,c).catch(f=>console.error("[nuxt] Error in `vue:error` hook",f)),jk(o)&&(o.fatal||o.unhandled))return n.runWithContext(()=>ho(o)),!1});const a=!1;return(o,u)=>(vr(),Wr(Qg,{onResolve:Dt(i)},{default:Zu(()=>[Dt(s)?(vr(),Wr(Dt(KF),{key:0,error:Dt(s)},null,8,["error"])):Dt(a)?(vr(),Wr(Dt(e),{key:1,context:Dt(a)},null,8,["context"])):Dt(r)?(vr(),Wr(Dw(Dt(r)),{key:2})):(vr(),Wr(Dt(zF),{key:3}))]),_:1},8,["onResolve"]))}},kb=XF;globalThis.$fetch||(globalThis.$fetch=bD.create({baseURL:xD()}));let Lb;{let t;Lb=async function(){var s,a;if(t)return t;const i=!!((s=window.__NUXT__)!=null&&s.serverRendered||((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?kA(kb):DA(kb),r=ND({vueApp:i});try{await BD(r,xF)}catch(o){await r.callHook("app:error",o),r.payload.error=r.payload.error||o}try{await r.hooks.callHook("app:created",i),await r.hooks.callHook("app:beforeMount",i),i.mount(zk),await r.hooks.callHook("app:mounted",i),await Qr()}catch(o){await r.callHook("app:error",o),r.payload.error=r.payload.error||o}return i},t=Lb().catch(e=>{console.error("Error while mounting app:",e)})}export{tT as A,as as B,Ew as C,em as D,xn as E,Rn as F,jt as G,lm as H,ht as I,xd as J,PR as K,Ln as L,u6 as M,Or as N,El as O,zO as P,n6 as Q,cm as R,Zr as S,$y as T,jl as U,o6 as V,$l as W,WA as X,xp as Y,YT as Z,Fk as _,rm as a,Vt as b,r6 as c,BT as d,JF as e,ei as f,nu as g,i6 as h,tu as i,$k as j,Dt as k,ir as l,Mt as m,Sa as n,vr as o,QF as p,ZF as q,t6 as r,e6 as s,YF as t,Dk as u,a6 as v,Zu as w,Wr as x,of as y,s6 as z};
